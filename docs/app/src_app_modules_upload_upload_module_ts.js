"use strict";(self.webpackChunksyncwatch_frontend=self.webpackChunksyncwatch_frontend||[]).push([["src_app_modules_upload_upload_module_ts"],{4899:(z,p,a)=>{a.r(p),a.d(p,{UploadModule:()=>F});var i=a(9808),u=a(1605),s=a(2382),U=a(9300),g=a(1566),C=a(4482),y=a(5403),T=a(3900),t=a(4893),m=a(9646),Z=a(4004),A=a(520);let J=(()=>{class o{constructor(n){this.http=n}search(n,e){return n?this.search_remote(e):this.search_local(e)}search_remote(n){return(0,m.of)({title:"test"})}search_local(n){return n.startsWith("https://comick.fun/comic/")?this.http.get(n).pipe((0,Z.U)(e=>{console.log(e)})):(0,m.of)(void 0)}}return o.\u0275fac=function(n){return new(n||o)(t.LFG(A.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function M(o,l){if(1&o&&(t.ynx(0),t._uU(1),t.ALo(2,"json"),t.BQk()),2&o){const n=l.ngIf;t.xp6(1),t.hij(" ",t.lcZ(2,1,n)," ")}}function S(o,l){1&o&&t._UZ(0,"div",9)}function x(o,l){if(1&o&&t.YNc(0,S,1,0,"div",8),2&o){const n=t.oxw();t.Q6J("ngIf",n.searchControl.valid)}}const j=[{path:"",component:(()=>{class o{constructor(n){this.uploadService=n,this.remoteUpload=!1}ngOnInit(){this.searchControl=new s.NI("",[s.kI.minLength(3),s.kI.required]),this.searchResults$=this.searchControl.valueChanges.pipe((0,U.h)(()=>this.searchControl.valid),function I(o,l=g.z){return(0,C.e)((n,e)=>{let r=null,d=null,f=null;const h=()=>{if(r){r.unsubscribe(),r=null;const c=d;d=null,e.next(c)}};function R(){const c=f+o,v=l.now();if(v<c)return r=this.schedule(void 0,c-v),void e.add(r);h()}n.subscribe((0,y.x)(e,c=>{d=c,f=l.now(),r||(r=l.schedule(R,o),e.add(r))},()=>{h(),e.complete()},void 0,()=>{d=r=null}))})}(1e3),(0,T.w)(n=>this.uploadService.search(this.remoteUpload,n)))}}return o.\u0275fac=function(n){return new(n||o)(t.Y36(J))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-upload"]],decls:13,vars:9,consts:[[1,"m-safe-x"],[1,"container"],[1,"btn-group","my-3"],[1,"btn","btn-primary",3,"click"],[1,"form-group","mb-3"],["type","text","placeholder","Search",1,"form-control",3,"formControl"],[4,"ngIf","ngIfElse"],["loading",""],["class","spinner-border","role","status",4,"ngIf"],["role","status",1,"spinner-border"]],template:function(n,e){if(1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),t.NdJ("click",function(){return e.remoteUpload=!0}),t._uU(4,"Remote"),t.qZA(),t.TgZ(5,"button",3),t.NdJ("click",function(){return e.remoteUpload=!1}),t._uU(6,"Local"),t.qZA()(),t.TgZ(7,"div",4),t._UZ(8,"input",5),t.qZA(),t.YNc(9,M,3,3,"ng-container",6),t.ALo(10,"async"),t.YNc(11,x,1,1,"ng-template",null,7,t.W1O),t.qZA()()),2&n){const r=t.MAs(12);t.xp6(3),t.ekj("active",e.remoteUpload),t.xp6(2),t.ekj("active",!e.remoteUpload),t.xp6(3),t.Q6J("formControl",e.searchControl),t.xp6(1),t.Q6J("ngIf",t.lcZ(10,7,e.searchResults$))("ngIfElse",r)}},directives:[s.Fj,s.JJ,s.oH,i.O5],pipes:[i.Ov,i.Ts],styles:[""],changeDetection:0}),o})()}];let N=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.Bz.forChild(j)],u.Bz]}),o})(),F=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[i.ez,s.UX,N]]}),o})()}}]);