(()=>{"use strict";var e,R={2854:(e,s,n)=>{var l=n(5861);var i=n(2445);function g(){return(g=(0,l.Z)(function*(p,_){const d=_.searchParams.get("id");if(null===d)return;const a=yield i.db.movies.get(d);if(void 0===a||a.downloaded_length<a.content_length)return;const h=p.request.headers.get("range")||"",m=h.match(/bytes=(?<from>[0-9]+)?-(?<to>[0-9]+)?/),S=m&&m.groups&&m.groups.from?Number(m.groups.from):0;let x=m&&m.groups&&m.groups.to?Number(m.groups.to):S+1e7,u=yield i.db.movie_fragments.where("movie_id").equals(d).sortBy("start");if(0===u.length)return;let b=0;for(;b<u.length-2&&!(u[b+1].start>S);)b++;let v=b;for(;v<u.length-1&&!(u[v].end>=x);)v++;const T=u[b].start,y=u[v].end;u=u.splice(b,v-b+1);let w=0;for(;w<u.length-2;){if(u[w].end!==u[w+1].start)return yield i.db.movies.update(d,{corrupt:!0}),void console.error("mismatched movie data");w++}const C=new Blob(yield i.db.buffers.bulkGet(u.map(M=>M.data_id)),{type:a.mime_type}),U={status:y<a.content_length?206:200,statusText:y<a.content_length?"Partial Content":"OK",headers:{"Accept-Ranges":"bytes","Content-Disposition":"inline","Content-Type":a.mime_type,"Content-Length":y-T}};return h&&(U.headers["Content-Range"]=`bytes ${T}-${y-1}/${a.content_length}`),new Response(C.stream(),U)})).apply(this,arguments)}function k(){return(k=(0,l.Z)(function*(p,_){const d=_.searchParams.get("id");if(null===d)return;const a=yield i.db.thumbnails.get(d);if(void 0===a)return;const h={status:200,statusText:"OK",headers:{"Content-Type":a.blob.type,"Content-Length":a.blob.size}};return new Response(a.blob.stream(),h)})).apply(this,arguments)}const O={"https://dl8.webmfiles.org/big-buck-bunny_trailer.webm":function c(p,_){return g.apply(this,arguments)},"https://static.wikia.nocookie.net/overgeared/images/e/ea/GridWebtoon2020.png":function E(p,_){return k.apply(this,arguments)}};addEventListener("fetch",p=>{const _=new URL(p.request.url);_.pathname in O&&p.respondWith(function(){var a=(0,l.Z)(function*(){return(yield O[_.pathname](p,_))||(yield fetch(p.request))});return function(){return a.apply(this,arguments)}}()())}),importScripts("ngsw-worker.js")}},L={};function t(e){var s=L[e];if(void 0!==s)return s.exports;var n=L[e]={exports:{}};return R[e](n,n.exports,t),n.exports}t.m=R,t.x=()=>{var e=t.O(void 0,["default-src_app_shared_worker_db_ts-node_modules_babel_runtime_helpers_esm_asyncToGenerator_js"],()=>t(2854));return t.O(e)},e=[],t.O=(s,n,l,r)=>{if(!n){var f=1/0;for(o=0;o<e.length;o++){for(var[n,l,r]=e[o],i=!0,c=0;c<n.length;c++)(!1&r||f>=r)&&Object.keys(t.O).every(_=>t.O[_](n[c]))?n.splice(c--,1):(i=!1,r<f&&(f=r));if(i){e.splice(o--,1);var g=l();void 0!==g&&(s=g)}}return s}r=r||0;for(var o=e.length;o>0&&e[o-1][2]>r;o--)e[o]=e[o-1];e[o]=[n,l,r]},t.d=(e,s)=>{for(var n in s)t.o(s,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce((s,n)=>(t.f[n](e,s),s),[])),t.u=e=>e+".js",t.miniCssF=e=>{},t.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e;t.tt=()=>(void 0===e&&(e={createScriptURL:s=>s},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("angular#bundler",e))),e)})(),t.tu=e=>t.tt().createScriptURL(e),t.p="",(()=>{var e={src_app_shared_worker_service_worker_ts:1};t.f.i=(r,o)=>{e[r]||importScripts(t.tu(t.p+t.u(r)))};var n=self.webpackChunksyncwatch_frontend=self.webpackChunksyncwatch_frontend||[],l=n.push.bind(n);n.push=r=>{var[o,f,i]=r;for(var c in f)t.o(f,c)&&(t.m[c]=f[c]);for(i&&i(t);o.length;)e[o.pop()]=1;l(r)}})(),(()=>{var e=t.x;t.x=()=>t.e("default-src_app_shared_worker_db_ts-node_modules_babel_runtime_helpers_esm_asyncToGenerator_js").then(e)})(),t.x()})();