(self.webpackChunksyncwatch_frontend=self.webpackChunksyncwatch_frontend||[]).push([["main"],{9154:(gt,Pe,G)=>{"use strict";var T=G(9808),h=G(4893);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class se extends T.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Ce extends se{static makeCurrent(){(0,T.HT)(new Ce)}onAndCancel(n,e,i){return n.addEventListener(e,i,!1),()=>{n.removeEventListener(e,i,!1)}}dispatchEvent(n,e){n.dispatchEvent(e)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,e){return(e=e||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,e){return"window"===e?window:"document"===e?n:"body"===e?n.body:null}getBaseHref(n){const e=function Oe(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==e?null:function ke(s){Be=Be||document.createElement("a"),Be.setAttribute("href",s);const n=Be.pathname;return"/"===n.charAt(0)?n:`/${n}`}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(e)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return(0,T.Mx)(document.cookie,n)}}let Be,me=null;const Re=new h.OlP("TRANSITION_ID"),Ae=[{provide:h.ip1,useFactory:function xe(s,n,e){return()=>{e.get(h.CZH).donePromise.then(()=>{const i=(0,T.q)(),t=n.querySelectorAll(`style[ng-transition="${s}"]`);for(let r=0;r<t.length;r++)i.remove(t[r])})}},deps:[Re,T.K0,h.zs3],multi:!0}];
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Ee{static init(){(0,h.VLi)(new Ee)}addToWindow(n){h.dqk.getAngularTestability=(i,t=!0)=>{const r=n.findTestabilityInTree(i,t);if(null==r)throw new Error("Could not find testability for element.");return r},h.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(i=>{const t=h.dqk.getAllAngularTestabilities();let r=t.length,l=!1;const d=function(p){l=l||p,r--,0==r&&i(l)};t.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(n,e,i){if(null==e)return null;const t=n.getTestability(e);return null!=t?t:i?(0,T.q)().isShadowRoot(e)?this.findTestabilityInTree(n,e.host,!0):this.findTestabilityInTree(n,e.parentElement,!0):null}}let Ue=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Fe=new h.OlP("EventManagerPlugins");let vt=(()=>{class s{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(t=>t.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,t){return this._findPluginFor(i).addEventListener(e,i,t)}addGlobalEventListener(e,i,t){return this._findPluginFor(i).addGlobalEventListener(e,i,t)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const t=this._plugins;for(let r=0;r<t.length;r++){const l=t[r];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(Fe),h.LFG(h.R0b))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();class wt{constructor(n){this._doc=n}addGlobalEventListener(n,e,i){const t=(0,T.q)().getGlobalEventTarget(this._doc,n);if(!t)throw new Error(`Unsupported event target ${t} for event ${e}`);return this.addEventListener(t,e,i)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Me=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),i.add(t))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})(),Tt=(()=>{class s extends Me{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,t){e.forEach(r=>{const l=this._doc.createElement("style");l.textContent=r,t.push(i.appendChild(l))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(ut),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,t)=>{this._addStylesToHost(e,t,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ut))}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(T.K0))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();function ut(s){(0,T.q)().remove(s)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rt=/%COMP%/g;function J(s,n,e){for(let i=0;i<n.length;i++){let t=n[i];Array.isArray(t)?J(s,t,e):(t=t.replace(rt,s),e.push(t))}return e}function ue(s){return n=>{if("__ngUnwrap__"===n)return s;!1===s(n)&&(n.preventDefault(),n.returnValue=!1)}}let Se=(()=>{class s{constructor(e,i,t){this.eventManager=e,this.sharedStylesHost=i,this.appId=t,this.rendererByCompId=new Map,this.defaultRenderer=new fe(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case h.ifc.Emulated:{let t=this.rendererByCompId.get(i.id);return t||(t=new st(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,t)),t.applyToHost(e),t}case 1:case h.ifc.ShadowDom:return new at(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const t=J(i.id,i.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(vt),h.LFG(Tt),h.LFG(h.AFp))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();class fe{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,e){return e?document.createElementNS(nt[e]||e,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,e){n.appendChild(e)}insertBefore(n,e,i){n&&n.insertBefore(e,i)}removeChild(n,e){n&&n.removeChild(e)}selectRootElement(n,e){let i="string"==typeof n?document.querySelector(n):n;if(!i)throw new Error(`The selector "${n}" did not match any elements`);return e||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,e,i,t){if(t){e=t+":"+e;const r=nt[t];r?n.setAttributeNS(r,e,i):n.setAttribute(e,i)}else n.setAttribute(e,i)}removeAttribute(n,e,i){if(i){const t=nt[i];t?n.removeAttributeNS(t,e):n.removeAttribute(`${i}:${e}`)}else n.removeAttribute(e)}addClass(n,e){n.classList.add(e)}removeClass(n,e){n.classList.remove(e)}setStyle(n,e,i,t){t&(h.JOm.DashCase|h.JOm.Important)?n.style.setProperty(e,i,t&h.JOm.Important?"important":""):n.style[e]=i}removeStyle(n,e,i){i&h.JOm.DashCase?n.style.removeProperty(e):n.style[e]=""}setProperty(n,e,i){n[e]=i}setValue(n,e){n.nodeValue=e}listen(n,e,i){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,e,ue(i)):this.eventManager.addEventListener(n,e,ue(i))}}class st extends fe{constructor(n,e,i,t){super(n),this.component=i;const r=J(t+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function K(s){return"_ngcontent-%COMP%".replace(rt,s)}(t+"-"+i.id),this.hostAttr=function ne(s){return"_nghost-%COMP%".replace(rt,s)}(t+"-"+i.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,e){const i=super.createElement(n,e);return super.setAttribute(i,this.contentAttr,""),i}}class at extends fe{constructor(n,e,i,t){super(n),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=J(t.id,t.styles,[]);for(let l=0;l<r.length;l++){const d=document.createElement("style");d.textContent=r[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,e){return super.appendChild(this.nodeOrShadowRoot(n),e)}insertBefore(n,e,i){return super.insertBefore(this.nodeOrShadowRoot(n),e,i)}removeChild(n,e){return super.removeChild(this.nodeOrShadowRoot(n),e)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let $e=(()=>{class s extends wt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,t){return e.addEventListener(i,t,!1),()=>this.removeEventListener(e,i,t)}removeEventListener(e,i,t){return e.removeEventListener(i,t)}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(T.K0))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Mt=["alt","control","meta","shift"],Gt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Nt={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let Zn=(()=>{class s extends wt{constructor(e){super(e)}supports(e){return null!=s.parseEventName(e)}addEventListener(e,i,t){const r=s.parseEventName(i),l=s.eventCallback(r.fullKey,t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.q)().onAndCancel(e,r.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),t=i.shift();if(0===i.length||"keydown"!==t&&"keyup"!==t)return null;const r=s._normalizeKey(i.pop());let l="";if(Mt.forEach(p=>{const m=i.indexOf(p);m>-1&&(i.splice(m,1),l+=p+".")}),l+=r,0!=i.length||0===r.length)return null;const d={};return d.domEventName=t,d.fullKey=l,d}static getEventFullKey(e){let i="",t=function Sn(s){let n=s.key;if(null==n){if(n=s.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===s.location&&kt.hasOwnProperty(n)&&(n=kt[n]))}return Gt[n]||n}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(e);return t=t.toLowerCase()," "===t?t="space":"."===t&&(t="dot"),Mt.forEach(r=>{r!=t&&Nt[r](e)&&(i+=r+".")}),i+=t,i}static eventCallback(e,i,t){return r=>{s.getEventFullKey(r)===e&&t.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(T.K0))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();const On=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:T.bD},{provide:h.g9A,useValue:function zn(){Ce.makeCurrent(),Ee.init()},multi:!0},{provide:T.K0,useFactory:function Bi(){return(0,h.RDi)(document),document},deps:[]}]),Tr=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function mn(){return new h.qLn},deps:[]},{provide:Fe,useClass:$e,multi:!0,deps:[T.K0,h.R0b,h.Lbi]},{provide:Fe,useClass:Zn,multi:!0,deps:[T.K0]},{provide:Se,useClass:Se,deps:[vt,Tt,h.AFp]},{provide:h.FYo,useExisting:Se},{provide:Me,useExisting:Tt},{provide:Tt,useClass:Tt,deps:[T.K0]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:vt,useClass:vt,deps:[Fe,h.R0b]},{provide:T.JF,useClass:Ue,deps:[]}];let wn=(()=>{class s{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:s,providers:[{provide:h.AFp,useValue:e.appId},{provide:Re,useExisting:h.AFp},Ae]}}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(s,12))},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({providers:Tr,imports:[T.ez,h.hGG]}),s})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */"undefined"!=typeof window&&window;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
var _n=G(2461);const Ui="about:now",Gn={BASE_URL:Ui,LOGIN_URL:`${Ui}/login`,LOGOUT_URL:`${Ui}/logout`,SESSIONS_URL:`${Ui}/sessions`,DELETE_SESSIONS_URL:`${Ui}/delete-sessions`,THUMBNAIL_URL:"https://static.wikia.nocookie.net/overgeared/images/e/ea/GridWebtoon2020.png",MOVIE_URL:`${Ui}/movie`,MOVIES_URL:`${Ui}/movies`,MOVIE_STREAM_URL:"https://dl8.webmfiles.org/big-buck-bunny_trailer.webm"};function Ir(s,n,e,i,t,r,l){try{var d=s[r](l),p=d.value}catch(m){return void e(m)}d.done?n(p):Promise.resolve(p).then(i,t)}function on(s){return function(){var n=this,e=arguments;return new Promise(function(i,t){var r=s.apply(n,e);function l(p){Ir(r,i,t,l,d,"next",p)}function d(p){Ir(r,i,t,l,d,"throw",p)}l(void 0)})}}var gi=G(8421),Kn=G(8306),Cn=G(5577),Vi=G(1144),gn=G(576),bi=G(3268);const nr=["addListener","removeListener"],hs=["addEventListener","removeEventListener"],Or=["on","off"];function kn(s,n,e,i){if((0,gn.m)(e)&&(i=e,e=void 0),i)return kn(s,n,e).pipe((0,bi.Z)(i));const[t,r]=function cr(s){return(0,gn.m)(s.addEventListener)&&(0,gn.m)(s.removeEventListener)}(s)?hs.map(l=>d=>s[l](n,d,e)):function ei(s){return(0,gn.m)(s.addListener)&&(0,gn.m)(s.removeListener)}(s)?nr.map(Dr(s,n)):function Ys(s){return(0,gn.m)(s.on)&&(0,gn.m)(s.off)}(s)?Or.map(Dr(s,n)):[];if(!t&&(0,Vi.z)(s))return(0,Cn.z)(l=>kn(l,n,e))((0,gi.Xf)(s));if(!t)throw new TypeError("Invalid event target");return new Kn.y(l=>{const d=(...p)=>l.next(1<p.length?p:p[0]);return t(d),()=>r(d)})}function Dr(s,n){return e=>i=>s[e](n,i)}var pt=G(4004),nn=G(6805),Dn=G(930);function yn(s,n){const e="object"==typeof n;return new Promise((i,t)=>{const r=new Dn.Hp({next:l=>{i(l),r.unsubscribe()},error:t,complete:()=>{e?i(n.defaultValue):t(new nn.K)}});s.subscribe(r)})}var xn=G(9300),cn=G(5698),jn=G(9646);let Fn=(()=>{class s{constructor(){this.byteSizes=[{v:1e9,s:"GB"},{v:1e6,s:"MB"},{v:1e3,s:"KB"},{v:1,s:"B"}],this.workerMessageCounter=0,this.setupWorker()}setupWorker(){"undefined"!=typeof Worker?(this.worker=new Worker(G.tu(new URL(G.p+G.u("src_app_shared_worker_indexeddb_worker_ts"),G.b))),this.workerMessages=kn(this.worker,"message").pipe((0,pt.U)(e=>e.data))):console.error("worker not supported")}workerPostMessage(e,i){const t=this.workerMessageCounter;return this.workerMessageCounter++,this.worker.postMessage({counter:t,event:e,data:i}),yn(this.workerMessages.pipe((0,xn.h)(({counter:r})=>r===t),(0,pt.U)(r=>{if("data"in r)return r.data;throw new Error(r)}),(0,cn.q)(1)))}bytesToReadable(e){if(void 0===e)return"Unknown";for(let i of this.byteSizes)if(e>=i.v)return`${(e/i.v).toFixed()} ${i.s}`;return e.toFixed()}isStoragePersisted(){return on(function*(){return(yield navigator.storage)&&navigator.storage.persisted?navigator.storage.persisted():Promise.reject("storage not available")})()}persist(){return on(function*(){return(yield navigator.storage)&&navigator.storage.persist?navigator.storage.persist():Promise.reject("storage not available")})()}getStorageEstimate(){return on(function*(){return(yield navigator.storage)&&navigator.storage.estimate?navigator.storage.estimate():Promise.reject("storage not available")})()}getStorageEstimateReadable(){var e=this;return on(function*(){return yield yn((0,jn.of)(yield e.getStorageEstimate()).pipe((0,pt.U)(i=>({quota:e.bytesToReadable(i.quota),usage:e.bytesToReadable(i.usage)}))))})()}getIndexedDBEstimate(){var e=this;return on(function*(){return yield yn((0,jn.of)(yield e.getStorageEstimate()).pipe((0,pt.U)(i=>{let t=i.usage;return i.usageDetails&&(t=0,i.usageDetails.indexedDB&&(t=i.usageDetails.indexedDB)),{quota:i.quota,usage:t}})))})()}getIndexedDBEstimateReadable(){var e=this;return on(function*(){return yield yn((0,jn.of)(yield e.getIndexedDBEstimate()).pipe((0,pt.U)(i=>({quota:e.bytesToReadable(i.quota),usage:e.bytesToReadable(i.usage)}))))})()}tryPersistWithoutPromtingUser(){return on(function*(){if(!navigator.storage||!navigator.storage.persisted)return"never";let e=yield navigator.storage.persisted();if(e)return"persisted";if(!navigator.permissions||!navigator.permissions.query)return"prompt";const i=yield navigator.permissions.query({name:"persistent-storage"});if("granted"===i.state){if(e=yield navigator.storage.persist(),e)return"persisted";throw new Error("Failed to persist")}return"prompt"===i.state?"prompt":"never"})()}getMovies(){var e=this;return on(function*(){return yield e.workerPostMessage("getMovies")})()}getMovie(e){var i=this;return on(function*(){return yield i.workerPostMessage("getMovie",e)})()}putMovie(e){var i=this;return on(function*(){return yield i.workerPostMessage("putMovie",e)})()}putMovieFragment(e){var i=this;return on(function*(){return yield i.workerPostMessage("putMovieFragment",e)})()}deleteMovieAndFragments(e){var i=this;return on(function*(){return yield i.workerPostMessage("deleteMovieAndFragments",e)})()}putThumbnail(e){var i=this;return on(function*(){return yield i.workerPostMessage("putThumbnail",e)})()}deleteThumbnail(e){var i=this;return on(function*(){return yield i.workerPostMessage("deleteThumbnail",e)})()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();function dr(s,n){1&s&&(h.TgZ(0,"p"),h._uU(1,"Storage not supported"),h.qZA())}function ns(s,n){if(1&s&&(h.TgZ(0,"p"),h._uU(1),h.qZA()),2&s){const e=h.oxw();h.xp6(1),h.AsE("Used ",e.storageUsage," of ",e.storageQuota,"")}}let rn=(()=>{class s{constructor(e,i){this.ref=e,this.storageService=i,this.storageSupported=!0,this.storageQuota="",this.storageUsage=""}ngOnInit(){this.storageService.getIndexedDBEstimateReadable().then(e=>{this.storageQuota=e.quota,this.storageUsage=e.usage,this.ref.detectChanges()}).catch(e=>{this.storageSupported=!1,this.ref.detectChanges()})}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(h.sBO),h.Y36(Fn))},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-downloads"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["container",""]],template:function(e,i){if(1&e&&(h.YNc(0,dr,2,0,"p",0),h.YNc(1,ns,2,2,"ng-template",null,1,h.W1O)),2&e){const t=h.MAs(2);h.Q6J("ngIf",!i.storageSupported)("ngIfElse",t)}},directives:[T.O5],styles:[""],changeDetection:0}),s})();const Gi={UKNOWN:"Unknown"},Pr={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Gi.UKNOWN},fr={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},hr={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},qn={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Gi.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},qi=[qn.PS4,qn.CHROME_BOOK,qn.MAC,qn.DELL,qn.ASUS,qn.UNKNOWN],Rr={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Gi.UKNOWN},Ii={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Gi.UKNOWN.toLowerCase()},Bn={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},zo=Object.assign(Object.assign(Object.assign(Object.assign({},fr),hr),Bn),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),Xi={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},Si={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},ps=Object.keys(Xi).reduce((s,n)=>(s[n]=Xi[n],s),{}),Ks=Object.keys(Si).reduce((s,n)=>(s[Pr[n]]=Si[n],s),{});var Wn=Object.freeze({__proto__:null,GENERAL:Gi,BROWSERS:Pr,MOBILES_RE:fr,TABLETS_RE:hr,DEVICES:qn,DESKTOP_DEVICES:qi,OS:Rr,OS_VERSIONS:Ii,OS_RE:Bn,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:zo,OS_VERSIONS_RE_MAP:Xi,BROWSER_VERSIONS_RE_MAP:Si,OS_VERSIONS_RE:ps,BROWSER_VERSIONS_RE:Ks});class pr{constructor(){}test(n,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(n):e&&Array.isArray(e.and)?e.and.every(i=>this.test(n,i)):e&&Array.isArray(e.or)?e.or.some(i=>this.test(n,i)):!(!e||!e.not||this.test(n,e.not))}exec(n,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(n):e&&Array.isArray(e)?e.reduce((i,t)=>i||this.exec(n,t),null):null}}var kr=(()=>{return(s=kr||(kr={})).Mobile="mobile",s.Tablet="tablet",s.Desktop="desktop",s.Unknown="unknown",kr;var s})(),ya=(()=>{return(s=ya||(ya={})).Portrait="portrait",s.Landscape="landscape",ya;var s})();const ba="iPad";let wo=(()=>{class s{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new pr,this.deviceType="",this.orientation="",(0,T.NF)(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(t=>{this[t.prop]=Object.keys(Wn[t.const]).reduce((r,l)=>"device"===Wn[t.const][l]&&(0,T.NF)(this.platformId)&&(this.reTree.test(this.userAgent,hr[ba])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(r[Wn[t.const][l]]=ba,Object):(r[Wn[t.const][l]]=this.reTree.test(e,Wn[`${t.const}_RE`][l]),r),{})}),i.forEach(t=>{this[t.prop]=Object.keys(Wn[t.const]).map(r=>Wn[t.const][r]).reduce((r,l)=>"device"===t.prop&&r===Wn[t.const].ANDROID?this[t.prop][l]?l:r:r===Wn[t.const].UNKNOWN&&this[t.prop][l]?l:r,Wn[t.const].UNKNOWN)}),this.browser_version="0",this.browser!==Pr.UNKNOWN){const r=this.reTree.exec(e,Ks[this.browser]);r&&(this.browser_version=r[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?ya.Landscape:ya.Portrait:Gi.UKNOWN,this.deviceType=this.isTablet()?kr.Tablet:this.isMobile(this.userAgent)?kr.Mobile:this.isDesktop(this.userAgent)?kr.Desktop:kr.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(fr).find(t=>this.reTree.test(e,fr[t]))}isTablet(e=this.userAgent){return!(!(0,T.NF)(this.platformId)||!(this.reTree.test(this.userAgent,hr[ba])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(hr).find(t=>!!this.reTree.test(e,hr[t]))}isDesktop(e=this.userAgent){return(this.device!==qn.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&qi.indexOf(this.device)>-1}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(h.Lbi))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Ga=(()=>{class s{constructor(e){this.deviceService=e}lockOrientation(e){const i=screen;i.orientation?i.orientation.lock(e):i.lockOrientation?i.lockOrientation(e):i.mozLockOrientation?i.mozLockOrientation(e):i.msLockOrientation&&i.msLockOrientation(e)}unlockOrientation(){const e=screen;e.orientation?e.orientation.unlock():e.lockOrientation?e.unlockOrientation():e.mozLockOrientation?e.mozUnlockOrientation():e.msLockOrientation&&e.msUnlockOrientation()}requestFullscreenMobile(){this.deviceService.isDesktop()||this.requestFullscreen()}requestFullscreen(){const e=document.body;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}exitFullscreen(){if(!this.isFullscreen())return;const e=document;e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.msExitFullscreen&&e.msExitFullscreen()}isFullscreen(){const e=document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(wo))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();function Ta(s,n){1&s&&(h.TgZ(0,"div",2),h._uU(1," SAFE BOX\n"),h.qZA())}const Kl=function(){return[]};let ja=(()=>{class s{constructor(e){this.displayService=e}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(Ga))},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-home"]],decls:13,vars:2,consts:[["type","button",1,"btn","btn-primary",3,"click"],["class","bg-danger mt-2 m-safe-x w-100",4,"ngFor","ngForOf"],[1,"bg-danger","mt-2","m-safe-x","w-100"]],template:function(e,i){1&e&&(h.TgZ(0,"p"),h._uU(1,"home works!"),h.qZA(),h.TgZ(2,"button",0),h.NdJ("click",function(){return i.displayService.requestFullscreen()}),h._uU(3," Enter Fullscreen\n"),h.qZA(),h.TgZ(4,"button",0),h.NdJ("click",function(){return i.displayService.exitFullscreen()}),h._uU(5," Exit Fullscreen\n"),h.qZA(),h.TgZ(6,"button",0),h.NdJ("click",function(){return i.displayService.lockOrientation("landscape")}),h._uU(7," Lock Rotation landscape\n"),h.qZA(),h.TgZ(8,"button",0),h.NdJ("click",function(){return i.displayService.lockOrientation("portrait")}),h._uU(9," Lock Rotation portrait\n"),h.qZA(),h.TgZ(10,"button",0),h.NdJ("click",function(){return i.displayService.unlockOrientation()}),h._uU(11," Unlock Rotation\n"),h.qZA(),h.YNc(12,Ta,2,0,"div",1)),2&e&&(h.xp6(12),h.Q6J("ngForOf",h.DdM(1,Kl).constructor(30)))},directives:[T.sg],styles:[""]}),s})();var Ci=G(2382),is=G(262),rs=G(2843),gr=G(8505),gs=G(520),Di=G(7579);let ir=(()=>{class s{constructor(){this.voluntaryOffline=!1,this.networkOffline=!1,this.changes=new Di.x,this.networkOffline=!navigator.onLine,kn(window,"online").subscribe(()=>{this.networkOffline=!1,this.changes.next()}),kn(window,"offline").subscribe(()=>{this.networkOffline=!0,this.changes.next()})}setVoluntaryOffline(e){this.voluntaryOffline=e,this.changes.next()}isVoluntaryOffline(){return!this.networkOffline&&this.voluntaryOffline}isOffline(){return this.voluntaryOffline||this.networkOffline}isOnline(){return!this.isOffline()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})(),Ei=(()=>{class s{constructor(e,i){this.http=e,this.syncService=i}getStorage(){return localStorage}login(e,i,t){return this.http.post(Gn.LOGIN_URL,{username:e,password:i}).pipe((0,gr.b)(r=>this.setSession(r,t)))}logout(){return this.http.post(Gn.LOGOUT_URL,{},{headers:{Authorization:this.getSessionToken()}}).pipe((0,is.K)(e=>(this.clearStorage(),(0,rs._)(()=>e))),(0,gr.b)(()=>this.clearStorage()))}isLoggedIn(){return!this.syncService.isOnline()||this.isOnlineLoggedIn()}isOnlineLoggedIn(){const e=this.getExpiration();return void 0!==e&&(-1===e||Math.floor((new Date).getTime()/1e3)<e)}setSession(e,i){localStorage.setItem("stay_signedin",i?"1":"0"),this.getStorage().setItem("session_token",e.session_token),this.getStorage().setItem("session_expires",JSON.stringify(e.expires))}getExpiration(){const e=this.getStorage().getItem("session_expires");if(null!==e)return JSON.parse(e)}getStaySignedin(){return"1"===localStorage.getItem("stay_signedin")}getSessionToken(){const e=this.getStorage().getItem("session_token");return null===e?"":e}unload(){this.getStaySignedin()||!this.isOnlineLoggedIn()||this.logout().subscribe()}clearStorage(){this.getStorage().removeItem("session_token"),this.getStorage().removeItem("session_expires"),localStorage.removeItem("stay_signedin")}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(gs.eN),h.LFG(ir))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})(),Sa=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-logo"]],decls:4,vars:0,consts:[[1,"logo-container","d-flex","align-items-center","justify-content-center"],["src","assets/icons/icon-512x512.png",1,"logo-image"],[1,"logo-text","ms-1"]],template:function(e,i){1&e&&(h.TgZ(0,"div",0),h._UZ(1,"img",1),h.TgZ(2,"span",2),h._uU(3," Syncwatch "),h.qZA()())},styles:[".logo-image[_ngcontent-%COMP%]{height:3rem}.logo-text[_ngcontent-%COMP%]{font-weight:700;font-size:2rem}.logo-lg[_nghost-%COMP%]   .logo-image[_ngcontent-%COMP%]{height:4rem}.logo-lg[_nghost-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-weight:700;font-size:3rem}"]}),s})();function Ms(s,n){1&s&&h._UZ(0,"span",13)}function Ca(s,n){if(1&s&&(h.TgZ(0,"div",14),h._uU(1),h.qZA()),2&s){const e=h.oxw();h.xp6(1),h.Oqu(e.errorMessage)}}let Da=(()=>{class s{constructor(e,i,t){this.authService=e,this.router=i,this.syncService=t,this.errorMessage="",this.loading=!1,this.loginForm=new Ci.cw({username:new Ci.NI("",Ci.kI.required),password:new Ci.NI("",Ci.kI.required),stay_signedin:new Ci.NI(!1)})}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}ngOnInit(){(this.authService.isLoggedIn()||!this.syncService.isOnline())&&this.router.navigate(["home"])}useOffline(){this.syncService.setVoluntaryOffline(!0),this.router.navigate(["home"])}login(){this.loginForm.markAllAsTouched();const e=this.loginForm.value;this.loginForm.invalid||(this.loading=!0,this.authService.login(e.username,e.password,e.stay_signedin).pipe((0,is.K)(i=>(this.errorMessage=i.error.description,this.loading=!1,(0,rs._)(()=>i)))).subscribe(()=>{this.router.navigate(["home"])}))}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(Ei),h.Y36(_n.F0),h.Y36(ir))},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-login"]],decls:18,vars:9,consts:[[1,"jumbotron","d-flex","align-items-center","m-safe","min-vh-100"],[1,"container","text-center",2,"max-width","400px",3,"formGroup","submit"],[1,"logo-lg"],[1,"form-group","mt-3"],["type","text","id","username","formControlName","username","placeholder","Username",1,"form-control"],["type","password","id","password","formControlName","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary","mt-3","w-100",3,"disabled"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],[1,"form-group","mt-2"],["type","checkbox","name","stay_signedin","formControlName","stay_signedin","id","stay_signedin",1,"form-check-input"],["for","stay_signedin",1,"form-check-label","ms-2"],["class","alert alert-danger mt-2","role","alert",4,"ngIf"],["type","button",1,"btn","btn-dark","mt-3",3,"disabled","click"],["role","status",1,"spinner-border","spinner-border-sm"],["role","alert",1,"alert","alert-danger","mt-2"]],template:function(e,i){1&e&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("submit",function(){return i.login()}),h._UZ(2,"app-logo",2),h.TgZ(3,"div",3),h._UZ(4,"input",4),h.qZA(),h.TgZ(5,"div",3),h._UZ(6,"input",5),h.qZA(),h.TgZ(7,"button",6),h.YNc(8,Ms,1,0,"span",7),h._uU(9," Login "),h.qZA(),h.TgZ(10,"div",8),h._UZ(11,"input",9),h.TgZ(12,"label",10),h._uU(13,"Stay Signed In"),h.qZA()(),h.YNc(14,Ca,2,1,"div",11),h.TgZ(15,"button",12),h.NdJ("click",function(){return i.useOffline()}),h.TgZ(16,"span"),h._uU(17,"Use Offline"),h.qZA()()()()),2&e&&(h.xp6(1),h.Q6J("formGroup",i.loginForm),h.xp6(3),h.ekj("is-invalid",i.username.invalid&&(i.username.dirty||i.username.touched)),h.xp6(2),h.ekj("is-invalid",i.password.invalid&&(i.password.dirty||i.password.touched)),h.xp6(1),h.Q6J("disabled",i.loading),h.xp6(1),h.Q6J("ngIf",i.loading),h.xp6(6),h.Q6J("ngIf",i.errorMessage),h.xp6(1),h.Q6J("disabled",i.loading))},directives:[Ci._Y,Ci.JL,Ci.sg,Sa,Ci.Fj,Ci.JJ,Ci.u,T.O5,Ci.Wl],styles:[""]}),s})();var ss=G(3900);let Ns=(()=>{class s{constructor(e,i){this.http=e,this.authService=i}sessions(){return this.http.get(Gn.SESSIONS_URL,{headers:{Authorization:this.authService.getSessionToken()}}).pipe((0,pt.U)(e=>e.sessions))}deleteSessions(){return this.http.post(Gn.DELETE_SESSIONS_URL,{},{headers:{Authorization:this.authService.getSessionToken()}}).pipe((0,gr.b)(()=>this.authService.clearStorage()))}deleteSessionById(e,i){let t=this.http.post(Gn.DELETE_SESSIONS_URL,{session_id:e},{headers:{Authorization:this.authService.getSessionToken()}});return i&&(t=t.pipe((0,gr.b)(()=>this.authService.clearStorage()))),t}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(gs.eN),h.LFG(Ei))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();function Ea(s,n){1&s&&h._UZ(0,"span",6)}function Er(s,n){if(1&s){const e=h.EpF();h.TgZ(0,"button",4),h.NdJ("click",function(){return h.CHM(e),h.oxw().logout()}),h.YNc(1,Ea,1,0,"span",5),h._uU(2," Logout "),h.qZA()}if(2&s){const e=h.oxw();h.Q6J("disabled",e.logoutLoading),h.xp6(1),h.Q6J("ngIf",e.logoutLoading)}}function Yo(s,n){if(1&s){const e=h.EpF();h.TgZ(0,"button",4),h.NdJ("click",function(){return h.CHM(e),h.oxw().goOnline()}),h._uU(1," Go Online "),h.qZA()}if(2&s){const e=h.oxw();h.Q6J("disabled",!e.syncService.isVoluntaryOffline())}}function Fr(s,n){1&s&&(h.TgZ(0,"span"),h._uU(1,"(current) "),h.qZA())}function wa(s,n){if(1&s){const e=h.EpF();h.TgZ(0,"li",9),h.YNc(1,Fr,2,0,"span",10),h._uU(2),h.TgZ(3,"button",1),h.NdJ("click",function(){const r=h.CHM(e).$implicit;return h.oxw(2).deleteSessionById(r.id,r.is_current)}),h._uU(4,"Delete"),h.qZA()()}if(2&s){const e=n.$implicit;h.xp6(1),h.Q6J("ngIf",e.is_current),h.xp6(1),h.hij(" ",e.device_info," ")}}function Ko(s,n){if(1&s&&(h.TgZ(0,"ul",7),h.YNc(1,wa,5,2,"li",8),h.qZA()),2&s){const e=n.ngIf;h.xp6(1),h.Q6J("ngForOf",e)}}function Wa(s,n){1&s&&h._UZ(0,"div",11)}let $a=(()=>{class s{constructor(e,i,t,r){this.userService=e,this.router=i,this.syncService=t,this.authService=r,this.logoutLoading=!1}ngOnInit(){this.device_sessions$=this.userService.sessions()}deleteSessions(){this.device_sessions$=this.userService.deleteSessions().pipe((0,gr.b)(()=>this.router.navigate(["login"])))}deleteSessionById(e,i){this.device_sessions$=i?this.userService.deleteSessionById(e,i).pipe((0,gr.b)(()=>this.router.navigate(["login"]))):this.userService.deleteSessionById(e,i).pipe((0,ss.w)(()=>this.userService.sessions()))}logout(){this.logoutLoading=!0,this.authService.logout().pipe((0,is.K)(e=>(this.router.navigate(["login"]),this.logoutLoading=!1,(0,rs._)(()=>e)))).subscribe(()=>{this.logoutLoading=!1,this.router.navigate(["login"])})}goOnline(){this.syncService.setVoluntaryOffline(!1),this.router.navigate(["login"])}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(Ns),h.Y36(_n.F0),h.Y36(ir),h.Y36(Ei))},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-profile"]],decls:12,vars:6,consts:[["class","btn btn-secondary",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click"],["class","list-group",4,"ngIf","ngIfElse"],["loading",""],[1,"btn","btn-secondary",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[4,"ngIf"],["role","status",1,"spinner-border"]],template:function(e,i){if(1&e&&(h.TgZ(0,"div"),h.YNc(1,Er,3,2,"button",0),h.YNc(2,Yo,2,1,"button",0),h.TgZ(3,"h4"),h._uU(4,"Sessions"),h.qZA(),h.TgZ(5,"div")(6,"button",1),h.NdJ("click",function(){return i.deleteSessions()}),h._uU(7,"Delete All Sessions"),h.qZA()(),h.YNc(8,Ko,2,1,"ul",2),h.ALo(9,"async"),h.YNc(10,Wa,1,0,"ng-template",null,3,h.W1O),h.qZA()),2&e){const t=h.MAs(11);h.xp6(1),h.Q6J("ngIf",i.syncService.isOnline()),h.xp6(1),h.Q6J("ngIf",!i.syncService.isOnline()),h.xp6(6),h.Q6J("ngIf",h.lcZ(9,4,i.device_sessions$))("ngIfElse",t)}},directives:[T.O5,T.sg],pipes:[T.Ov],styles:[""]}),s})(),ms=(()=>{class s{constructor(e,i){this.authService=e,this.router=i}canActivate(){return this.authService.isLoggedIn()||this.router.createUrlTree(["login"])}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(Ei),h.LFG(_n.F0))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})(),za=(()=>{class s{constructor(e,i){this.syncService=e,this.router=i}canActivate(){return this.syncService.isOnline()||this.router.createUrlTree(["home"])}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(ir),h.LFG(_n.F0))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})(),zr=(()=>{class s{constructor(e){this.displayService=e}canActivate(){return this.displayService.exitFullscreen(),!0}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(Ga))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var ai=G(1135),ji=G(2076);let Lr=(()=>{class s{constructor(e,i,t,r){this.http=e,this.authService=i,this.storageService=t,this.syncService=r,this.targetChunkRequestTime=1e3,this.downloadChunkSize=5e5,this.evaluatingChunkSize=!1,this.downloadSpeed=new ai.X(0),this.movieDownloads={},this.stopDownloads={}}_getMovieUrl(e){return`${Gn.MOVIE_URL}?id=${e}`}_getMovieStreamUrl(e){return`${Gn.MOVIE_STREAM_URL}?id=${e}&token=${this.authService.getSessionToken()}`}_getThumbnailUrl(e){return`${Gn.THUMBNAIL_URL}?id=${e}&token=${this.authService.getSessionToken()}`}getMovieById(e){var i=this;return on(function*(){const t=yield i.storageService.getMovie(e);if(i.syncService.isOffline())return t;const r=yield yn(i.http.get(i._getMovieUrl(e),{headers:{Authorization:i.authService.getSessionToken()}}).pipe((0,pt.U)(l=>(l.movie.downloaded_length=0,l.movie)),(0,is.K)(()=>(0,jn.of)(t))));return void 0!==t?(console.log(t.hash==(null==r?void 0:r.hash)),t):r})()}getMovies(){return this.syncService.isOffline()?(0,ji.D)(this.storageService.getMovies()):this.http.get(Gn.MOVIES_URL,{headers:{Authorization:this.authService.getSessionToken()}}).pipe((0,pt.U)(e=>e.movies),(0,is.K)(()=>(0,ji.D)(this.storageService.getMovies())))}_getMovieDownloadProgress(e){return e in this.movieDownloads||(this.movieDownloads[e]=new ai.X({downloaded:0,downloading:!1,deleting:!1}),this.storageService.getMovie(e).then(i=>{void 0!==i&&this.movieDownloads[e].next({downloaded:i.downloaded_length/i.content_length,downloading:!1,deleting:!1})})),this.movieDownloads[e]}getMovieDownloadProgress(e){return this._getMovieDownloadProgress(e)}deleteMovieDownload(e){var i=this;return on(function*(){const t=yield i.getMovieById(e);if(void 0===t)return;const r=i._getMovieDownloadProgress(t.id),l=yield yn(r);l.deleting||l.downloading||(r.next({deleting:!0,downloading:!1,downloaded:l.downloaded}),yield i.storageService.deleteMovieAndFragments(t.id),r.next({deleting:!1,downloading:!1,downloaded:0}))})()}triggerMovieDownload(e){var i=this;return on(function*(){const t=yield i.getMovieById(e);if(void 0===t)return;const r=i._getMovieDownloadProgress(t.id),l=yield yn(r);if(!l.deleting){if(l.downloading)return void(t.id in i.stopDownloads||(i.stopDownloads[t.id]=!0,r.next({downloaded:l.downloaded,downloading:!1,deleting:l.deleting})));t.thumbnail_id&&0===t.downloaded_length&&(r.next({downloaded:0,downloading:!0,deleting:!1}),i._downloadThumbnail(t.thumbnail_id)),i._downloadMovieChunk(t,r)}})()}_downloadMovieChunk(e,i){var t=this;if(e.content_length&&e.downloaded_length>=e.content_length)return void i.next({downloaded:1,downloading:!1,deleting:!1});if(e.id in this.stopDownloads)return yn(i).then(l=>{i.next({downloaded:l.downloaded,downloading:!1,deleting:l.deleting})}),void delete this.stopDownloads[e.id];let r;this.evaluatingChunkSize||(this.evaluatingChunkSize=!0,r=Date.now()),this.http.get(this._getMovieStreamUrl(e.id),{responseType:"blob",observe:"response",headers:{Range:`bytes=${e.downloaded_length}-${e.downloaded_length+this.downloadChunkSize}`}}).subscribe(function(){var l=on(function*(d){if(null!==d.body){if(void 0!==r){const p=Date.now()-r,m=Math.min(1.5,Math.max(.75,t.targetChunkRequestTime/Math.max(1,p)));t.downloadChunkSize=Math.min(Number.MAX_SAFE_INTEGER,Math.floor(t.downloadChunkSize*m)),t.downloadSpeed.next(1e3*t.downloadChunkSize/t.targetChunkRequestTime),t.evaluatingChunkSize=!1}d.body.arrayBuffer().then(function(){var p=on(function*(m){const y=d.headers.get("Content-Type");void 0===e.mime_type&&y&&(e.mime_type=y);const N=d.headers.get("Content-Range");void 0===e.content_length&&N&&(e.content_length=+N.substring(N.lastIndexOf("/")+1));const M=d.headers.get("Content-Length");null!==M&&(yield t.storageService.putMovieFragment({movie_id:e.id,data:m,start:e.downloaded_length,end:e.downloaded_length+Number(M)}),e.downloaded_length+=Number(M),yield t.storageService.putMovie(e),i.next({downloaded:e.downloaded_length/e.content_length,downloading:!0,deleting:!1}),t._downloadMovieChunk(e,i))});return function(m){return p.apply(this,arguments)}}())}});return function(d){return l.apply(this,arguments)}}())}getMovieSources(e){var i=this;return on(function*(){const t=yield i.getMovieById(e);return void 0===t?[]:[{src:i._getMovieStreamUrl(e),type:t.mime_type}]})()}_downloadThumbnail(e){var i=this;this.http.get(this._getThumbnailUrl(e),{responseType:"blob"}).subscribe(function(){var t=on(function*(r){yield i.storageService.putThumbnail({id:e,blob:r})});return function(r){return t.apply(this,arguments)}}())}getMovieThumbnailSource(e){var i=this;return on(function*(){return null===e?"/assets/default-thumbnail.svg":i._getThumbnailUrl(e)})()}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(gs.eN),h.LFG(Ei),h.LFG(Fn),h.LFG(ir))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();function wr(s,n){1&s&&(h.ynx(0),h._uU(1," Deleting... "),h.BQk())}function Is(s,n){if(1&s){const e=h.EpF();h.TgZ(0,"button",4),h.NdJ("click",function(){return h.CHM(e),h.oxw(3).triggerDownload()}),h._uU(1," Download "),h.qZA()}}function qo(s,n){if(1&s){const e=h.EpF();h.TgZ(0,"button",4),h.NdJ("click",function(){return h.CHM(e),h.oxw(3).triggerDownload()}),h._uU(1," Pause "),h.qZA()}}function Xo(s,n){if(1&s){const e=h.EpF();h.TgZ(0,"button",4),h.NdJ("click",function(){return h.CHM(e),h.oxw(3).triggerDownload()}),h._uU(1," Continue "),h.qZA()}}function k(s,n){if(1&s){const e=h.EpF();h.TgZ(0,"button",4),h.NdJ("click",function(){return h.CHM(e),h.oxw(3).deleteDownload()}),h._uU(1," Delete "),h.qZA()}}function Y(s,n){if(1&s&&(h.YNc(0,Is,2,0,"button",3),h.YNc(1,qo,2,0,"button",3),h.YNc(2,Xo,2,0,"button",3),h.YNc(3,k,2,0,"button",3)),2&s){const e=h.oxw().ngIf;h.Q6J("ngIf",!e.downloading&&0==e.downloaded),h.xp6(1),h.Q6J("ngIf",e.downloading),h.xp6(1),h.Q6J("ngIf",!e.downloading&&e.downloaded>0&&e.downloaded<1),h.xp6(1),h.Q6J("ngIf",!e.downloading&&e.downloaded>0)}}function F(s,n){if(1&s&&(h.TgZ(0,"div"),h._uU(1),h.ALo(2,"json"),h.ALo(3,"async"),h.YNc(4,wr,2,0,"ng-container",1),h.YNc(5,Y,4,4,"ng-template",null,2,h.W1O),h.qZA()),2&s){const e=n.ngIf,i=h.MAs(6),t=h.oxw();h.xp6(1),h.AsE(" ",h.lcZ(2,4,e)," Speed: ",h.lcZ(3,6,t.downloadSpeed$)," "),h.xp6(3),h.Q6J("ngIf",e.deleting)("ngIfElse",i)}}let Z=(()=>{class s{constructor(e,i){this.movieService=e,this.storageService=i}ngOnInit(){this.downloadProgress$=this.movieService.getMovieDownloadProgress(this.movieId),this.downloadSpeed$=this.movieService.downloadSpeed.pipe((0,pt.U)(e=>this.storageService.bytesToReadable(e)+" / s"))}triggerDownload(){this.movieService.triggerMovieDownload(this.movieId)}deleteDownload(){this.movieService.deleteMovieDownload(this.movieId)}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(Lr),h.Y36(Fn))},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-download-button"]],inputs:{movieId:"movieId"},decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["download",""],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(h.YNc(0,F,7,8,"div",0),h.ALo(1,"async")),2&e&&h.Q6J("ngIf",h.lcZ(1,1,i.downloadProgress$))},directives:[T.O5],pipes:[T.Ov,T.Ts],styles:[""],changeDetection:0}),s})();function de(s,n){if(1&s&&(h.TgZ(0,"div",1),h._UZ(1,"img",2),h.TgZ(2,"div",3)(3,"h5",4),h._uU(4),h.qZA(),h.TgZ(5,"p"),h._uU(6),h.qZA(),h._UZ(7,"app-download-button",5),h.TgZ(8,"a",6),h._uU(9,"Watch"),h.qZA()()()),2&s){const e=h.oxw();h.xp6(1),h.Q6J("src",e.thumbnailSrc,h.LSH),h.xp6(3),h.Oqu(e.movie.title),h.xp6(2),h.Oqu(e.readableSize()),h.xp6(1),h.Q6J("movieId",e.movie.id),h.xp6(1),h.Q6J("routerLink",e.watchRouterLink)}}let Ye=(()=>{class s{constructor(e,i,t){this.ref=e,this.movieService=i,this.storageService=t,this.thumbnailSrc="/assets/default-thumbnail.svg"}ngOnInit(){this.movieService.getMovieThumbnailSource(this.movie.thumbnail_id).then(e=>{this.thumbnailSrc=e,this.ref.detectChanges()})}readableSize(){return this.storageService.bytesToReadable(this.movie.file_size)}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(h.sBO),h.Y36(Lr),h.Y36(Fn))},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-movie-preview"]],inputs:{movie:"movie",watchRouterLink:"watchRouterLink"},decls:1,vars:1,consts:[["class","card text-white bg-secondary","style","width: 18rem;",4,"ngIf"],[1,"card","text-white","bg-secondary",2,"width","18rem"],[1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[3,"movieId"],[3,"routerLink"]],template:function(e,i){1&e&&h.YNc(0,de,10,5,"div",0),2&e&&h.Q6J("ngIf",i.movie.id)},directives:[T.O5,Z,_n.yS],styles:[""]}),s})();const mt=function(s){return["../watch",s]};function Ot(s,n){if(1&s&&h._UZ(0,"app-movie-preview",6),2&s){const e=n.$implicit;h.Q6J("movie",e)("watchRouterLink",h.VKq(2,mt,e.id))}}function Hn(s,n){if(1&s&&(h.TgZ(0,"div",4),h.YNc(1,Ot,1,4,"app-movie-preview",5),h.qZA()),2&s){const e=n.ngIf;h.xp6(1),h.Q6J("ngForOf",e)}}function ti(s,n){1&s&&h._UZ(0,"div",7)}let Nn=(()=>{class s{constructor(e,i,t){this.ref=e,this.movieService=i,this.syncService=t}ngOnInit(){this.allMovies$=this.movieService.getMovies(),this.onlineSubscription=this.syncService.changes.subscribe(()=>{this.allMovies$=this.movieService.getMovies(),this.ref.detectChanges()})}ngOnDestroy(){this.onlineSubscription&&this.onlineSubscription.unsubscribe()}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(h.sBO),h.Y36(Lr),h.Y36(ir))},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-overview"]],decls:6,vars:4,consts:[[1,"m-safe-x"],[1,"bg-light",2,"height","100px"],["class","card-group",4,"ngIf","ngIfElse"],["loading",""],[1,"card-group"],[3,"movie","watchRouterLink",4,"ngFor","ngForOf"],[3,"movie","watchRouterLink"],["role","status",1,"spinner-border"]],template:function(e,i){if(1&e&&(h.TgZ(0,"div",0)(1,"div",1),h.YNc(2,Hn,2,1,"div",2),h.ALo(3,"async"),h.YNc(4,ti,1,0,"ng-template",null,3,h.W1O),h.qZA()()),2&e){const t=h.MAs(5);h.xp6(2),h.Q6J("ngIf",h.lcZ(3,2,i.allMovies$))("ngIfElse",t)}},directives:[T.O5,T.sg,Ye],pipes:[T.Ov],styles:[""],changeDetection:0}),s})();var sn=G(9226),oe=G.n(sn),Xn=G(1421),lt=G.n(Xn);function Un(){return Un=Object.assign||function(s){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s[i]=e[i])}return s},Un.apply(this,arguments)}var Br=G(1234),Yt=G.n(Br);function Kt(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function mr(s,n){return(mr=Object.setPrototypeOf||function(i,t){return i.__proto__=t,i})(s,n)}function Et(s,n){s.prototype=Object.create(n.prototype),s.prototype.constructor=s,mr(s,n)}var Ya=G(8099),P=G.n(Ya),O=G(745),I=G.n(O),Q=G(3629),Ze=G.n(Q);function Wt(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}function Qn(s,n,e){return(Qn=Wt()?Reflect.construct:function(t,r,l){var d=[null];d.push.apply(d,r);var m=new(Function.bind.apply(t,d));return l&&mr(m,l.prototype),m}).apply(null,arguments)}var ct=G(3871),dn=G.n(ct),xa="http://example.com";const Ka=function(n,e){if(/^[a-z]+:/i.test(e))return e;/^data:/.test(n)&&(n=oe().location&&oe().location.href||"");var i="function"==typeof oe().URL,t=/^\/\//.test(n),r=!oe().location&&!/\/\//i.test(n);if(i?n=new(oe().URL)(n,oe().location||xa):/\/\//i.test(n)||(n=dn().buildAbsoluteURL(oe().location&&oe().location.href||"",n)),i){var l=new URL(e,n);return r?l.href.slice(xa.length):t?l.href.slice(l.protocol.length):l.href}return dn().buildAbsoluteURL(n,e)};var Aa=function(){function s(){this.listeners={}}var n=s.prototype;return n.on=function(i,t){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(t)},n.off=function(i,t){if(!this.listeners[i])return!1;var r=this.listeners[i].indexOf(t);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(r,1),r>-1},n.trigger=function(i){var t=this.listeners[i];if(t)if(2===arguments.length)for(var r=t.length,l=0;l<r;++l)t[l].call(this,arguments[1]);else for(var d=Array.prototype.slice.call(arguments,1),p=t.length,m=0;m<p;++m)t[m].apply(this,d)},n.dispose=function(){this.listeners={}},n.pipe=function(i){this.on("data",function(t){i.push(t)})},s}();function ql(s){for(var n=function(n){return oe().atob?oe().atob(n):Buffer.from(n,"base64").toString("binary")}(s),e=new Uint8Array(n.length),i=0;i<n.length;i++)e[i]=n.charCodeAt(i);return e}
/*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */var Jh,s,mc=function(s){function n(){var i;return(i=s.call(this)||this).buffer="",i}return Et(n,s),n.prototype.push=function(t){var r;for(this.buffer+=t,r=this.buffer.indexOf("\n");r>-1;r=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,r)),this.buffer=this.buffer.substring(r+1)},n}(Aa),Xm=String.fromCharCode(9),vc=function(n){var e=/([0-9.]*)?@?([0-9.]*)?/.exec(n||""),i={};return e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),i},Yr=function(n){for(var r,e=n.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},t=e.length;t--;)""!==e[t]&&((r=/([^=]*)=(.*)/.exec(e[t]).slice(1))[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),i[r[0]]=r[1]);return i},vr=function(s){function n(){var i;return(i=s.call(this)||this).customParsers=[],i.tagMappers=[],i}Et(n,s);var e=n.prototype;return e.push=function(t){var l,d,r=this;if(0!==(t=t.trim()).length){if("#"!==t[0])return void this.trigger("data",{type:"uri",uri:t});this.tagMappers.reduce(function(m,y){var N=y(t);return N===t?m:m.concat([N])},[t]).forEach(function(m){for(var y=0;y<r.customParsers.length;y++)if(r.customParsers[y].call(r,m))return;if(0===m.indexOf("#EXT"))if(m=m.replace("\r",""),l=/^#EXTM3U/.exec(m))r.trigger("data",{type:"tag",tagType:"m3u"});else{if(l=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(m))return d={type:"tag",tagType:"inf"},l[1]&&(d.duration=parseFloat(l[1])),l[2]&&(d.title=l[2]),void r.trigger("data",d);if(l=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(m))return d={type:"tag",tagType:"targetduration"},l[1]&&(d.duration=parseInt(l[1],10)),void r.trigger("data",d);if(l=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(m))return d={type:"tag",tagType:"version"},l[1]&&(d.version=parseInt(l[1],10)),void r.trigger("data",d);if(l=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(m))return d={type:"tag",tagType:"media-sequence"},l[1]&&(d.number=parseInt(l[1],10)),void r.trigger("data",d);if(l=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(m))return d={type:"tag",tagType:"discontinuity-sequence"},l[1]&&(d.number=parseInt(l[1],10)),void r.trigger("data",d);if(l=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(m))return d={type:"tag",tagType:"playlist-type"},l[1]&&(d.playlistType=l[1]),void r.trigger("data",d);if(l=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(m))return d=Un(vc(l[1]),{type:"tag",tagType:"byterange"}),void r.trigger("data",d);if(l=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(m))return d={type:"tag",tagType:"allow-cache"},l[1]&&(d.allowed=!/NO/.test(l[1])),void r.trigger("data",d);if(l=/^#EXT-X-MAP:?(.*)$/.exec(m)){if(d={type:"tag",tagType:"map"},l[1]){var N=Yr(l[1]);N.URI&&(d.uri=N.URI),N.BYTERANGE&&(d.byterange=vc(N.BYTERANGE))}r.trigger("data",d)}else if(l=/^#EXT-X-STREAM-INF:?(.*)$/.exec(m)){if(d={type:"tag",tagType:"stream-inf"},l[1]){if(d.attributes=Yr(l[1]),d.attributes.RESOLUTION){var M=d.attributes.RESOLUTION.split("x"),V={};M[0]&&(V.width=parseInt(M[0],10)),M[1]&&(V.height=parseInt(M[1],10)),d.attributes.RESOLUTION=V}d.attributes.BANDWIDTH&&(d.attributes.BANDWIDTH=parseInt(d.attributes.BANDWIDTH,10)),d.attributes["PROGRAM-ID"]&&(d.attributes["PROGRAM-ID"]=parseInt(d.attributes["PROGRAM-ID"],10))}r.trigger("data",d)}else{if(l=/^#EXT-X-MEDIA:?(.*)$/.exec(m))return d={type:"tag",tagType:"media"},l[1]&&(d.attributes=Yr(l[1])),void r.trigger("data",d);if(l=/^#EXT-X-ENDLIST/.exec(m))r.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(l=/^#EXT-X-DISCONTINUITY/.exec(m)))return(l=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(m))?(d={type:"tag",tagType:"program-date-time"},l[1]&&(d.dateTimeString=l[1],d.dateTimeObject=new Date(l[1])),void r.trigger("data",d)):(l=/^#EXT-X-KEY:?(.*)$/.exec(m))?(d={type:"tag",tagType:"key"},l[1]&&(d.attributes=Yr(l[1]),d.attributes.IV&&("0x"===d.attributes.IV.substring(0,2).toLowerCase()&&(d.attributes.IV=d.attributes.IV.substring(2)),d.attributes.IV=d.attributes.IV.match(/.{8}/g),d.attributes.IV[0]=parseInt(d.attributes.IV[0],16),d.attributes.IV[1]=parseInt(d.attributes.IV[1],16),d.attributes.IV[2]=parseInt(d.attributes.IV[2],16),d.attributes.IV[3]=parseInt(d.attributes.IV[3],16),d.attributes.IV=new Uint32Array(d.attributes.IV))),void r.trigger("data",d)):(l=/^#EXT-X-START:?(.*)$/.exec(m))?(d={type:"tag",tagType:"start"},l[1]&&(d.attributes=Yr(l[1]),d.attributes["TIME-OFFSET"]=parseFloat(d.attributes["TIME-OFFSET"]),d.attributes.PRECISE=/YES/.test(d.attributes.PRECISE)),void r.trigger("data",d)):(l=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(m))?((d={type:"tag",tagType:"cue-out-cont"}).data=l[1]?l[1]:"",void r.trigger("data",d)):(l=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(m))?((d={type:"tag",tagType:"cue-out"}).data=l[1]?l[1]:"",void r.trigger("data",d)):(l=/^#EXT-X-CUE-IN:?(.*)?$/.exec(m))?((d={type:"tag",tagType:"cue-in"}).data=l[1]?l[1]:"",void r.trigger("data",d)):(l=/^#EXT-X-SKIP:(.*)$/.exec(m))&&l[1]?((d={type:"tag",tagType:"skip"}).attributes=Yr(l[1]),d.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(d.attributes["SKIPPED-SEGMENTS"]=parseInt(d.attributes["SKIPPED-SEGMENTS"],10)),d.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(d.attributes["RECENTLY-REMOVED-DATERANGES"]=d.attributes["RECENTLY-REMOVED-DATERANGES"].split(Xm)),void r.trigger("data",d)):(l=/^#EXT-X-PART:(.*)$/.exec(m))&&l[1]?((d={type:"tag",tagType:"part"}).attributes=Yr(l[1]),["DURATION"].forEach(function(q){d.attributes.hasOwnProperty(q)&&(d.attributes[q]=parseFloat(d.attributes[q]))}),["INDEPENDENT","GAP"].forEach(function(q){d.attributes.hasOwnProperty(q)&&(d.attributes[q]=/YES/.test(d.attributes[q]))}),d.attributes.hasOwnProperty("BYTERANGE")&&(d.attributes.byterange=vc(d.attributes.BYTERANGE)),void r.trigger("data",d)):(l=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(m))&&l[1]?((d={type:"tag",tagType:"server-control"}).attributes=Yr(l[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(q){d.attributes.hasOwnProperty(q)&&(d.attributes[q]=parseFloat(d.attributes[q]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(q){d.attributes.hasOwnProperty(q)&&(d.attributes[q]=/YES/.test(d.attributes[q]))}),void r.trigger("data",d)):(l=/^#EXT-X-PART-INF:(.*)$/.exec(m))&&l[1]?((d={type:"tag",tagType:"part-inf"}).attributes=Yr(l[1]),["PART-TARGET"].forEach(function(q){d.attributes.hasOwnProperty(q)&&(d.attributes[q]=parseFloat(d.attributes[q]))}),void r.trigger("data",d)):(l=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(m))&&l[1]?((d={type:"tag",tagType:"preload-hint"}).attributes=Yr(l[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(q){if(d.attributes.hasOwnProperty(q)){d.attributes[q]=parseInt(d.attributes[q],10);var j="BYTERANGE-LENGTH"===q?"length":"offset";d.attributes.byterange=d.attributes.byterange||{},d.attributes.byterange[j]=d.attributes[q],delete d.attributes[q]}}),void r.trigger("data",d)):(l=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(m))&&l[1]?((d={type:"tag",tagType:"rendition-report"}).attributes=Yr(l[1]),["LAST-MSN","LAST-PART"].forEach(function(q){d.attributes.hasOwnProperty(q)&&(d.attributes[q]=parseInt(d.attributes[q],10))}),void r.trigger("data",d)):void r.trigger("data",{type:"tag",data:m.slice(4)});r.trigger("data",{type:"tag",tagType:"discontinuity"})}}}else r.trigger("data",{type:"comment",text:m.slice(1)})})}},e.addParser=function(t){var r=this,l=t.expression,d=t.customType,p=t.dataParser,m=t.segment;"function"!=typeof p&&(p=function(N){return N}),this.customParsers.push(function(y){if(l.exec(y))return r.trigger("data",{type:"custom",data:p(y),customType:d,segment:m}),!0})},e.addTagMapper=function(t){var r=t.expression,l=t.map;this.tagMappers.push(function(m){return r.test(m)?l(m):m})},n}(Aa),Ma=function(n){var e={};return Object.keys(n).forEach(function(i){e[function(n){return n.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})}(i)]=n[i]}),e},qs=function(n){var e=n.serverControl,i=n.targetDuration,t=n.partTargetDuration;if(e){var r="#EXT-X-SERVER-CONTROL",l="holdBack",d="partHoldBack",p=i&&3*i,m=t&&2*t;i&&!e.hasOwnProperty(l)&&(e[l]=p,this.trigger("info",{message:r+" defaulting HOLD-BACK to targetDuration * 3 ("+p+")."})),p&&e[l]<p&&(this.trigger("warn",{message:r+" clamping HOLD-BACK ("+e[l]+") to targetDuration * 3 ("+p+")"}),e[l]=p),t&&!e.hasOwnProperty(d)&&(e[d]=3*t,this.trigger("info",{message:r+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+e[d]+")."})),t&&e[d]<m&&(this.trigger("warn",{message:r+" clamping PART-HOLD-BACK ("+e[d]+") to partTargetDuration * 2 ("+m+")."}),e[d]=m)}},Xs=function(s){function n(){var i;(i=s.call(this)||this).lineStream=new mc,i.parseStream=new vr,i.lineStream.pipe(i.parseStream);var d,p,t=Kt(i),r=[],l={},m=!1,y=function(){},N={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},V=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var q=0,j=0;return i.on("end",function(){l.uri||!l.parts&&!l.preloadHints||(!l.map&&d&&(l.map=d),!l.key&&p&&(l.key=p),!l.timeline&&"number"==typeof V&&(l.timeline=V),i.manifest.preloadSegment=l)}),i.parseStream.on("data",function(z){var ve,_e;({tag:function(){({version:function(){z.version&&(this.manifest.version=z.version)},"allow-cache":function(){this.manifest.allowCache=z.allowed,"allowed"in z||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var je={};"length"in z&&(l.byterange=je,je.length=z.length,"offset"in z||(z.offset=q)),"offset"in z&&(l.byterange=je,je.offset=z.offset),q=je.offset+je.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),z.duration>0&&(l.duration=z.duration),0===z.duration&&(l.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=r},key:function(){if(z.attributes)if("NONE"!==z.attributes.METHOD)if(z.attributes.URI){if("com.apple.streamingkeydelivery"===z.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:z.attributes});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===z.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(z.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===z.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==z.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):z.attributes.KEYID&&"0x"===z.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:z.attributes.KEYFORMAT,keyId:z.attributes.KEYID.substring(2)},pssh:ql(z.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));z.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),p={method:z.attributes.METHOD||"AES-128",uri:z.attributes.URI},void 0!==z.attributes.IV&&(p.iv=z.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else p=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(z.number)?this.manifest.mediaSequence=z.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+z.number})},"discontinuity-sequence":function(){isFinite(z.number)?(this.manifest.discontinuitySequence=z.number,V=z.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+z.number})},"playlist-type":function(){/VOD|EVENT/.test(z.playlistType)?this.manifest.playlistType=z.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+z.playlist})},map:function(){d={},z.uri&&(d.uri=z.uri),z.byterange&&(d.byterange=z.byterange),p&&(d.key=p)},"stream-inf":function(){this.manifest.playlists=r,this.manifest.mediaGroups=this.manifest.mediaGroups||N,z.attributes?(l.attributes||(l.attributes={}),Un(l.attributes,z.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||N,z.attributes&&z.attributes.TYPE&&z.attributes["GROUP-ID"]&&z.attributes.NAME){var je=this.manifest.mediaGroups[z.attributes.TYPE];je[z.attributes["GROUP-ID"]]=je[z.attributes["GROUP-ID"]]||{},ve=je[z.attributes["GROUP-ID"]],(_e={default:/yes/i.test(z.attributes.DEFAULT)}).autoselect=!!_e.default||/yes/i.test(z.attributes.AUTOSELECT),z.attributes.LANGUAGE&&(_e.language=z.attributes.LANGUAGE),z.attributes.URI&&(_e.uri=z.attributes.URI),z.attributes["INSTREAM-ID"]&&(_e.instreamId=z.attributes["INSTREAM-ID"]),z.attributes.CHARACTERISTICS&&(_e.characteristics=z.attributes.CHARACTERISTICS),z.attributes.FORCED&&(_e.forced=/yes/i.test(z.attributes.FORCED)),ve[z.attributes.NAME]=_e}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){V+=1,l.discontinuity=!0,this.manifest.discontinuityStarts.push(r.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=z.dateTimeString,this.manifest.dateTimeObject=z.dateTimeObject),l.dateTimeString=z.dateTimeString,l.dateTimeObject=z.dateTimeObject},targetduration:function(){!isFinite(z.duration)||z.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+z.duration}):(this.manifest.targetDuration=z.duration,qs.call(this,this.manifest))},start:function(){z.attributes&&!isNaN(z.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:z.attributes["TIME-OFFSET"],precise:z.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){l.cueOut=z.data},"cue-out-cont":function(){l.cueOutCont=z.data},"cue-in":function(){l.cueIn=z.data},skip:function(){this.manifest.skip=Ma(z.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",z.attributes,["SKIPPED-SEGMENTS"])},part:function(){var je=this;m=!0;var it=this.manifest.segments.length,ht=Ma(z.attributes);l.parts=l.parts||[],l.parts.push(ht),ht.byterange&&(ht.byterange.hasOwnProperty("offset")||(ht.byterange.offset=j),j=ht.byterange.offset+ht.byterange.length),this.warnOnMissingAttributes_("#EXT-X-PART #"+(l.parts.length-1)+" for segment #"+it,z.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(At,Dt){At.hasOwnProperty("lastPart")||je.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+Dt+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var je=this.manifest.serverControl=Ma(z.attributes);je.hasOwnProperty("canBlockReload")||(je.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),qs.call(this,this.manifest),je.canSkipDateranges&&!je.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var je=this.manifest.segments.length,it=Ma(z.attributes),ht=it.type&&"PART"===it.type;l.preloadHints=l.preloadHints||[],l.preloadHints.push(it),it.byterange&&(it.byterange.hasOwnProperty("offset")||(it.byterange.offset=ht?j:0,ht&&(j=it.byterange.offset+it.byterange.length)));var ze=l.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+ze+" for segment #"+je,z.attributes,["TYPE","URI"]),it.type)for(var At=0;At<l.preloadHints.length-1;At++){var Dt=l.preloadHints[At];!Dt.type||Dt.type===it.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+ze+" for segment #"+je+" has the same TYPE "+it.type+" as preload hint #"+At})}},"rendition-report":function(){var je=Ma(z.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(je);var it=this.manifest.renditionReports.length-1,ht=["LAST-MSN","URI"];m&&ht.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+it,z.attributes,ht)},"part-inf":function(){this.manifest.partInf=Ma(z.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",z.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),qs.call(this,this.manifest)}}[z.tagType]||y).call(t)},uri:function(){l.uri=z.uri,r.push(l),this.manifest.targetDuration&&!("duration"in l)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),l.duration=this.manifest.targetDuration),p&&(l.key=p),l.timeline=V,d&&(l.map=d),j=0,l={}},comment:function(){},custom:function(){z.segment?(l.custom=l.custom||{},l.custom[z.customType]=z.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[z.customType]=z.data)}})[z.type].call(t)}),i}Et(n,s);var e=n.prototype;return e.warnOnMissingAttributes_=function(t,r,l){var d=[];l.forEach(function(p){r.hasOwnProperty(p)||d.push(p)}),d.length&&this.trigger("warn",{message:t+" lacks required attribute(s): "+d.join(", ")})},e.push=function(t){this.lineStream.push(t)},e.end=function(){this.lineStream.push("\n"),this.trigger("end")},e.addParser=function(t){this.parseStream.addParser(t)},e.addTagMapper=function(t){this.parseStream.addTagMapper(t)},n}(Aa),Na={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Zd=["video","audio","text"],Jd=["Video","Audio","Text"],Xl=function(n){return n&&n.replace(/avc1\.(\d+)\.(\d+)/i,function(e,i,t){return"avc1."+("00"+Number(i).toString(16)).slice(-2)+"00"+("00"+Number(t).toString(16)).slice(-2)})},vs=function(n){void 0===n&&(n="");var e=n.split(","),i=[];return e.forEach(function(t){var r;t=t.trim(),Zd.forEach(function(l){var d=Na[l].exec(t.toLowerCase());if(d&&!(d.length<=1)){r=l;var p=t.substring(0,d[1].length),m=t.replace(p,"");i.push({type:p,details:m,mediaType:l})}}),r||i.push({type:t,details:"",mediaType:"unknown"})}),i},Zo=function(n){return void 0===n&&(n=""),Na.audio.test(n.trim().toLowerCase())},xo=function(n){if(n&&"string"==typeof n){var e=n.toLowerCase().split(",").map(function(r){return Xl(r.trim())}),i="video";1===e.length&&Zo(e[0])?i="audio":1===e.length&&function(n){return void 0===n&&(n=""),Na.text.test(n.trim().toLowerCase())}(e[0])&&(i="application");var t="mp4";return e.every(function(r){return Na.mp4.test(r)})?t="mp4":e.every(function(r){return Na.webm.test(r)})?t="webm":e.every(function(r){return Na.ogg.test(r)})&&(t="ogg"),i+"/"+t+';codecs="'+n+'"'}},el=function(n){return void 0===n&&(n=""),oe().MediaSource&&oe().MediaSource.isTypeSupported&&oe().MediaSource.isTypeSupported(xo(n))||!1},Zl=function(n){return void 0===n&&(n=""),n.toLowerCase().split(",").every(function(e){e=e.trim();for(var i=0;i<Jd.length;i++)if(Na["muxer"+Jd[i]].test(e))return!0;return!1})},bc="mp4a.40.2",Vh=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,Gh=/^application\/dash\+xml/i,$n=function(n){return Vh.test(n)?"hls":Gh.test(n)?"dash":"application/vnd.videojs.vhs+json"===n?"vhs-json":null},vi=G(978),nl=function(n){return!!n&&"object"==typeof n},Oi=function s(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return e.reduce(function(t,r){return"object"!=typeof r||Object.keys(r).forEach(function(l){t[l]=Array.isArray(t[l])&&Array.isArray(r[l])?t[l].concat(r[l]):nl(t[l])&&nl(r[l])?s(t[l],r[l]):r[l]}),t},{})},Tc=function(n){return Object.keys(n).map(function(e){return n[e]})},il=function(n){return n.reduce(function(e,i){return e.concat(i)},[])},rl=function(n){if(!n.length)return[];for(var e=[],i=0;i<n.length;i++)e.push(n[i]);return e},qa=function(n,e){for(var i=0;i<n.length;i++)if(e(n[i]))return i;return-1},_s=function(n){var e=n.baseUrl,t=n.source,r=void 0===t?"":t,l=n.range,d=void 0===l?"":l,p=n.indexRange,m=void 0===p?"":p,y={uri:r,resolvedUri:Ka((void 0===e?"":e)||"",r)};if(d||m){var j,M=(d||m).split("-"),V=oe().BigInt?oe().BigInt(M[0]):parseInt(M[0],10),q=oe().BigInt?oe().BigInt(M[1]):parseInt(M[1],10);V<Number.MAX_SAFE_INTEGER&&"bigint"==typeof V&&(V=Number(V)),q<Number.MAX_SAFE_INTEGER&&"bigint"==typeof q&&(q=Number(q)),"bigint"==typeof(j="bigint"==typeof q||"bigint"==typeof V?oe().BigInt(q)-oe().BigInt(V)+oe().BigInt(1):q-V+1)&&j<Number.MAX_SAFE_INTEGER&&(j=Number(j)),y.byterange={length:j,offset:V}}return y},Mo=function(n){return n&&"number"!=typeof n&&(n=parseInt(n,10)),isNaN(n)?null:n},Wh={static:function(n){var e=n.duration,i=n.timescale,t=void 0===i?1:i,r=n.sourceDuration,l=n.periodDuration,d=Mo(n.endNumber),p=e/t;return"number"==typeof d?{start:0,end:d}:"number"==typeof l?{start:0,end:l/p}:{start:0,end:r/p}},dynamic:function(n){var e=n.NOW,i=n.clientOffset,t=n.availabilityStartTime,r=n.timescale,l=void 0===r?1:r,d=n.duration,p=n.periodStart,m=void 0===p?0:p,y=n.minimumUpdatePeriod,N=void 0===y?0:y,M=n.timeShiftBufferDepth,V=void 0===M?1/0:M,q=Mo(n.endNumber),j=(e+i)/1e3,z=t+m,Ve=Math.ceil((j+N-z)*l/d),Ge=Math.floor((j-z-V)*l/d),je=Math.floor((j-z)*l/d);return{start:Math.max(0,Ge),end:"number"==typeof q?q:Math.min(Ve,je)}}},Xa=function(n){var e=n.type,i=n.duration,t=n.timescale,r=void 0===t?1:t,l=n.periodDuration,d=n.sourceDuration,p=Wh[e](n),N=function(n,e){for(var i=[],t=n;t<e;t++)i.push(t);return i}(p.start,p.end).map(function(n){return function(e){var i=n.duration,t=n.timescale,d=n.startNumber;return{number:(void 0===d?1:d)+e,duration:i/(void 0===t?1:t),timeline:n.periodStart,time:e*i}}}(n));if("static"===e){var M=N.length-1;N[M].duration=("number"==typeof l?l:d)-i/r*M}return N},Jl=function(n){var e=n.baseUrl,i=n.initialization,t=void 0===i?{}:i,r=n.sourceDuration,l=n.indexRange,d=void 0===l?"":l,p=n.periodStart,m=n.presentationTime,y=n.number,N=void 0===y?0:y,M=n.duration;if(!e)throw new Error("NO_BASE_URL");var V=_s({baseUrl:e,source:t.sourceURL,range:t.range}),q=_s({baseUrl:e,source:e,indexRange:d});if(q.map=V,M){var j=Xa(n);j.length&&(q.duration=j[0].duration,q.timeline=j[0].timeline)}else r&&(q.duration=r,q.timeline=p);return q.presentationTime=m||p,q.number=N,[q]},Sc=function(n,e,i){var z,t=n.sidx.map?n.sidx.map:null,r=n.sidx.duration,l=n.timeline||0,d=n.sidx.byterange,p=d.offset+d.length,m=e.timescale,y=e.references.filter(function(At){return 1!==At.referenceType}),N=[],M=n.endList?"static":"dynamic",V=n.sidx.timeline,q=V,j=n.mediaSequence||0;z="bigint"==typeof e.firstOffset?oe().BigInt(p)+e.firstOffset:p+e.firstOffset;for(var ve=0;ve<y.length;ve++){var je,_e=e.references[ve],Ve=_e.referencedSize,Ge=_e.subsegmentDuration;je="bigint"==typeof z?z+oe().BigInt(Ve)-oe().BigInt(1):z+Ve-1;var ze=Jl({baseUrl:i,timescale:m,timeline:l,periodStart:V,presentationTime:q,number:j,duration:Ge,sourceDuration:r,indexRange:z+"-"+je,type:M})[0];t&&(ze.map=t),N.push(ze),z+="bigint"==typeof z?oe().BigInt(Ve):Ve,q+=Ge/m,j++}return n.segments=N,n},tf=["AUDIO","SUBTITLES"],zh=function(n){return function(n,e){return Tc(n.reduce(function(i,t){return t.forEach(function(r){i[function(e){return e.timeline}(r)]=r}),i},{}))}(n).sort(function(e,i){return e.timeline>i.timeline?1:-1})},ol=function(n){var e=[];return function(n,e,i){e.forEach(function(t){for(var r in n.mediaGroups[t])for(var l in n.mediaGroups[t][r])i(n.mediaGroups[t][r][l])})}(n,tf,function(i,t,r,l){e=e.concat(i.playlists||[])}),e},tu=function(n){var e=n.playlist;e.mediaSequence=n.mediaSequence,e.segments.forEach(function(t,r){t.number=e.mediaSequence+r})},ll=function(n){return n&&n.uri+"-"+function(n){var e;return e="bigint"==typeof n.offset||"bigint"==typeof n.length?oe().BigInt(n.offset)+oe().BigInt(n.length)-oe().BigInt(1):n.offset+n.length-1,n.offset+"-"+e}(n.byterange)},Qa=function(n){return Tc(n.reduce(function(i,t){var l,r=t.attributes.id+(t.attributes.lang||"");i[r]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),(l=i[r].segments).push.apply(l,t.segments)),t.attributes.contentProtection&&(i[r].attributes.contentProtection=t.attributes.contentProtection)):(i[r]=t,i[r].attributes.timelineStarts=[]);return i[r].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),i},{})).map(function(i){return i.discontinuityStarts=function(n,e){return n.reduce(function(i,t,r){return t.discontinuity&&i.push(r),i},[])}(i.segments||[]),i})},w=function(n,e){var i=ll(n.sidx),t=i&&e[i]&&e[i].sidx;return t&&Sc(n,t,n.sidx.resolvedUri),n},C=function(n,e){if(void 0===e&&(e={}),!Object.keys(e).length)return n;for(var i in n)n[i]=w(n[i],e);return n},ge=function(n){var e,i=n.attributes,t=n.segments,r=n.sidx,l=n.discontinuityStarts,d={attributes:(e={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===i.type,timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuityStarts:l,timelineStarts:i.timelineStarts,segments:t};return i.contentProtection&&(d.contentProtection=i.contentProtection),r&&(d.sidx=r),d},Qe=function(n){var e=n.attributes;return"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType},Bt=function(n){var e=n.attributes;return"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType},fn=function(n){var e=n.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType},An=function(n){return n?Object.keys(n).reduce(function(e,i){return e.concat(n[i].playlists)},[]):[]},Mn=function(n){var e,i=n.dashPlaylists,t=n.locations,r=n.sidxMapping,l=void 0===r?{}:r,d=n.previousManifest;if(!i.length)return{};var p=i[0].attributes,m=p.sourceDuration,y=p.type,N=p.suggestedPresentationDelay,M=p.minimumUpdatePeriod,V=Qa(i.filter(Qe)).map(ge),q=Qa(i.filter(Bt)),j=Qa(i.filter(fn)),z=i.map(function(ht){return ht.attributes.captionServices}).filter(Boolean),ve={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(e={AUDIO:{},VIDEO:{}},e["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:m,playlists:C(V,l)};M>=0&&(ve.minimumUpdatePeriod=1e3*M),t&&(ve.locations=t),"dynamic"===y&&(ve.suggestedPresentationDelay=N);var Ve=q.length?function(n,e,i){void 0===e&&(e={}),void 0===i&&(i=!1);var t,r=n.reduce(function(d,p){var m=p.attributes.role&&p.attributes.role.value||"",y=p.attributes.lang||"",N=p.attributes.label||"main";y&&!p.attributes.label&&(N=p.attributes.lang+(m?" ("+m+")":"")),d[N]||(d[N]={language:y,autoselect:!0,default:"main"===m,playlists:[],uri:""});var V=w(function(n,e){var i,t=n.attributes,r=n.segments,l=n.sidx,d=n.mediaSequence,p=n.discontinuitySequence,m=n.discontinuityStarts,y={attributes:(i={NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:"static"===t.type,timeline:t.periodStart,resolvedUri:"",targetDuration:t.duration,discontinuitySequence:p,discontinuityStarts:m,timelineStarts:t.timelineStarts,mediaSequence:d,segments:r};return t.contentProtection&&(y.contentProtection=t.contentProtection),l&&(y.sidx=l),e&&(y.attributes.AUDIO="audio",y.attributes.SUBTITLES="subs"),y}(p,i),e);return d[N].playlists.push(V),void 0===t&&"main"===m&&((t=p).default=!0),d},{});return t||(r[Object.keys(r)[0]].default=!0),r}(q,l,0===ve.playlists.length):null,Ge=j.length?function(n,e){return void 0===e&&(e={}),n.reduce(function(i,t){var r=t.attributes.lang||"text";return i[r]||(i[r]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),i[r].playlists.push(w(function(n){var e,i=n.attributes,t=n.segments,r=n.mediaSequence,l=n.discontinuityStarts,d=n.discontinuitySequence;void 0===t&&(t=[{uri:i.baseUrl,timeline:i.periodStart,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var p=((e={NAME:i.id,BANDWIDTH:i.bandwidth})["PROGRAM-ID"]=1,e);return i.codecs&&(p.CODECS=i.codecs),{attributes:p,uri:"",endList:"static"===i.type,timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,timelineStarts:i.timelineStarts,discontinuityStarts:l,discontinuitySequence:d,mediaSequence:r,segments:t}}(t),e)),i},{})}(j,l):null,je=V.concat(An(Ve),An(Ge)),it=je.map(function(ht){return ht.timelineStarts});return ve.timelineStarts=zh(it),function(n,e){n.forEach(function(i){i.mediaSequence=0,i.discontinuitySequence=qa(e,function(t){return t.timeline===i.timeline}),i.segments&&i.segments.forEach(function(t,r){t.number=r})})}(je,ve.timelineStarts),Ve&&(ve.mediaGroups.AUDIO.audio=Ve),Ge&&(ve.mediaGroups.SUBTITLES.subs=Ge),z.length&&(ve.mediaGroups["CLOSED-CAPTIONS"].cc=function(n){return n.reduce(function(e,i){return i&&i.forEach(function(t){var l=t.language;e[l]={autoselect:!1,default:!1,instreamId:t.channel,language:l},t.hasOwnProperty("aspectRatio")&&(e[l].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[l].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[l]["3D"]=t["3D"])}),e},{})}(z)),d?function(n){var e=n.oldManifest,i=n.newManifest,t=e.playlists.concat(ol(e)),r=i.playlists.concat(ol(i));return i.timelineStarts=zh([e.timelineStarts,i.timelineStarts]),function(n){var e=n.oldPlaylists,t=n.timelineStarts;n.newPlaylists.forEach(function(r){r.discontinuitySequence=qa(t,function(y){return y.timeline===r.timeline});var l=function(n,e){for(var i=0;i<n.length;i++)if(n[i].attributes.NAME===e)return n[i];return null}(e,r.attributes.NAME);if(l&&!r.sidx){var d=r.segments[0],p=qa(l.segments,function(y){return Math.abs(y.presentationTime-d.presentationTime)<.016666666666666666});if(-1===p)return tu({playlist:r,mediaSequence:l.mediaSequence+l.segments.length}),r.segments[0].discontinuity=!0,r.discontinuityStarts.unshift(0),void((!l.segments.length&&r.timeline>l.timeline||l.segments.length&&r.timeline>l.segments[l.segments.length-1].timeline)&&r.discontinuitySequence--);l.segments[p].discontinuity&&!d.discontinuity&&(d.discontinuity=!0,r.discontinuityStarts.unshift(0),r.discontinuitySequence--),tu({playlist:r,mediaSequence:l.segments[p].number})}})}({oldPlaylists:t,newPlaylists:r,timelineStarts:i.timelineStarts}),i}({oldManifest:d,newManifest:ve}):ve},Rs=function(n,e,i){var d=n.timescale,m=n.periodStart,N=n.minimumUpdatePeriod;return Math.ceil((((n.NOW+n.clientOffset)/1e3+(void 0===N?0:N)-(n.availabilityStartTime+(void 0===m?0:m)))*(void 0===d?1:d)-e)/i)},Zs=function(n,e){for(var i=n.type,t=n.minimumUpdatePeriod,r=void 0===t?0:t,l=n.media,d=void 0===l?"":l,p=n.sourceDuration,m=n.timescale,y=void 0===m?1:m,N=n.startNumber,M=void 0===N?1:N,V=n.periodStart,q=[],j=-1,z=0;z<e.length;z++){var ve=e[z],_e=ve.d,Ve=ve.r||0,Ge=ve.t||0;j<0&&(j=Ge),Ge&&Ge>j&&(j=Ge);var je=void 0;if(Ve<0){var it=z+1;je=it===e.length?"dynamic"===i&&r>0&&d.indexOf("$Number$")>0?Rs(n,j,_e):(p*y-j)/_e:(e[it].t-j)/_e}else je=Ve+1;for(var ht=M+q.length+je,ze=M+q.length;ze<ht;)q.push({number:ze,duration:_e/y,time:j,timeline:V}),j+=_e,ze++}return q},iu=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Za=function(n,e){return n.replace(iu,function(n){return function(e,i,t,r){if("$$"===e)return"$";if(void 0===n[i])return e;var l=""+n[i];return"RepresentationID"===i||(r=t?parseInt(r,10):1,l.length>=r)?l:""+new Array(r-l.length+1).join("0")+l}}(e))},Kb=function(n,e){var i={RepresentationID:n.id,Bandwidth:n.bandwidth||0},t=n.initialization,r=void 0===t?{sourceURL:"",range:""}:t,l=_s({baseUrl:n.baseUrl,source:Za(r.sourceURL,i),range:r.range}),d=function(n,e){return n.duration||e?n.duration?Xa(n):Zs(n,e):[{number:n.startNumber||1,duration:n.sourceDuration,time:0,timeline:n.periodStart}]}(n,e);return d.map(function(p){i.Number=p.number,i.Time=p.time;var m=Za(n.media||"",i),M=n.periodStart+(p.time-(n.presentationTimeOffset||0))/(n.timescale||1);return{uri:m,timeline:p.timeline,duration:p.duration,resolvedUri:Ka(n.baseUrl||"",m),map:l,number:p.number,presentationTime:M}})},Ec=function(n,e){var i=n.duration,t=n.segmentUrls,r=void 0===t?[]:t,l=n.periodStart;if(!i&&!e||i&&e)throw new Error("SEGMENT_TIME_UNSPECIFIED");var p,d=r.map(function(y){return function(n,e){var i=n.baseUrl,t=n.initialization,r=void 0===t?{}:t,l=_s({baseUrl:i,source:r.sourceURL,range:r.range}),d=_s({baseUrl:i,source:e.media,range:e.mediaRange});return d.map=l,d}(n,y)});return i&&(p=Xa(n)),e&&(p=Zs(n,e)),p.map(function(y,N){if(d[N]){var M=d[N],V=n.timescale||1,q=n.presentationTimeOffset||0;return M.timeline=y.timeline,M.duration=y.duration,M.number=y.number,M.presentationTime=l+(y.time-q)/V,M}}).filter(function(y){return y})},qb=function(n){var t,r,e=n.attributes,i=n.segmentInfo;i.template?(r=Kb,t=Oi(e,i.template)):i.base?(r=Jl,t=Oi(e,i.base)):i.list&&(r=Ec,t=Oi(e,i.list));var l={attributes:e};if(!r)return l;var d=r(t,i.segmentTimeline);if(t.duration){var y=t.timescale;t.duration=t.duration/(void 0===y?1:y)}else t.duration=d.length?d.reduce(function(M,V){return Math.max(M,Math.ceil(V.duration))},0):0;return l.attributes=t,l.segments=d,i.base&&t.indexRange&&(l.sidx=d[0],l.segments=[]),l},Pi=function(n,e){return rl(n.childNodes).filter(function(i){return i.tagName===e})},No=function(n){return n.textContent.trim()},ul=function(n){var p=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(n);if(!p)return 0;var m=p.slice(1),N=m[1],M=m[2],V=m[3],q=m[4],j=m[5];return 31536e3*parseFloat(m[0]||0)+2592e3*parseFloat(N||0)+86400*parseFloat(M||0)+3600*parseFloat(V||0)+60*parseFloat(q||0)+parseFloat(j||0)},rf={mediaPresentationDuration:function(n){return ul(n)},availabilityStartTime:function(n){return function(n){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(n)&&(n+="Z"),Date.parse(n)}(n)/1e3},minimumUpdatePeriod:function(n){return ul(n)},suggestedPresentationDelay:function(n){return ul(n)},type:function(n){return n},timeShiftBufferDepth:function(n){return ul(n)},start:function(n){return ul(n)},width:function(n){return parseInt(n,10)},height:function(n){return parseInt(n,10)},bandwidth:function(n){return parseInt(n,10)},startNumber:function(n){return parseInt(n,10)},timescale:function(n){return parseInt(n,10)},presentationTimeOffset:function(n){return parseInt(n,10)},duration:function(n){var e=parseInt(n,10);return isNaN(e)?ul(n):e},d:function(n){return parseInt(n,10)},t:function(n){return parseInt(n,10)},r:function(n){return parseInt(n,10)},DEFAULT:function(n){return n}},Wi=function(n){return n&&n.attributes?rl(n.attributes).reduce(function(e,i){return e[i.name]=(rf[i.name]||rf.DEFAULT)(i.value),e},{}):{}},ru={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Ja=function(n,e){return e.length?il(n.map(function(i){return e.map(function(t){return Ka(i,No(t))})})):n},sf=function(n){var e=Pi(n,"SegmentTemplate")[0],i=Pi(n,"SegmentList")[0],t=i&&Pi(i,"SegmentURL").map(function(M){return Oi({tag:"SegmentURL"},Wi(M))}),r=Pi(n,"SegmentBase")[0],l=i||e,d=l&&Pi(l,"SegmentTimeline")[0],p=i||r||e,m=p&&Pi(p,"Initialization")[0],y=e&&Wi(e);y&&m?y.initialization=m&&Wi(m):y&&y.initialization&&(y.initialization={sourceURL:y.initialization});var N={template:y,segmentTimeline:d&&Pi(d,"S").map(function(M){return Wi(M)}),list:i&&Oi(Wi(i),{segmentUrls:t,initialization:Wi(m)}),base:r&&Oi(Wi(r),{initialization:Wi(m)})};return Object.keys(N).forEach(function(M){N[M]||delete N[M]}),N},Ri=function(n,e){return function(i,t){var r=Ja(e,Pi(i.node,"BaseURL")),l=Oi(n,{periodStart:i.attributes.start});"number"==typeof i.attributes.duration&&(l.periodDuration=i.attributes.duration);var d=Pi(i.node,"AdaptationSet"),p=sf(i.node);return il(d.map(function(n,e,i){return function(t){var r=Wi(t),l=Ja(e,Pi(t,"BaseURL")),d=Pi(t,"Role")[0],p={role:Wi(d)},m=Oi(n,r,p),y=Pi(t,"Accessibility")[0],N=function(n){return"urn:scte:dash:cc:cea-608:2015"===n.schemeIdUri?("string"!=typeof n.value?[]:n.value.split(";")).map(function(t){var r,l;if(l=t,/^CC\d=/.test(t)){var d=t.split("=");r=d[0],l=d[1]}else/^CC\d$/.test(t)&&(r=t);return{channel:r,language:l}}):"urn:scte:dash:cc:cea-708:2015"===n.schemeIdUri?("string"!=typeof n.value?[]:n.value.split(";")).map(function(t){var r={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){var l=t.split("="),p=l[1],m=void 0===p?"":p;r.channel=l[0],r.language=t,m.split(",").forEach(function(y){var N=y.split(":"),M=N[0],V=N[1];"lang"===M?r.language=V:"er"===M?r.easyReader=Number(V):"war"===M?r.aspectRatio=Number(V):"3D"===M&&(r["3D"]=Number(V))})}else r.language=t;return r.channel&&(r.channel="SERVICE"+r.channel),r}):void 0}(Wi(y));N&&(m=Oi(m,{captionServices:N}));var M=Pi(t,"Label")[0];if(M&&M.childNodes.length){var V=M.childNodes[0].nodeValue.trim();m=Oi(m,{label:V})}var q=function(n){return n.reduce(function(e,i){var t=Wi(i),r=ru[t.schemeIdUri];if(r){e[r]={attributes:t};var l=Pi(i,"cenc:pssh")[0];if(l){var d=No(l),p=d&&ql(d);e[r].pssh=p}}return e},{})}(Pi(t,"ContentProtection"));Object.keys(q).length&&(m=Oi(m,{contentProtection:q}));var j=sf(t),z=Pi(t,"Representation"),ve=Oi(i,j);return il(z.map(function(n,e,i){return function(t){var r=Pi(t,"BaseURL"),l=Ja(e,r),d=Oi(n,Wi(t)),p=sf(t);return l.map(function(m){return{segmentInfo:Oi(i,p),attributes:Oi(d,{baseUrl:m})}})}}(m,l,ve)))}}(l,r,p)))}},Zb=function(n){if(""===n)throw new Error("DASH_EMPTY_MANIFEST");var i,t,e=new vi.DOMParser;try{t=(i=e.parseFromString(n,"application/xml"))&&"MPD"===i.documentElement.tagName?i.documentElement:null}catch(r){}if(!t||t&&t.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return t},wc=G(7459),pD=G.n(wc),$t=function(n){return n instanceof Uint8Array?n:(!Array.isArray(n)&&!function(n){return function(n){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer}(n)}(n)&&!(n instanceof ArrayBuffer)&&(n="number"!=typeof n||"number"==typeof n&&n!=n?0:[n]),new Uint8Array(n&&n.buffer||n,n&&n.byteOffset||0,n&&n.byteLength||0))},$i=oe().BigInt||Number,af=[$i("0x1"),$i("0x100"),$i("0x10000"),$i("0x1000000"),$i("0x100000000"),$i("0x10000000000"),$i("0x1000000000000"),$i("0x100000000000000"),$i("0x10000000000000000")],mD=(s=new Uint16Array([65484]),new Uint8Array(s.buffer,s.byteOffset,s.byteLength),function(n,e){var i=void 0===e?{}:e,t=i.signed,r=void 0!==t&&t,l=i.le,d=void 0!==l&&l;n=$t(n);var p=d?"reduce":"reduceRight",y=(n[p]?n[p]:Array.prototype[p]).call(n,function(M,V,q){var j=d?q:Math.abs(q+1-n.length);return M+$i(V)*af[j]},$i(0));if(r){var N=af[n.length]/$i(2)-$i(1);(y=$i(y))>N&&(y-=N,y-=N,y-=$i(2))}return Number(y)}),lf=function(n,e){if("string"!=typeof n&&n&&"function"==typeof n.toString&&(n=n.toString()),"string"!=typeof n)return new Uint8Array;e||(n=unescape(encodeURIComponent(n)));for(var i=new Uint8Array(n.length),t=0;t<n.length;t++)i[t]=n.charCodeAt(t);return i},wi=function(n,e,i){var t=void 0===i?{}:i,r=t.offset,l=void 0===r?0:r,d=t.mask,p=void 0===d?[]:d;return n=$t(n),(e=$t(e)).length&&n.length-l>=e.length&&(e.every?e.every:Array.prototype.every).call(e,function(y,N){return y===(p[N]?p[N]&n[l+N]:n[l+N])})},iT=$t([73,68,51]),Ac=function s(n,e){return void 0===e&&(e=0),(n=$t(n)).length-e<10||!wi(n,iT,{offset:e})?e:(e+=function(n,e){void 0===e&&(e=0);var t=(n=$t(n))[e+6]<<21|n[e+7]<<14|n[e+8]<<7|n[e+9];return(16&n[e+5])>>4?t+20:t+10}(n,e),s(n,e))},Mc=(new Uint8Array([79,112,117,115,72,101,97,100]),function(n){return"string"==typeof n?lf(n):n}),ep=function(n){n=$t(n);for(var e=[],i=0;n.length>i;){var t=n[i],r=0,l=0,d=n[++l];for(l++;128&d;)r=(127&d)<<7,d=n[l],l++;r+=127&d;for(var p=0;p<Jh.length;p++){var m=Jh[p];if(t===m.id){e.push((0,m.parser)(n.subarray(l,l+r)));break}}i+=r+l}return e};
/*! @name mpd-parser @version 0.21.0 @license Apache-2.0 */Jh=[{id:3,parser:function(n){var e={tag:3,id:n[0]<<8|n[1],flags:n[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&e.flags&&(e.dependsOnEsId=n[e.size]<<8|n[e.size+1],e.size+=2),64&e.flags){var i=n[e.size];e.url=function(n){if(!n)return"";n=Array.prototype.slice.call(n);var e=String.fromCharCode.apply(null,$t(n));try{return decodeURIComponent(escape(e))}catch(i){}return e}(n.subarray(e.size+1,e.size+1+i)),e.size+=i}return 32&e.flags&&(e.ocrEsId=n[e.size]<<8|n[e.size+1],e.size+=2),e.descriptors=ep(n.subarray(e.size))||[],e}},{id:4,parser:function(n){return{tag:4,oti:n[0],streamType:n[1],bufferSize:n[2]<<16|n[3]<<8|n[4],maxBitrate:n[5]<<24|n[6]<<16|n[7]<<8|n[8],avgBitrate:n[9]<<24|n[10]<<16|n[11]<<8|n[12],descriptors:ep(n.subarray(13))}}},{id:5,parser:function(n){return{tag:5,bytes:n}}},{id:6,parser:function(n){return{tag:6,bytes:n}}}];var as=function s(n,e,i){void 0===i&&(i=!1),e=function(n){return Array.isArray(n)?n.map(function(e){return Mc(e)}):[Mc(n)]}(e),n=$t(n);var t=[];if(!e.length)return t;for(var r=0;r<n.length;){var l=(n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3])>>>0,d=n.subarray(r+4,r+8);if(0===l)break;var p=r+l;if(p>n.length){if(i)break;p=n.length}var m=n.subarray(r+8,p);wi(d,e[0])&&(1===e.length?t.push(m):t.push.apply(t,s(m,e.slice(1),i))),r=p}return t},di={EBML:$t([26,69,223,163]),DocType:$t([66,130]),Segment:$t([24,83,128,103]),SegmentInfo:$t([21,73,169,102]),Tracks:$t([22,84,174,107]),Track:$t([174]),TrackNumber:$t([215]),DefaultDuration:$t([35,227,131]),TrackEntry:$t([174]),TrackType:$t([131]),FlagDefault:$t([136]),CodecID:$t([134]),CodecPrivate:$t([99,162]),VideoTrack:$t([224]),AudioTrack:$t([225]),Cluster:$t([31,67,182,117]),Timestamp:$t([231]),TimestampScale:$t([42,215,177]),BlockGroup:$t([160]),BlockDuration:$t([155]),Block:$t([161]),SimpleBlock:$t([163])},tp=[128,64,32,16,8,4,2,1],Js=function(n,e,i,t){void 0===i&&(i=!0),void 0===t&&(t=!1);var r=function(n){for(var e=1,i=0;i<tp.length&&!(n&tp[i]);i++)e++;return e}(n[e]),l=n.subarray(e,e+r);return i&&((l=Array.prototype.slice.call(n,e,e+r))[0]^=tp[r-1]),{length:r,value:mD(l,{signed:t}),bytes:l}},rv=function s(n){return"string"==typeof n?n.match(/.{1,2}/g).map(function(e){return s(e)}):"number"==typeof n?function(n,e){var t=(void 0===e?{}:e).le,r=void 0!==t&&t;("bigint"!=typeof n&&"number"!=typeof n||"number"==typeof n&&n!=n)&&(n=0);for(var l=function(n){return Math.ceil(function(n){return n.toString(2).length}(n)/8)}(n=$i(n)),d=new Uint8Array(new ArrayBuffer(l)),p=0;p<l;p++){var m=r?p:Math.abs(p+1-d.length);d[m]=Number(n/af[p]&$i(255)),n<0&&(d[m]=Math.abs(~d[m]),d[m]-=0===p?1:2)}return d}(n):n},oT=function s(n,e,i){if(i>=e.length)return e.length;var t=Js(e,i,!1);if(wi(n.bytes,t.bytes))return i;var r=Js(e,i+t.length);return s(n,e,i+r.length+r.value+t.length)},fi=function s(n,e){e=function(n){return Array.isArray(n)?n.map(function(e){return rv(e)}):[rv(n)]}(e),n=$t(n);var i=[];if(!e.length)return i;for(var t=0;t<n.length;){var r=Js(n,t,!1),l=Js(n,t+r.length),d=t+r.length+l.length;127===l.value&&(l.value=oT(r,n,d),l.value!==n.length&&(l.value-=d));var m=n.subarray(d,d+l.value>n.length?n.length:d+l.value);wi(e[0],r.bytes)&&(1===e.length?i.push(m):i=i.concat(s(m,e.slice(1)))),t+=r.length+l.length+m.length}return i},av=$t([0,0,0,1]),ip=$t([0,0,1]),df=$t([0,0,3]),ov=function(n){for(var e=[],i=1;i<n.length-2;)wi(n.subarray(i,i+3),df)&&(e.push(i+2),i++),i++;if(0===e.length)return n;var t=n.length-e.length,r=new Uint8Array(t),l=0;for(i=0;i<t;l++,i++)l===e[0]&&(l++,e.shift()),r[i]=n[l];return r},lv=function(n,e,i,t){void 0===t&&(t=1/0),n=$t(n),i=[].concat(i);for(var l,r=0,d=0;r<n.length&&(d<t||l);){var p=void 0;if(wi(n.subarray(r),av)?p=4:wi(n.subarray(r),ip)&&(p=3),p){if(d++,l)return ov(n.subarray(l,r));var m=void 0;"h264"===e?m=31&n[r+p]:"h265"===e&&(m=n[r+p]>>1&63),-1!==i.indexOf(m)&&(l=r+p),r+=p+("h264"===e?1:2)}else r++}return n.subarray(0,0)},sr={webm:$t([119,101,98,109]),matroska:$t([109,97,116,114,111,115,107,97]),flac:$t([102,76,97,67]),ogg:$t([79,103,103,83]),ac3:$t([11,119]),riff:$t([82,73,70,70]),avi:$t([65,86,73]),wav:$t([87,65,86,69]),"3gp":$t([102,116,121,112,51,103]),mp4:$t([102,116,121,112]),fmp4:$t([115,116,121,112]),mov:$t([102,116,121,112,113,116]),moov:$t([109,111,111,118]),moof:$t([109,111,111,102])},lu={aac:function(n){var e=Ac(n);return wi(n,[255,16],{offset:e,mask:[255,22]})},mp3:function(n){var e=Ac(n);return wi(n,[255,2],{offset:e,mask:[255,6]})},webm:function(n){var e=fi(n,[di.EBML,di.DocType])[0];return wi(e,sr.webm)},mkv:function(n){var e=fi(n,[di.EBML,di.DocType])[0];return wi(e,sr.matroska)},mp4:function(n){return!lu["3gp"](n)&&!lu.mov(n)&&(!!(wi(n,sr.mp4,{offset:4})||wi(n,sr.fmp4,{offset:4})||wi(n,sr.moof,{offset:4})||wi(n,sr.moov,{offset:4}))||void 0)},mov:function(n){return wi(n,sr.mov,{offset:4})},"3gp":function(n){return wi(n,sr["3gp"],{offset:4})},ac3:function(n){var e=Ac(n);return wi(n,sr.ac3,{offset:e})},ts:function(n){if(n.length<189&&n.length>=1)return 71===n[0];for(var e=0;e+188<n.length&&e<188;){if(71===n[e]&&71===n[e+188])return!0;e+=1}return!1},flac:function(n){var e=Ac(n);return wi(n,sr.flac,{offset:e})},ogg:function(n){return wi(n,sr.ogg)},avi:function(n){return wi(n,sr.riff)&&wi(n,sr.avi,{offset:8})},wav:function(n){return wi(n,sr.riff)&&wi(n,sr.wav,{offset:8})},h264:function(n){return function(n,e,i){return lv(n,"h264",7,3)}(n).length},h265:function(n){return function(n,e,i){return lv(n,"h265",[32,33],3)}(n).length}},uv=Object.keys(lu).filter(function(s){return"ts"!==s&&"h264"!==s&&"h265"!==s}).concat(["ts","h264","h265"]);uv.forEach(function(s){var n=lu[s];lu[s]=function(e){return n($t(e))}});
/**
       * @license
       * Video.js 7.18.1 <http://videojs.com/>
       * Copyright Brightcove, Inc. <https://www.brightcove.com/>
       * Available under Apache License Version 2.0
       * <https://github.com/videojs/video.js/blob/main/LICENSE>
       *
       * Includes vtt.js <https://github.com/mozilla/vtt.js>
       * Available under Apache License Version 2.0
       * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
       */
for(var fl,cv=lu,rp=function(n){n=$t(n);for(var e=0;e<uv.length;e++){var i=uv[e];if(cv[i](n))return i}return""},ff=G(6277),eo={},ea=function(n,e){return eo[n]=eo[n]||[],e&&(eo[n]=eo[n].concat(e)),eo[n]},dl=function(n,e){var i=ea(n).indexOf(e);return!(i<=-1||(eo[n]=eo[n].slice(),eo[n].splice(i,1),0))},hf={prefixed:!0},ap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Rc=ap[0],kc=0;kc<ap.length;kc++)if(ap[kc][1]in lt()){fl=ap[kc];break}if(fl){for(var Fc=0;Fc<fl.length;Fc++)hf[Rc[Fc]]=fl[Fc];hf.prefixed=fl[0]!==Rc[0]}var Kr=[],bn=function hv(s){var e,n="info",i=function(){for(var r=arguments.length,l=new Array(r),d=0;d<r;d++)l[d]=arguments[d];e("log",n,l)};return e=function(n,e){return function(i,t,r){var l=e.levels[t],d=new RegExp("^("+l+")$");if("log"!==i&&r.unshift(i.toUpperCase()+":"),r.unshift(n+":"),Kr){Kr.push([].concat(r));var p=Kr.length-1e3;Kr.splice(0,p>0?p:0)}if(oe().console){var m=oe().console[i];!m&&"debug"===i&&(m=oe().console.info||oe().console.log),m&&l&&d.test(i)&&m[Array.isArray(r)?"apply":"call"](oe().console,r)}}}(s,i),i.createLogger=function(t){return hv(s+": "+t)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},i.level=function(t){if("string"==typeof t){if(!i.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');n=t}return n},(i.history=function(){return Kr?[].concat(Kr):[]}).filter=function(t){return(Kr||[]).filter(function(r){return new RegExp(".*"+t+".*").test(r[0])})},i.history.clear=function(){Kr&&(Kr.length=0)},i.history.disable=function(){null!==Kr&&(Kr.length=0,Kr=null)},i.history.enable=function(){null===Kr&&(Kr=[])},i.error=function(){for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e("error",n,r)},i.warn=function(){for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e("warn",n,r)},i.debug=function(){for(var t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e("debug",n,r)},i}("VIDEOJS"),pv=bn.createLogger,cT=Object.prototype.toString,gv=function(n){return Io(n)?Object.keys(n):[]};function bs(s,n){gv(s).forEach(function(e){return n(s[e],e)})}function ki(s){for(var n=arguments.length,e=new Array(n>1?n-1:0),i=1;i<n;i++)e[i-1]=arguments[i];return Object.assign?Un.apply(void 0,[s].concat(e)):(e.forEach(function(t){!t||bs(t,function(r,l){s[l]=r})}),s)}function Io(s){return!!s&&"object"==typeof s}function pf(s){return Io(s)&&"[object Object]"===cT.call(s)&&s.constructor===Object}function gf(s,n){if(!s||!n)return"";if("function"==typeof oe().getComputedStyle){var e;try{e=oe().getComputedStyle(s)}catch(i){return""}return e?e.getPropertyValue(n)||e[n]:""}return""}var xr=oe().navigator&&oe().navigator.userAgent||"",dT=/AppleWebKit\/([\d.]+)/i.exec(xr),mv=dT?parseFloat(dT.pop()):null,vv=/iPod/i.test(xr),fT=function(){var s=xr.match(/OS (\d+)_/i);return s&&s[1]?s[1]:null}(),to=/Android/i.test(xr),op=function(){var s=xr.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!s)return null;var n=s[1]&&parseFloat(s[1]),e=s[2]&&parseFloat(s[2]);return n&&e?parseFloat(s[1]+"."+s[2]):n||null}(),hT=to&&op<5&&mv<537,_v=/Firefox/i.test(xr),Oo=/Edg/i.test(xr),Oa=!Oo&&(/Chrome/i.test(xr)||/CriOS/i.test(xr)),ta=function(){var s=xr.match(/(Chrome|CriOS)\/(\d+)/);return s&&s[2]?parseFloat(s[2]):null}(),no=function(){var s=/MSIE\s(\d+)\.\d/.exec(xr),n=s&&parseFloat(s[1]);return!n&&/Trident\/7.0/i.test(xr)&&/rv:11.0/.test(xr)&&(n=11),n}(),mf=/Safari/i.test(xr)&&!Oa&&!to&&!Oo,lp=/Windows/i.test(xr),hl=Boolean(pl()&&("ontouchstart"in oe()||oe().navigator.maxTouchPoints||oe().DocumentTouch&&oe().document instanceof oe().DocumentTouch)),yv=/iPad/i.test(xr)||mf&&hl&&!/iPhone/i.test(xr),bv=/iPhone/i.test(xr)&&!yv,os=bv||yv||vv,uu=(mf||os)&&!Oa,up=Object.freeze({__proto__:null,IS_IPOD:vv,IOS_VERSION:fT,IS_ANDROID:to,ANDROID_VERSION:op,IS_NATIVE_ANDROID:hT,IS_FIREFOX:_v,IS_EDGE:Oo,IS_CHROME:Oa,CHROME_VERSION:ta,IE_VERSION:no,IS_SAFARI:mf,IS_WINDOWS:lp,TOUCH_ENABLED:hl,IS_IPAD:yv,IS_IPHONE:bv,IS_IOS:os,IS_ANY_SAFARI:uu});function vf(s){return"string"==typeof s&&Boolean(s.trim())}function pT(s){if(s.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function pl(){return lt()===oe().document}function cu(s){return Io(s)&&1===s.nodeType}function Tv(){try{return oe().parent!==oe().self}catch(s){return!0}}function Sv(s){return function(n,e){if(!vf(n))return lt()[s](null);vf(e)&&(e=lt().querySelector(e));var i=cu(e)?e:lt();return i[s]&&i[s](n)}}function In(s,n,e,i){void 0===s&&(s="div"),void 0===n&&(n={}),void 0===e&&(e={});var t=lt().createElement(s);return Object.getOwnPropertyNames(n).forEach(function(r){var l=n[r];-1!==r.indexOf("aria-")||"role"===r||"type"===r?(bn.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+r+" to "+l+"."),t.setAttribute(r,l)):"textContent"===r?Po(t,l):(t[r]!==l||"tabIndex"===r)&&(t[r]=l)}),Object.getOwnPropertyNames(e).forEach(function(r){t.setAttribute(r,e[r])}),i&&Uc(t,i),t}function Po(s,n){return void 0===s.textContent?s.innerText=n:s.textContent=n,s}function du(s,n){n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s)}function gl(s,n){return pT(n),s.classList?s.classList.contains(n):function SD(s){return new RegExp("(^|\\s)"+s+"($|\\s)")}(n).test(s.className)}function na(s,n){return s.classList?s.classList.add(n):gl(s,n)||(s.className=(s.className+" "+n).trim()),s}function Bc(s,n){return s?(s.classList?s.classList.remove(n):(pT(n),s.className=s.className.split(/\s+/).filter(function(e){return e!==n}).join(" ")),s):(bn.warn("removeClass was called with an element that doesn't exist"),null)}function zi(s,n,e){var i=gl(s,n);if("function"==typeof e&&(e=e(s,n)),"boolean"!=typeof e&&(e=!i),e!==i)return e?na(s,n):Bc(s,n),s}function cp(s,n){Object.getOwnPropertyNames(n).forEach(function(e){var i=n[e];null==i||!1===i?s.removeAttribute(e):s.setAttribute(e,!0===i?"":i)})}function io(s){var n={};if(s&&s.attributes&&s.attributes.length>0)for(var i=s.attributes,t=i.length-1;t>=0;t--){var r=i[t].name,l=i[t].value;("boolean"==typeof s[r]||-1!==",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+r+","))&&(l=null!==l),n[r]=l}return n}function _f(s,n){return s.getAttribute(n)}function ml(s,n,e){s.setAttribute(n,e)}function yf(s,n){s.removeAttribute(n)}function Cv(){lt().body.focus(),lt().onselectstart=function(){return!1}}function Dv(){lt().onselectstart=function(){return!0}}function fu(s){if(s&&s.getBoundingClientRect&&s.parentNode){var n=s.getBoundingClientRect(),e={};return["bottom","height","left","right","top","width"].forEach(function(i){void 0!==n[i]&&(e[i]=n[i])}),e.height||(e.height=parseFloat(gf(s,"height"))),e.width||(e.width=parseFloat(gf(s,"width"))),e}}function Hc(s){if(!s||s&&!s.offsetParent)return{left:0,top:0,width:0,height:0};for(var n=s.offsetWidth,e=s.offsetHeight,i=0,t=0;s.offsetParent&&s!==lt()[hf.fullscreenElement];)i+=s.offsetLeft,t+=s.offsetTop,s=s.offsetParent;return{left:i,top:t,width:n,height:e}}function dp(s,n){var e={x:0,y:0};if(os)for(var i=s;i&&"html"!==i.nodeName.toLowerCase();){var t=gf(i,"transform");if(/^matrix/.test(t)){var r=t.slice(7,-1).split(/,\s/).map(Number);e.x+=r[4],e.y+=r[5]}else if(/^matrix3d/.test(t)){var l=t.slice(9,-1).split(/,\s/).map(Number);e.x+=l[12],e.y+=l[13]}i=i.parentNode}var d={},p=Hc(n.target),m=Hc(s),y=m.width,M=n.offsetY-(m.top-p.top),V=n.offsetX-(m.left-p.left);return n.changedTouches&&(V=n.changedTouches[0].pageX-m.left,M=n.changedTouches[0].pageY+m.top,os&&(V-=e.x,M-=e.y)),d.y=1-Math.max(0,Math.min(1,M/m.height)),d.x=Math.max(0,Math.min(1,V/y)),d}function gT(s){return Io(s)&&3===s.nodeType}function vl(s){for(;s.firstChild;)s.removeChild(s.firstChild);return s}function Vr(s){return"function"==typeof s&&(s=s()),(Array.isArray(s)?s:[s]).map(function(n){return"function"==typeof n&&(n=n()),cu(n)||gT(n)?n:"string"==typeof n&&/\S/.test(n)?lt().createTextNode(n):void 0}).filter(function(n){return n})}function Uc(s,n){return Vr(n).forEach(function(e){return s.appendChild(e)}),s}function fp(s,n){return Uc(vl(s),n)}function hu(s){return void 0===s.button&&void 0===s.buttons||0===s.button&&void 0===s.buttons||"mouseup"===s.type&&0===s.button&&0===s.buttons||!(0!==s.button||1!==s.buttons)}var hp,xi=Sv("querySelector"),pu=Sv("querySelectorAll"),bf=Object.freeze({__proto__:null,isReal:pl,isEl:cu,isInFrame:Tv,createEl:In,textContent:Po,prependTo:du,hasClass:gl,addClass:na,removeClass:Bc,toggleClass:zi,setAttributes:cp,getAttributes:io,getAttribute:_f,setAttribute:ml,removeAttribute:yf,blockTextSelection:Cv,unblockTextSelection:Dv,getBoundingClientRect:fu,findPosition:Hc,getPointerPosition:dp,isTextNode:gT,emptyEl:vl,normalizeContent:Vr,appendContent:Uc,insertContent:fp,isSingleLeftClick:hu,$:xi,$$:pu}),Ev=!1,wv=function(){if(!1!==hp.options.autoSetup){var n=Array.prototype.slice.call(lt().getElementsByTagName("video")),e=Array.prototype.slice.call(lt().getElementsByTagName("audio")),i=Array.prototype.slice.call(lt().getElementsByTagName("video-js")),t=n.concat(e,i);if(t&&t.length>0)for(var r=0,l=t.length;r<l;r++){var d=t[r];if(!d||!d.getAttribute){pp(1);break}void 0===d.player&&null!==d.getAttribute("data-setup")&&hp(d)}else Ev||pp(1)}};function pp(s,n){!pl()||(n&&(hp=n),oe().setTimeout(wv,s))}function Tf(){Ev=!0,oe().removeEventListener("load",Tf)}pl()&&("complete"===lt().readyState?Tf():oe().addEventListener("load",Tf));var Av,xv=function(n){var e=lt().createElement("style");return e.className=n,e},gp=function(n,e){n.styleSheet?n.styleSheet.cssText=e:n.textContent=e},vT=3;function Pa(){return vT++}oe().WeakMap||(Av=function(){function s(){this.vdata="vdata"+Math.floor(oe().performance&&oe().performance.now()||Date.now()),this.data={}}var n=s.prototype;return n.set=function(i,t){var r=i[this.vdata]||Pa();return i[this.vdata]||(i[this.vdata]=r),this.data[r]=t,this},n.get=function(i){var t=i[this.vdata];if(t)return this.data[t];bn("We have no data for this element",i)},n.has=function(i){return i[this.vdata]in this.data},n.delete=function(i){var t=i[this.vdata];t&&(delete this.data[t],delete i[this.vdata])},s}());var qr=oe().WeakMap?new WeakMap:new Av;function Sf(s,n){if(qr.has(s)){var e=qr.get(s);0===e.handlers[n].length&&(delete e.handlers[n],s.removeEventListener?s.removeEventListener(n,e.dispatcher,!1):s.detachEvent&&s.detachEvent("on"+n,e.dispatcher)),Object.getOwnPropertyNames(e.handlers).length<=0&&(delete e.handlers,delete e.dispatcher,delete e.disabled),0===Object.getOwnPropertyNames(e).length&&qr.delete(s)}}function mp(s,n,e,i){e.forEach(function(t){s(n,t,i)})}function Cf(s){if(s.fixed_)return s;function n(){return!0}function e(){return!1}if(!s||!s.isPropagationStopped||!s.isImmediatePropagationStopped){var i=s||oe().event;for(var t in s={},i)"layerX"!==t&&"layerY"!==t&&"keyLocation"!==t&&"webkitMovementX"!==t&&"webkitMovementY"!==t&&("returnValue"===t&&i.preventDefault||(s[t]=i[t]));if(s.target||(s.target=s.srcElement||lt()),s.relatedTarget||(s.relatedTarget=s.fromElement===s.target?s.toElement:s.fromElement),s.preventDefault=function(){i.preventDefault&&i.preventDefault(),s.returnValue=!1,i.returnValue=!1,s.defaultPrevented=!0},s.defaultPrevented=!1,s.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),s.cancelBubble=!0,i.cancelBubble=!0,s.isPropagationStopped=n},s.isPropagationStopped=e,s.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),s.isImmediatePropagationStopped=n,s.stopPropagation()},s.isImmediatePropagationStopped=e,null!=s.clientX){var r=lt().documentElement,l=lt().body;s.pageX=s.clientX+(r&&r.scrollLeft||l&&l.scrollLeft||0)-(r&&r.clientLeft||l&&l.clientLeft||0),s.pageY=s.clientY+(r&&r.scrollTop||l&&l.scrollTop||0)-(r&&r.clientTop||l&&l.clientTop||0)}s.which=s.charCode||s.keyCode,null!=s.button&&(s.button=1&s.button?0:4&s.button?1:2&s.button?2:0)}return s.fixed_=!0,s}var _l,yT=["touchstart","touchmove"];function Ts(s,n,e){if(Array.isArray(n))return mp(Ts,s,n,e);qr.has(s)||qr.set(s,{});var i=qr.get(s);if(i.handlers||(i.handlers={}),i.handlers[n]||(i.handlers[n]=[]),e.guid||(e.guid=Pa()),i.handlers[n].push(e),i.dispatcher||(i.disabled=!1,i.dispatcher=function(r,l){if(!i.disabled){r=Cf(r);var d=i.handlers[r.type];if(d)for(var p=d.slice(0),m=0,y=p.length;m<y&&!r.isImmediatePropagationStopped();m++)try{p[m].call(s,r,l)}catch(N){bn.error(N)}}}),1===i.handlers[n].length)if(s.addEventListener){var t=!1;(function(){if("boolean"!=typeof _l){_l=!1;try{var n=Object.defineProperty({},"passive",{get:function(){_l=!0}});oe().addEventListener("test",null,n),oe().removeEventListener("test",null,n)}catch(e){}}return _l})()&&yT.indexOf(n)>-1&&(t={passive:!0}),s.addEventListener(n,i.dispatcher,t)}else s.attachEvent&&s.attachEvent("on"+n,i.dispatcher)}function Gr(s,n,e){if(qr.has(s)){var i=qr.get(s);if(i.handlers){if(Array.isArray(n))return mp(Gr,s,n,e);var t=function(m,y){i.handlers[y]=[],Sf(m,y)};if(void 0===n){for(var r in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},r)&&t(s,r);return}var l=i.handlers[n];if(l){if(!e)return void t(s,n);if(e.guid)for(var d=0;d<l.length;d++)l[d].guid===e.guid&&l.splice(d--,1);Sf(s,n)}}}}function gu(s,n,e){var i=qr.has(s)?qr.get(s):{},t=s.parentNode||s.ownerDocument;if("string"==typeof n?n={type:n,target:s}:n.target||(n.target=s),n=Cf(n),i.dispatcher&&i.dispatcher.call(s,n,e),t&&!n.isPropagationStopped()&&!0===n.bubbles)gu.call(null,t,n,e);else if(!t&&!n.defaultPrevented&&n.target&&n.target[n.type]){qr.has(n.target)||qr.set(n.target,{});var r=qr.get(n.target);n.target[n.type]&&(r.disabled=!0,"function"==typeof n.target[n.type]&&n.target[n.type](),r.disabled=!1)}return!n.defaultPrevented}function Vc(s,n,e){if(Array.isArray(n))return mp(Vc,s,n,e);var i=function t(){Gr(s,n,t),e.apply(this,arguments)};i.guid=e.guid=e.guid||Pa(),Ts(s,n,i)}function Mv(s,n,e){var i=function t(){Gr(s,n,t),e.apply(this,arguments)};i.guid=e.guid=e.guid||Pa(),Ts(s,n,i)}var Gc,bT=Object.freeze({__proto__:null,fixEvent:Cf,on:Ts,off:Gr,trigger:gu,one:Vc,any:Mv}),hi=function(n,e,i){e.guid||(e.guid=Pa());var t=e.bind(n);return t.guid=i?i+"_"+e.guid:e.guid,t},ro=function(n,e){var i=oe().performance.now();return function(){var l=oe().performance.now();l-i>=e&&(n.apply(void 0,arguments),i=l)}},_r=function(){};_r.prototype.allowedEvents_={},_r.prototype.addEventListener=_r.prototype.on=function(s,n){var e=this.addEventListener;this.addEventListener=function(){},Ts(this,s,n),this.addEventListener=e},_r.prototype.removeEventListener=_r.prototype.off=function(s,n){Gr(this,s,n)},_r.prototype.one=function(s,n){var e=this.addEventListener;this.addEventListener=function(){},Vc(this,s,n),this.addEventListener=e},_r.prototype.any=function(s,n){var e=this.addEventListener;this.addEventListener=function(){},Mv(this,s,n),this.addEventListener=e},_r.prototype.dispatchEvent=_r.prototype.trigger=function(s){var n=s.type||s;"string"==typeof s&&(s={type:n}),s=Cf(s),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](s),gu(this,s)},_r.prototype.queueTrigger=function(s){var n=this;Gc||(Gc=new Map);var e=s.type||s,i=Gc.get(this);i||Gc.set(this,i=new Map);var t=i.get(e);i.delete(e),oe().clearTimeout(t);var r=oe().setTimeout(function(){0===i.size&&(i=null,Gc.delete(n)),n.trigger(s)},0);i.set(e,r)};var so=function(n){return"function"==typeof n.name?n.name():"string"==typeof n.name?n.name:n.name_?n.name_:n.constructor&&n.constructor.name?n.constructor.name:typeof n},yr=function(n){return n instanceof _r||!!n.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof n[e]})},Iv=function(n){return"string"==typeof n&&/\S/.test(n)||Array.isArray(n)&&!!n.length},jc=function(n,e,i){if(!n||!n.nodeName&&!yr(n))throw new Error("Invalid target for "+so(e)+"#"+i+"; must be a DOM node or evented object.")},TT=function(n,e,i){if(!Iv(n))throw new Error("Invalid event type for "+so(e)+"#"+i+"; must be a non-empty string or array.")},ra=function(n,e,i){if("function"!=typeof n)throw new Error("Invalid listener for "+so(e)+"#"+i+"; must be a function.")},Wc=function(n,e,i){var r,l,d,t=e.length<3||e[0]===n||e[0]===n.eventBusEl_;return t?(r=n.eventBusEl_,e.length>=3&&e.shift(),l=e[0],d=e[1]):(r=e[0],l=e[1],d=e[2]),jc(r,n,i),TT(l,n,i),ra(d,n,i),{isTargetingSelf:t,target:r,type:l,listener:d=hi(n,d)}},ao=function(n,e,i,t){jc(n,n,e),n.nodeName?bT[e](n,i,t):n[e](i,t)},ST={on:function(){for(var n=this,e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];var r=Wc(this,i,"on"),l=r.isTargetingSelf,d=r.target,p=r.type,m=r.listener;if(ao(d,"on",p,m),!l){var y=function(){return n.off(d,p,m)};y.guid=m.guid;var N=function(){return n.off("dispose",y)};N.guid=m.guid,ao(this,"on","dispose",y),ao(d,"on","dispose",N)}},one:function(){for(var n=this,e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];var r=Wc(this,i,"one"),l=r.isTargetingSelf,d=r.target,p=r.type,m=r.listener;if(l)ao(d,"one",p,m);else{var y=function N(){n.off(d,p,N);for(var M=arguments.length,V=new Array(M),q=0;q<M;q++)V[q]=arguments[q];m.apply(null,V)};y.guid=m.guid,ao(d,"one",p,y)}},any:function(){for(var n=this,e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];var r=Wc(this,i,"any"),l=r.isTargetingSelf,d=r.target,p=r.type,m=r.listener;if(l)ao(d,"any",p,m);else{var y=function N(){n.off(d,p,N);for(var M=arguments.length,V=new Array(M),q=0;q<M;q++)V[q]=arguments[q];m.apply(null,V)};y.guid=m.guid,ao(d,"any",p,y)}},off:function(n,e,i){if(!n||Iv(n))Gr(this.eventBusEl_,n,e);else{var t=n,r=e;jc(t,this,"off"),TT(r,this,"off"),ra(i,this,"off"),i=hi(this,i),this.off("dispose",i),t.nodeName?(Gr(t,r,i),Gr(t,"dispose",i)):yr(t)&&(t.off(r,i),t.off("dispose",i))}},trigger:function(n,e){if(jc(this.eventBusEl_,this,"trigger"),!Iv(n&&"string"!=typeof n?n.type:n)){var t="Invalid event type for "+so(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!n)throw new Error(t);(this.log||bn).error(t)}return gu(this.eventBusEl_,n,e)}};function Df(s,n){void 0===n&&(n={});var i=n.eventBusKey;if(i){if(!s[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');s.eventBusEl_=s[i]}else s.eventBusEl_=In("span",{className:"vjs-event-bus"});return ki(s,ST),s.eventedCallbacks&&s.eventedCallbacks.forEach(function(t){t()}),s.on("dispose",function(){s.off(),[s,s.el_,s.eventBusEl_].forEach(function(t){t&&qr.has(t)&&qr.delete(t)}),oe().setTimeout(function(){s.eventBusEl_=null},0)}),s}var $c={state:{},setState:function(n){var i,e=this;return"function"==typeof n&&(n=n()),bs(n,function(t,r){e.state[r]!==t&&((i=i||{})[r]={from:e.state[r],to:t}),e.state[r]=t}),i&&yr(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function vp(s,n){return ki(s,$c),s.state=ki({},s.state,n),"function"==typeof s.handleStateChanged&&yr(s)&&s.on("statechanged",s.handleStateChanged),s}var zc=function(n){return"string"!=typeof n?n:n.replace(/./,function(e){return e.toLowerCase()})},Ai=function(n){return"string"!=typeof n?n:n.replace(/./,function(e){return e.toUpperCase()})};function pi(){for(var s={},n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];return e.forEach(function(t){!t||bs(t,function(r,l){pf(r)?(pf(s[l])||(s[l]={}),s[l]=pi(s[l],r)):s[l]=r})}),s}var DD=function(){function s(){this.map_={}}var n=s.prototype;return n.has=function(i){return i in this.map_},n.delete=function(i){var t=this.has(i);return delete this.map_[i],t},n.set=function(i,t){return this.map_[i]=t,this},n.forEach=function(i,t){for(var r in this.map_)i.call(t,this.map_[r],r,this)},s}(),mu=oe().Map?oe().Map:DD,yp=function(){function s(){this.set_={}}var n=s.prototype;return n.has=function(i){return i in this.set_},n.delete=function(i){var t=this.has(i);return delete this.set_[i],t},n.add=function(i){return this.set_[i]=1,this},n.forEach=function(i,t){for(var r in this.set_)i.call(t,r,r,this)},s}(),Ef=oe().Set?oe().Set:yp,_t=function(){function s(e,i,t){if(this.player_=!e&&this.play?e=this:e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=pi({},this.options_),i=this.options_=pi(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+Pa()}this.name_=i.name||null,i.el?this.el_=i.el:!1!==i.createEl&&(this.el_=this.createEl()),!1!==i.evented&&(Df(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),vp(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Ef,this.setIntervalIds_=new Ef,this.rafIds_=new Ef,this.namedRafs_=new mu,this.clearingTimersOnDispose_=!1,!1!==i.initChildren&&this.initChildren(),this.ready(t),!1!==i.reportTouchActivity&&this.enableTouchActivity()}var n=s.prototype;return n.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},n.isDisposed=function(){return Boolean(this.isDisposed_)},n.player=function(){return this.player_},n.options=function(i){return i?(this.options_=pi(this.options_,i),this.options_):this.options_},n.el=function(){return this.el_},n.createEl=function(i,t,r){return In(i,t,r)},n.localize=function(i,t,r){void 0===r&&(r=i);var l=this.player_.language&&this.player_.language(),d=this.player_.languages&&this.player_.languages(),p=d&&d[l],m=l&&l.split("-")[0],y=d&&d[m],N=r;return p&&p[i]?N=p[i]:y&&y[i]&&(N=y[i]),t&&(N=N.replace(/\{(\d+)\}/g,function(M,V){var q=t[V-1],j=q;return void 0===q&&(j=M),j})),N},n.handleLanguagechange=function(){},n.contentEl=function(){return this.contentEl_||this.el_},n.id=function(){return this.id_},n.name=function(){return this.name_},n.children=function(){return this.children_},n.getChildById=function(i){return this.childIndex_[i]},n.getChild=function(i){if(i)return this.childNameIndex_[i]},n.getDescendant=function(){for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];t=t.reduce(function(p,m){return p.concat(m)},[]);for(var l=this,d=0;d<t.length;d++)if(!(l=l.getChild(t[d]))||!l.getChild)return;return l},n.addChild=function(i,t,r){var l,d;if(void 0===t&&(t={}),void 0===r&&(r=this.children_.length),"string"==typeof i){d=Ai(i);var p=t.componentClass||d;t.name=d;var m=s.getComponent(p);if(!m)throw new Error("Component "+p+" does not exist");if("function"!=typeof m)return null;l=new m(this.player_||this,t)}else l=i;if(l.parentComponent_&&l.parentComponent_.removeChild(l),this.children_.splice(r,0,l),l.parentComponent_=this,"function"==typeof l.id&&(this.childIndex_[l.id()]=l),(d=d||l.name&&Ai(l.name()))&&(this.childNameIndex_[d]=l,this.childNameIndex_[zc(d)]=l),"function"==typeof l.el&&l.el()){var y=null;this.children_[r+1]&&(this.children_[r+1].el_?y=this.children_[r+1].el_:cu(this.children_[r+1])&&(y=this.children_[r+1])),this.contentEl().insertBefore(l.el(),y)}return l},n.removeChild=function(i){if("string"==typeof i&&(i=this.getChild(i)),i&&this.children_){for(var t=!1,r=this.children_.length-1;r>=0;r--)if(this.children_[r]===i){t=!0,this.children_.splice(r,1);break}if(t){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[Ai(i.name())]=null,this.childNameIndex_[zc(i.name())]=null;var l=i.el();l&&l.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},n.initChildren=function(){var i=this,t=this.options_.children;if(t){var d,r=this.options_,p=s.getComponent("Tech");(d=Array.isArray(t)?t:Object.keys(t)).concat(Object.keys(this.options_).filter(function(m){return!d.some(function(y){return"string"==typeof y?m===y:m===y.name})})).map(function(m){var y,N;return"string"==typeof m?N=t[y=m]||i.options_[y]||{}:(y=m.name,N=m),{name:y,opts:N}}).filter(function(m){var y=s.getComponent(m.opts.componentClass||Ai(m.name));return y&&!p.isTech(y)}).forEach(function(y){var N=y.name,M=y.opts;if(void 0!==r[N]&&(M=r[N]),!1!==M){!0===M&&(M={}),M.playerOptions=i.options_.playerOptions;var V=i.addChild(N,M);V&&(i[N]=V)}})}},n.buildCSSClass=function(){return""},n.ready=function(i,t){if(void 0===t&&(t=!1),i){if(!this.isReady_)return this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(i);t?i.call(this):this.setTimeout(i,1)}},n.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},n.$=function(i,t){return xi(i,t||this.contentEl())},n.$$=function(i,t){return pu(i,t||this.contentEl())},n.hasClass=function(i){return gl(this.el_,i)},n.addClass=function(i){na(this.el_,i)},n.removeClass=function(i){Bc(this.el_,i)},n.toggleClass=function(i,t){zi(this.el_,i,t)},n.show=function(){this.removeClass("vjs-hidden")},n.hide=function(){this.addClass("vjs-hidden")},n.lockShowing=function(){this.addClass("vjs-lock-showing")},n.unlockShowing=function(){this.removeClass("vjs-lock-showing")},n.getAttribute=function(i){return _f(this.el_,i)},n.setAttribute=function(i,t){ml(this.el_,i,t)},n.removeAttribute=function(i){yf(this.el_,i)},n.width=function(i,t){return this.dimension("width",i,t)},n.height=function(i,t){return this.dimension("height",i,t)},n.dimensions=function(i,t){this.width(i,!0),this.height(t)},n.dimension=function(i,t,r){if(void 0!==t)return(null===t||t!=t)&&(t=0),this.el_.style[i]=-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?t:"auto"===t?"":t+"px",void(r||this.trigger("componentresize"));if(!this.el_)return 0;var l=this.el_.style[i],d=l.indexOf("px");return parseInt(-1!==d?l.slice(0,d):this.el_["offset"+Ai(i)],10)},n.currentDimension=function(i){var t=0;if("width"!==i&&"height"!==i)throw new Error("currentDimension only accepts width or height value");if(t=gf(this.el_,i),0===(t=parseFloat(t))||isNaN(t)){var r="offset"+Ai(i);t=this.el_[r]}return t},n.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.currentWidth=function(){return this.currentDimension("width")},n.currentHeight=function(){return this.currentDimension("height")},n.focus=function(){this.el_.focus()},n.blur=function(){this.el_.blur()},n.handleKeyDown=function(i){this.player_&&(Yt().isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},n.handleKeyPress=function(i){this.handleKeyDown(i)},n.emitTapEvents=function(){var d,i=0,t=null;this.on("touchstart",function(m){1===m.touches.length&&(t={pageX:m.touches[0].pageX,pageY:m.touches[0].pageY},i=oe().performance.now(),d=!0)}),this.on("touchmove",function(m){if(m.touches.length>1)d=!1;else if(t){var y=m.touches[0].pageX-t.pageX,N=m.touches[0].pageY-t.pageY;Math.sqrt(y*y+N*N)>10&&(d=!1)}});var p=function(){d=!1};this.on("touchleave",p),this.on("touchcancel",p),this.on("touchend",function(m){t=null,!0===d&&oe().performance.now()-i<200&&(m.preventDefault(),this.trigger("tap"))})},n.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,i=hi(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){i(),this.clearInterval(t),t=this.setInterval(i,250)});var r=function(d){i(),this.clearInterval(t)};this.on("touchmove",i),this.on("touchend",r),this.on("touchcancel",r)}},n.setTimeout=function(i,t){var l,r=this;return i=hi(this,i),this.clearTimersOnDispose_(),l=oe().setTimeout(function(){r.setTimeoutIds_.has(l)&&r.setTimeoutIds_.delete(l),i()},t),this.setTimeoutIds_.add(l),l},n.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),oe().clearTimeout(i)),i},n.setInterval=function(i,t){i=hi(this,i),this.clearTimersOnDispose_();var r=oe().setInterval(i,t);return this.setIntervalIds_.add(r),r},n.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),oe().clearInterval(i)),i},n.requestAnimationFrame=function(i){var r,t=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),i=hi(this,i),r=oe().requestAnimationFrame(function(){t.rafIds_.has(r)&&t.rafIds_.delete(r),i()}),this.rafIds_.add(r),r):this.setTimeout(i,1e3/60)},n.requestNamedAnimationFrame=function(i,t){var r=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),t=hi(this,t);var l=this.requestAnimationFrame(function(){t(),r.namedRafs_.has(i)&&r.namedRafs_.delete(i)});return this.namedRafs_.set(i,l),i}},n.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},n.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),oe().cancelAnimationFrame(i)),i):this.clearTimeout(i)},n.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(t){var l=t[1];i[t[0]].forEach(function(d,p){return i[l](p)})}),i.clearingTimersOnDispose_=!1}))},s.registerComponent=function(i,t){if("string"!=typeof i||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var r=s.getComponent("Tech"),l=r&&r.isTech(t),d=s===t||s.prototype.isPrototypeOf(t.prototype);if(l||!d)throw new Error('Illegal component, "'+i+'"; '+(l?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");i=Ai(i),s.components_||(s.components_={});var m=s.getComponent("Player");if("Player"===i&&m&&m.players){var y=m.players,N=Object.keys(y);if(y&&N.length>0&&N.map(function(M){return y[M]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return s.components_[i]=t,s.components_[zc(i)]=t,t},s.getComponent=function(i){if(i&&s.components_)return s.components_[i]},s}();function Ov(s,n,e,i){return function bp(s,n,e){if("number"!=typeof n||n<0||n>e)throw new Error("Failed to execute '"+s+"' on 'TimeRanges': The index provided ("+n+") is non-numeric or out of bounds (0-"+e+").")}(s,i,e.length-1),e[i][n]}function Tp(s){var n;return n=void 0===s||0===s.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:s.length,start:Ov.bind(null,"start",0,s),end:Ov.bind(null,"end",1,s)},oe().Symbol&&oe().Symbol.iterator&&(n[oe().Symbol.iterator]=function(){return(s||[]).values()}),n}function yl(s,n){return Array.isArray(s)?Tp(s):void 0===s||void 0===n?Tp():Tp([[s,n]])}function Pv(s,n){var i,t,e=0;if(!n)return 0;(!s||!s.length)&&(s=yl(0,0));for(var r=0;r<s.length;r++)i=s.start(r),(t=s.end(r))>n&&(t=n),e+=t-i;return e/n}function Xr(s){if(s instanceof Xr)return s;"number"==typeof s?this.code=s:"string"==typeof s?this.message=s:Io(s)&&("number"==typeof s.code&&(this.code=s.code),ki(this,s)),this.message||(this.message=Xr.defaultMessages[this.code]||"")}_t.prototype.supportsRaf_="function"==typeof oe().requestAnimationFrame&&"function"==typeof oe().cancelAnimationFrame,_t.registerComponent("Component",_t),Xr.prototype.code=0,Xr.prototype.message="",Xr.prototype.status=null,Xr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Xr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var vu=0;vu<Xr.errorTypes.length;vu++)Xr[Xr.errorTypes[vu]]=vu,Xr.prototype[Xr.errorTypes[vu]]=vu;function _u(s){return null!=s&&"function"==typeof s.then}function Fs(s){_u(s)&&s.then(null,function(n){})}var wf=function(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,t,r){return n[t]&&(i[t]=n[t]),i},{cues:n.cues&&Array.prototype.map.call(n.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},xf="vjs-modal-dialog",bl=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).handleKeyDown_=function(l){return r.handleKeyDown(l)},r.close_=function(l){return r.close(l)},r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=In("div",{className:xf+"-content"},{role:"document"}),r.descEl_=In("p",{className:xf+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),Po(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}Et(n,s);var e=n.prototype;return e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,s.prototype.dispose.call(this)},e.buildCSSClass=function(){return xf+" vjs-hidden "+s.prototype.buildCSSClass.call(this)},e.label=function(){return this.localize(this.options_.label||"Modal Window")},e.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},e.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.closeable=function(t){if("boolean"==typeof t){var r=this.closeable_=!!t,l=this.getChild("closeButton");if(r&&!l){var d=this.contentEl_;this.contentEl_=this.el_,l=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=d,this.on(l,"close",this.close_)}!r&&l&&(this.off(l,"close",this.close_),this.removeChild(l),l.dispose())}return this.closeable_},e.fill=function(){this.fillWith(this.content())},e.fillWith=function(t){var r=this.contentEl(),l=r.parentNode,d=r.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,l.removeChild(r),this.empty(),fp(r,t),this.trigger("modalfill"),d?l.insertBefore(r,d):l.appendChild(r);var p=this.getChild("closeButton");p&&l.appendChild(p.el_)},e.empty=function(){this.trigger("beforemodalempty"),vl(this.contentEl()),this.trigger("modalempty")},e.content=function(t){return void 0!==t&&(this.content_=t),this.content_},e.conditionalFocus_=function(){var t=lt().activeElement,r=this.player_.el_;this.previouslyActiveEl_=null,(r.contains(t)||r===t)&&(this.previouslyActiveEl_=t,this.focus())},e.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},e.handleKeyDown=function(t){if(t.stopPropagation(),Yt().isEventKey(t,"Escape")&&this.closeable())return t.preventDefault(),void this.close();if(Yt().isEventKey(t,"Tab")){for(var d,r=this.focusableEls_(),l=this.el_.querySelector(":focus"),p=0;p<r.length;p++)if(l===r[p]){d=p;break}lt().activeElement===this.el_&&(d=0),t.shiftKey&&0===d?(r[r.length-1].focus(),t.preventDefault()):!t.shiftKey&&d===r.length-1&&(r[0].focus(),t.preventDefault())}},e.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(r){return(r instanceof oe().HTMLAnchorElement||r instanceof oe().HTMLAreaElement)&&r.hasAttribute("href")||(r instanceof oe().HTMLInputElement||r instanceof oe().HTMLSelectElement||r instanceof oe().HTMLTextAreaElement||r instanceof oe().HTMLButtonElement)&&!r.hasAttribute("disabled")||r instanceof oe().HTMLIFrameElement||r instanceof oe().HTMLObjectElement||r instanceof oe().HTMLEmbedElement||r.hasAttribute("tabindex")&&-1!==r.getAttribute("tabindex")||r.hasAttribute("contenteditable")})},n}(_t);bl.prototype.options_={pauseOnOpen:!0,temporary:!0},_t.registerComponent("ModalDialog",bl);var Ls=function(s){function n(i){var t;void 0===i&&(i=[]),(t=s.call(this)||this).tracks_=[],Object.defineProperty(Kt(t),"length",{get:function(){return this.tracks_.length}});for(var r=0;r<i.length;r++)t.addTrack(i[r]);return t}Et(n,s);var e=n.prototype;return e.addTrack=function(t){var r=this,l=this.tracks_.length;""+l in this||Object.defineProperty(this,l,{get:function(){return this.tracks_[l]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack",target:this})),t.labelchange_=function(){r.trigger({track:t,type:"labelchange",target:r})},yr(t)&&t.addEventListener("labelchange",t.labelchange_)},e.removeTrack=function(t){for(var r,l=0,d=this.length;l<d;l++)if(this[l]===t){(r=this[l]).off&&r.off(),this.tracks_.splice(l,1);break}!r||this.trigger({track:r,type:"removetrack",target:this})},e.getTrackById=function(t){for(var r=null,l=0,d=this.length;l<d;l++){var p=this[l];if(p.id===t){r=p;break}}return r},n}(_r);for(var kv in Ls.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Ls.prototype.allowedEvents_)Ls.prototype["on"+kv]=null;var Af=function(n,e){for(var i=0;i<n.length;i++)!Object.keys(n[i]).length||e.id===n[i].id||(n[i].enabled=!1)},DT=function(s){function n(i){var t;void 0===i&&(i=[]);for(var r=i.length-1;r>=0;r--)if(i[r].enabled){Af(i,i[r]);break}return(t=s.call(this,i)||this).changing_=!1,t}Et(n,s);var e=n.prototype;return e.addTrack=function(t){var r=this;t.enabled&&Af(this,t),s.prototype.addTrack.call(this,t),t.addEventListener&&(t.enabledChange_=function(){r.changing_||(r.changing_=!0,Af(r,t),r.changing_=!1,r.trigger("change"))},t.addEventListener("enabledchange",t.enabledChange_))},e.removeTrack=function(t){s.prototype.removeTrack.call(this,t),t.removeEventListener&&t.enabledChange_&&(t.removeEventListener("enabledchange",t.enabledChange_),t.enabledChange_=null)},n}(Ls),yu=function(n,e){for(var i=0;i<n.length;i++)!Object.keys(n[i]).length||e.id===n[i].id||(n[i].selected=!1)},ET=function(s){function n(i){var t;void 0===i&&(i=[]);for(var r=i.length-1;r>=0;r--)if(i[r].selected){yu(i,i[r]);break}return(t=s.call(this,i)||this).changing_=!1,Object.defineProperty(Kt(t),"selectedIndex",{get:function(){for(var d=0;d<this.length;d++)if(this[d].selected)return d;return-1},set:function(){}}),t}Et(n,s);var e=n.prototype;return e.addTrack=function(t){var r=this;t.selected&&yu(this,t),s.prototype.addTrack.call(this,t),t.addEventListener&&(t.selectedChange_=function(){r.changing_||(r.changing_=!0,yu(r,t),r.changing_=!1,r.trigger("change"))},t.addEventListener("selectedchange",t.selectedChange_))},e.removeTrack=function(t){s.prototype.removeTrack.call(this,t),t.removeEventListener&&t.selectedChange_&&(t.removeEventListener("selectedchange",t.selectedChange_),t.selectedChange_=null)},n}(Ls),Cp=function(s){function n(){return s.apply(this,arguments)||this}Et(n,s);var e=n.prototype;return e.addTrack=function(t){var r=this;s.prototype.addTrack.call(this,t),this.queueChange_||(this.queueChange_=function(){return r.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return r.trigger("selectedlanguagechange")}),t.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(t.kind)&&t.addEventListener("modechange",this.triggerSelectedlanguagechange_)},e.removeTrack=function(t){s.prototype.removeTrack.call(this,t),t.removeEventListener&&(this.queueChange_&&t.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&t.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},n}(Ls),Fv=function(){function s(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,t=e.length;i<t;i++)this.addTrackElement_(e[i])}var n=s.prototype;return n.addTrackElement_=function(i){var t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get:function(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(i)&&this.trackElements_.push(i)},n.getTrackElementByTrack_=function(i){for(var t,r=0,l=this.trackElements_.length;r<l;r++)if(i===this.trackElements_[r].track){t=this.trackElements_[r];break}return t},n.removeTrackElement_=function(i){for(var t=0,r=this.trackElements_.length;t<r;t++)if(i===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}},s}(),Dp=function(){function s(e){s.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var n=s.prototype;return n.setCues_=function(i){var t=this.length||0,r=0,l=i.length;this.cues_=i,this.length_=i.length;var d=function(m){""+m in this||Object.defineProperty(this,""+m,{get:function(){return this.cues_[m]}})};if(t<l)for(r=t;r<l;r++)d.call(this,r)},n.getCueById=function(i){for(var t=null,r=0,l=this.length;r<l;r++){var d=this[r];if(d.id===i){t=d;break}}return t},s}(),Ep={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Lv={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Mf={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Yc={disabled:"disabled",hidden:"hidden",showing:"showing"},Nf=function(s){function n(e){var i;void 0===e&&(e={}),i=s.call(this)||this;var t={id:e.id||"vjs_track_"+Pa(),kind:e.kind||"",language:e.language||""},r=e.label||"",l=function(m){Object.defineProperty(Kt(i),m,{get:function(){return t[m]},set:function(){}})};for(var d in t)l(d);return Object.defineProperty(Kt(i),"label",{get:function(){return r},set:function(m){m!==r&&(r=m,this.trigger("labelchange"))}}),i}return Et(n,s),n}(_r),Kc=function(n){var e=["protocol","hostname","port","pathname","search","hash","host"],i=lt().createElement("a");i.href=n;for(var t={},r=0;r<e.length;r++)t[e[r]]=i[e[r]];return"http:"===t.protocol&&(t.host=t.host.replace(/:80$/,"")),"https:"===t.protocol&&(t.host=t.host.replace(/:443$/,"")),t.protocol||(t.protocol=oe().location.protocol),t.host||(t.host=oe().location.host),t},wp=function(n){if(!n.match(/^https?:\/\//)){var e=lt().createElement("a");e.href=n,n=e.href}return n},qc=function(n){if("string"==typeof n){var i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(n);if(i)return i.pop().toLowerCase()}return""},Ro=function(n,e){void 0===e&&(e=oe().location);var i=Kc(n);return(":"===i.protocol?e.protocol:i.protocol)+i.host!==e.protocol+e.host},wT=Object.freeze({__proto__:null,parseUrl:Kc,getAbsoluteURL:wp,getFileExtension:qc,isCrossOrigin:Ro}),xp=function(n,e){var i=new(oe().WebVTT.Parser)(oe(),oe().vttjs,oe().WebVTT.StringDecoder()),t=[];i.oncue=function(r){e.addCue(r)},i.onparsingerror=function(r){t.push(r)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(n),t.length>0&&(oe().console&&oe().console.groupCollapsed&&oe().console.groupCollapsed("Text Track parsing errors for "+e.src),t.forEach(function(r){return bn.error(r)}),oe().console&&oe().console.groupEnd&&oe().console.groupEnd()),i.flush()},Bv=function(n,e){var i={uri:n},t=Ro(n);t&&(i.cors=t);var r="use-credentials"===e.tech_.crossOrigin();r&&(i.withCredentials=r),I()(i,hi(this,function(l,d,p){if(l)return bn.error(l,d);e.loaded_=!0,"function"!=typeof oe().WebVTT?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],function(m){if("vttjserror"!==m.type)return xp(p,e);bn.error("vttjs failed to load, stopping trying to process "+e.src)}):xp(p,e)}))},Xc=function(s){function n(i){var t;if(void 0===i&&(i={}),!i.tech)throw new Error("A tech was not provided.");var r=pi(i,{kind:Mf[i.kind]||"subtitles",language:i.language||i.srclang||""}),l=Yc[r.mode]||"disabled",d=r.default;("metadata"===r.kind||"chapters"===r.kind)&&(l="hidden"),(t=s.call(this,r)||this).tech_=r.tech,t.cues_=[],t.activeCues_=[],t.preload_=!1!==t.tech_.preloadTextTracks;var p=new Dp(t.cues_),m=new Dp(t.activeCues_),y=!1,N=hi(Kt(t),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,y&&(this.trigger("cuechange"),y=!1))});return t.tech_.one("dispose",function(){t.tech_.off("timeupdate",N)}),"disabled"!==l&&t.tech_.on("timeupdate",N),Object.defineProperties(Kt(t),{default:{get:function(){return d},set:function(){}},mode:{get:function(){return l},set:function(q){!Yc[q]||l!==q&&(l=q,!this.preload_&&"disabled"!==l&&0===this.cues.length&&Bv(this.src,this),this.tech_.off("timeupdate",N),"disabled"!==l&&this.tech_.on("timeupdate",N),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?p:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return m;for(var q=this.tech_.currentTime(),j=[],z=0,ve=this.cues.length;z<ve;z++){var _e=this.cues[z];(_e.startTime<=q&&_e.endTime>=q||_e.startTime===_e.endTime&&_e.startTime<=q&&_e.startTime+.5>=q)&&j.push(_e)}if(y=!1,j.length!==this.activeCues_.length)y=!0;else for(var Ve=0;Ve<j.length;Ve++)-1===this.activeCues_.indexOf(j[Ve])&&(y=!0);return this.activeCues_=j,m.setCues_(this.activeCues_),m},set:function(){}}}),r.src?(t.src=r.src,t.preload_||(t.loaded_=!0),(t.preload_||"subtitles"!==r.kind&&"captions"!==r.kind)&&Bv(t.src,Kt(t))):t.loaded_=!0,t}Et(n,s);var e=n.prototype;return e.addCue=function(t){var r=t;if(oe().vttjs&&!(t instanceof oe().vttjs.VTTCue)){for(var l in r=new(oe().vttjs.VTTCue)(t.startTime,t.endTime,t.text),t)l in r||(r[l]=t[l]);r.id=t.id,r.originalCue_=t}for(var d=this.tech_.textTracks(),p=0;p<d.length;p++)d[p]!==this&&d[p].removeCue(r);this.cues_.push(r),this.cues.setCues_(this.cues_)},e.removeCue=function(t){for(var r=this.cues_.length;r--;){var l=this.cues_[r];if(l===t||l.originalCue_&&l.originalCue_===t){this.cues_.splice(r,1),this.cues.setCues_(this.cues_);break}}},n}(Nf);Xc.prototype.allowedEvents_={cuechange:"cuechange"};var Ap=function(s){function n(e){var i;void 0===e&&(e={});var t=pi(e,{kind:Lv[e.kind]||""});i=s.call(this,t)||this;var r=!1;return Object.defineProperty(Kt(i),"enabled",{get:function(){return r},set:function(d){"boolean"!=typeof d||d===r||(r=d,this.trigger("enabledchange"))}}),t.enabled&&(i.enabled=t.enabled),i.loaded_=!0,i}return Et(n,s),n}(Nf),If=function(s){function n(e){var i;void 0===e&&(e={});var t=pi(e,{kind:Ep[e.kind]||""});i=s.call(this,t)||this;var r=!1;return Object.defineProperty(Kt(i),"selected",{get:function(){return r},set:function(d){"boolean"!=typeof d||d===r||(r=d,this.trigger("selectedchange"))}}),t.selected&&(i.selected=t.selected),i}return Et(n,s),n}(Nf),Tl=function(s){function n(e){var i;void 0===e&&(e={}),i=s.call(this)||this;var t,r=new Xc(e);return i.kind=r.kind,i.src=r.src,i.srclang=r.language,i.label=r.label,i.default=r.default,Object.defineProperties(Kt(i),{readyState:{get:function(){return t}},track:{get:function(){return r}}}),t=0,r.addEventListener("loadeddata",function(){t=2,i.trigger({type:"load",target:Kt(i)})}),i}return Et(n,s),n}(_r);Tl.prototype.allowedEvents_={load:"load"},Tl.NONE=0,Tl.LOADING=1,Tl.LOADED=2,Tl.ERROR=3;var Bs={audio:{ListClass:DT,TrackClass:Ap,capitalName:"Audio"},video:{ListClass:ET,TrackClass:If,capitalName:"Video"},text:{ListClass:Cp,TrackClass:Xc,capitalName:"Text"}};Object.keys(Bs).forEach(function(s){Bs[s].getterName=s+"Tracks",Bs[s].privateName=s+"Tracks_"});var bu={remoteText:{ListClass:Cp,TrackClass:Xc,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Fv,TrackClass:Tl,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},_i=Un({},Bs,bu);bu.names=Object.keys(bu),Bs.names=Object.keys(Bs),_i.names=[].concat(bu.names).concat(Bs.names);var oi=function(s){function n(i,t){var r;return void 0===i&&(i={}),void 0===t&&(t=function(){}),i.reportTouchActivity=!1,(r=s.call(this,null,i,t)||this).onDurationChange_=function(l){return r.onDurationChange(l)},r.trackProgress_=function(l){return r.trackProgress(l)},r.trackCurrentTime_=function(l){return r.trackCurrentTime(l)},r.stopTrackingCurrentTime_=function(l){return r.stopTrackingCurrentTime(l)},r.disposeSourceHandler_=function(l){return r.disposeSourceHandler(l)},r.hasStarted_=!1,r.on("playing",function(){this.hasStarted_=!0}),r.on("loadstart",function(){this.hasStarted_=!1}),_i.names.forEach(function(l){var d=_i[l];i&&i[d.getterName]&&(r[d.privateName]=i[d.getterName])}),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(l){!1===i["native"+l+"Tracks"]&&(r["featuresNative"+l+"Tracks"]=!1)}),!1===i.nativeCaptions||!1===i.nativeTextTracks?r.featuresNativeTextTracks=!1:(!0===i.nativeCaptions||!0===i.nativeTextTracks)&&(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.preloadTextTracks=!1!==i.preloadTextTracks,r.autoRemoteTextTracks_=new _i.text.ListClass,r.initTrackListeners(),i.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}Et(n,s);var e=n.prototype;return e.triggerSourceset=function(t){var r=this;this.isReady_||this.one("ready",function(){return r.setTimeout(function(){return r.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},e.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},e.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},e.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(hi(this,function(){var r=this.bufferedPercent();this.bufferedPercent_!==r&&this.trigger("progress"),this.bufferedPercent_=r,1===r&&this.stopTrackingProgress()}),500)},e.onDurationChange=function(t){this.duration_=this.duration()},e.buffered=function(){return yl(0,0)},e.bufferedPercent=function(){return Pv(this.buffered(),this.duration_)},e.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},e.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},e.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.dispose=function(){this.clearTracks(Bs.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),s.prototype.dispose.call(this)},e.clearTracks=function(t){var r=this;(t=[].concat(t)).forEach(function(l){for(var d=r[l+"Tracks"]()||[],p=d.length;p--;){var m=d[p];"text"===l&&r.removeRemoteTextTrack(m),d.removeTrack(m)}})},e.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],r=t.length;r--;)this.removeRemoteTextTrack(t[r])},e.reset=function(){},e.crossOrigin=function(){},e.setCrossOrigin=function(){},e.error=function(t){return void 0!==t&&(this.error_=new Xr(t),this.trigger("error")),this.error_},e.played=function(){return this.hasStarted_?yl(0,0):yl()},e.play=function(){},e.setScrubbing=function(){},e.scrubbing=function(){},e.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.initTrackListeners=function(){var t=this;Bs.names.forEach(function(r){var d=function(){t.trigger(r+"trackchange")},p=t[Bs[r].getterName]();p.addEventListener("removetrack",d),p.addEventListener("addtrack",d),t.on("dispose",function(){p.removeEventListener("removetrack",d),p.removeEventListener("addtrack",d)})})},e.addWebVttScript_=function(){var t=this;if(!oe().WebVTT)if(lt().body.contains(this.el())){if(!this.options_["vtt.js"]&&pf(Ze())&&Object.keys(Ze()).length>0)return void this.trigger("vttjsloaded");var r=lt().createElement("script");r.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",r.onload=function(){t.trigger("vttjsloaded")},r.onerror=function(){t.trigger("vttjserror")},this.on("dispose",function(){r.onload=null,r.onerror=null}),oe().WebVTT=!0,this.el().parentNode.appendChild(r)}else this.ready(this.addWebVttScript_)},e.emulateTextTracks=function(){var t=this,r=this.textTracks(),l=this.remoteTextTracks(),d=function(M){return r.addTrack(M.track)},p=function(M){return r.removeTrack(M.track)};l.on("addtrack",d),l.on("removetrack",p),this.addWebVttScript_();var m=function(){return t.trigger("texttrackchange")},y=function(){m();for(var M=0;M<r.length;M++){var V=r[M];V.removeEventListener("cuechange",m),"showing"===V.mode&&V.addEventListener("cuechange",m)}};y(),r.addEventListener("change",y),r.addEventListener("addtrack",y),r.addEventListener("removetrack",y),this.on("dispose",function(){l.off("addtrack",d),l.off("removetrack",p),r.removeEventListener("change",y),r.removeEventListener("addtrack",y),r.removeEventListener("removetrack",y);for(var N=0;N<r.length;N++)r[N].removeEventListener("cuechange",m)})},e.addTextTrack=function(t,r,l){if(!t)throw new Error("TextTrack kind is required but was not provided");return function AT(s,n,e,i,t){void 0===t&&(t={});var r=s.textTracks();t.kind=n,e&&(t.label=e),i&&(t.language=i),t.tech=s;var l=new _i.text.TrackClass(t);return r.addTrack(l),l}(this,t,r,l)},e.createRemoteTextTrack=function(t){var r=pi(t,{tech:this});return new bu.remoteTextEl.TrackClass(r)},e.addRemoteTextTrack=function(t,r){var l=this;void 0===t&&(t={});var d=this.createRemoteTextTrack(t);return!0!==r&&!1!==r&&(bn.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),r=!0),this.remoteTextTrackEls().addTrackElement_(d),this.remoteTextTracks().addTrack(d.track),!0!==r&&this.ready(function(){return l.autoRemoteTextTracks_.addTrack(d.track)}),d},e.removeRemoteTextTrack=function(t){var r=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(r),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},e.getVideoPlaybackQuality=function(){return{}},e.requestPictureInPicture=function(){var t=this.options_.Promise||oe().Promise;if(t)return t.reject()},e.disablePictureInPicture=function(){return!0},e.setDisablePictureInPicture=function(){},e.setPoster=function(){},e.playsinline=function(){},e.setPlaysinline=function(){},e.overrideNativeAudioTracks=function(){},e.overrideNativeVideoTracks=function(){},e.canPlayType=function(){return""},n.canPlayType=function(){return""},n.canPlaySource=function(t,r){return n.canPlayType(t.type)},n.isTech=function(t){return t.prototype instanceof n||t instanceof n||t===n},n.registerTech=function(t,r){if(n.techs_||(n.techs_={}),!n.isTech(r))throw new Error("Tech "+t+" must be a Tech");if(!n.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!n.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=Ai(t),n.techs_[t]=r,n.techs_[zc(t)]=r,"Tech"!==t&&n.defaultTechOrder_.push(t),r},n.getTech=function(t){if(t){if(n.techs_&&n.techs_[t])return n.techs_[t];if(t=Ai(t),oe()&&oe().videojs&&oe().videojs[t])return bn.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),oe().videojs[t]}},n}(_t);_i.names.forEach(function(s){var n=_i[s];oi.prototype[n.getterName]=function(){return this[n.privateName]=this[n.privateName]||new n.ListClass,this[n.privateName]}}),oi.prototype.featuresVolumeControl=!0,oi.prototype.featuresMuteControl=!0,oi.prototype.featuresFullscreenResize=!1,oi.prototype.featuresPlaybackRate=!1,oi.prototype.featuresProgressEvents=!1,oi.prototype.featuresSourceset=!1,oi.prototype.featuresTimeupdateEvents=!1,oi.prototype.featuresNativeTextTracks=!1,oi.withSourceHandlers=function(s){s.registerSourceHandler=function(e,i){var t=s.sourceHandlers;t||(t=s.sourceHandlers=[]),void 0===i&&(i=t.length),t.splice(i,0,e)},s.canPlayType=function(e){for(var t,i=s.sourceHandlers||[],r=0;r<i.length;r++)if(t=i[r].canPlayType(e))return t;return""},s.selectSourceHandler=function(e,i){for(var t=s.sourceHandlers||[],l=0;l<t.length;l++)if(t[l].canHandleSource(e,i))return t[l];return null},s.canPlaySource=function(e,i){var t=s.selectSourceHandler(e,i);return t?t.canHandleSource(e,i):""},["seekable","seeking","duration"].forEach(function(e){var i=this[e];"function"==typeof i&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},s.prototype),s.prototype.setSource=function(e){var i=s.selectSourceHandler(e,this.options_);i||(s.nativeSourceHandler?i=s.nativeSourceHandler:bn.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==s.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=i.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},s.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},_t.registerComponent("Tech",oi),oi.registerTech("Tech",oi),oi.defaultTechOrder_=[];var Sl={},Ip={},Of={};function Hv(s,n,e){s.setTimeout(function(){return oo(n,Sl[n.type],e,s)},1)}function ln(s,n,e,i){void 0===i&&(i=null);var t="call"+Ai(e),r=s.reduce(Tu(t),i),l=r===Of,d=l?null:n[e](r);return function sa(s,n,e,i){for(var t=s.length-1;t>=0;t--){var r=s[t];r[n]&&r[n](i,e)}}(s,e,d,l),d}var Uv={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Vv={setCurrentTime:1,setMuted:1,setVolume:1},Op={play:1,pause:1};function Tu(s){return function(n,e){return n===Of?Of:e[s]?e[s](n):n}}function oo(s,n,e,i,t,r){void 0===s&&(s={}),void 0===n&&(n=[]),void 0===t&&(t=[]),void 0===r&&(r=!1);var d=n[0],p=n.slice(1);if("string"==typeof d)oo(s,Sl[d],e,i,t,r);else if(d){var m=function PT(s,n){var e=Ip[s.id()],i=null;if(null==e)return i=n(s),Ip[s.id()]=[[n,i]],i;for(var t=0;t<e.length;t++){var r=e[t];r[0]===n&&(i=r[1])}return null===i&&(i=n(s),e.push([n,i])),i}(i,d);if(!m.setSource)return t.push(m),oo(s,p,e,i,t,r);m.setSource(ki({},s),function(y,N){if(y)return oo(s,p,e,i,t,r);t.push(m),oo(N,s.type===N.type?p:Sl[N.type],e,i,t,r)})}else p.length?oo(s,p,e,i,t,r):r?e(s,t):oo(s,Sl["*"],e,i,t,!0)}var lo={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Su=function(n){void 0===n&&(n="");var e=qc(n);return lo[e.toLowerCase()]||""},Pp=function s(n){if(Array.isArray(n)){var e=[];n.forEach(function(i){i=s(i),Array.isArray(i)?e=e.concat(i):Io(i)&&e.push(i)}),n=e}else n="string"==typeof n&&n.trim()?[RT({src:n})]:Io(n)&&"string"==typeof n.src&&n.src&&n.src.trim()?[RT(n)]:[];return n};function RT(s){if(!s.type){var n=Su(s.src);n&&(s.type=n)}return s}var Wv=function(s){function n(e,i,t){var r,l=pi({createEl:!1},i);if(r=s.call(this,e,l,t)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)e.src(i.playerOptions.sources);else for(var d=0,p=i.playerOptions.techOrder;d<p.length;d++){var m=Ai(p[d]),y=oi.getTech(m);if(m||(y=_t.getComponent(m)),y&&y.isSupported()){e.loadTech_(m);break}}return r}return Et(n,s),n}(_t);_t.registerComponent("MediaLoader",Wv);var Rp=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).handleMouseOver_=function(l){return r.handleMouseOver(l)},r.handleMouseOut_=function(l){return r.handleMouseOut(l)},r.handleClick_=function(l){return r.handleClick(l)},r.handleKeyDown_=function(l){return r.handleKeyDown(l)},r.emitTapEvents(),r.enable(),r}Et(n,s);var e=n.prototype;return e.createEl=function(t,r,l){void 0===t&&(t="div"),void 0===r&&(r={}),void 0===l&&(l={}),r=ki({className:this.buildCSSClass(),tabIndex:0},r),"button"===t&&bn.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),l=ki({role:"button"},l),this.tabIndex_=r.tabIndex;var d=In(t,r,l);return d.appendChild(In("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(d),d},e.dispose=function(){this.controlTextEl_=null,s.prototype.dispose.call(this)},e.createControlTextEl=function(t){return this.controlTextEl_=In("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.controlText=function(t,r){if(void 0===r&&(r=this.el()),void 0===t)return this.controlText_||"Need Text";var l=this.localize(t);this.controlText_=t,Po(this.controlTextEl_,l),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&r.setAttribute("title",l)},e.buildCSSClass=function(){return"vjs-control vjs-button "+s.prototype.buildCSSClass.call(this)},e.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},e.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},e.handleLanguagechange=function(){this.controlText(this.controlText_)},e.handleClick=function(t){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},e.handleKeyDown=function(t){Yt().isEventKey(t,"Space")||Yt().isEventKey(t,"Enter")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):s.prototype.handleKeyDown.call(this,t)},n}(_t);_t.registerComponent("ClickableComponent",Rp);var Pf=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).update(),r.update_=function(l){return r.update(l)},i.on("posterchange",r.update_),r}Et(n,s);var e=n.prototype;return e.dispose=function(){this.player().off("posterchange",this.update_),s.prototype.dispose.call(this)},e.createEl=function(){return In("div",{className:"vjs-poster",tabIndex:-1})},e.update=function(t){var r=this.player().poster();this.setSrc(r),r?this.show():this.hide()},e.setSrc=function(t){var r="";t&&(r='url("'+t+'")'),this.el_.style.backgroundImage=r},e.handleClick=function(t){if(this.player_.controls()){var r=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((no||Oo)&&r)&&this.player_.tech(!0).focus(),this.player_.paused()?Fs(this.player_.play()):this.player_.pause()}},n}(Rp);_t.registerComponent("PosterImage",Pf);var Qr="#222",kp={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Qc(s,n){var e;if(4===s.length)e=s[1]+s[1]+s[2]+s[2]+s[3]+s[3];else{if(7!==s.length)throw new Error("Invalid color code provided, "+s+"; must be formatted as e.g. #f0e or #f604e2.");e=s.slice(1)}return"rgba("+parseInt(e.slice(0,2),16)+","+parseInt(e.slice(2,4),16)+","+parseInt(e.slice(4,6),16)+","+n+")"}function $v(s,n,e){try{s.style[n]=e}catch(i){return}}var kT=function(s){function n(i,t,r){var l;l=s.call(this,i,t,r)||this;var d=function(m){return l.updateDisplay(m)};return i.on("loadstart",function(p){return l.toggleDisplay(p)}),i.on("texttrackchange",d),i.on("loadedmetadata",function(p){return l.preselectTrack(p)}),i.ready(hi(Kt(l),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",d),i.on("playerresize",d),oe().addEventListener("orientationchange",d),i.on("dispose",function(){return oe().removeEventListener("orientationchange",d)});for(var p=this.options_.playerOptions.tracks||[],m=0;m<p.length;m++)this.player_.addRemoteTextTrack(p[m],!0);this.preselectTrack()}})),l}Et(n,s);var e=n.prototype;return e.preselectTrack=function(){for(var d,p,m,t={captions:1,subtitles:1},r=this.player_.textTracks(),l=this.player_.cache_.selectedLanguage,y=0;y<r.length;y++){var N=r[y];l&&l.enabled&&l.language&&l.language===N.language&&N.kind in t?N.kind===l.kind?m=N:m||(m=N):l&&!l.enabled?(m=null,d=null,p=null):N.default&&("descriptions"!==N.kind||d?N.kind in t&&!p&&(p=N):d=N)}m?m.mode="showing":p?p.mode="showing":d&&(d.mode="showing")},e.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},e.clearDisplay=function(){"function"==typeof oe().WebVTT&&oe().WebVTT.processCues(oe(),[],this.el_)},e.updateDisplay=function(){var t=this.player_.textTracks(),r=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),r){for(var l=[],d=0;d<t.length;++d){var p=t[d];"showing"===p.mode&&l.push(p)}this.updateForTrack(l)}else{for(var m=null,y=null,N=t.length;N--;){var M=t[N];"showing"===M.mode&&("descriptions"===M.kind?m=M:y=M)}y?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(y)):m&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(m))}},e.updateDisplayState=function(t){for(var r=this.player_.textTrackSettings.getValues(),l=t.activeCues,d=l.length;d--;){var p=l[d];if(p){var m=p.displayState;if(r.color&&(m.firstChild.style.color=r.color),r.textOpacity&&$v(m.firstChild,"color",Qc(r.color||"#fff",r.textOpacity)),r.backgroundColor&&(m.firstChild.style.backgroundColor=r.backgroundColor),r.backgroundOpacity&&$v(m.firstChild,"backgroundColor",Qc(r.backgroundColor||"#000",r.backgroundOpacity)),r.windowColor&&(r.windowOpacity?$v(m,"backgroundColor",Qc(r.windowColor,r.windowOpacity)):m.style.backgroundColor=r.windowColor),r.edgeStyle&&("dropshadow"===r.edgeStyle?m.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Qr:"raised"===r.edgeStyle?m.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Qr:"depressed"===r.edgeStyle?m.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Qr:"uniform"===r.edgeStyle&&(m.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Qr)),r.fontPercent&&1!==r.fontPercent){var y=oe().parseFloat(m.style.fontSize);m.style.fontSize=y*r.fontPercent+"px",m.style.height="auto",m.style.top="auto"}r.fontFamily&&"default"!==r.fontFamily&&("small-caps"===r.fontFamily?m.firstChild.style.fontVariant="small-caps":m.firstChild.style.fontFamily=kp[r.fontFamily])}}},e.updateForTrack=function(t){if(Array.isArray(t)||(t=[t]),"function"==typeof oe().WebVTT&&!t.every(function(V){return!V.activeCues})){for(var r=[],l=0;l<t.length;++l)for(var d=t[l],p=0;p<d.activeCues.length;++p)r.push(d.activeCues[p]);oe().WebVTT.processCues(oe(),r,this.el_);for(var m=0;m<t.length;++m){for(var y=t[m],N=0;N<y.activeCues.length;++N){var M=y.activeCues[N].displayState;na(M,"vjs-text-track-cue"),na(M,"vjs-text-track-cue-"+(y.language?y.language:m)),y.language&&ml(M,"lang",y.language)}this.player_.textTrackSettings&&this.updateDisplayState(y)}}},n}(_t);_t.registerComponent("TextTrackDisplay",kT);var FT=function(s){function n(){return s.apply(this,arguments)||this}return Et(n,s),n.prototype.createEl=function(){var t=this.player_.isAudio(),r=this.localize(t?"Audio Player":"Video Player"),l=In("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])}),d=s.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return d.appendChild(l),d},n}(_t);_t.registerComponent("LoadingSpinner",FT);var aa=function(s){function n(){return s.apply(this,arguments)||this}Et(n,s);var e=n.prototype;return e.createEl=function(t,r,l){void 0===r&&(r={}),void 0===l&&(l={});var d=In("button",r=ki({className:this.buildCSSClass()},r),l=ki({type:"button"},l));return d.appendChild(In("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(d),d},e.addChild=function(t,r){return void 0===r&&(r={}),bn.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),_t.prototype.addChild.call(this,t,r)},e.enable=function(){s.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.disable=function(){s.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.handleKeyDown=function(t){Yt().isEventKey(t,"Space")||Yt().isEventKey(t,"Enter")?t.stopPropagation():s.prototype.handleKeyDown.call(this,t)},n}(Rp);_t.registerComponent("Button",aa);var zv=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).mouseused_=!1,r.on("mousedown",function(l){return r.handleMouseDown(l)}),r}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-big-play-button"},e.handleClick=function(t){var r=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY){var l=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Fs(r),void(this.player_.tech(!0)&&(!no&&!Oo||!l)&&this.player_.tech(!0).focus())}var d=this.player_.getChild("controlBar"),p=d&&d.getChild("playToggle");if(p){var m=function(){return p.focus()};_u(r)?r.then(m,function(){}):this.setTimeout(m,1)}else this.player_.tech(!0).focus()},e.handleKeyDown=function(t){this.mouseused_=!1,s.prototype.handleKeyDown.call(this,t)},e.handleMouseDown=function(t){this.mouseused_=!0},n}(aa);zv.prototype.controlText_="Play Video",_t.registerComponent("BigPlayButton",zv);var Yv=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).controlText(t&&t.controlText||r.localize("Close")),r}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-close-button "+s.prototype.buildCSSClass.call(this)},e.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e.handleKeyDown=function(t){Yt().isEventKey(t,"Esc")?(t.preventDefault(),t.stopPropagation(),this.trigger("click")):s.prototype.handleKeyDown.call(this,t)},n}(aa);_t.registerComponent("CloseButton",Yv);var LT=function(s){function n(i,t){var r;return void 0===t&&(t={}),r=s.call(this,i,t)||this,t.replay=void 0===t.replay||t.replay,r.on(i,"play",function(l){return r.handlePlay(l)}),r.on(i,"pause",function(l){return r.handlePause(l)}),t.replay&&r.on(i,"ended",function(l){return r.handleEnded(l)}),r}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-play-control "+s.prototype.buildCSSClass.call(this)},e.handleClick=function(t){this.player_.paused()?Fs(this.player_.play()):this.player_.pause()},e.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},e.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.handleEnded=function(t){var r=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(l){return r.handleSeeked(l)})},n}(aa);LT.prototype.controlText_="Play",_t.registerComponent("PlayToggle",LT);var Kv=function(n,e){n=n<0?0:n;var i=Math.floor(n%60),t=Math.floor(n/60%60),r=Math.floor(n/3600),l=Math.floor(e/60%60),d=Math.floor(e/3600);return(isNaN(n)||n===1/0)&&(r=t=i="-"),(r=r>0||d>0?r+":":"")+(t=((r||l>=10)&&t<10?"0"+t:t)+":")+(i<10?"0"+i:i)},qv=Kv;function Cu(s,n){return void 0===n&&(n=s),qv(s,n)}var ko=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).on(i,["timeupdate","ended"],function(l){return r.updateContent(l)}),r.updateTextNode_(),r}Et(n,s);var e=n.prototype;return e.createEl=function(){var t=this.buildCSSClass(),r=s.prototype.createEl.call(this,"div",{className:t+" vjs-time-control vjs-control"}),l=In("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xa0"},{role:"presentation"});return r.appendChild(l),this.contentEl_=In("span",{className:t+"-display"},{"aria-live":"off",role:"presentation"}),r.appendChild(this.contentEl_),r},e.dispose=function(){this.contentEl_=null,this.textNode_=null,s.prototype.dispose.call(this)},e.updateTextNode_=function(t){var r=this;void 0===t&&(t=0),t=Cu(t),this.formattedTime_!==t&&(this.formattedTime_=t,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(r.contentEl_){var l=r.textNode_;l&&r.contentEl_.firstChild!==l&&(l=null,bn.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),r.textNode_=lt().createTextNode(r.formattedTime_),r.textNode_&&(l?r.contentEl_.replaceChild(r.textNode_,l):r.contentEl_.appendChild(r.textNode_))}}))},e.updateContent=function(t){},n}(_t);ko.prototype.labelText_="Time",ko.prototype.controlText_="Time",_t.registerComponent("TimeDisplay",ko);var Zv=function(s){function n(){return s.apply(this,arguments)||this}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-current-time"},e.updateContent=function(t){var r;r=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(r)},n}(ko);Zv.prototype.labelText_="Current Time",Zv.prototype.controlText_="Current Time",_t.registerComponent("CurrentTimeDisplay",Zv);var Jv=function(s){function n(i,t){var r,l=function(p){return r.updateContent(p)};return(r=s.call(this,i,t)||this).on(i,"durationchange",l),r.on(i,"loadstart",l),r.on(i,"loadedmetadata",l),r}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-duration"},e.updateContent=function(t){var r=this.player_.duration();this.updateTextNode_(r)},n}(ko);Jv.prototype.labelText_="Duration",Jv.prototype.controlText_="Duration",_t.registerComponent("DurationDisplay",Jv);var wD=function(s){function n(){return s.apply(this,arguments)||this}return Et(n,s),n.prototype.createEl=function(){var t=s.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),r=s.prototype.createEl.call(this,"div"),l=s.prototype.createEl.call(this,"span",{textContent:"/"});return r.appendChild(l),t.appendChild(r),t},n}(_t);_t.registerComponent("TimeDivider",wD);var e0=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).on(i,"durationchange",function(l){return r.updateContent(l)}),r}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-remaining-time"},e.createEl=function(){var t=s.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&t.insertBefore(In("span",{},{"aria-hidden":!0},"-"),this.contentEl_),t},e.updateContent=function(t){var r;"number"==typeof this.player_.duration()&&(r=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(r))},n}(ko);e0.prototype.labelText_="Remaining Time",e0.prototype.controlText_="Remaining Time",_t.registerComponent("RemainingTimeDisplay",e0);var xD=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).updateShowing(),r.on(r.player(),"durationchange",function(l){return r.updateShowing(l)}),r}Et(n,s);var e=n.prototype;return e.createEl=function(){var t=s.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=In("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(In("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xa0"})),this.contentEl_.appendChild(lt().createTextNode(this.localize("LIVE"))),t.appendChild(this.contentEl_),t},e.dispose=function(){this.contentEl_=null,s.prototype.dispose.call(this)},e.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},n}(_t);_t.registerComponent("LiveDisplay",xD);var BT=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).updateLiveEdgeStatus(),r.player_.liveTracker&&(r.updateLiveEdgeStatusHandler_=function(l){return r.updateLiveEdgeStatus(l)},r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatusHandler_)),r}Et(n,s);var e=n.prototype;return e.createEl=function(){var t=s.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=In("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),t.appendChild(this.textEl_),t},e.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},e.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},e.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,s.prototype.dispose.call(this)},n}(aa);BT.prototype.controlText_="Seek to live, currently playing live",_t.registerComponent("SeekToLive",BT);var Fp=function(n,e,i){return n=Number(n),Math.min(i,Math.max(e,isNaN(n)?e:n))},t0=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).handleMouseDown_=function(l){return r.handleMouseDown(l)},r.handleMouseUp_=function(l){return r.handleMouseUp(l)},r.handleKeyDown_=function(l){return r.handleKeyDown(l)},r.handleClick_=function(l){return r.handleClick(l)},r.handleMouseMove_=function(l){return r.handleMouseMove(l)},r.update_=function(l){return r.update(l)},r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}Et(n,s);var e=n.prototype;return e.enabled=function(){return this.enabled_},e.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},e.createEl=function(t,r,l){return void 0===r&&(r={}),void 0===l&&(l={}),r.className=r.className+" vjs-slider",r=ki({tabIndex:0},r),l=ki({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},l),s.prototype.createEl.call(this,t,r,l)},e.handleMouseDown=function(t){var r=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"===t.type&&!Oa&&t.preventDefault(),Cv(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(r,"mousemove",this.handleMouseMove_),this.on(r,"mouseup",this.handleMouseUp_),this.on(r,"touchmove",this.handleMouseMove_),this.on(r,"touchend",this.handleMouseUp_),this.handleMouseMove(t,!0)},e.handleMouseMove=function(t){},e.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;Dv(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()},e.update=function(){var t=this;if(this.el_&&this.bar){var r=this.getProgress();return r===this.progress_||(this.progress_=r,this.requestNamedAnimationFrame("Slider#update",function(){var l=t.vertical()?"height":"width";t.bar.el().style[l]=(100*r).toFixed(2)+"%"})),r}},e.getProgress=function(){return Number(Fp(this.getPercent(),0,1).toFixed(4))},e.calculateDistance=function(t){var r=dp(this.el_,t);return this.vertical()?r.y:r.x},e.handleKeyDown=function(t){Yt().isEventKey(t,"Left")||Yt().isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepBack()):Yt().isEventKey(t,"Right")||Yt().isEventKey(t,"Up")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):s.prototype.handleKeyDown.call(this,t)},e.handleClick=function(t){t.stopPropagation(),t.preventDefault()},e.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},n}(_t);_t.registerComponent("Slider",t0);var n0=function(n,e){return Fp(n/e*100,0,100).toFixed(2)+"%"},AD=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).partEls_=[],r.on(i,"progress",function(l){return r.update(l)}),r}Et(n,s);var e=n.prototype;return e.createEl=function(){var t=s.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),r=In("span",{className:"vjs-control-text"}),l=In("span",{textContent:this.localize("Loaded")}),d=lt().createTextNode(": ");return this.percentageEl_=In("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),t.appendChild(r),r.appendChild(l),r.appendChild(d),r.appendChild(this.percentageEl_),t},e.dispose=function(){this.partEls_=null,this.percentageEl_=null,s.prototype.dispose.call(this)},e.update=function(t){var r=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var l=r.player_.liveTracker,d=r.player_.buffered(),p=l&&l.isLive()?l.seekableEnd():r.player_.duration(),m=r.player_.bufferedEnd(),y=r.partEls_,N=n0(m,p);r.percent_!==N&&(r.el_.style.width=N,Po(r.percentageEl_,N),r.percent_=N);for(var M=0;M<d.length;M++){var V=d.start(M),q=d.end(M),j=y[M];j||(j=r.el_.appendChild(In()),y[M]=j),(j.dataset.start!==V||j.dataset.end!==q)&&(j.dataset.start=V,j.dataset.end=q,j.style.left=n0(V,m),j.style.width=n0(q-V,m))}for(var z=y.length;z>d.length;z--)r.el_.removeChild(y[z-1]);y.length=d.length})},n}(_t);_t.registerComponent("LoadProgressBar",AD);var Fo=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).update=ro(hi(Kt(r),r.update),30),r}Et(n,s);var e=n.prototype;return e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},e.update=function(t,r,l){var d=Hc(this.el_),p=fu(this.player_.el()),m=t.width*r;if(p&&d){var y=t.left-p.left+m,N=t.width-m+(p.right-t.right),M=d.width/2;y<M?M+=M-y:N<M&&(M=N),M<0?M=0:M>d.width&&(M=d.width),M=Math.round(M),this.el_.style.right="-"+M+"px",this.write(l)}},e.write=function(t){Po(this.el_,t)},e.updateTime=function(t,r,l,d){var p=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var m,y=p.player_.duration();if(p.player_.liveTracker&&p.player_.liveTracker.isLive()){var N=p.player_.liveTracker.liveWindow(),M=N-r*N;m=(M<1?"":"-")+Cu(M,N)}else m=Cu(l,y);p.update(t,r,m),d&&d()})},n}(_t);_t.registerComponent("TimeTooltip",Fo);var Zc=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).update=ro(hi(Kt(r),r.update),30),r}Et(n,s);var e=n.prototype;return e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},e.update=function(t,r){var l=this.getChild("timeTooltip");if(l){var d=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();l.updateTime(t,r,d)}},n}(_t);Zc.prototype.options_={children:[]},!os&&!to&&Zc.prototype.options_.children.push("timeTooltip"),_t.registerComponent("PlayProgressBar",Zc);var r0=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).update=ro(hi(Kt(r),r.update),30),r}Et(n,s);var e=n.prototype;return e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.update=function(t,r){var l=this,d=r*this.player_.duration();this.getChild("timeTooltip").updateTime(t,r,d,function(){l.el_.style.left=t.width*r+"px"})},n}(_t);r0.prototype.options_={children:["timeTooltip"]},_t.registerComponent("MouseTimeDisplay",r0);var Ff=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).setEventHandlers_(),r}Et(n,s);var e=n.prototype;return e.setEventHandlers_=function(){var t=this;this.update_=hi(this,this.update),this.update=ro(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(r){return t.enableInterval_(r)},this.disableIntervalHandler_=function(r){return t.disableInterval_(r)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in lt()&&"visibilityState"in lt()&&this.on(lt(),"visibilitychange",this.toggleVisibility_)},e.toggleVisibility_=function(t){"hidden"===lt().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(t)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},e.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},e.disableInterval_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&t&&"ended"!==t.type||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.update=function(t){var r=this;if("hidden"!==lt().visibilityState){var l=s.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var d=r.player_.ended()?r.player_.duration():r.getCurrentTime_(),p=r.player_.liveTracker,m=r.player_.duration();p&&p.isLive()&&(m=r.player_.liveTracker.liveCurrentTime()),r.percent_!==l&&(r.el_.setAttribute("aria-valuenow",(100*l).toFixed(2)),r.percent_=l),(r.currentTime_!==d||r.duration_!==m)&&(r.el_.setAttribute("aria-valuetext",r.localize("progress bar timing: currentTime={1} duration={2}",[Cu(d,m),Cu(m,m)],"{1} of {2}")),r.currentTime_=d,r.duration_=m),r.bar&&r.bar.update(fu(r.el()),r.getProgress())}),l}},e.userSeek_=function(t){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(t)},e.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.getPercent=function(){var r,t=this.getCurrentTime_(),l=this.player_.liveTracker;return l&&l.isLive()?(r=(t-l.seekableStart())/l.liveWindow(),l.atLiveEdge()&&(r=1)):r=t/this.player_.duration(),r},e.handleMouseDown=function(t){!hu(t)||(t.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),s.prototype.handleMouseDown.call(this,t))},e.handleMouseMove=function(t,r){if(void 0===r&&(r=!1),hu(t)){!r&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var l,d=this.calculateDistance(t),p=this.player_.liveTracker;if(p&&p.isLive()){if(d>=.99)return void p.seekToLiveEdge();var m=p.seekableStart(),y=p.liveCurrentTime();if((l=m+d*p.liveWindow())>=y&&(l=y),l<=m&&(l=m+.1),l===1/0)return}else(l=d*this.player_.duration())===this.player_.duration()&&(l-=.1);this.userSeek_(l)}},e.enable=function(){s.prototype.enable.call(this);var t=this.getChild("mouseTimeDisplay");!t||t.show()},e.disable=function(){s.prototype.disable.call(this);var t=this.getChild("mouseTimeDisplay");!t||t.hide()},e.handleMouseUp=function(t){s.prototype.handleMouseUp.call(this,t),t&&t.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Fs(this.player_.play()):this.update_()},e.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},e.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},e.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.handleKeyDown=function(t){var r=this.player_.liveTracker;if(Yt().isEventKey(t,"Space")||Yt().isEventKey(t,"Enter"))t.preventDefault(),t.stopPropagation(),this.handleAction(t);else if(Yt().isEventKey(t,"Home"))t.preventDefault(),t.stopPropagation(),this.userSeek_(0);else if(Yt().isEventKey(t,"End"))t.preventDefault(),t.stopPropagation(),r&&r.isLive()?this.userSeek_(r.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Yt()(t))){t.preventDefault(),t.stopPropagation();var l=10*(Yt().codes[Yt()(t)]-Yt().codes[0])/100;r&&r.isLive()?this.userSeek_(r.seekableStart()+r.liveWindow()*l):this.userSeek_(this.player_.duration()*l)}else Yt().isEventKey(t,"PgDn")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):Yt().isEventKey(t,"PgUp")?(t.preventDefault(),t.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):s.prototype.handleKeyDown.call(this,t)},e.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in lt()&&"visibilityState"in lt()&&this.off(lt(),"visibilitychange",this.toggleVisibility_),s.prototype.dispose.call(this)},n}(t0);Ff.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},!os&&!to&&Ff.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),_t.registerComponent("SeekBar",Ff);var Lf=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).handleMouseMove=ro(hi(Kt(r),r.handleMouseMove),30),r.throttledHandleMouseSeek=ro(hi(Kt(r),r.handleMouseSeek),30),r.handleMouseUpHandler_=function(l){return r.handleMouseUp(l)},r.handleMouseDownHandler_=function(l){return r.handleMouseDown(l)},r.enable(),r}Et(n,s);var e=n.prototype;return e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.handleMouseMove=function(t){var r=this.getChild("seekBar");if(r){var l=r.getChild("playProgressBar"),d=r.getChild("mouseTimeDisplay");if(l||d){var p=r.el(),m=Hc(p),y=dp(p,t).x;y=Fp(y,0,1),d&&d.update(m,y),l&&l.update(m,r.getProgress())}}},e.handleMouseSeek=function(t){var r=this.getChild("seekBar");r&&r.handleMouseMove(t)},e.enabled=function(){return this.enabled_},e.disable=function(){if(this.children().forEach(function(r){return r.disable&&r.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var t=this.getChild("seekBar");this.player_.scrubbing(!1),t.videoWasPlaying&&Fs(this.player_.play())}},e.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.removeListenersAddedOnMousedownAndTouchstart=function(){var t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseSeek),this.off(t,"touchmove",this.throttledHandleMouseSeek),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)},e.handleMouseDown=function(t){var r=this.el_.ownerDocument,l=this.getChild("seekBar");l&&l.handleMouseDown(t),this.on(r,"mousemove",this.throttledHandleMouseSeek),this.on(r,"touchmove",this.throttledHandleMouseSeek),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)},e.handleMouseUp=function(t){var r=this.getChild("seekBar");r&&r.handleMouseUp(t),this.removeListenersAddedOnMousedownAndTouchstart()},n}(_t);Lf.prototype.options_={children:["seekBar"]},_t.registerComponent("ProgressControl",Lf);var s0=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).on(i,["enterpictureinpicture","leavepictureinpicture"],function(l){return r.handlePictureInPictureChange(l)}),r.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(l){return r.handlePictureInPictureEnabledChange(l)}),r.disable(),r}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-picture-in-picture-control "+s.prototype.buildCSSClass.call(this)},e.handlePictureInPictureEnabledChange=function(){lt().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},e.handlePictureInPictureChange=function(t){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},e.handleClick=function(t){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},n}(aa);s0.prototype.controlText_="Picture-in-Picture",_t.registerComponent("PictureInPictureToggle",s0);var uo=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).on(i,"fullscreenchange",function(l){return r.handleFullscreenChange(l)}),!1===lt()[i.fsApi_.fullscreenEnabled]&&r.disable(),r}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-fullscreen-control "+s.prototype.buildCSSClass.call(this)},e.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},n}(aa);uo.prototype.controlText_="Fullscreen",_t.registerComponent("FullscreenToggle",uo);var HT=function(s){function n(){return s.apply(this,arguments)||this}return Et(n,s),n.prototype.createEl=function(){var t=s.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return t.appendChild(s.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),t},n}(_t);_t.registerComponent("VolumeLevel",HT);var Lp=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).update=ro(hi(Kt(r),r.update),30),r}Et(n,s);var e=n.prototype;return e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},e.update=function(t,r,l,d){if(!l){var p=fu(this.el_),m=fu(this.player_.el()),y=t.width*r;if(!m||!p)return;var N=t.left-m.left+y,M=t.width-y+(m.right-t.right),V=p.width/2;N<V?V+=V-N:M<V&&(V=M),V<0?V=0:V>p.width&&(V=p.width),this.el_.style.right="-"+V+"px"}this.write(d+"%")},e.write=function(t){Po(this.el_,t)},e.updateVolume=function(t,r,l,d,p){var m=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){m.update(t,r,l,d.toFixed(0)),p&&p()})},n}(_t);_t.registerComponent("VolumeLevelTooltip",Lp);var o0=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).update=ro(hi(Kt(r),r.update),30),r}Et(n,s);var e=n.prototype;return e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.update=function(t,r,l){var d=this,p=100*r;this.getChild("volumeLevelTooltip").updateVolume(t,r,l,p,function(){l?d.el_.style.bottom=t.height*r+"px":d.el_.style.left=t.width*r+"px"})},n}(_t);o0.prototype.options_={children:["volumeLevelTooltip"]},_t.registerComponent("MouseVolumeLevelDisplay",o0);var ed=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).on("slideractive",function(l){return r.updateLastVolume_(l)}),r.on(i,"volumechange",function(l){return r.updateARIAAttributes(l)}),i.ready(function(){return r.updateARIAAttributes()}),r}Et(n,s);var e=n.prototype;return e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.handleMouseDown=function(t){!hu(t)||s.prototype.handleMouseDown.call(this,t)},e.handleMouseMove=function(t){var r=this.getChild("mouseVolumeLevelDisplay");if(r){var l=this.el(),d=fu(l),p=this.vertical(),m=dp(l,t);m=Fp(m=p?m.y:m.x,0,1),r.update(d,m,p)}!hu(t)||(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},e.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.updateARIAAttributes=function(t){var r=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",r),this.el_.setAttribute("aria-valuetext",r+"%")},e.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.updateLastVolume_=function(){var t=this,r=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(r)})},n}(t0);ed.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},!os&&!to&&ed.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),ed.prototype.playerEvent="volumechange",_t.registerComponent("VolumeBar",ed);var l0=function(s){function n(i,t){var r;return void 0===t&&(t={}),t.vertical=t.vertical||!1,(void 0===t.volumeBar||pf(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),function(n,e){e.tech_&&!e.tech_.featuresVolumeControl&&n.addClass("vjs-hidden"),n.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})}(Kt(r=s.call(this,i,t)||this),i),r.throttledHandleMouseMove=ro(hi(Kt(r),r.handleMouseMove),30),r.handleMouseUpHandler_=function(l){return r.handleMouseUp(l)},r.on("mousedown",function(l){return r.handleMouseDown(l)}),r.on("touchstart",function(l){return r.handleMouseDown(l)}),r.on("mousemove",function(l){return r.handleMouseMove(l)}),r.on(r.volumeBar,["focus","slideractive"],function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")}),r.on(r.volumeBar,["blur","sliderinactive"],function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")}),r}Et(n,s);var e=n.prototype;return e.createEl=function(){var t="vjs-volume-horizontal";return this.options_.vertical&&(t="vjs-volume-vertical"),s.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+t})},e.handleMouseDown=function(t){var r=this.el_.ownerDocument;this.on(r,"mousemove",this.throttledHandleMouseMove),this.on(r,"touchmove",this.throttledHandleMouseMove),this.on(r,"mouseup",this.handleMouseUpHandler_),this.on(r,"touchend",this.handleMouseUpHandler_)},e.handleMouseUp=function(t){var r=this.el_.ownerDocument;this.off(r,"mousemove",this.throttledHandleMouseMove),this.off(r,"touchmove",this.throttledHandleMouseMove),this.off(r,"mouseup",this.handleMouseUpHandler_),this.off(r,"touchend",this.handleMouseUpHandler_)},e.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},n}(_t);l0.prototype.options_={children:["volumeBar"]},_t.registerComponent("VolumeControl",l0);var Du=function(s){function n(i,t){var r;return function(n,e){e.tech_&&!e.tech_.featuresMuteControl&&n.addClass("vjs-hidden"),n.on(e,"loadstart",function(){e.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})}(Kt(r=s.call(this,i,t)||this),i),r.on(i,["loadstart","volumechange"],function(l){return r.update(l)}),r}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-mute-control "+s.prototype.buildCSSClass.call(this)},e.handleClick=function(t){var r=this.player_.volume(),l=this.player_.lastVolume_();0===r?(this.player_.volume(l<.1?.1:l),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},e.update=function(t){this.updateIcon_(),this.updateControlText_()},e.updateIcon_=function(){var t=this.player_.volume(),r=3;os&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?r=0:t<.33?r=1:t<.67&&(r=2);for(var l=0;l<4;l++)Bc(this.el_,"vjs-vol-"+l);na(this.el_,"vjs-vol-"+r)},e.updateControlText_=function(){var r=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==r&&this.controlText(r)},n}(aa);Du.prototype.controlText_="Mute",_t.registerComponent("MuteToggle",Du);var Cl=function(s){function n(i,t){var r;return void 0===t&&(t={}),t.inline=void 0===t.inline||t.inline,(void 0===t.volumeControl||pf(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),(r=s.call(this,i,t)||this).handleKeyPressHandler_=function(l){return r.handleKeyPress(l)},r.on(i,["loadstart"],function(l){return r.volumePanelState_(l)}),r.on(r.muteToggle,"keyup",function(l){return r.handleKeyPress(l)}),r.on(r.volumeControl,"keyup",function(l){return r.handleVolumeControlKeyUp(l)}),r.on("keydown",function(l){return r.handleKeyPress(l)}),r.on("mouseover",function(l){return r.handleMouseOver(l)}),r.on("mouseout",function(l){return r.handleMouseOut(l)}),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}Et(n,s);var e=n.prototype;return e.sliderActive_=function(){this.addClass("vjs-slider-active")},e.sliderInactive_=function(){this.removeClass("vjs-slider-active")},e.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.createEl=function(){var t="vjs-volume-panel-horizontal";return this.options_.inline||(t="vjs-volume-panel-vertical"),s.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+t})},e.dispose=function(){this.handleMouseOut(),s.prototype.dispose.call(this)},e.handleVolumeControlKeyUp=function(t){Yt().isEventKey(t,"Esc")&&this.muteToggle.focus()},e.handleMouseOver=function(t){this.addClass("vjs-hover"),Ts(lt(),"keyup",this.handleKeyPressHandler_)},e.handleMouseOut=function(t){this.removeClass("vjs-hover"),Gr(lt(),"keyup",this.handleKeyPressHandler_)},e.handleKeyPress=function(t){Yt().isEventKey(t,"Esc")&&this.handleMouseOut()},n}(_t);Cl.prototype.options_={children:["muteToggle","volumeControl"]},_t.registerComponent("VolumePanel",Cl);var Bf=function(s){function n(i,t){var r;return r=s.call(this,i,t)||this,t&&(r.menuButton_=t.menuButton),r.focusedChild_=-1,r.on("keydown",function(l){return r.handleKeyDown(l)}),r.boundHandleBlur_=function(l){return r.handleBlur(l)},r.boundHandleTapClick_=function(l){return r.handleTapClick(l)},r}Et(n,s);var e=n.prototype;return e.addEventListenerForItem=function(t){t instanceof _t&&(this.on(t,"blur",this.boundHandleBlur_),this.on(t,["tap","click"],this.boundHandleTapClick_))},e.removeEventListenerForItem=function(t){t instanceof _t&&(this.off(t,"blur",this.boundHandleBlur_),this.off(t,["tap","click"],this.boundHandleTapClick_))},e.removeChild=function(t){"string"==typeof t&&(t=this.getChild(t)),this.removeEventListenerForItem(t),s.prototype.removeChild.call(this,t)},e.addItem=function(t){var r=this.addChild(t);r&&this.addEventListenerForItem(r)},e.createEl=function(){this.contentEl_=In(this.options_.contentElType||"ul",{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var r=s.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return r.appendChild(this.contentEl_),Ts(r,"click",function(l){l.preventDefault(),l.stopImmediatePropagation()}),r},e.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,s.prototype.dispose.call(this)},e.handleBlur=function(t){var r=t.relatedTarget||lt().activeElement;if(!this.children().some(function(d){return d.el()===r})){var l=this.menuButton_;l&&l.buttonPressed_&&r!==l.el().firstChild&&l.unpressButton()}},e.handleTapClick=function(t){if(this.menuButton_){this.menuButton_.unpressButton();var r=this.children();if(!Array.isArray(r))return;var l=r.filter(function(d){return d.el()===t.target})[0];if(!l)return;"CaptionSettingsMenuItem"!==l.name()&&this.menuButton_.focus()}},e.handleKeyDown=function(t){Yt().isEventKey(t,"Left")||Yt().isEventKey(t,"Down")?(t.preventDefault(),t.stopPropagation(),this.stepForward()):(Yt().isEventKey(t,"Right")||Yt().isEventKey(t,"Up"))&&(t.preventDefault(),t.stopPropagation(),this.stepBack())},e.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.focus=function(t){void 0===t&&(t=0);var r=this.children().slice();r.length&&r[0].hasClass("vjs-menu-title")&&r.shift(),r.length>0&&(t<0?t=0:t>=r.length&&(t=r.length-1),this.focusedChild_=t,r[t].el_.focus())},n}(_t);_t.registerComponent("Menu",Bf);var Lo=function(s){function n(i,t){var r;void 0===t&&(t={}),(r=s.call(this,i,t)||this).menuButton_=new aa(i,t),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var l=aa.prototype.buildCSSClass();r.menuButton_.el_.className=r.buildCSSClass()+" "+l,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0;var d=function(m){return r.handleClick(m)};return r.handleMenuKeyUp_=function(p){return r.handleMenuKeyUp(p)},r.on(r.menuButton_,"tap",d),r.on(r.menuButton_,"click",d),r.on(r.menuButton_,"keydown",function(p){return r.handleKeyDown(p)}),r.on(r.menuButton_,"mouseenter",function(){r.addClass("vjs-hover"),r.menu.show(),Ts(lt(),"keyup",r.handleMenuKeyUp_)}),r.on("mouseleave",function(p){return r.handleMouseLeave(p)}),r.on("keydown",function(p){return r.handleSubmenuKeyDown(p)}),r}Et(n,s);var e=n.prototype;return e.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.createMenu=function(){var t=new Bf(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var r=In("li",{className:"vjs-menu-title",textContent:Ai(this.options_.title),tabIndex:-1}),l=new _t(this.player_,{el:r});t.addItem(l)}if(this.items=this.createItems(),this.items)for(var d=0;d<this.items.length;d++)t.addItem(this.items[d]);return t},e.createItems=function(){},e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.buildWrapperCSSClass=function(){var t="vjs-menu-button";return"vjs-menu-button "+(t+=!0===this.options_.inline?"-inline":"-popup")+" "+aa.prototype.buildCSSClass()+" "+s.prototype.buildCSSClass.call(this)},e.buildCSSClass=function(){var t="vjs-menu-button";return"vjs-menu-button "+(t+=!0===this.options_.inline?"-inline":"-popup")+" "+s.prototype.buildCSSClass.call(this)},e.controlText=function(t,r){return void 0===r&&(r=this.menuButton_.el()),this.menuButton_.controlText(t,r)},e.dispose=function(){this.handleMouseLeave(),s.prototype.dispose.call(this)},e.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},e.handleMouseLeave=function(t){this.removeClass("vjs-hover"),Gr(lt(),"keyup",this.handleMenuKeyUp_)},e.focus=function(){this.menuButton_.focus()},e.blur=function(){this.menuButton_.blur()},e.handleKeyDown=function(t){Yt().isEventKey(t,"Esc")||Yt().isEventKey(t,"Tab")?(this.buttonPressed_&&this.unpressButton(),Yt().isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus())):(Yt().isEventKey(t,"Up")||Yt().isEventKey(t,"Down"))&&(this.buttonPressed_||(t.preventDefault(),this.pressButton()))},e.handleMenuKeyUp=function(t){(Yt().isEventKey(t,"Esc")||Yt().isEventKey(t,"Tab"))&&this.removeClass("vjs-hover")},e.handleSubmenuKeyPress=function(t){this.handleSubmenuKeyDown(t)},e.handleSubmenuKeyDown=function(t){(Yt().isEventKey(t,"Esc")||Yt().isEventKey(t,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Yt().isEventKey(t,"Tab")||(t.preventDefault(),this.menuButton_.focus()))},e.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),os&&Tv())return;this.menu.focus()}},e.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},n}(_t);_t.registerComponent("MenuButton",Lo);var Dl=function(s){function n(e,i){var t,r=i.tracks;if((t=s.call(this,e,i)||this).items.length<=1&&t.hide(),!r)return Kt(t);var l=hi(Kt(t),t.update);return r.addEventListener("removetrack",l),r.addEventListener("addtrack",l),r.addEventListener("labelchange",l),t.player_.on("ready",l),t.player_.on("dispose",function(){r.removeEventListener("removetrack",l),r.removeEventListener("addtrack",l),r.removeEventListener("labelchange",l)}),t}return Et(n,s),n}(Lo);_t.registerComponent("TrackButton",Dl);var Eu=["Tab","Esc","Up","Down","Right","Left"],td=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).selectable=t.selectable,r.isSelected_=t.selected||!1,r.multiSelectable=t.multiSelectable,r.selected(r.isSelected_),r.el_.setAttribute("role",r.selectable?r.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),r}Et(n,s);var e=n.prototype;return e.createEl=function(t,r,l){this.nonIconControl=!0;var d=s.prototype.createEl.call(this,"li",ki({className:"vjs-menu-item",tabIndex:-1},r),l);return d.replaceChild(In("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),d.querySelector(".vjs-icon-placeholder")),d},e.handleKeyDown=function(t){Eu.some(function(r){return Yt().isEventKey(t,r)})||s.prototype.handleKeyDown.call(this,t)},e.handleClick=function(t){this.selected(!0)},e.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},n}(Rp);_t.registerComponent("MenuItem",td);var wu=function(s){function n(i,t){var r,l=t.track,d=i.textTracks();t.label=l.label||l.language||"Unknown",t.selected="showing"===l.mode,(r=s.call(this,i,t)||this).track=l,r.kinds=(t.kinds||[t.kind||r.track.kind]).filter(Boolean);var y,p=function(){for(var M=arguments.length,V=new Array(M),q=0;q<M;q++)V[q]=arguments[q];r.handleTracksChange.apply(Kt(r),V)},m=function(){for(var M=arguments.length,V=new Array(M),q=0;q<M;q++)V[q]=arguments[q];r.handleSelectedLanguageChange.apply(Kt(r),V)};return i.on(["loadstart","texttrackchange"],p),d.addEventListener("change",p),d.addEventListener("selectedlanguagechange",m),r.on("dispose",function(){i.off(["loadstart","texttrackchange"],p),d.removeEventListener("change",p),d.removeEventListener("selectedlanguagechange",m)}),void 0===d.onchange&&r.on(["tap","click"],function(){if("object"!=typeof oe().Event)try{y=new(oe().Event)("change")}catch(N){}y||(y=lt().createEvent("Event")).initEvent("change",!0,!0),d.dispatchEvent(y)}),r.handleTracksChange(),r}Et(n,s);var e=n.prototype;return e.handleClick=function(t){var r=this.track,l=this.player_.textTracks();if(s.prototype.handleClick.call(this,t),l)for(var d=0;d<l.length;d++){var p=l[d];-1!==this.kinds.indexOf(p.kind)&&(p===r?"showing"!==p.mode&&(p.mode="showing"):"disabled"!==p.mode&&(p.mode="disabled"))}},e.handleTracksChange=function(t){var r="showing"===this.track.mode;r!==this.isSelected_&&this.selected(r)},e.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var r=this.player_.cache_.selectedLanguage;if(r&&r.enabled&&r.language===this.track.language&&r.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},e.dispose=function(){this.track=null,s.prototype.dispose.call(this)},n}(td);_t.registerComponent("TextTrackMenuItem",wu);var Bp=function(s){function n(i,t){return t.track={player:i,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.track.label=t.label?t.label:t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,s.call(this,i,t)||this}Et(n,s);var e=n.prototype;return e.handleTracksChange=function(t){for(var r=this.player().textTracks(),l=!0,d=0,p=r.length;d<p;d++){var m=r[d];if(this.options_.kinds.indexOf(m.kind)>-1&&"showing"===m.mode){l=!1;break}}l!==this.isSelected_&&this.selected(l)},e.handleSelectedLanguageChange=function(t){for(var r=this.player().textTracks(),l=!0,d=0,p=r.length;d<p;d++){var m=r[d];if(["captions","descriptions","subtitles"].indexOf(m.kind)>-1&&"showing"===m.mode){l=!1;break}}l&&(this.player_.cache_.selectedLanguage={enabled:!1})},n}(wu);_t.registerComponent("OffTextTrackMenuItem",Bp);var Bo=function(s){function n(i,t){return void 0===t&&(t={}),t.tracks=i.textTracks(),s.call(this,i,t)||this}return Et(n,s),n.prototype.createItems=function(t,r){var l;void 0===t&&(t=[]),void 0===r&&(r=wu),this.label_&&(l=this.label_+" off"),t.push(new Bp(this.player_,{kinds:this.kinds_,kind:this.kind_,label:l})),this.hideThreshold_+=1;var d=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var p=0;p<d.length;p++){var m=d[p];if(this.kinds_.indexOf(m.kind)>-1){var y=new r(this.player_,{track:m,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});y.addClass("vjs-"+m.kind+"-menu-item"),t.push(y)}}return t},n}(Dl);_t.registerComponent("TextTrackButton",Bo);var Hf=function(s){function n(i,t){var r,l=t.track,d=t.cue,p=i.currentTime();return t.selectable=!0,t.multiSelectable=!1,t.label=d.text,t.selected=d.startTime<=p&&p<d.endTime,(r=s.call(this,i,t)||this).track=l,r.cue=d,l.addEventListener("cuechange",hi(Kt(r),r.update)),r}Et(n,s);var e=n.prototype;return e.handleClick=function(t){s.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.update=function(t){var r=this.cue,l=this.player_.currentTime();this.selected(r.startTime<=l&&l<r.endTime)},n}(td);_t.registerComponent("ChaptersTrackMenuItem",Hf);var Uf=function(s){function n(i,t,r){return s.call(this,i,t,r)||this}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-chapters-button "+s.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-chapters-button "+s.prototype.buildWrapperCSSClass.call(this)},e.update=function(t){(!this.track_||t&&("addtrack"===t.type||"removetrack"===t.type))&&this.setTrack(this.findChaptersTrack()),s.prototype.update.call(this)},e.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);r&&r.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var l=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);l&&l.addEventListener("load",this.updateHandler_)}}},e.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],r=t.length-1;r>=0;r--){var l=t[r];if(l.kind===this.kind_)return l}},e.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ai(this.kind_))},e.createMenu=function(){return this.options_.title=this.getMenuCaption(),s.prototype.createMenu.call(this)},e.createItems=function(){var t=[];if(!this.track_)return t;var r=this.track_.cues;if(!r)return t;for(var l=0,d=r.length;l<d;l++){var m=new Hf(this.player_,{track:this.track_,cue:r[l]});t.push(m)}return t},n}(Bo);Uf.prototype.kind_="chapters",Uf.prototype.controlText_="Chapters",_t.registerComponent("ChaptersButton",Uf);var xu=function(s){function n(i,t,r){var l;l=s.call(this,i,t,r)||this;var d=i.textTracks(),p=hi(Kt(l),l.handleTracksChange);return d.addEventListener("change",p),l.on("dispose",function(){d.removeEventListener("change",p)}),l}Et(n,s);var e=n.prototype;return e.handleTracksChange=function(t){for(var r=this.player().textTracks(),l=!1,d=0,p=r.length;d<p;d++){var m=r[d];if(m.kind!==this.kind_&&"showing"===m.mode){l=!0;break}}l?this.disable():this.enable()},e.buildCSSClass=function(){return"vjs-descriptions-button "+s.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+s.prototype.buildWrapperCSSClass.call(this)},n}(Bo);xu.prototype.kind_="descriptions",xu.prototype.controlText_="Descriptions",_t.registerComponent("DescriptionsButton",xu);var Hp=function(s){function n(i,t,r){return s.call(this,i,t,r)||this}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-subtitles-button "+s.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+s.prototype.buildWrapperCSSClass.call(this)},n}(Bo);Hp.prototype.kind_="subtitles",Hp.prototype.controlText_="Subtitles",_t.registerComponent("SubtitlesButton",Hp);var Vf=function(s){function n(i,t){var r;return t.track={player:i,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",(r=s.call(this,i,t)||this).addClass("vjs-texttrack-settings"),r.controlText(", opens "+t.kind+" settings dialog"),r}return Et(n,s),n.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},n}(wu);_t.registerComponent("CaptionSettingsMenuItem",Vf);var u0=function(s){function n(i,t,r){return s.call(this,i,t,r)||this}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-captions-button "+s.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-captions-button "+s.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new Vf(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),s.prototype.createItems.call(this,t)},n}(Bo);u0.prototype.kind_="captions",u0.prototype.controlText_="Captions",_t.registerComponent("CaptionsButton",u0);var Up=function(s){function n(){return s.apply(this,arguments)||this}return Et(n,s),n.prototype.createEl=function(t,r,l){var d=s.prototype.createEl.call(this,t,r,l),p=d.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(p.appendChild(In("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),p.appendChild(In("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),d},n}(wu);_t.registerComponent("SubsCapsMenuItem",Up);var Gf=function(s){function n(i,t){var r;return void 0===t&&(t={}),(r=s.call(this,i,t)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(Ai(r.label_)),r}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-subs-caps-button "+s.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+s.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){var t=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(t.push(new Vf(this.player_,{kind:this.label_})),this.hideThreshold_+=1),s.prototype.createItems.call(this,t,Up)},n}(Bo);Gf.prototype.kinds_=["captions","subtitles"],Gf.prototype.controlText_="Subtitles",_t.registerComponent("SubsCapsButton",Gf);var c0=function(s){function n(i,t){var r,l=t.track,d=i.audioTracks();t.label=l.label||l.language||"Unknown",t.selected=l.enabled,(r=s.call(this,i,t)||this).track=l,r.addClass("vjs-"+l.kind+"-menu-item");var p=function(){for(var y=arguments.length,N=new Array(y),M=0;M<y;M++)N[M]=arguments[M];r.handleTracksChange.apply(Kt(r),N)};return d.addEventListener("change",p),r.on("dispose",function(){d.removeEventListener("change",p)}),r}Et(n,s);var e=n.prototype;return e.createEl=function(t,r,l){var d=s.prototype.createEl.call(this,t,r,l),p=d.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(p.appendChild(In("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),p.appendChild(In("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),d},e.handleClick=function(t){if(s.prototype.handleClick.call(this,t),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var r=this.player_.audioTracks(),l=0;l<r.length;l++){var d=r[l];d!==this.track&&(d.enabled=d===this.track)}},e.handleTracksChange=function(t){this.selected(this.track.enabled)},n}(td);_t.registerComponent("AudioTrackMenuItem",c0);var Vp=function(s){function n(i,t){return void 0===t&&(t={}),t.tracks=i.audioTracks(),s.call(this,i,t)||this}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-audio-button "+s.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-audio-button "+s.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var r=this.player_.audioTracks(),l=0;l<r.length;l++)t.push(new c0(this.player_,{track:r[l],selectable:!0,multiSelectable:!1}));return t},n}(Dl);Vp.prototype.controlText_="Audio Track",_t.registerComponent("AudioTrackButton",Vp);var Gp=function(s){function n(i,t){var r,l=t.rate,d=parseFloat(l,10);return t.label=l,t.selected=d===i.playbackRate(),t.selectable=!0,t.multiSelectable=!1,(r=s.call(this,i,t)||this).label=l,r.rate=d,r.on(i,"ratechange",function(p){return r.update(p)}),r}Et(n,s);var e=n.prototype;return e.handleClick=function(t){s.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.update=function(t){this.selected(this.player().playbackRate()===this.rate)},n}(td);Gp.prototype.contentElType="button",_t.registerComponent("PlaybackRateMenuItem",Gp);var d0=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).menuButton_.el_.setAttribute("aria-describedby",r.labelElId_),r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",function(l){return r.updateVisibility(l)}),r.on(i,"ratechange",function(l){return r.updateLabel(l)}),r.on(i,"playbackrateschange",function(l){return r.handlePlaybackRateschange(l)}),r}Et(n,s);var e=n.prototype;return e.createEl=function(){var t=s.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=In("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),t.appendChild(this.labelEl_),t},e.dispose=function(){this.labelEl_=null,s.prototype.dispose.call(this)},e.buildCSSClass=function(){return"vjs-playback-rate "+s.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-playback-rate "+s.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){for(var t=this.playbackRates(),r=[],l=t.length-1;l>=0;l--)r.push(new Gp(this.player(),{rate:t[l]+"x"}));return r},e.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.handleClick=function(t){var r=this.player().playbackRate(),l=this.playbackRates(),p=(l.indexOf(r)+1)%l.length;this.player().playbackRate(l[p])},e.handlePlaybackRateschange=function(t){this.update()},e.playbackRates=function(){var t=this.player();return t.playbackRates&&t.playbackRates()||[]},e.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},n}(Lo);d0.prototype.controlText_="Playback Rate",_t.registerComponent("PlaybackRateMenuButton",d0);var ls=function(s){function n(){return s.apply(this,arguments)||this}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-spacer "+s.prototype.buildCSSClass.call(this)},e.createEl=function(t,r,l){return void 0===t&&(t="div"),void 0===r&&(r={}),void 0===l&&(l={}),r.className||(r.className=this.buildCSSClass()),s.prototype.createEl.call(this,t,r,l)},n}(_t);_t.registerComponent("Spacer",ls);var VT=function(s){function n(){return s.apply(this,arguments)||this}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-custom-control-spacer "+s.prototype.buildCSSClass.call(this)},e.createEl=function(){return s.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xa0"})},n}(ls);_t.registerComponent("CustomControlSpacer",VT);var jf=function(s){function n(){return s.apply(this,arguments)||this}return Et(n,s),n.prototype.createEl=function(){return s.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},n}(_t);jf.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in lt()&&jf.prototype.options_.children.splice(jf.prototype.options_.children.length-1,0,"pictureInPictureToggle"),_t.registerComponent("ControlBar",jf);var GT=function(s){function n(i,t){var r;return(r=s.call(this,i,t)||this).on(i,"error",function(l){return r.open(l)}),r}Et(n,s);var e=n.prototype;return e.buildCSSClass=function(){return"vjs-error-display "+s.prototype.buildCSSClass.call(this)},e.content=function(){var t=this.player().error();return t?this.localize(t.message):""},n}(bl);GT.prototype.options_=Un({},bl.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),_t.registerComponent("ErrorDisplay",GT);var f0="vjs-text-track-settings",jp=["#000","Black"],jT=["#00F","Blue"],h0=["#0FF","Cyan"],Wf=["#0F0","Green"],Wp=["#F0F","Magenta"],p0=["#F00","Red"],g0=["#FFF","White"],m0=["#FF0","Yellow"],$f=["1","Opaque"],$p=["0.5","Semi-Transparent"],zp=["0","Transparent"],El={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[jp,g0,p0,Wf,jT,m0,Wp,h0]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[$f,$p,zp]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[g0,jp,p0,Wf,jT,m0,Wp,h0]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(n){return"1.00"===n?null:Number(n)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[$f,$p]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[zp,$p,$f]}};function v0(s,n){if(n&&(s=n(s)),s&&"none"!==s)return s}El.windowColor.options=El.backgroundColor.options;var WT=function(s){function n(i,t){var r;return t.temporary=!1,(r=s.call(this,i,t)||this).updateDisplay=r.updateDisplay.bind(Kt(r)),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=In("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===t.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",function(){r.saveSettings(),r.close()}),r.on(r.$(".vjs-default-button"),"click",function(){r.setDefaults(),r.updateDisplay()}),bs(El,function(l){r.on(r.$(l.selector),"change",r.updateDisplay)}),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}Et(n,s);var e=n.prototype;return e.dispose=function(){this.endDialog=null,s.prototype.dispose.call(this)},e.createElSelect_=function(t,r,l){var d=this;void 0===r&&(r=""),void 0===l&&(l="label");var p=El[t],m=p.id.replace("%s",this.id_),y=[r,m].join(" ").trim();return["<"+l+' id="'+m+'" class="'+("label"===l?"vjs-label":"")+'">',this.localize(p.label),"</"+l+">",'<select aria-labelledby="'+y+'">'].concat(p.options.map(function(N){var M=m+"-"+N[1].replace(/\W+/g,"");return['<option id="'+M+'" value="'+N[0]+'" ','aria-labelledby="'+y+" "+M+'">',d.localize(N[1]),"</option>"].join("")})).concat("</select>").join("")},e.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},e.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},e.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},e.createElColors_=function(){return In("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.createElFont_=function(){return In("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.createElControls_=function(){var t=this.localize("restore all settings to the default values");return In("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.label=function(){return this.localize("Caption Settings Dialog")},e.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.buildCSSClass=function(){return s.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.getValues=function(){var t=this;return function Lc(s,n,e){return void 0===e&&(e=0),gv(s).reduce(function(i,t){return n(i,s[t],t)},e)}(El,function(r,l,d){var p=function _0(s,n){return v0(s.options[s.options.selectedIndex].value,n)}(t.$(l.selector),l.parser);return void 0!==p&&(r[d]=p),r},{})},e.setValues=function(t){var r=this;bs(El,function(l,d){!function y0(s,n,e){if(n)for(var i=0;i<s.options.length;i++)if(v0(s.options[i].value,e)===n){s.selectedIndex=i;break}}(r.$(l.selector),t[d],l.parser)})},e.setDefaults=function(){var t=this;bs(El,function(r){var l=r.hasOwnProperty("default")?r.default:0;t.$(r.selector).selectedIndex=l})},e.restoreSettings=function(){var t;try{t=JSON.parse(oe().localStorage.getItem(f0))}catch(r){bn.warn(r)}t&&this.setValues(t)},e.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?oe().localStorage.setItem(f0,JSON.stringify(t)):oe().localStorage.removeItem(f0)}catch(r){bn.warn(r)}}},e.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e.conditionalBlur_=function(){this.previouslyActiveEl_=null;var t=this.player_.controlBar,r=t&&t.subsCapsButton,l=t&&t.captionsButton;r?r.focus():l&&l.focus()},n}(bl);_t.registerComponent("TextTrackSettings",WT);var Ra=function(s){function n(i,t){var r,l=t.ResizeObserver||oe().ResizeObserver;null===t.ResizeObserver&&(l=!1);var d=pi({createEl:!l,reportTouchActivity:!1},t);return(r=s.call(this,i,d)||this).ResizeObserver=t.ResizeObserver||oe().ResizeObserver,r.loadListener_=null,r.resizeObserver_=null,r.debouncedHandler_=function(n,e,i,t){void 0===t&&(t=oe());var r,d=function(){var m=this,y=arguments,N=function(){r=null,N=null,n.apply(m,y)};t.clearTimeout(r),r=t.setTimeout(N,100)};return d.cancel=function(){t.clearTimeout(r),r=null},d}(function(){r.resizeHandler()},0,0,Kt(r)),l?(r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_),r.resizeObserver_.observe(i.el())):(r.loadListener_=function(){if(r.el_&&r.el_.contentWindow){var p=r.debouncedHandler_,m=r.unloadListener_=function(){Gr(this,"resize",p),Gr(this,"unload",m),m=null};Ts(r.el_.contentWindow,"unload",m),Ts(r.el_.contentWindow,"resize",p)}},r.one("load",r.loadListener_)),r}Et(n,s);var e=n.prototype;return e.createEl=function(){return s.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},e.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},e.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,s.prototype.dispose.call(this)},n}(_t);_t.registerComponent("ResizeManager",Ra);var Yp={trackingThreshold:20,liveTolerance:15},$T=function(s){function n(i,t){var r,l=pi(Yp,t,{createEl:!1});return(r=s.call(this,i,l)||this).handleVisibilityChange_=function(d){return r.handleVisibilityChange(d)},r.trackLiveHandler_=function(){return r.trackLive_()},r.handlePlay_=function(d){return r.handlePlay(d)},r.handleFirstTimeupdate_=function(d){return r.handleFirstTimeupdate(d)},r.handleSeeked_=function(d){return r.handleSeeked(d)},r.seekToLiveEdge_=function(d){return r.seekToLiveEdge(d)},r.reset_(),r.on(r.player_,"durationchange",function(d){return r.handleDurationchange(d)}),r.on(r.player_,"canplay",function(){return r.toggleTracking()}),no&&"hidden"in lt()&&"visibilityState"in lt()&&r.on(lt(),"visibilitychange",r.handleVisibilityChange_),r}Et(n,s);var e=n.prototype;return e.handleVisibilityChange=function(){this.player_.duration()===1/0&&(lt().hidden?this.stopTracking():this.startTracking())},e.trackLive_=function(){var t=this.player_.seekable();if(t&&t.length){var r=Number(oe().performance.now().toFixed(4)),l=-1===this.lastTime_?0:(r-this.lastTime_)/1e3;this.lastTime_=r,this.pastSeekEnd_=this.pastSeekEnd()+l;var d=this.liveCurrentTime(),p=this.player_.currentTime(),m=this.player_.paused()||this.seekedBehindLive_||Math.abs(d-p)>this.options_.liveTolerance;(!this.timeupdateSeen_||d===1/0)&&(m=!1),m!==this.behindLiveEdge_&&(this.behindLiveEdge_=m,this.trigger("liveedgechange"))}},e.handleDurationchange=function(){this.toggleTracking()},e.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},e.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},e.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},e.handleSeeked=function(){var t=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&t>2,this.nextSeekedFromUser_=!1,this.trackLive_()},e.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},e.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},e.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},e.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},e.seekableEnd=function(){for(var t=this.player_.seekable(),r=[],l=t?t.length:0;l--;)r.push(t.end(l));return r.length?r.sort()[r.length-1]:1/0},e.seekableStart=function(){for(var t=this.player_.seekable(),r=[],l=t?t.length:0;l--;)r.push(t.start(l));return r.length?r.sort()[0]:0},e.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?0:t-this.seekableStart()},e.isLive=function(){return this.isTracking()},e.atLiveEdge=function(){return!this.behindLiveEdge()},e.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},e.pastSeekEnd=function(){var t=this.seekableEnd();return-1!==this.lastSeekEnd_&&t!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=t,this.pastSeekEnd_},e.behindLiveEdge=function(){return this.behindLiveEdge_},e.isTracking=function(){return"number"==typeof this.trackingInterval_},e.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},e.dispose=function(){this.off(lt(),"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),s.prototype.dispose.call(this)},n}(_t);_t.registerComponent("LiveTracker",$T);var Au,Kp=function(n){var e=n.el();if(e.hasAttribute("src"))return n.triggerSourceset(e.src),!0;var i=n.$$("source"),t=[],r="";if(!i.length)return!1;for(var l=0;l<i.length;l++){var d=i[l].src;d&&-1===t.indexOf(d)&&t.push(d)}return!!t.length&&(1===t.length&&(r=t[0]),n.triggerSourceset(r),!0)},MD=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(n){var e=lt().createElement(this.nodeName.toLowerCase());e.innerHTML=n;for(var i=lt().createDocumentFragment();e.childNodes.length;)i.appendChild(e.childNodes[0]);return this.innerText="",oe().Element.prototype.appendChild.call(this,i),this.innerHTML}}),qp=function(n,e){for(var i={},t=0;t<n.length&&!((i=Object.getOwnPropertyDescriptor(n[t],e))&&i.set&&i.get);t++);return i.enumerable=!0,i.configurable=!0,i},b0=function(n){var e=n.el();if(!e.resetSourceWatch_){var i={},t=function(n){return qp([n.el(),oe().HTMLMediaElement.prototype,oe().Element.prototype,MD],"innerHTML")}(n),r=function(d){return function(){for(var p=arguments.length,m=new Array(p),y=0;y<p;y++)m[y]=arguments[y];var N=d.apply(e,m);return Kp(n),N}};["append","appendChild","insertAdjacentHTML"].forEach(function(l){!e[l]||(i[l]=e[l],e[l]=r(i[l]))}),Object.defineProperty(e,"innerHTML",pi(t,{set:r(t.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(i).forEach(function(l){e[l]=i[l]}),Object.defineProperty(e,"innerHTML",t)},n.one("sourceset",e.resetSourceWatch_)}},YT=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?wp(oe().Element.prototype.getAttribute.call(this,"src")):""},set:function(n){return oe().Element.prototype.setAttribute.call(this,"src",n),n}}),Qp=function(n,e,i,t){void 0===t&&(t=!0);var r=function(p){return Object.defineProperty(n,e,{value:p,enumerable:!0,writable:!0})},l={configurable:!0,enumerable:!0,get:function(){var p=i();return r(p),p}};return t&&(l.set=r),Object.defineProperty(n,e,l)},Lt=function(s){function n(i,t){var r;r=s.call(this,i,t)||this;var l=i.source,d=!1;if(l&&(r.el_.currentSrc!==l.src||i.tag&&3===i.tag.initNetworkState_)?r.setSource(l):r.handleLateInit_(r.el_),i.enableSourceset&&r.setupSourcesetHandling_(),r.isScrubbing_=!1,r.el_.hasChildNodes()){for(var p=r.el_.childNodes,m=p.length,y=[];m--;){var N=p[m];"track"===N.nodeName.toLowerCase()&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(N),r.remoteTextTracks().addTrack(N.track),r.textTracks().addTrack(N.track),!d&&!r.el_.hasAttribute("crossorigin")&&Ro(N.src)&&(d=!0)):y.push(N))}for(var V=0;V<y.length;V++)r.el_.removeChild(y[V])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&d&&bn.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),r.restoreMetadataTracksInIOSNativePlayer_(),(hl||bv||hT)&&!0===i.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}Et(n,s);var e=n.prototype;return e.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),n.disposeMediaElement(this.el_),this.options_=null,s.prototype.dispose.call(this)},e.setupSourcesetHandling_=function(){!function(n){if(n.featuresSourceset){var e=n.el();if(!e.resetSourceset_){var i=function(n){return qp([n.el(),oe().HTMLMediaElement.prototype,YT],"src")}(n),t=e.setAttribute,r=e.load;Object.defineProperty(e,"src",pi(i,{set:function(d){var p=i.set.call(e,d);return n.triggerSourceset(e.src),p}})),e.setAttribute=function(l,d){var p=t.call(e,l,d);return/src/i.test(l)&&n.triggerSourceset(e.src),p},e.load=function(){var l=r.call(e);return Kp(n)||(n.triggerSourceset(""),b0(n)),l},e.currentSrc?n.triggerSourceset(e.currentSrc):Kp(n)||b0(n),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=r,e.setAttribute=t,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}}}}(this)},e.restoreMetadataTracksInIOSNativePlayer_=function(){var r,t=this.textTracks(),l=function(){r=[];for(var m=0;m<t.length;m++){var y=t[m];"metadata"===y.kind&&r.push({track:y,storedMode:y.mode})}};l(),t.addEventListener("change",l),this.on("dispose",function(){return t.removeEventListener("change",l)});var d=function p(){for(var m=0;m<r.length;m++){var y=r[m];"disabled"===y.track.mode&&y.track.mode!==y.storedMode&&(y.track.mode=y.storedMode)}t.removeEventListener("change",p)};this.on("webkitbeginfullscreen",function(){t.removeEventListener("change",l),t.removeEventListener("change",d),t.addEventListener("change",d)}),this.on("webkitendfullscreen",function(){t.removeEventListener("change",l),t.addEventListener("change",l),t.removeEventListener("change",d)})},e.overrideNative_=function(t,r){var l=this;if(r===this["featuresNative"+t+"Tracks"]){var d=t.toLowerCase();this[d+"TracksListeners_"]&&Object.keys(this[d+"TracksListeners_"]).forEach(function(p){l.el()[d+"Tracks"].removeEventListener(p,l[d+"TracksListeners_"][p])}),this["featuresNative"+t+"Tracks"]=!r,this[d+"TracksListeners_"]=null,this.proxyNativeTracksForType_(d)}},e.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},e.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},e.proxyNativeTracksForType_=function(t){var r=this,l=Bs[t],d=this.el()[l.getterName],p=this[l.getterName]();if(this["featuresNative"+l.capitalName+"Tracks"]&&d&&d.addEventListener){var m={change:function(M){var V={type:"change",target:p,currentTarget:p,srcElement:p};p.trigger(V),"text"===t&&r[bu.remoteText.getterName]().trigger(V)},addtrack:function(M){p.addTrack(M.track)},removetrack:function(M){p.removeTrack(M.track)}},y=function(){for(var M=[],V=0;V<p.length;V++){for(var q=!1,j=0;j<d.length;j++)if(d[j]===p[V]){q=!0;break}q||M.push(p[V])}for(;M.length;)p.removeTrack(M.shift())};this[l.getterName+"Listeners_"]=m,Object.keys(m).forEach(function(N){var M=m[N];d.addEventListener(N,M),r.on("dispose",function(V){return d.removeEventListener(N,M)})}),this.on("loadstart",y),this.on("dispose",function(N){return r.off("loadstart",y)})}},e.proxyNativeTracks_=function(){var t=this;Bs.names.forEach(function(r){t.proxyNativeTracksForType_(r)})},e.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var r=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(r,t),n.disposeMediaElement(t),t=r}else{t=lt().createElement("video");var d=pi({},this.options_.tag&&io(this.options_.tag));(!hl||!0!==this.options_.nativeControlsForTouch)&&delete d.controls,cp(t,ki(d,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}void 0!==this.options_.preload&&ml(t,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(t.disablePictureInPicture=this.options_.disablePictureInPicture);for(var p=["loop","muted","playsinline","autoplay"],m=0;m<p.length;m++){var y=p[m],N=this.options_[y];void 0!==N&&(N?ml(t,y,y):yf(t,y),t[y]=N)}return t},e.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var r=!1,l=function(){r=!0};this.on("loadstart",l);var d=function(){r||this.trigger("loadstart")};return this.on("loadedmetadata",d),void this.ready(function(){this.off("loadstart",l),this.off("loadedmetadata",d),r||this.trigger("loadstart")})}var p=["loadstart"];p.push("loadedmetadata"),t.readyState>=2&&p.push("loadeddata"),t.readyState>=3&&p.push("canplay"),t.readyState>=4&&p.push("canplaythrough"),this.ready(function(){p.forEach(function(m){this.trigger(m)},this)})}},e.setScrubbing=function(t){this.isScrubbing_=t},e.scrubbing=function(){return this.isScrubbing_},e.setCurrentTime=function(t){try{this.isScrubbing_&&this.el_.fastSeek&&uu?this.el_.fastSeek(t):this.el_.currentTime=t}catch(r){bn(r,"Video is not ready. (Video.js)")}},e.duration=function(){var t=this;return this.el_.duration===1/0&&to&&Oa&&0===this.el_.currentTime?(this.on("timeupdate",function l(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",l))}),NaN):this.el_.duration||NaN},e.width=function(){return this.el_.offsetWidth},e.height=function(){return this.el_.offsetHeight},e.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var r=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},l=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",r),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",l),this.on("dispose",function(){t.off("webkitbeginfullscreen",l),t.off("webkitendfullscreen",r)})}},e.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=oe().navigator&&oe().navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.enterFullScreen=function(){var t=this.el_;if(t.paused&&t.networkState<=t.HAVE_METADATA)Fs(this.el_.play()),this.setTimeout(function(){t.pause();try{t.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}},0);else try{t.webkitEnterFullScreen()}catch(r){this.trigger("fullscreenerror",r)}},e.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},e.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},e.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},e.reset=function(){n.resetMediaElement(this.el_)},e.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.setControls=function(t){this.el_.controls=!!t},e.addTextTrack=function(t,r,l){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,r,l):s.prototype.addTextTrack.call(this,t,r,l)},e.createRemoteTextTrack=function(t){if(!this.featuresNativeTextTracks)return s.prototype.createRemoteTextTrack.call(this,t);var r=lt().createElement("track");return t.kind&&(r.kind=t.kind),t.label&&(r.label=t.label),(t.language||t.srclang)&&(r.srclang=t.language||t.srclang),t.default&&(r.default=t.default),t.id&&(r.id=t.id),t.src&&(r.src=t.src),r},e.addRemoteTextTrack=function(t,r){var l=s.prototype.addRemoteTextTrack.call(this,t,r);return this.featuresNativeTextTracks&&this.el().appendChild(l),l},e.removeRemoteTextTrack=function(t){if(s.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var r=this.$$("track"),l=r.length;l--;)(t===r[l]||t===r[l].track)&&this.el().removeChild(r[l])},e.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),oe().performance&&"function"==typeof oe().performance.now?t.creationTime=oe().performance.now():oe().performance&&oe().performance.timing&&"number"==typeof oe().performance.timing.navigationStart&&(t.creationTime=oe().Date.now()-oe().performance.timing.navigationStart),t},n}(oi);Qp(Lt,"TEST_VID",function(){if(pl()){var s=lt().createElement("video"),n=lt().createElement("track");return n.kind="captions",n.srclang="en",n.label="English",s.appendChild(n),s}}),Lt.isSupported=function(){try{Lt.TEST_VID.volume=.5}catch(s){return!1}return!(!Lt.TEST_VID||!Lt.TEST_VID.canPlayType)},Lt.canPlayType=function(s){return Lt.TEST_VID.canPlayType(s)},Lt.canPlaySource=function(s,n){return Lt.canPlayType(s.type)},Lt.canControlVolume=function(){try{var s=Lt.TEST_VID.volume;Lt.TEST_VID.volume=s/2+.1;var n=s!==Lt.TEST_VID.volume;return n&&os?(oe().setTimeout(function(){Lt&&Lt.prototype&&(Lt.prototype.featuresVolumeControl=s!==Lt.TEST_VID.volume)}),!1):n}catch(e){return!1}},Lt.canMuteVolume=function(){try{var s=Lt.TEST_VID.muted;return Lt.TEST_VID.muted=!s,Lt.TEST_VID.muted?ml(Lt.TEST_VID,"muted","muted"):yf(Lt.TEST_VID,"muted"),s!==Lt.TEST_VID.muted}catch(n){return!1}},Lt.canControlPlaybackRate=function(){if(to&&Oa&&ta<58)return!1;try{var s=Lt.TEST_VID.playbackRate;return Lt.TEST_VID.playbackRate=s/2+.1,s!==Lt.TEST_VID.playbackRate}catch(n){return!1}},Lt.canOverrideAttributes=function(){try{var s=function(){};Object.defineProperty(lt().createElement("video"),"src",{get:s,set:s}),Object.defineProperty(lt().createElement("audio"),"src",{get:s,set:s}),Object.defineProperty(lt().createElement("video"),"innerHTML",{get:s,set:s}),Object.defineProperty(lt().createElement("audio"),"innerHTML",{get:s,set:s})}catch(n){return!1}return!0},Lt.supportsNativeTextTracks=function(){return uu||os&&Oa},Lt.supportsNativeVideoTracks=function(){return!(!Lt.TEST_VID||!Lt.TEST_VID.videoTracks)},Lt.supportsNativeAudioTracks=function(){return!(!Lt.TEST_VID||!Lt.TEST_VID.audioTracks)},Lt.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(s){var e=s[1];Qp(Lt.prototype,s[0],function(){return Lt[e]()},!0)}),Lt.prototype.featuresVolumeControl=Lt.canControlVolume(),Lt.prototype.movingMediaElementInDOM=!os,Lt.prototype.featuresFullscreenResize=!0,Lt.prototype.featuresProgressEvents=!0,Lt.prototype.featuresTimeupdateEvents=!0,Lt.patchCanPlayType=function(){op>=4&&!_v&&!Oa&&(Au=Lt.TEST_VID&&Lt.TEST_VID.constructor.prototype.canPlayType,Lt.TEST_VID.constructor.prototype.canPlayType=function(s){return s&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(s)?"maybe":Au.call(this,s)})},Lt.unpatchCanPlayType=function(){var s=Lt.TEST_VID.constructor.prototype.canPlayType;return Au&&(Lt.TEST_VID.constructor.prototype.canPlayType=Au),s},Lt.patchCanPlayType(),Lt.disposeMediaElement=function(s){if(s){for(s.parentNode&&s.parentNode.removeChild(s);s.hasChildNodes();)s.removeChild(s.firstChild);s.removeAttribute("src"),"function"==typeof s.load&&function(){try{s.load()}catch(n){}}()}},Lt.resetMediaElement=function(s){if(s){for(var n=s.querySelectorAll("source"),e=n.length;e--;)s.removeChild(n[e]);s.removeAttribute("src"),"function"==typeof s.load&&function(){try{s.load()}catch(i){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(s){Lt.prototype[s]=function(){return this.el_[s]||this.el_.hasAttribute(s)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(s){Lt.prototype["set"+Ai(s)]=function(n){this.el_[s]=n,n?this.el_.setAttribute(s,s):this.el_.removeAttribute(s)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(s){Lt.prototype[s]=function(){return this.el_[s]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(s){Lt.prototype["set"+Ai(s)]=function(n){this.el_[s]=n}}),["pause","load","play"].forEach(function(s){Lt.prototype[s]=function(){return this.el_[s]()}}),oi.withSourceHandlers(Lt),Lt.nativeSourceHandler={},Lt.nativeSourceHandler.canPlayType=function(s){try{return Lt.TEST_VID.canPlayType(s)}catch(n){return""}},Lt.nativeSourceHandler.canHandleSource=function(s,n){if(s.type)return Lt.nativeSourceHandler.canPlayType(s.type);if(s.src){var e=qc(s.src);return Lt.nativeSourceHandler.canPlayType("video/"+e)}return""},Lt.nativeSourceHandler.handleSource=function(s,n,e){n.setSrc(s.src)},Lt.nativeSourceHandler.dispose=function(){},Lt.registerSourceHandler(Lt.nativeSourceHandler),oi.registerTech("Html5",Lt);var T0=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],nd={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},id=["tiny","xsmall","small","medium","large","xlarge","huge"],rd={};id.forEach(function(s){var n="x"===s.charAt(0)?"x-"+s.substring(1):s;rd[s]="vjs-layout-"+n});var qT={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Qi=function(s){function n(i,t,r){var l;if(i.id=i.id||t.id||"vjs_video_"+Pa(),(t=ki(n.getTagSettings(i),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language)if("function"==typeof i.closest){var d=i.closest("[lang]");d&&d.getAttribute&&(t.language=d.getAttribute("lang"))}else for(var p=i;p&&1===p.nodeType;){if(io(p).hasOwnProperty("lang")){t.language=p.getAttribute("lang");break}p=p.parentNode}if((l=s.call(this,null,t,r)||this).boundDocumentFullscreenChange_=function(M){return l.documentFullscreenChange_(M)},l.boundFullWindowOnEscKey_=function(M){return l.fullWindowOnEscKey(M)},l.boundUpdateStyleEl_=function(M){return l.updateStyleEl_(M)},l.boundApplyInitTime_=function(M){return l.applyInitTime_(M)},l.boundUpdateCurrentBreakpoint_=function(M){return l.updateCurrentBreakpoint_(M)},l.boundHandleTechClick_=function(M){return l.handleTechClick_(M)},l.boundHandleTechDoubleClick_=function(M){return l.handleTechDoubleClick_(M)},l.boundHandleTechTouchStart_=function(M){return l.handleTechTouchStart_(M)},l.boundHandleTechTouchMove_=function(M){return l.handleTechTouchMove_(M)},l.boundHandleTechTouchEnd_=function(M){return l.handleTechTouchEnd_(M)},l.boundHandleTechTap_=function(M){return l.handleTechTap_(M)},l.isFullscreen_=!1,l.log=pv(l.id_),l.fsApi_=hf,l.isPosterFromTech_=!1,l.queuedCallbacks_=[],l.isReady_=!1,l.hasStarted_=!1,l.userActive_=!1,l.debugEnabled_=!1,!l.options_||!l.options_.techOrder||!l.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(l.tag=i,l.tagAttributes=i&&io(i),l.language(l.options_.language),t.languages){var m={};Object.getOwnPropertyNames(t.languages).forEach(function(M){m[M.toLowerCase()]=t.languages[M]}),l.languages_=m}else l.languages_=n.prototype.options_.languages;l.resetCache_(),l.poster_=t.poster||"",l.controls_=!!t.controls,i.controls=!1,i.removeAttribute("controls"),l.changingSrc_=!1,l.playCallbacks_=[],l.playTerminatedQueue_=[],i.hasAttribute("autoplay")?l.autoplay(!0):l.autoplay(l.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(function(M){if("function"!=typeof l[M])throw new Error('plugin "'+M+'" does not exist')}),l.scrubbing_=!1,l.el_=l.createEl(),Df(Kt(l),{eventBusKey:"el_"}),l.fsApi_.requestFullscreen&&(Ts(lt(),l.fsApi_.fullscreenchange,l.boundDocumentFullscreenChange_),l.on(l.fsApi_.fullscreenchange,l.boundDocumentFullscreenChange_)),l.fluid_&&l.on(["playerreset","resize"],l.boundUpdateStyleEl_);var y=pi(l.options_);t.plugins&&Object.keys(t.plugins).forEach(function(M){l[M](t.plugins[M])}),t.debug&&l.debug(!0),l.options_.playerOptions=y,l.middleware_=[],l.playbackRates(t.playbackRates),l.initChildren(),l.isAudio("audio"===i.nodeName.toLowerCase()),l.controls()?l.addClass("vjs-controls-enabled"):l.addClass("vjs-controls-disabled"),l.el_.setAttribute("role","region"),l.isAudio()?l.el_.setAttribute("aria-label",l.localize("Audio Player")):l.el_.setAttribute("aria-label",l.localize("Video Player")),l.isAudio()&&l.addClass("vjs-audio"),l.flexNotSupported_()&&l.addClass("vjs-no-flex"),hl&&l.addClass("vjs-touch-enabled"),os||l.addClass("vjs-workinghover"),n.players[l.id_]=Kt(l);var N="7.18.1".split(".")[0];return l.addClass("vjs-v"+N),l.userActive(!0),l.reportUserActivity(),l.one("play",function(M){return l.listenForUserActivity_(M)}),l.on("stageclick",function(M){return l.handleStageClick_(M)}),l.on("keydown",function(M){return l.handleKeyDown(M)}),l.on("languagechange",function(M){return l.handleLanguagechange(M)}),l.breakpoints(l.options_.breakpoints),l.responsive(l.options_.responsive),l}Et(n,s);var e=n.prototype;return e.dispose=function(){var t=this;this.trigger("dispose"),this.off("dispose"),Gr(lt(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Gr(lt(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),n.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function Gv(s){Ip[s.id()]=null}(this),_i.names.forEach(function(r){var d=t[_i[r].getterName]();d&&d.off&&d.off()}),s.prototype.dispose.call(this)},e.createEl=function(){var r,t=this.tag,l=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player"),d="video-js"===this.tag.tagName.toLowerCase();l?r=this.el_=t.parentNode:d||(r=this.el_=s.prototype.createEl.call(this,"div"));var p=io(t);if(d){for(r=this.el_=t,t=this.tag=lt().createElement("video");r.children.length;)t.appendChild(r.firstChild);gl(r,"video-js")||na(r,"video-js"),r.appendChild(t),l=this.playerElIngest_=r,Object.keys(r).forEach(function(q){try{t[q]=r[q]}catch(j){}})}if(t.setAttribute("tabindex","-1"),p.tabindex="-1",(no||Oa&&lp)&&(t.setAttribute("role","application"),p.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in p&&delete p.width,"height"in p&&delete p.height,Object.getOwnPropertyNames(p).forEach(function(q){d&&"class"===q||r.setAttribute(q,p[q]),d&&t.setAttribute(q,p[q])}),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=r.player=this,this.addClass("vjs-paused"),!0!==oe().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=xv("vjs-styles-dimensions");var m=xi(".vjs-styles-defaults"),y=xi("head");y.insertBefore(this.styleEl_,m?m.nextSibling:y.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var N=t.getElementsByTagName("a"),M=0;M<N.length;M++){var V=N.item(M);na(V,"vjs-hidden"),V.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!l&&t.parentNode.insertBefore(r,t),du(t,r),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=r,r},e.crossOrigin=function(t){if(!t)return this.techGet_("crossOrigin");"anonymous"===t||"use-credentials"===t?this.techCall_("setCrossOrigin",t):bn.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+t+'"')},e.width=function(t){return this.dimension("width",t)},e.height=function(t){return this.dimension("height",t)},e.dimension=function(t,r){var l=t+"_";if(void 0===r)return this[l]||0;if(""===r||"auto"===r)return this[l]=void 0,void this.updateStyleEl_();var d=parseFloat(r);isNaN(d)?bn.error('Improper value "'+r+'" supplied for for '+t):(this[l]=d,this.updateStyleEl_())},e.fluid=function(t){var r=this;if(void 0===t)return!!this.fluid_;this.fluid_=!!t,yr(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),function(n,e){yr(n)?e():(n.eventedCallbacks||(n.eventedCallbacks=[]),n.eventedCallbacks.push(e))}(this,function(){r.on(["playerreset","resize"],r.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},e.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.updateStyleEl_=function(){if(!0!==oe().VIDEOJS_NO_DYNAMIC_STYLE){var d,p,y,N=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),M=N[1]/N[0];d=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/M:this.videoWidth()||300,p=void 0!==this.height_?this.height_:d*M,y=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(y),gp(this.styleEl_,"\n      ."+y+" {\n        width: "+d+"px;\n        height: "+p+"px;\n      }\n\n      ."+y+".vjs-fluid {\n        padding-top: "+100*M+"%;\n      }\n    ")}else{var t="number"==typeof this.width_?this.width_:this.options_.width,r="number"==typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(t>=0&&(l.width=t),r>=0&&(l.height=r))}},e.loadTech_=function(t,r){var l=this;this.tech_&&this.unloadTech_();var d=Ai(t),p=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==d&&this.tag&&(oi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=d,this.isReady_=!1;var m=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(m=!1);var y={source:r,autoplay:m,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+p+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};_i.names.forEach(function(M){var V=_i[M];y[V.getterName]=l[V.privateName]}),ki(y,this.options_[d]),ki(y,this.options_[p]),ki(y,this.options_[t.toLowerCase()]),this.tag&&(y.tag=this.tag),r&&r.src===this.cache_.src&&this.cache_.currentTime>0&&(y.startTime=this.cache_.currentTime);var N=oi.getTech(t);if(!N)throw new Error("No Tech named '"+d+"' exists! '"+d+"' should be registered using videojs.registerTech()'");this.tech_=new N(y),this.tech_.ready(hi(this,this.handleTechReady_),!0),function(n,e){n.forEach(function(i){var t=e.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(r){return t.addCue(r)})}),e.textTracks()}(this.textTracksJson_||[],this.tech_),T0.forEach(function(M){l.on(l.tech_,M,function(V){return l["handleTech"+Ai(M)+"_"](V)})}),Object.keys(nd).forEach(function(M){l.on(l.tech_,M,function(V){0===l.tech_.playbackRate()&&l.tech_.seeking()?l.queuedCallbacks_.push({callback:l["handleTech"+nd[M]+"_"].bind(l),event:V}):l["handleTech"+nd[M]+"_"](V)})}),this.on(this.tech_,"loadstart",function(M){return l.handleTechLoadStart_(M)}),this.on(this.tech_,"sourceset",function(M){return l.handleTechSourceset_(M)}),this.on(this.tech_,"waiting",function(M){return l.handleTechWaiting_(M)}),this.on(this.tech_,"ended",function(M){return l.handleTechEnded_(M)}),this.on(this.tech_,"seeking",function(M){return l.handleTechSeeking_(M)}),this.on(this.tech_,"play",function(M){return l.handleTechPlay_(M)}),this.on(this.tech_,"firstplay",function(M){return l.handleTechFirstPlay_(M)}),this.on(this.tech_,"pause",function(M){return l.handleTechPause_(M)}),this.on(this.tech_,"durationchange",function(M){return l.handleTechDurationChange_(M)}),this.on(this.tech_,"fullscreenchange",function(M,V){return l.handleTechFullscreenChange_(M,V)}),this.on(this.tech_,"fullscreenerror",function(M,V){return l.handleTechFullscreenError_(M,V)}),this.on(this.tech_,"enterpictureinpicture",function(M){return l.handleTechEnterPictureInPicture_(M)}),this.on(this.tech_,"leavepictureinpicture",function(M){return l.handleTechLeavePictureInPicture_(M)}),this.on(this.tech_,"error",function(M){return l.handleTechError_(M)}),this.on(this.tech_,"posterchange",function(M){return l.handleTechPosterChange_(M)}),this.on(this.tech_,"textdata",function(M){return l.handleTechTextData_(M)}),this.on(this.tech_,"ratechange",function(M){return l.handleTechRateChange_(M)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&("Html5"!==d||!this.tag)&&du(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.unloadTech_=function(){var t=this;_i.names.forEach(function(r){var l=_i[r];t[l.privateName]=t[l.getterName]()}),this.textTracksJson_=function(n){var e=n.$$("track"),i=Array.prototype.map.call(e,function(r){return r.track});return Array.prototype.map.call(e,function(r){var l=wf(r.track);return r.src&&(l.src=r.src),l}).concat(Array.prototype.filter.call(n.textTracks(),function(r){return-1===i.indexOf(r)}).map(wf))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.tech=function(t){return void 0===t&&bn.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},e.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},e.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},e.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},e.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},e.manualAutoplay_=function(t){var r=this;if(this.tech_&&"string"==typeof t){var d,l=function(){var m=r.muted();r.muted(!0);var y=function(){r.muted(m)};r.playTerminatedQueue_.push(y);var N=r.play();if(_u(N))return N.catch(function(M){throw y(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(M||""))})};if("any"!==t||this.muted()?d="muted"!==t||this.muted()?this.play():l():_u(d=this.play())&&(d=d.catch(l)),_u(d))return d.then(function(){r.trigger({type:"autoplay-success",autoplay:t})}).catch(function(){r.trigger({type:"autoplay-failure",autoplay:t})})}},e.updateSourceCaches_=function(t){void 0===t&&(t="");var r=t,l="";"string"!=typeof r&&(r=t.src,l=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],r&&!l&&(l=function(n,e){if(!e)return"";if(n.cache_.source.src===e&&n.cache_.source.type)return n.cache_.source.type;var i=n.cache_.sources.filter(function(d){return d.src===e});if(i.length)return i[0].type;for(var t=n.$$("source"),r=0;r<t.length;r++){var l=t[r];if(l.type&&l.src&&l.src===e)return l.type}return Su(e)}(this,r)),this.cache_.source=pi({},t,{src:r,type:l});for(var d=this.cache_.sources.filter(function(V){return V.src&&V.src===r}),p=[],m=this.$$("source"),y=[],N=0;N<m.length;N++){var M=io(m[N]);p.push(M),M.src&&M.src===r&&y.push(M.src)}y.length&&!d.length?this.cache_.sources=p:d.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=r},e.handleTechSourceset_=function(t){var r=this;if(!this.changingSrc_){var l=function(y){return r.updateSourceCaches_(y)},d=this.currentSource().src,p=t.src;d&&!/^blob:/.test(d)&&/^blob:/.test(p)&&(!this.lastSource_||this.lastSource_.tech!==p&&this.lastSource_.player!==d)&&(l=function(){}),l(p),t.src||this.tech_.any(["sourceset","loadstart"],function(m){if("sourceset"!==m.type){var y=r.techGet("currentSrc");r.lastSource_.tech=y,r.updateSourceCaches_(y)}})}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},e.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var r=this.currentTime();this.on("timeupdate",function d(){r!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",d))})},e.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},e.handleTechFirstPlay_=function(){this.options_.starttime&&(bn.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.handleTechClick_=function(t){!this.controls_||(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.click||!1!==this.options_.userActions.click)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,t):this.paused()?Fs(this.play()):this.pause())},e.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(l){return l.contains(t.target)})||(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.doubleClick||!1!==this.options_.userActions.doubleClick)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,t):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},e.handleTechTap_=function(){this.userActive(!this.userActive())},e.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.handleTechTouchEnd_=function(t){t.cancelable&&t.preventDefault()},e.handleStageClick_=function(){this.reportUserActivity()},e.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.documentFullscreenChange_=function(t){var r=t.target.player;if(!r||r===this){var l=this.el(),d=lt()[this.fsApi_.fullscreenElement]===l;!d&&l.matches?d=l.matches(":"+this.fsApi_.fullscreen):!d&&l.msMatchesSelector&&(d=l.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(d)}},e.handleTechFullscreenChange_=function(t,r){var l=this;r&&(r.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){l.removeClass("vjs-ios-native-fs")})),this.isFullscreen(r.isFullscreen))},e.handleTechFullscreenError_=function(t,r){this.trigger("fullscreenerror",r)},e.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},e.handleTechEnterPictureInPicture_=function(t){this.isInPictureInPicture(!0)},e.handleTechLeavePictureInPicture_=function(t){this.isInPictureInPicture(!1)},e.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.getCache=function(){return this.cache_},e.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},e.techCall_=function(t,r){this.ready(function(){if(t in Vv)return function OT(s,n,e,i){return n[e](s.reduce(Tu(e),i))}(this.middleware_,this.tech_,t,r);if(t in Op)return ln(this.middleware_,this.tech_,t,r);try{this.tech_&&this.tech_[t](r)}catch(l){throw bn(l),l}},!0)},e.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in Uv)return function IT(s,n,e){return s.reduceRight(Tu(e),n[e]())}(this.middleware_,this.tech_,t);if(t in Op)return ln(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(r){throw void 0===this.tech_[t]?(bn("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",r),r):"TypeError"===r.name?(bn("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",r),this.tech_.isReady_=!1,r):(bn(r),r)}}},e.play=function(){var t=this,r=this.options_.Promise||oe().Promise;return r?new r(function(l){t.play_(l)}):this.play_()},e.play_=function(t){var r=this;void 0===t&&(t=Fs),this.playCallbacks_.push(t);var l=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!l)return this.waitToPlay_=function(p){r.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!l&&(uu||os)&&this.load());var d=this.techGet_("play");null===d?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(d)},e.runPlayTerminatedQueue_=function(){var t=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],t.forEach(function(r){r()})},e.runPlayCallbacks_=function(t){var r=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],r.forEach(function(l){l(t)})},e.pause=function(){this.techCall_("pause")},e.paused=function(){return!1!==this.techGet_("paused")},e.played=function(){return this.techGet_("played")||yl(0,0)},e.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,this.techCall_("setScrubbing",this.scrubbing_),t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.currentTime=function(t){return void 0!==t?(t<0&&(t=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",t),void(this.cache_.initTime=0)):(this.cache_.initTime=t,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},e.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(t)||this.trigger("durationchange"))},e.remainingTime=function(){return this.duration()-this.currentTime()},e.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.buffered=function(){var t=this.techGet_("buffered");return(!t||!t.length)&&(t=yl(0,0)),t},e.bufferedPercent=function(){return Pv(this.buffered(),this.duration())},e.bufferedEnd=function(){var t=this.buffered(),r=this.duration(),l=t.end(t.length-1);return l>r&&(l=r),l},e.volume=function(t){var r;return void 0!==t?(r=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=r,this.techCall_("setVolume",r),void(r>0&&this.lastVolume_(r))):(r=parseFloat(this.techGet_("volume")),isNaN(r)?1:r)},e.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},e.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},e.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},e.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.isFullscreen=function(t){if(void 0!==t){var r=this.isFullscreen_;return this.isFullscreen_=Boolean(t),this.isFullscreen_!==r&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},e.requestFullscreen=function(t){var r=this.options_.Promise||oe().Promise;if(r){var l=this;return new r(function(d,p){function m(){l.off("fullscreenerror",N),l.off("fullscreenchange",y)}function y(){m(),d()}function N(V,q){m(),p(q)}l.one("fullscreenchange",y),l.one("fullscreenerror",N);var M=l.requestFullscreenHelper_(t);M&&(M.then(m,m),M.then(d,p))})}return this.requestFullscreenHelper_()},e.requestFullscreenHelper_=function(t){var l,r=this;if(this.fsApi_.prefixed||(l=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==t&&(l=t)),this.fsApi_.requestFullscreen){var d=this.el_[this.fsApi_.requestFullscreen](l);return d&&d.then(function(){return r.isFullscreen(!0)},function(){return r.isFullscreen(!1)}),d}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},e.exitFullscreen=function(){var t=this.options_.Promise||oe().Promise;if(t){var r=this;return new t(function(l,d){function p(){r.off("fullscreenerror",y),r.off("fullscreenchange",m)}function m(){p(),l()}function y(M,V){p(),d(V)}r.one("fullscreenchange",m),r.one("fullscreenerror",y);var N=r.exitFullscreenHelper_();N&&(N.then(p,p),N.then(l,d))})}return this.exitFullscreenHelper_()},e.exitFullscreenHelper_=function(){var t=this;if(this.fsApi_.requestFullscreen){var r=lt()[this.fsApi_.exitFullscreen]();return r&&Fs(r.then(function(){return t.isFullscreen(!1)})),r}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},e.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=lt().documentElement.style.overflow,Ts(lt(),"keydown",this.boundFullWindowOnEscKey_),lt().documentElement.style.overflow="hidden",na(lt().body,"vjs-full-window"),this.trigger("enterFullWindow")},e.fullWindowOnEscKey=function(t){Yt().isEventKey(t,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},e.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Gr(lt(),"keydown",this.boundFullWindowOnEscKey_),lt().documentElement.style.overflow=this.docOrigOverflow,Bc(lt().body,"vjs-full-window"),this.trigger("exitFullWindow")},e.disablePictureInPicture=function(t){if(void 0===t)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",t),this.options_.disablePictureInPicture=t,this.trigger("disablepictureinpicturechanged")},e.isInPictureInPicture=function(t){return void 0!==t?(this.isInPictureInPicture_=!!t,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},e.requestPictureInPicture=function(){if("pictureInPictureEnabled"in lt()&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},e.exitPictureInPicture=function(){if("pictureInPictureEnabled"in lt())return lt().exitPictureInPicture()},e.handleKeyDown=function(t){var p,m,r=this.options_.userActions;r&&r.hotkeys&&(m=(p=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),p.isContentEditable||("input"===m?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(p.type):-1!==["textarea"].indexOf(m))||("function"==typeof r.hotkeys?r.hotkeys.call(this,t):this.handleHotkeys(t)))},e.handleHotkeys=function(t){var r=this.options_.userActions?this.options_.userActions.hotkeys:{},l=r.fullscreenKey,p=r.muteKey,m=void 0===p?function(j){return Yt().isEventKey(j,"m")}:p,y=r.playPauseKey,N=void 0===y?function(j){return Yt().isEventKey(j,"k")||Yt().isEventKey(j,"Space")}:y;if((void 0===l?function(j){return Yt().isEventKey(j,"f")}:l).call(this,t)){t.preventDefault(),t.stopPropagation();var M=_t.getComponent("FullscreenToggle");!1!==lt()[this.fsApi_.fullscreenEnabled]&&M.prototype.handleClick.call(this,t)}else m.call(this,t)?(t.preventDefault(),t.stopPropagation(),_t.getComponent("MuteToggle").prototype.handleClick.call(this,t)):N.call(this,t)&&(t.preventDefault(),t.stopPropagation(),_t.getComponent("PlayToggle").prototype.handleClick.call(this,t))},e.canPlayType=function(t){for(var r,l=0,d=this.options_.techOrder;l<d.length;l++){var p=d[l],m=oi.getTech(p);if(m||(m=_t.getComponent(p)),m){if(m.isSupported()&&(r=m.canPlayType(t)))return r}else bn.error('The "'+p+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.selectSource=function(t){var M,r=this,l=this.options_.techOrder.map(function(N){return[N,oi.getTech(N)]}).filter(function(N){var M=N[0],V=N[1];return V?V.isSupported():(bn.error('The "'+M+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),d=function(M,V,q){var j;return M.some(function(z){return V.some(function(ve){if(j=q(z,ve))return!0})}),j},y=function(M,V){var q=M[0];if(M[1].canPlaySource(V,r.options_[q.toLowerCase()]))return{source:V,tech:q}};return(this.options_.sourceOrder?d(t,l,(M=y,function(V,q){return M(q,V)})):d(l,t,y))||!1},e.handleSrc_=function(t,r){var l=this;if(void 0===t)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var d=Pp(t);if(d.length){if(this.changingSrc_=!0,r||(this.cache_.sources=d),this.updateSourceCaches_(d[0]),Hv(this,d[0],function(y,N){if(l.middleware_=N,r||(l.cache_.sources=d),l.updateSourceCaches_(y),l.src_(y))return d.length>1?l.handleSrc_(d.slice(1)):(l.changingSrc_=!1,l.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void l.triggerReady());!function NT(s,n){s.forEach(function(e){return e.setTech&&e.setTech(n)})}(N,l.tech_)}),this.options_.retryOnError&&d.length>1){var p=function(){l.error(null),l.handleSrc_(d.slice(1),!0)},m=function(){l.off("error",p)};this.one("error",p),this.one("playing",m),this.resetRetryOnError_=function(){l.off("error",p),l.off("playing",m)}}}else this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},e.src=function(t){return this.handleSrc_(t,!1)},e.src_=function(t){var r=this,l=this.selectSource([t]);return!l||(function(n,e){return Ai(n)===Ai(e)}(l.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(l.tech,l.source),this.tech_.ready(function(){r.changingSrc_=!1}),!1))},e.load=function(){this.techCall_("load")},e.reset=function(){var t=this,r=this.options_.Promise||oe().Promise;this.paused()||!r?this.doReset_():Fs(this.play().then(function(){return t.doReset_()}))},e.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),yr(this)&&this.trigger("playerreset")},e.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},e.resetProgressBar_=function(){this.currentTime(0);var t=this.controlBar,r=t.durationDisplay,l=t.remainingTimeDisplay;r&&r.updateContent(),l&&l.updateContent()},e.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},e.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},e.currentSources=function(){var t=this.currentSource(),r=[];return 0!==Object.keys(t).length&&r.push(t),this.cache_.sources||r},e.currentSource=function(){return this.cache_.source||{}},e.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},e.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var r;"string"==typeof t&&/(any|play|muted)/.test(t)||!0===t&&this.options_.normalizeAutoplay?(this.options_.autoplay=t,this.manualAutoplay_("string"==typeof t?t:"play"),r=!1):this.options_.autoplay=!!t,r=void 0===r?this.options_.autoplay:r,this.tech_&&this.techCall_("setAutoplay",r)},e.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},e.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},e.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.controls=function(t){if(void 0===t)return!!this.controls_;this.controls_!==(t=!!t)&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;this.usingNativeControls_!==(t=!!t)&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.error=function(t){var r=this;if(void 0===t)return this.error_||null;if(ea("beforeerror").forEach(function(d){var p=d(r,t);Io(p)&&!Array.isArray(p)||"string"==typeof p||"number"==typeof p||null===p?t=p:r.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&t&&4===t.code){var l=function(){this.error(t)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],l),void this.one("loadstart",function(){this.off(["click","touchstart"],l)})}if(null===t)return this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Xr(t),this.addClass("vjs-error"),bn.error("(CODE:"+this.error_.code+" "+Xr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),ea("error").forEach(function(d){return d(r,r.error_)})},e.reportUserActivity=function(t){this.userActivity_=!0},e.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(r){r.stopPropagation(),r.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.listenForUserActivity_=function(){var t,r,l,d=hi(this,this.reportUserActivity),y=function(q){d(),this.clearInterval(t)};this.on("mousedown",function(){d(),this.clearInterval(t),t=this.setInterval(d,250)}),this.on("mousemove",function(q){(q.screenX!==r||q.screenY!==l)&&(r=q.screenX,l=q.screenY,d())}),this.on("mouseup",y),this.on("mouseleave",y);var M,N=this.getChild("controlBar");N&&!os&&!to&&(N.on("mouseenter",function(V){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),N.on("mouseleave",function(V){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",d),this.on("keyup",d),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(M);var V=this.options_.inactivityTimeout;V<=0||(M=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},V))}},250)},e.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},e.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},e.addTextTrack=function(t,r,l){if(this.tech_)return this.tech_.addTextTrack(t,r,l)},e.addRemoteTextTrack=function(t,r){if(this.tech_)return this.tech_.addRemoteTextTrack(t,r)},e.removeRemoteTextTrack=function(t){void 0===t&&(t={});var l=t.track;if(l||(l=t),this.tech_)return this.tech_.removeRemoteTextTrack(l)},e.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.language=function(t){if(void 0===t)return this.language_;this.language_!==String(t).toLowerCase()&&(this.language_=String(t).toLowerCase(),yr(this)&&this.trigger("languagechange"))},e.languages=function(){return pi(n.prototype.options_.languages,this.languages_)},e.toJSON=function(){var t=pi(this.options_),r=t.tracks;t.tracks=[];for(var l=0;l<r.length;l++){var d=r[l];(d=pi(d)).player=void 0,t.tracks[l]=d}return t},e.createModal=function(t,r){var l=this;(r=r||{}).content=t||"";var d=new bl(this,r);return this.addChild(d),d.on("dispose",function(){l.removeChild(d)}),d.open(),d},e.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),r=this.currentWidth(),l=0;l<id.length;l++){var d=id[l];if(r<=this.breakpoints_[d]){if(t===d)return;t&&this.removeClass(rd[t]),this.addClass(rd[d]),this.breakpoint_=d;break}}},e.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},e.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=ki({},qT,t),this.updateCurrentBreakpoint_()),ki(this.breakpoints_)},e.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},e.currentBreakpoint=function(){return this.breakpoint_},e.currentBreakpointClass=function(){return rd[this.breakpoint_]||""},e.loadMedia=function(t,r){var l=this;if(t&&"object"==typeof t){this.reset(),this.cache_.media=pi(t);var d=this.cache_.media,m=d.poster,y=d.src,N=d.textTracks;!d.artwork&&m&&(this.cache_.media.artwork=[{src:m,type:Su(m)}]),y&&this.src(y),m&&this.poster(m),Array.isArray(N)&&N.forEach(function(M){return l.addRemoteTextTrack(M,!1)}),this.ready(r)}},e.getMedia=function(){if(!this.cache_.media){var t=this.poster(),d={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(p){return{kind:p.kind,label:p.label,language:p.language,src:p.src}})};return t&&(d.poster=t,d.artwork=[{src:d.poster,type:Su(d.poster)}]),d}return pi(this.cache_.media)},n.getTagSettings=function(t){var r={sources:[],tracks:[]},l=io(t),d=l["data-setup"];if(gl(t,"vjs-fill")&&(l.fill=!0),gl(t,"vjs-fluid")&&(l.fluid=!0),null!==d){var p=P()(d||"{}"),m=p[0],y=p[1];m&&bn.error(m),ki(l,y)}if(ki(r,l),t.hasChildNodes())for(var N=t.childNodes,M=0,V=N.length;M<V;M++){var q=N[M],j=q.nodeName.toLowerCase();"source"===j?r.sources.push(io(q)):"track"===j&&r.tracks.push(io(q))}return r},e.flexNotSupported_=function(){var t=lt().createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e.debug=function(t){if(void 0===t)return this.debugEnabled_;t?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},e.playbackRates=function(t){if(void 0===t)return this.cache_.playbackRates;!Array.isArray(t)||!t.every(function(r){return"number"==typeof r})||(this.cache_.playbackRates=t,this.trigger("playbackrateschange"))},n}(_t);_i.names.forEach(function(s){var n=_i[s];Qi.prototype[n.getterName]=function(){return this.tech_?this.tech_[n.getterName]():(this[n.privateName]=this[n.privateName]||new n.ListClass,this[n.privateName])}}),Qi.prototype.crossorigin=Qi.prototype.crossOrigin,Qi.players={};var wl=oe().navigator;Qi.prototype.options_={techOrder:oi.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:wl&&(wl.languages&&wl.languages[0]||wl.userLanguage||wl.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(s){Qi.prototype[s]=function(){return this.techGet_(s)}}),T0.forEach(function(s){Qi.prototype["handleTech"+Ai(s)+"_"]=function(){return this.trigger(s)}}),_t.registerComponent("Player",Qi);var Zp="plugin",Mu="activePlugins_",xl={},sd=function(n){return xl.hasOwnProperty(n)},ad=function(n){return sd(n)?xl[n]:void 0},Jp=function(n,e){n[Mu]=n[Mu]||{},n[Mu][e]=!0},od=function(n,e,i){var t=(i?"before":"")+"pluginsetup";n.trigger(t,e),n.trigger(t+":"+e.name,e)},ld=function(n,e){return e.prototype.name=n,function(){od(this,{name:n,plugin:e,instance:null},!0);for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];var l=Qn(e,[this].concat(t));return this[n]=function(){return l},od(this,l.getEventHash()),l}},ka=function(){function s(e){if(this.constructor===s)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Df(this),delete this.trigger,vp(this,this.constructor.defaultState),Jp(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}var n=s.prototype;return n.version=function(){return this.constructor.VERSION},n.getEventHash=function(i){return void 0===i&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},n.trigger=function(i,t){return void 0===t&&(t={}),gu(this.eventBusEl_,i,this.getEventHash(t))},n.handleStateChanged=function(i){},n.dispose=function(){var i=this.name,t=this.player;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Mu][i]=!1,this.player=this.state=null,t[i]=ld(i,xl[i])},s.isBasic=function(i){var t="string"==typeof i?ad(i):i;return"function"==typeof t&&!s.prototype.isPrototypeOf(t.prototype)},s.registerPlugin=function(i,t){if("string"!=typeof i)throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(sd(i))bn.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(Qi.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if("function"!=typeof t)throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof t+".");return xl[i]=t,i!==Zp&&(Qi.prototype[i]=s.isBasic(t)?function(n,e){var i=function(){od(this,{name:n,plugin:e,instance:null},!0);var r=e.apply(this,arguments);return Jp(this,n),od(this,{name:n,plugin:e,instance:r}),r};return Object.keys(e).forEach(function(t){i[t]=e[t]}),i}(i,t):ld(i,t)),t},s.deregisterPlugin=function(i){if(i===Zp)throw new Error("Cannot de-register base plugin.");sd(i)&&(delete xl[i],delete Qi.prototype[i])},s.getPlugins=function(i){var t;return void 0===i&&(i=Object.keys(xl)),i.forEach(function(r){var l=ad(r);l&&((t=t||{})[r]=l)}),t},s.getPluginVersion=function(i){var t=ad(i);return t&&t.VERSION||""},s}();ka.getPlugin=ad,ka.BASE_PLUGIN_NAME=Zp,ka.registerPlugin(Zp,ka),Qi.prototype.usingPlugin=function(s){return!!this[Mu]&&!0===this[Mu][s]},Qi.prototype.hasPlugin=function(s){return!!sd(s)};var QT=function(n){return 0===n.indexOf("#")?n.slice(1):n};function Ne(s,n,e){var i=Ne.getPlayer(s);if(i)return n&&bn.warn('Player "'+s+'" is already initialised. Options will not be applied.'),e&&i.ready(e),i;var t="string"==typeof s?xi("#"+QT(s)):s;if(!cu(t))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!t.ownerDocument.defaultView||!t.ownerDocument.body.contains(t))&&bn.warn("The element supplied is not included in the DOM"),n=n||{},ea("beforesetup").forEach(function(l){var d=l(t,pi(n));Io(d)&&!Array.isArray(d)?n=pi(n,d):bn.error("please return an object in beforesetup hooks")});var r=_t.getComponent("Player");return i=new r(t,n,e),ea("setup").forEach(function(l){return l(i)}),i}if(Ne.hooks_=eo,Ne.hooks=ea,Ne.hook=function(n,e){ea(n,e)},Ne.hookOnce=function(n,e){ea(n,[].concat(e).map(function(i){return function r(){return dl(n,r),i.apply(void 0,arguments)}}))},Ne.removeHook=dl,!0!==oe().VIDEOJS_NO_DYNAMIC_STYLE&&pl()){var ud=xi(".vjs-styles-defaults");if(!ud){ud=xv("vjs-styles-defaults");var cd=xi("head");cd&&cd.insertBefore(ud,cd.firstChild),gp(ud,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}pp(1,Ne),Ne.VERSION="7.18.1",Ne.options=Qi.prototype.options_,Ne.getPlayers=function(){return Qi.players},Ne.getPlayer=function(s){var e,n=Qi.players;if("string"==typeof s){var i=QT(s),t=n[i];if(t)return t;e=xi("#"+i)}else e=s;if(cu(e)){var l=e.player,d=e.playerId;if(l||n[d])return l||n[d]}},Ne.getAllPlayers=function(){return Object.keys(Qi.players).map(function(s){return Qi.players[s]}).filter(Boolean)},Ne.players=Qi.players,Ne.getComponent=_t.getComponent,Ne.registerComponent=function(s,n){oi.isTech(n)&&bn.warn("The "+s+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),_t.registerComponent.call(_t,s,n)},Ne.getTech=oi.getTech,Ne.registerTech=oi.registerTech,Ne.use=function MT(s,n){Sl[s]=Sl[s]||[],Sl[s].push(n)},Object.defineProperty(Ne,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Ne.middleware,"TERMINATOR",{value:Of,writeable:!1,enumerable:!0}),Ne.browser=up,Ne.TOUCH_ENABLED=hl,Ne.extend=function(n,e){void 0===e&&(e={});var i=function(){n.apply(this,arguments)},t={};for(var r in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(i=e.constructor),t=e):"function"==typeof e&&(i=e),function Hr(s,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(n&&n.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),n&&mr(s,n)}(i,n),n&&(i.super_=n),t)t.hasOwnProperty(r)&&(i.prototype[r]=t[r]);return i},Ne.mergeOptions=pi,Ne.bind=hi,Ne.registerPlugin=ka.registerPlugin,Ne.deregisterPlugin=ka.deregisterPlugin,Ne.plugin=function(s,n){return bn.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ka.registerPlugin(s,n)},Ne.getPlugins=ka.getPlugins,Ne.getPlugin=ka.getPlugin,Ne.getPluginVersion=ka.getPluginVersion,Ne.addLanguage=function(s,n){var e;return s=(""+s).toLowerCase(),(Ne.options.languages=pi(Ne.options.languages,((e={})[s]=n,e)))[s]},Ne.log=bn,Ne.createLogger=pv,Ne.createTimeRange=Ne.createTimeRanges=yl,Ne.formatTime=Cu,Ne.setFormatTime=function Xv(s){qv=s},Ne.resetFormatTime=function Qv(){qv=Kv},Ne.parseUrl=Kc,Ne.isCrossOrigin=Ro,Ne.EventTarget=_r,Ne.on=Ts,Ne.one=Vc,Ne.off=Gr,Ne.trigger=gu,Ne.xhr=I(),Ne.TextTrack=Xc,Ne.AudioTrack=Ap,Ne.VideoTrack=If,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(s){Ne[s]=function(){return bn.warn("videojs."+s+"() is deprecated; use videojs.dom."+s+"() instead"),bf[s].apply(null,arguments)}}),Ne.computedStyle=gf,Ne.dom=bf,Ne.url=wT,Ne.defineLazyProperty=Qp,Ne.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});
/*! @name @videojs/http-streaming @version 2.13.1 @license Apache-2.0 */
var Zr=Ka,zf=function(n,e,i){return n&&i&&i.responseURL&&e!==i.responseURL?i.responseURL:e},Ss=function(n){return Ne.log.debug?Ne.log.debug.bind(Ne,"VHS:",n+" >"):function(){}},fo=1/30,oa=.1,eg=function(n,e){var t,i=[];if(n&&n.length)for(t=0;t<n.length;t++)e(n.start(t),n.end(t))&&i.push([n.start(t),n.end(t)]);return Ne.createTimeRanges(i)},Nu=function(n,e){return eg(n,function(i,t){return i-oa<=e&&t+oa>=e})},Iu=function(n,e){return eg(n,function(i){return i-fo>=e})},tg=function(n){var e=[];if(!n||!n.length)return"";for(var i=0;i<n.length;i++)e.push(n.start(i)+" => "+n.end(i));return e.join(", ")},Ho=function(n){for(var e=[],i=0;i<n.length;i++)e.push({start:n.start(i),end:n.end(i)});return e},S0=function(n){if(n&&n.length&&n.end)return n.end(n.length-1)},Uo=function(n,e){var i=0;if(!n||!n.length)return i;for(var t=0;t<n.length;t++){var r=n.start(t),l=n.end(t);if(!(e>l)){if(e>r&&e<=l){i+=l-e;continue}i+=l-r}}return i},C0=Ne.createTimeRange,ng=function(n,e){if(!e.preload)return e.duration;var i=0;return(e.parts||[]).forEach(function(t){i+=t.duration}),(e.preloadHints||[]).forEach(function(t){"PART"===t.type&&(i+=n.partTargetDuration)}),i},ig=function(n){return(n.segments||[]).reduce(function(e,i,t){return i.parts?i.parts.forEach(function(r,l){e.push({duration:r.duration,segmentIndex:t,partIndex:l,part:r,segment:i})}):e.push({duration:i.duration,segmentIndex:t,partIndex:null,segment:i,part:null}),e},[])},D0=function(n){var e=n.segments&&n.segments.length&&n.segments[n.segments.length-1];return e&&e.parts||[]},la=function(n){var e=n.preloadSegment;if(e){var i=e.parts;return(e.preloadHints||[]).reduce(function(l,d){return l+("PART"===d.type?1:0)},0)+(i&&i.length?i.length:0)}},Yf=function(n,e){if(e.endList)return 0;if(n&&n.suggestedPresentationDelay)return n.suggestedPresentationDelay;var i=D0(e).length>0;return i&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:i&&e.partTargetDuration?3*e.partTargetDuration:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?3*e.targetDuration:0},rg=function(n,e,i){if(void 0===e&&(e=n.mediaSequence+n.segments.length),e<n.mediaSequence)return 0;var t=function(n,e){var i=0,t=e-n.mediaSequence,r=n.segments[t];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;t--;){if(void 0!==(r=n.segments[t]).end)return{result:i+r.end,precise:!0};if(i+=ng(n,r),void 0!==r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}}(n,e);if(t.precise)return t.result;var r=function(n,e){for(var t,i=0,r=e-n.mediaSequence;r<n.segments.length;r++){if(void 0!==(t=n.segments[r]).start)return{result:t.start-i,precise:!0};if(i+=ng(n,t),void 0!==t.end)return{result:t.end-i,precise:!0}}return{result:-1,precise:!1}}(n,e);return r.precise?r.result:t.result+i},sg=function(n,e,i){if(!n)return 0;if("number"!=typeof i&&(i=0),void 0===e){if(n.totalDuration)return n.totalDuration;if(!n.endList)return oe()[1/0]}return rg(n,e,i)},dd=function(n){var e=n.defaultDuration,i=n.durationList,t=n.startIndex,r=n.endIndex,l=0;if(t>r){var d=[r,t];t=d[0],r=d[1]}if(t<0){for(var p=t;p<Math.min(0,r);p++)l+=e;t=0}for(var m=t;m<r;m++)l+=i[m].duration;return l},x0=function(n,e,i,t){if(!n||!n.segments)return null;if(n.endList)return sg(n);if(null===e)return null;var r=rg(n,n.mediaSequence+n.segments.length,e=e||0);return i&&(r-=t="number"==typeof t?t:Yf(null,n)),Math.max(0,r)},ag=function(n){return n.excludeUntil&&n.excludeUntil>Date.now()},A0=function(n){return n.excludeUntil&&n.excludeUntil===1/0},fd=function(n){var e=ag(n);return!n.disabled&&!e},s1=function(n,e){return e.attributes&&e.attributes[n]},hd=function(n,e){if(1===n.playlists.length)return!0;var i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===n.playlists.filter(function(t){return!!fd(t)&&(t.attributes.BANDWIDTH||0)<i}).length},og=function(n,e){return!(!n&&!e||!n&&e||n&&!e||!(n===e||n.id&&e.id&&n.id===e.id||n.resolvedUri&&e.resolvedUri&&n.resolvedUri===e.resolvedUri||n.uri&&e.uri&&n.uri===e.uri))},lg=function(n,e){var i=n&&n.mediaGroups&&n.mediaGroups.AUDIO||{},t=!1;for(var r in i){for(var l in i[r])if(t=e(i[r][l]))break;if(t)break}return!!t},Pu=function(n){if(!n||!n.playlists||!n.playlists.length)return lg(n,function(l){return l.playlists&&l.playlists.length||l.uri});for(var i=function(d){var p=n.playlists[d],m=p.attributes&&p.attributes.CODECS;return m&&m.split(",").every(function(N){return Zo(N)})||lg(n,function(N){return og(p,N)})?"continue":{v:!1}},t=0;t<n.playlists.length;t++){var r=i(t);if("continue"!==r&&"object"==typeof r)return r.v}return!0},Cs={liveEdgeDelay:Yf,duration:sg,seekable:function(n,e,i){var r=e||0,l=x0(n,e,!0,i);return null===l?C0():C0(r,l)},getMediaInfoForTime:function(n){for(var e=n.playlist,i=n.currentTime,t=n.startingSegmentIndex,r=n.startingPartIndex,l=n.startTime,d=n.experimentalExactManifestTimings,p=i-l,m=ig(e),y=0,N=0;N<m.length;N++){var M=m[N];if(t===M.segmentIndex&&("number"!=typeof r||"number"!=typeof M.partIndex||r===M.partIndex)){y=N;break}}if(p<0){if(y>0)for(var V=y-1;V>=0;V--){var q=m[V];if(p+=q.duration,d){if(p<0)continue}else if(p+fo<=0)continue;return{partIndex:q.partIndex,segmentIndex:q.segmentIndex,startTime:l-dd({defaultDuration:e.targetDuration,durationList:m,startIndex:y,endIndex:V})}}return{partIndex:m[0]&&m[0].partIndex||null,segmentIndex:m[0]&&m[0].segmentIndex||0,startTime:i}}if(y<0){for(var j=y;j<0;j++)if((p-=e.targetDuration)<0)return{partIndex:m[0]&&m[0].partIndex||null,segmentIndex:m[0]&&m[0].segmentIndex||0,startTime:i};y=0}for(var z=y;z<m.length;z++){var ve=m[z];if(p-=ve.duration,d){if(p>0)continue}else if(p-fo>=0)continue;return{partIndex:ve.partIndex,segmentIndex:ve.segmentIndex,startTime:l+dd({defaultDuration:e.targetDuration,durationList:m,startIndex:y,endIndex:z})}}return{segmentIndex:m[m.length-1].segmentIndex,partIndex:m[m.length-1].partIndex,startTime:i}},isEnabled:fd,isDisabled:function(n){return n.disabled},isBlacklisted:ag,isIncompatible:A0,playlistEnd:x0,isAes:function(n){for(var e=0;e<n.segments.length;e++)if(n.segments[e].key)return!0;return!1},hasAttribute:s1,estimateSegmentRequestTime:function(n,e,i,t){return void 0===t&&(t=0),s1("BANDWIDTH",i)?(n*i.attributes.BANDWIDTH-8*t)/e:NaN},isLowestEnabledRendition:hd,isAudioOnly:Pu,playlistMatch:og,segmentDurationWithParts:ng},Hs=Ne.log,M0=function(n,e){return n+"-"+e},Ru=function(n,e){!n.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(i){if(n.mediaGroups[i])for(var t in n.mediaGroups[i])for(var r in n.mediaGroups[i][t])e(n.mediaGroups[i][t][r],i,t,r)})},ug=function(n){var e=n.playlist,i=n.uri;e.id=n.id,e.playlistErrors_=0,i&&(e.uri=i),e.attributes=e.attributes||{}},cg=function(n,e){n.uri=e;for(var i=0;i<n.playlists.length;i++)n.playlists[i].uri||(n.playlists[i].uri="placeholder-uri-"+i);var r=Pu(n);Ru(n,function(l,d,p,m){var y="placeholder-uri-"+d+"-"+p+"-"+m;if(!l.playlists||!l.playlists.length){if(r&&"AUDIO"===d&&!l.uri)for(var N=0;N<n.playlists.length;N++){var M=n.playlists[N];if(M.attributes&&M.attributes.AUDIO&&M.attributes.AUDIO===p)return}l.playlists=[Un({},l)]}l.playlists.forEach(function(V,q){var j=M0(q,y);V.uri?V.resolvedUri=V.resolvedUri||Zr(n.uri,V.uri):(V.uri=0===q?y:j,V.resolvedUri=V.uri),V.id=V.id||j,V.attributes=V.attributes||{},n.playlists[V.id]=V,n.playlists[V.uri]=V})}),function(n){for(var e=n.playlists.length;e--;){var i=n.playlists[e];ug({playlist:i,id:M0(e,i.uri)}),i.resolvedUri=Zr(n.uri,i.uri),n.playlists[i.id]=i,n.playlists[i.uri]=i,i.attributes.BANDWIDTH||Hs.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(n),function(n){Ru(n,function(e){e.uri&&(e.resolvedUri=Zr(n.uri,e.uri))})}(n)},ku=Ne.mergeOptions,l1=function(n,e){if(!n)return e;var i=ku(n,e);if(n.preloadHints&&!e.preloadHints&&delete i.preloadHints,n.parts&&!e.parts)delete i.parts;else if(n.parts&&e.parts)for(var t=0;t<e.parts.length;t++)n.parts&&n.parts[t]&&(i.parts[t]=ku(n.parts[t],e.parts[t]));return!n.skipped&&e.skipped&&(i.skipped=!1),n.preload&&!e.preload&&(i.preload=!1),i},I0=function(n,e){!n.resolvedUri&&n.uri&&(n.resolvedUri=Zr(e,n.uri)),n.key&&!n.key.resolvedUri&&(n.key.resolvedUri=Zr(e,n.key.uri)),n.map&&!n.map.resolvedUri&&(n.map.resolvedUri=Zr(e,n.map.uri)),n.map&&n.map.key&&!n.map.key.resolvedUri&&(n.map.key.resolvedUri=Zr(e,n.map.key.uri)),n.parts&&n.parts.length&&n.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=Zr(e,i.uri))}),n.preloadHints&&n.preloadHints.length&&n.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=Zr(e,i.uri))})},O0=function(n){var e=n.segments||[],i=n.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints)for(var t=0;t<i.preloadHints.length;t++)if("MAP"===i.preloadHints[t].type)return e;i.duration=n.targetDuration,i.preload=!0,e.push(i)}return e},P0=function(n,e){return n===e||n.segments&&e.segments&&n.segments.length===e.segments.length&&n.endList===e.endList&&n.mediaSequence===e.mediaSequence&&n.preloadSegment===e.preloadSegment},fg=function(n,e,i){void 0===i&&(i=P0);var t=ku(n,{}),r=t.playlists[e.id];if(!r||i(r,e))return null;e.segments=O0(e);var l=ku(r,e);if(l.preloadSegment&&!e.preloadSegment&&delete l.preloadSegment,r.segments){if(e.skip){e.segments=e.segments||[];for(var d=0;d<e.skip.skippedSegments;d++)e.segments.unshift({skipped:!0})}l.segments=function(n,e,i){var t=n.slice(),r=e.slice();i=i||0;for(var d,l=[],p=0;p<r.length;p++){var m=t[p+i],y=r[p];m?(d=m.map||d,l.push(l1(m,y))):(d&&!y.map&&(y.map=d),l.push(y))}return l}(r.segments,e.segments,e.mediaSequence-r.mediaSequence)}l.segments.forEach(function(m){I0(m,l.resolvedUri)});for(var p=0;p<t.playlists.length;p++)t.playlists[p].id===e.id&&(t.playlists[p]=l);return t.playlists[e.id]=l,t.playlists[e.uri]=l,Ru(n,function(m,y,N,M){if(m.playlists)for(var V=0;V<m.playlists.length;V++)e.id===m.playlists[V].id&&(m.playlists[V]=e)}),t},Fu=function(n,e){var i=n.segments||[],t=i[i.length-1],r=t&&t.parts&&t.parts[t.parts.length-1],l=r&&r.duration||t&&t.duration;return e&&l?1e3*l:500*(n.partTargetDuration||n.targetDuration||10)},ua=function(s){function n(i,t,r){var l;if(void 0===r&&(r={}),l=s.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");l.logger_=Ss("PlaylistLoader");var p=r.withCredentials,m=void 0!==p&&p,y=r.handleManifestRedirects,N=void 0!==y&&y;l.src=i,l.vhs_=t,l.withCredentials=m,l.handleManifestRedirects=N;var M=t.options_;return l.customTagParsers=M&&M.customTagParsers||[],l.customTagMappers=M&&M.customTagMappers||[],l.experimentalLLHLS=M&&M.experimentalLLHLS||!1,Ne.browser.IE_VERSION&&(l.experimentalLLHLS=!1),l.state="HAVE_NOTHING",l.handleMediaupdatetimeout_=l.handleMediaupdatetimeout_.bind(Kt(l)),l.on("mediaupdatetimeout",l.handleMediaupdatetimeout_),l}Et(n,s);var e=n.prototype;return e.handleMediaupdatetimeout_=function(){var t=this;if("HAVE_METADATA"===this.state){var r=this.media(),l=Zr(this.master.uri,r.uri);this.experimentalLLHLS&&(l=function(n,e){if(e.endList||!e.serverControl)return n;var i={};if(e.serverControl.canBlockReload){var t=e.preloadSegment,r=e.mediaSequence+e.segments.length;if(t){var l=t.parts||[],d=la(e)-1;d>-1&&d!==l.length-1&&(i._HLS_part=d),(d>-1||l.length)&&r--}i._HLS_msn=r}if(e.serverControl&&e.serverControl.canSkipUntil&&(i._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var p=new(oe().URL)(n);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(m){!i.hasOwnProperty(m)||p.searchParams.set(m,i[m])}),n=p.toString()}return n}(l,r)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:l,withCredentials:this.withCredentials},function(d,p){if(t.request){if(d)return t.playlistRequestError(t.request,t.media(),"HAVE_METADATA");t.haveMetadata({playlistString:t.request.responseText,url:t.media().uri,id:t.media().id})}})}},e.playlistRequestError=function(t,r,l){var d=r.uri,p=r.id;this.request=null,l&&(this.state=l),this.error={playlist:this.master.playlists[p],status:t.status,message:"HLS playlist request error at URL: "+d+".",responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")},e.parseManifest_=function(t){var r=this,l=t.url;return function(n){var e=n.onwarn,i=n.oninfo,t=n.manifestString,r=n.customTagParsers,l=void 0===r?[]:r,d=n.customTagMappers,p=void 0===d?[]:d,m=n.experimentalLLHLS,y=new Xs;e&&y.on("warn",e),i&&y.on("info",i),l.forEach(function(j){return y.addParser(j)}),p.forEach(function(j){return y.addTagMapper(j)}),y.push(t),y.end();var N=y.manifest;if(m||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(j){N.hasOwnProperty(j)&&delete N[j]}),N.segments&&N.segments.forEach(function(j){["parts","preloadHints"].forEach(function(z){j.hasOwnProperty(z)&&delete j[z]})})),!N.targetDuration){var M=10;N.segments&&N.segments.length&&(M=N.segments.reduce(function(j,z){return Math.max(j,z.duration)},0)),e&&e("manifest has no targetDuration defaulting to "+M),N.targetDuration=M}var V=D0(N);if(V.length&&!N.partTargetDuration){var q=V.reduce(function(j,z){return Math.max(j,z.duration)},0);e&&(e("manifest has no partTargetDuration defaulting to "+q),Hs.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),N.partTargetDuration=q}return N}({onwarn:function(m){return r.logger_("m3u8-parser warn for "+l+": "+m.message)},oninfo:function(m){return r.logger_("m3u8-parser info for "+l+": "+m.message)},manifestString:t.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},e.haveMetadata=function(t){var r=t.playlistString,l=t.playlistObject,d=t.url,p=t.id;this.request=null,this.state="HAVE_METADATA";var m=l||this.parseManifest_({url:d,manifestString:r});m.lastRequest=Date.now(),ug({playlist:m,uri:d,id:p});var y=fg(this.master,m);this.targetDuration=m.partTargetDuration||m.targetDuration,this.pendingMedia_=null,y?(this.master=y,this.media_=this.master.playlists[p]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Fu(this.media(),!!y)),this.trigger("loadedplaylist")},e.dispose=function(){this.trigger("dispose"),this.stopRequest(),oe().clearTimeout(this.mediaUpdateTimeout),oe().clearTimeout(this.finalRenditionTimeout),this.off()},e.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},e.media=function(t,r){var l=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}if(oe().clearTimeout(this.finalRenditionTimeout),r){var d=(t.partTargetDuration||t.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=oe().setTimeout(this.media.bind(this,t,!1),d)}else{var p=this.state,m=!this.media_||t.id!==this.media_.id,y=this.master.playlists[t.id];if(y&&y.endList||t.endList&&t.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(m&&(this.trigger("mediachanging"),this.trigger("HAVE_MASTER"===p?"loadedmetadata":"mediachange")));if(this.updateMediaUpdateTimeout_(Fu(t,!0)),m){if(this.state="SWITCHING_MEDIA",this.request){if(t.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=t,this.request=this.vhs_.xhr({uri:t.resolvedUri,withCredentials:this.withCredentials},function(N,M){if(l.request){if(t.lastRequest=Date.now(),t.resolvedUri=zf(l.handleManifestRedirects,t.resolvedUri,M),N)return l.playlistRequestError(l.request,t,p);l.haveMetadata({playlistString:M.responseText,url:t.uri,id:t.id}),l.trigger("HAVE_MASTER"===p?"loadedmetadata":"mediachange")}})}}},e.pause=function(){this.mediaUpdateTimeout&&(oe().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},e.load=function(t){var r=this;this.mediaUpdateTimeout&&(oe().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var l=this.media();if(t){var d=l?(l.partTargetDuration||l.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=oe().setTimeout(function(){r.mediaUpdateTimeout=null,r.load()},d)}else this.started?this.trigger(l&&!l.endList?"mediaupdatetimeout":"loadedplaylist"):this.start()},e.updateMediaUpdateTimeout_=function(t){var r=this;this.mediaUpdateTimeout&&(oe().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=oe().setTimeout(function(){r.mediaUpdateTimeout=null,r.trigger("mediaupdatetimeout"),r.updateMediaUpdateTimeout_(t)},t))},e.start=function(){var t=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=oe().location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){t.setupInitialPlaylist(t.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(r,l){if(t.request){if(t.request=null,r)return t.error={status:l.status,message:"HLS playlist request error at URL: "+t.src+".",responseText:l.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.src=zf(t.handleManifestRedirects,t.src,l);var d=t.parseManifest_({manifestString:l.responseText,url:t.src});t.setupInitialPlaylist(d)}})},e.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},e.setupInitialPlaylist=function(t){if(this.state="HAVE_MASTER",t.playlists)return this.master=t,cg(this.master,this.srcUri()),t.playlists.forEach(function(l){l.segments=O0(l),l.segments.forEach(function(d){I0(d,l.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var r=this.srcUri()||oe().location.href;this.master=function(n,e){var i=M0(0,e),t={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:oe().location.href,resolvedUri:oe().location.href,playlists:[{uri:e,id:i,resolvedUri:e,attributes:{}}]};return t.playlists[i]=t.playlists[0],t.playlists[e]=t.playlists[0],t}(0,r),this.haveMetadata({playlistObject:t,url:r,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},n}(Ne.EventTarget),c1=Ne.xhr,pd=Ne.mergeOptions,hg=function(n,e,i,t){var r="arraybuffer"===n.responseType?n.response:n.responseText;!e&&r&&(n.responseTime=Date.now(),n.roundTripTime=n.responseTime-n.requestTime,n.bytesReceived=r.byteLength||r.length,n.bandwidth||(n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3))),i.headers&&(n.responseHeaders=i.headers),e&&"ETIMEDOUT"===e.code&&(n.timedout=!0),!e&&!n.aborted&&200!==i.statusCode&&206!==i.statusCode&&0!==i.statusCode&&(e=new Error("XHR Failed with a response of: "+(n&&(r||n.responseText)))),t(e,n)},R0=function(){var n=function e(i,t){i=pd({timeout:45e3},i);var r=e.beforeRequest||Ne.Vhs.xhr.beforeRequest;if(r&&"function"==typeof r){var l=r(i);l&&(i=l)}var p=(!0===Ne.Vhs.xhr.original?c1:Ne.Vhs.xhr)(i,function(y,N){return hg(p,y,N,t)}),m=p.abort;return p.abort=function(){return p.aborted=!0,m.apply(p,arguments)},p.uri=i.uri,p.requestTime=Date.now(),p};return n.original=!0,n},Us=function(n){var e={};return n.byterange&&(e.Range=function(n){return"bytes="+n.offset+"-"+("bigint"==typeof n.offset||"bigint"==typeof n.length?oe().BigInt(n.offset)+oe().BigInt(n.length)-oe().BigInt(1):n.offset+n.length-1)}(n.byterange)),e},gd=function(n,e){return n.start(e)+"-"+n.end(e)},jr=function(n,e){var i=n.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},Al=function(n){return n>=32&&n<126?String.fromCharCode(n):"."},md=function(n){var e={};return Object.keys(n).forEach(function(i){var t=n[i];e[i]=ArrayBuffer.isView(t)?{bytes:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength}:t}),e},Jr=function(n){var e=n.byterange||{length:1/0,offset:0};return[e.length,e.offset,n.resolvedUri].join(",")},Kf=function(n){return n.resolvedUri},Ml=function(n){for(var e=Array.prototype.slice.call(n),i=16,t="",d=0;d<e.length/i;d++)t+=e.slice(d*i,d*i+i).map(jr).join("")+" "+e.slice(d*i,d*i+i).map(Al).join("")+"\n";return t},Hu=Object.freeze({__proto__:null,createTransferableMessage:md,initSegmentId:Jr,segmentKeyId:Kf,hexDump:Ml,tagDump:function(n){return Ml(n.bytes)},textRanges:function(n){var i,e="";for(i=0;i<n.length;i++)e+=gd(n,i)+" ";return e}}),B0=function s(n){var e=n.programTime,i=n.playlist,t=n.retryCount,r=void 0===t?2:t,l=n.seekTo,d=n.pauseAfterSeek,p=void 0===d||d,m=n.tech,y=n.callback;if(!y)throw new Error("seekToProgramTime: callback must be provided");if(void 0===e||!i||!l)return y({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!m.hasStarted_)return y({message:"player must be playing a live stream to start buffering"});if(!function(n){if(!n.segments||0===n.segments.length)return!1;for(var e=0;e<n.segments.length;e++)if(!n.segments[e].dateTimeObject)return!1;return!0}(i))return y({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var N=function(n,e){var i;try{i=new Date(n)}catch(N){return null}if(!e||!e.segments||0===e.segments.length)return null;var t=e.segments[0];if(i<t.dateTimeObject)return null;for(var r=0;r<e.segments.length-1&&(t=e.segments[r],!(i<e.segments[r+1].dateTimeObject));r++);var d=e.segments[e.segments.length-1],p=d.dateTimeObject,m=d.videoTimingInfo?function(n){return n.transmuxedPresentationEnd-n.transmuxedPresentationStart-n.transmuxerPrependedSeconds}(d.videoTimingInfo):d.duration+.25*d.duration;return i>new Date(p.getTime()+1e3*m)?null:(i>p&&(t=d),{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:Cs.duration(e,e.mediaSequence+e.segments.indexOf(t)),type:t.videoTimingInfo?"accurate":"estimate"})}(e,i);if(!N)return y({message:e+" was not found in the stream"});var M=N.segment,V=function(n,e){var i,t;try{i=new Date(n),t=new Date(e)}catch(d){}var r=i.getTime();return(t.getTime()-r)/1e3}(M.dateTimeObject,e);if("estimate"===N.type)return 0===r?y({message:e+" is not buffered yet. Try again"}):(l(N.estimatedStart+V),void m.one("seeked",function(){s({programTime:e,playlist:i,retryCount:r-1,seekTo:l,pauseAfterSeek:p,tech:m,callback:y})}));var q=M.start+V;m.one("seeked",function(){return y(null,m.currentTime())}),p&&m.pause(),l(q)},qf=function(n,e){if(4===n.readyState)return e()},gg=Ne.mergeOptions,mg=function(n,e){if(!P0(n,e)||n.sidx&&e.sidx&&(n.sidx.offset!==e.sidx.offset||n.sidx.length!==e.sidx.length))return!1;if(!n.sidx&&e.sidx||n.sidx&&!e.sidx||n.segments&&!e.segments||!n.segments&&e.segments)return!1;if(!n.segments&&!e.segments)return!0;for(var i=0;i<n.segments.length;i++){var t=n.segments[i],r=e.segments[i];if(t.uri!==r.uri)return!1;if(t.byterange||r.byterange){var l=t.byterange,d=r.byterange;if(l&&!d||!l&&d||l.offset!==d.offset||l.length!==d.length)return!1}}return!0},f1=function(n,e){return(Boolean(!n.map&&!e.map)||Boolean(n.map&&e.map&&n.map.byterange.offset===e.map.byterange.offset&&n.map.byterange.length===e.map.byterange.length))&&n.uri===e.uri&&n.byterange.offset===e.byterange.offset&&n.byterange.length===e.byterange.length},vg=function(n,e){var i={};for(var t in n){var l=n[t].sidx;if(l){var d=ll(l);if(!e[d])break;f1(e[d].sidxInfo,l)&&(i[d]=e[d])}}return i},_g=function(s){function n(i,t,r,l){var d;void 0===r&&(r={}),(d=s.call(this)||this).masterPlaylistLoader_=l||Kt(d),l||(d.isMaster_=!0);var m=r.withCredentials,y=void 0!==m&&m,N=r.handleManifestRedirects,M=void 0!==N&&N;if(d.vhs_=t,d.withCredentials=y,d.handleManifestRedirects=M,!i)throw new Error("A non-empty playlist URL or object is required");return d.on("minimumUpdatePeriod",function(){d.refreshXml_()}),d.on("mediaupdatetimeout",function(){d.refreshMedia_(d.media().id)}),d.state="HAVE_NOTHING",d.loadedPlaylists_={},d.logger_=Ss("DashPlaylistLoader"),d.isMaster_?(d.masterPlaylistLoader_.srcUrl=i,d.masterPlaylistLoader_.sidxMapping_={}):d.childPlaylist_=i,d}Et(n,s);var e=n.prototype;return e.requestErrored_=function(t,r,l){return!this.request||(this.request=null,t?(this.error="object"!=typeof t||t instanceof Error?{status:r.status,message:"DASH request error at URL: "+r.uri,response:r.response,code:2}:t,l&&(this.state=l),this.trigger("error"),!0):void 0)},e.addSidxSegments_=function(t,r,l){var d=this,p=t.sidx&&ll(t.sidx);if(t.sidx&&p&&!this.masterPlaylistLoader_.sidxMapping_[p]){var m=zf(this.handleManifestRedirects,t.sidx.resolvedUri),y=function(M,V){if(!d.requestErrored_(M,V,r)){var j,q=d.masterPlaylistLoader_.sidxMapping_;try{j=pD()($t(V.response).subarray(8))}catch(z){return void d.requestErrored_(z,V,r)}return q[p]={sidxInfo:t.sidx,sidx:j},Sc(t,j,t.sidx.resolvedUri),l(!0)}};this.request=function(n,e,i){var r,t=[],l=!1,d=function(M,V,q,j){return V.abort(),l=!0,i(M,V,q,j)},p=function(M,V){if(!l){if(M)return d(M,V,"",t);var q=V.responseText.substring(t&&t.byteLength||0,V.responseText.length);if(t=function(){for(var n=arguments.length,e=new Array(n),i=0;i<n;i++)e[i]=arguments[i];if((e=e.filter(function(d){return d&&(d.byteLength||d.length)&&"string"!=typeof d})).length<=1)return $t(e[0]);var t=e.reduce(function(d,p,m){return d+(p.byteLength||p.length)},0),r=new Uint8Array(t),l=0;return e.forEach(function(d){d=$t(d),r.set(d,l),l+=d.byteLength}),r}(t,lf(q,!0)),r=r||Ac(t),t.length<10||r&&t.length<r+2)return qf(V,function(){return d(M,V,"",t)});var j=rp(t);return"ts"===j&&t.length<188||!j&&t.length<376?qf(V,function(){return d(M,V,"",t)}):d(null,V,j,t)}},y=e({uri:n,beforeSend:function(M){M.overrideMimeType("text/plain; charset=x-user-defined"),M.addEventListener("progress",function(V){return hg(M,null,{statusCode:M.status},p)})}},function(N,M){return hg(y,N,M,p)});return y}(m,this.vhs_.xhr,function(N,M,V,q){if(N)return y(N,M);if(!V||"mp4"!==V)return y({status:M.status,message:"Unsupported "+(V||"unknown")+" container type for sidx segment at URL: "+m,response:"",playlist:t,internal:!0,blacklistDuration:1/0,code:2},M);var j=t.sidx.byterange,z=j.offset,ve=j.length;if(q.length>=ve+z)return y(N,{response:q.subarray(z,z+ve),status:M.status,uri:M.uri});d.request=d.vhs_.xhr({uri:m,responseType:"arraybuffer",headers:Us({byterange:t.sidx.byterange})},y)})}else this.mediaRequest_=oe().setTimeout(function(){return l(!1)},0)},e.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},oe().clearTimeout(this.minimumUpdatePeriodTimeout_),oe().clearTimeout(this.mediaRequest_),oe().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},e.hasPendingRequest=function(){return this.request||this.mediaRequest_},e.stopRequest=function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}},e.media=function(t){var r=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var l=this.state;if("string"==typeof t){if(!this.masterPlaylistLoader_.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.masterPlaylistLoader_.master.playlists[t]}var d=!this.media_||t.id!==this.media_.id;if(d&&this.loadedPlaylists_[t.id]&&this.loadedPlaylists_[t.id].endList)return this.state="HAVE_METADATA",this.media_=t,void(d&&(this.trigger("mediachanging"),this.trigger("mediachange")));!d||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(t,l,function(p){r.haveMetadata({startingState:l,playlist:t})}))},e.haveMetadata=function(t){var r=t.startingState,l=t.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[l.id]=l,this.mediaRequest_=null,this.refreshMedia_(l.id),this.trigger("HAVE_MASTER"===r?"loadedmetadata":"mediachange")},e.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),oe().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(oe().clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},e.load=function(t){var r=this;oe().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var l=this.media();if(t){var d=l?l.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=oe().setTimeout(function(){return r.load()},d)}else this.started?l&&!l.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},e.start=function(){var t=this;this.started=!0,this.isMaster_?this.requestMaster_(function(r,l){t.haveMaster_(),!t.hasPendingRequest()&&!t.media_&&t.media(t.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=oe().setTimeout(function(){return t.haveMaster_()},0)},e.requestMaster_=function(t){var r=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(l,d){if(!r.requestErrored_(l,d)){var p=d.responseText!==r.masterPlaylistLoader_.masterXml_;return r.masterPlaylistLoader_.masterXml_=d.responseText,r.masterLoaded_=d.responseHeaders&&d.responseHeaders.date?Date.parse(d.responseHeaders.date):Date.now(),r.masterPlaylistLoader_.srcUrl=zf(r.handleManifestRedirects,r.masterPlaylistLoader_.srcUrl,d),p?(r.handleMaster_(),void r.syncClientServerClock_(function(){return t(d,p)})):t(d,p)}"HAVE_NOTHING"===r.state&&(r.started=!1)})},e.syncClientServerClock_=function(t){var r=this,l=function(n){return function(n){var e=Pi(n,"UTCTiming")[0];if(!e)return null;var i=Wi(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return i}(Zb(n))}(this.masterPlaylistLoader_.masterXml_);return null===l?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===l.method?(this.masterPlaylistLoader_.clientOffset_=l.value-Date.now(),t()):void(this.request=this.vhs_.xhr({uri:Zr(this.masterPlaylistLoader_.srcUrl,l.value),method:l.method,withCredentials:this.withCredentials},function(d,p){if(r.request){if(d)return r.masterPlaylistLoader_.clientOffset_=r.masterLoaded_-Date.now(),t();var m;m="HEAD"===l.method?p.responseHeaders&&p.responseHeaders.date?Date.parse(p.responseHeaders.date):r.masterLoaded_:Date.parse(p.responseText),r.masterPlaylistLoader_.clientOffset_=m-Date.now(),t()}}))},e.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},e.handleMaster_=function(){this.mediaRequest_=null;var t=this.masterPlaylistLoader_.master,r=function(n){var i=n.srcUrl,d=function(n,e){void 0===e&&(e={});var i=function(n,e){void 0===e&&(e={});var i=e,t=i.manifestUri,r=void 0===t?"":t,l=i.NOW,d=void 0===l?Date.now():l,p=i.clientOffset,m=void 0===p?0:p,y=Pi(n,"Period");if(!y.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var N=Pi(n,"Location"),M=Wi(n),V=Ja([r],Pi(n,"BaseURL"));M.type=M.type||"static",M.sourceDuration=M.mediaPresentationDuration||0,M.NOW=d,M.clientOffset=m,N.length&&(M.locations=N.map(No));var q=[];return y.forEach(function(j,z){var ve=Wi(j),_e=q[z-1];ve.start=function(n){var e=n.attributes,i=n.priorPeriodAttributes;return"number"==typeof e.start?e.start:i&&"number"==typeof i.start&&"number"==typeof i.duration?i.start+i.duration:i||"static"!==n.mpdType?null:0}({attributes:ve,priorPeriodAttributes:_e?_e.attributes:null,mpdType:M.type}),q.push({node:j,attributes:ve})}),{locations:M.locations,representationInfo:il(q.map(Ri(M,V)))}}(Zb(n),e),t=function(n){return n.map(qb)}(i.representationInfo);return Mn({dashPlaylists:t,locations:i.locations,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest})}(n.masterXml,{manifestUri:i,clientOffset:n.clientOffset,sidxMapping:n.sidxMapping,previousManifest:n.previousManifest});return cg(d,i),d}({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:t});t&&(r=function(n,e,i){for(var t=!0,r=gg(n,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts}),l=0;l<e.playlists.length;l++){var d=e.playlists[l];if(d.sidx){var p=ll(d.sidx);i&&i[p]&&i[p].sidx&&Sc(d,i[p].sidx,d.sidx.resolvedUri)}var m=fg(r,d,mg);m&&(r=m,t=!1)}return Ru(e,function(y,N,M,V){if(y.playlists&&y.playlists.length){var q=y.playlists[0].id,j=fg(r,y.playlists[0],mg);j&&((r=j).mediaGroups[N][M][V].playlists[0]=r.playlists[q],t=!1)}}),e.minimumUpdatePeriod!==n.minimumUpdatePeriod&&(t=!1),t?null:r}(t,r,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=r||t;var l=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return l&&l!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=l),(!t||r&&r.minimumUpdatePeriod!==t.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(r)},e.updateMinimumUpdatePeriodTimeout_=function(){var t=this.masterPlaylistLoader_;t.createMupOnMedia_&&(t.off("loadedmetadata",t.createMupOnMedia_),t.createMupOnMedia_=null),t.minimumUpdatePeriodTimeout_&&(oe().clearTimeout(t.minimumUpdatePeriodTimeout_),t.minimumUpdatePeriodTimeout_=null);var r=t.master&&t.master.minimumUpdatePeriod;0===r&&(t.media()?r=1e3*t.media().targetDuration:(t.createMupOnMedia_=t.updateMinimumUpdatePeriodTimeout_,t.one("loadedmetadata",t.createMupOnMedia_))),"number"!=typeof r||r<=0?r<0&&this.logger_("found invalid minimumUpdatePeriod of "+r+", not setting a timeout"):this.createMUPTimeout_(r)},e.createMUPTimeout_=function(t){var r=this.masterPlaylistLoader_;r.minimumUpdatePeriodTimeout_=oe().setTimeout(function(){r.minimumUpdatePeriodTimeout_=null,r.trigger("minimumUpdatePeriod"),r.createMUPTimeout_(t)},t)},e.refreshXml_=function(){var t=this;this.requestMaster_(function(r,l){!l||(t.media_&&(t.media_=t.masterPlaylistLoader_.master.playlists[t.media_.id]),t.masterPlaylistLoader_.sidxMapping_=function(n,e){var t=vg(n.playlists,e);return Ru(n,function(r,l,d,p){r.playlists&&r.playlists.length&&(t=gg(t,vg(r.playlists,e)))}),t}(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.sidxMapping_),t.addSidxSegments_(t.media(),t.state,function(d){t.refreshMedia_(t.media().id)}))})},e.refreshMedia_=function(t){var r=this;if(!t)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var l=this.masterPlaylistLoader_.master.playlists,d=!this.media_||this.media_!==l[t];d?this.media_=l[t]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function m(){r.media().endList||(r.mediaUpdateTimeout=oe().setTimeout(function(){r.trigger("mediaupdatetimeout"),m()},Fu(r.media(),Boolean(d))))}(),this.trigger("loadedplaylist")},n}(Ne.EventTarget),br={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},W0=function(n){return n.on=n.addEventListener,n.off=n.removeEventListener,n},z0=function(n){return function(){var e=function(n){try{return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))}catch(i){var e=new BlobBuilder;return e.append(n),URL.createObjectURL(e.getBlob())}}(n),i=W0(new Worker(e));i.objURL=e;var t=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(e),t.call(this)},i}},Y0=function(n){return"var browserWorkerPolyFill = "+W0.toString()+";\nbrowserWorkerPolyFill(self);\n"+n},h1=function(n){return n.toString().replace(/^function.+?{/,"").slice(0,-1)},p1=Y0(h1(function(){var s=function(){this.init=function(){var _={};this.on=function(E,D){_[E]||(_[E]=[]),_[E]=_[E].concat(D)},this.off=function(E,D){var x;return!!_[E]&&(x=_[E].indexOf(D),_[E]=_[E].slice(),_[E].splice(x,1),x>-1)},this.trigger=function(E){var D,x,L,H;if(D=_[E])if(2===arguments.length)for(L=D.length,x=0;x<L;++x)D[x].call(this,arguments[1]);else{for(H=[],x=arguments.length,x=1;x<arguments.length;++x)H.push(arguments[x]);for(L=D.length,x=0;x<L;++x)D[x].apply(this,H)}},this.dispose=function(){_={}}}};s.prototype.pipe=function($){return this.on("data",function(_){$.push(_)}),this.on("done",function(_){$.flush(_)}),this.on("partialdone",function(_){$.partialFlush(_)}),this.on("endedtimeline",function(_){$.endTimeline(_)}),this.on("reset",function(_){$.reset(_)}),$},s.prototype.push=function($){this.trigger("data",$)},s.prototype.flush=function($){this.trigger("done",$)},s.prototype.partialFlush=function($){this.trigger("partialdone",$)},s.prototype.endTimeline=function($){this.trigger("endedtimeline",$)},s.prototype.reset=function($){this.trigger("reset",$)};var l,d,p,m,y,N,M,V,q,j,z,ve,_e,Ve,Ge,je,it,ht,ze,At,Dt,Zt,Ut,Tn,er,Ln,or,Li,es,$r,$s,To,ws,Va,zs,So,$,_,n=s,e=Math.pow(2,32),t={getUint64:function(_){var D,E=new DataView(_.buffer,_.byteOffset,_.byteLength);return E.getBigUint64?(D=E.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(D):D:E.getUint32(0)*e+E.getUint32(4)},MAX_UINT32:e},r=t.MAX_UINT32;(function(){var $;if(Ut={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for($ in Ut)Ut.hasOwnProperty($)&&(Ut[$]=[$.charCodeAt(0),$.charCodeAt(1),$.charCodeAt(2),$.charCodeAt(3)]);Tn=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Ln=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),er=new Uint8Array([0,0,0,1]),or=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Li=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),es={video:or,audio:Li},To=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),$s=new Uint8Array([0,0,0,0,0,0,0,0]),ws=new Uint8Array([0,0,0,0,0,0,0,0]),Va=ws,zs=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),So=ws,$r=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),l=function(_){var x,L,E=[],D=0;for(x=1;x<arguments.length;x++)E.push(arguments[x]);for(x=E.length;x--;)D+=E[x].byteLength;for(L=new Uint8Array(D+8),new DataView(L.buffer,L.byteOffset,L.byteLength).setUint32(0,L.byteLength),L.set(_,4),x=0,D=8;x<E.length;x++)L.set(E[x],D),D+=E[x].byteLength;return L},d=function(){return l(Ut.dinf,l(Ut.dref,To))},p=function(_){return l(Ut.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,_.audioobjecttype<<3|_.samplingfrequencyindex>>>1,_.samplingfrequencyindex<<7|_.channelcount<<3,6,1,2]))},m=function(){return l(Ut.ftyp,Tn,er,Tn,Ln)},je=function(_){return l(Ut.hdlr,es[_])},y=function(_){return l(Ut.mdat,_)},Ge=function(_){var E=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,_.duration>>>24&255,_.duration>>>16&255,_.duration>>>8&255,255&_.duration,85,196,0,0]);return _.samplerate&&(E[12]=_.samplerate>>>24&255,E[13]=_.samplerate>>>16&255,E[14]=_.samplerate>>>8&255,E[15]=255&_.samplerate),l(Ut.mdhd,E)},Ve=function(_){return l(Ut.mdia,Ge(_),je(_.type),M(_))},N=function(_){return l(Ut.mfhd,new Uint8Array([0,0,0,0,(4278190080&_)>>24,(16711680&_)>>16,(65280&_)>>8,255&_]))},M=function(_){return l(Ut.minf,"video"===_.type?l(Ut.vmhd,$r):l(Ut.smhd,$s),d(),ht(_))},V=function(_,E){for(var D=[],x=E.length;x--;)D[x]=At(E[x]);return l.apply(null,[Ut.moof,N(_)].concat(D))},q=function(_){for(var E=_.length,D=[];E--;)D[E]=ve(_[E]);return l.apply(null,[Ut.moov,z(4294967295)].concat(D).concat(j(_)))},j=function(_){for(var E=_.length,D=[];E--;)D[E]=Dt(_[E]);return l.apply(null,[Ut.mvex].concat(D))},z=function(_){var E=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&_)>>24,(16711680&_)>>16,(65280&_)>>8,255&_,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return l(Ut.mvhd,E)},it=function(_){var x,L,E=_.samples||[],D=new Uint8Array(4+E.length);for(L=0;L<E.length;L++)D[L+4]=(x=E[L].flags).dependsOn<<4|x.isDependedOn<<2|x.hasRedundancy;return l(Ut.sdtp,D)},ht=function(_){return l(Ut.stbl,ze(_),l(Ut.stts,So),l(Ut.stsc,Va),l(Ut.stsz,zs),l(Ut.stco,ws))},ze=function(D){return l(Ut.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===D.type?$(D):_(D))},$=function(D){var ae,Te,x=D.sps||[],L=D.pps||[],H=[],ie=[];for(ae=0;ae<x.length;ae++)H.push((65280&x[ae].byteLength)>>>8),H.push(255&x[ae].byteLength),H=H.concat(Array.prototype.slice.call(x[ae]));for(ae=0;ae<L.length;ae++)ie.push((65280&L[ae].byteLength)>>>8),ie.push(255&L[ae].byteLength),ie=ie.concat(Array.prototype.slice.call(L[ae]));if(Te=[Ut.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&D.width)>>8,255&D.width,(65280&D.height)>>8,255&D.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l(Ut.avcC,new Uint8Array([1,D.profileIdc,D.profileCompatibility,D.levelIdc,255].concat([x.length],H,[L.length],ie))),l(Ut.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],D.sarRatio){var he=D.sarRatio[0],Ie=D.sarRatio[1];Te.push(l(Ut.pasp,new Uint8Array([(4278190080&he)>>24,(16711680&he)>>16,(65280&he)>>8,255&he,(4278190080&Ie)>>24,(16711680&Ie)>>16,(65280&Ie)>>8,255&Ie])))}return l.apply(null,Te)},_=function(D){return l(Ut.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&D.channelcount)>>8,255&D.channelcount,(65280&D.samplesize)>>8,255&D.samplesize,0,0,0,0,(65280&D.samplerate)>>8,255&D.samplerate,0,0]),p(D))},_e=function(_){var E=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&_.id)>>24,(16711680&_.id)>>16,(65280&_.id)>>8,255&_.id,0,0,0,0,(4278190080&_.duration)>>24,(16711680&_.duration)>>16,(65280&_.duration)>>8,255&_.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&_.width)>>8,255&_.width,0,0,(65280&_.height)>>8,255&_.height,0,0]);return l(Ut.tkhd,E)},At=function(_){var E,D,x,L,ie,ae;return E=l(Ut.tfhd,new Uint8Array([0,0,0,58,(4278190080&_.id)>>24,(16711680&_.id)>>16,(65280&_.id)>>8,255&_.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),ie=Math.floor(_.baseMediaDecodeTime/r),ae=Math.floor(_.baseMediaDecodeTime%r),D=l(Ut.tfdt,new Uint8Array([1,0,0,0,ie>>>24&255,ie>>>16&255,ie>>>8&255,255&ie,ae>>>24&255,ae>>>16&255,ae>>>8&255,255&ae])),"audio"===_.type?(x=Zt(_,92),l(Ut.traf,E,D,x)):(L=it(_),x=Zt(_,L.length+92),l(Ut.traf,E,D,x,L))},ve=function(_){return _.duration=_.duration||4294967295,l(Ut.trak,_e(_),Ve(_))},Dt=function(_){var E=new Uint8Array([0,0,0,0,(4278190080&_.id)>>24,(16711680&_.id)>>16,(65280&_.id)>>8,255&_.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==_.type&&(E[E.length-1]=0),l(Ut.trex,E)},function(){var $,_,E;E=function(x,L){var H=0,ie=0,ae=0,Te=0;return x.length&&(void 0!==x[0].duration&&(H=1),void 0!==x[0].size&&(ie=2),void 0!==x[0].flags&&(ae=4),void 0!==x[0].compositionTimeOffset&&(Te=8)),[0,0,H|ie|ae|Te,1,(4278190080&x.length)>>>24,(16711680&x.length)>>>16,(65280&x.length)>>>8,255&x.length,(4278190080&L)>>>24,(16711680&L)>>>16,(65280&L)>>>8,255&L]},_=function(x,L){var H,ie,ae,Te,he,Ie;for(ae=E(Te=x.samples||[],L+=20+16*Te.length),(ie=new Uint8Array(ae.length+16*Te.length)).set(ae),H=ae.length,Ie=0;Ie<Te.length;Ie++)ie[H++]=(4278190080&(he=Te[Ie]).duration)>>>24,ie[H++]=(16711680&he.duration)>>>16,ie[H++]=(65280&he.duration)>>>8,ie[H++]=255&he.duration,ie[H++]=(4278190080&he.size)>>>24,ie[H++]=(16711680&he.size)>>>16,ie[H++]=(65280&he.size)>>>8,ie[H++]=255&he.size,ie[H++]=he.flags.isLeading<<2|he.flags.dependsOn,ie[H++]=he.flags.isDependedOn<<6|he.flags.hasRedundancy<<4|he.flags.paddingValue<<1|he.flags.isNonSyncSample,ie[H++]=61440&he.flags.degradationPriority,ie[H++]=15&he.flags.degradationPriority,ie[H++]=(4278190080&he.compositionTimeOffset)>>>24,ie[H++]=(16711680&he.compositionTimeOffset)>>>16,ie[H++]=(65280&he.compositionTimeOffset)>>>8,ie[H++]=255&he.compositionTimeOffset;return l(Ut.trun,ie)},$=function(x,L){var H,ie,ae,Te,he,Ie;for(ae=E(Te=x.samples||[],L+=20+8*Te.length),(H=new Uint8Array(ae.length+8*Te.length)).set(ae),ie=ae.length,Ie=0;Ie<Te.length;Ie++)H[ie++]=(4278190080&(he=Te[Ie]).duration)>>>24,H[ie++]=(16711680&he.duration)>>>16,H[ie++]=(65280&he.duration)>>>8,H[ie++]=255&he.duration,H[ie++]=(4278190080&he.size)>>>24,H[ie++]=(16711680&he.size)>>>16,H[ie++]=(65280&he.size)>>>8,H[ie++]=255&he.size;return l(Ut.trun,H)},Zt=function(x,L){return"audio"===x.type?$(x,L):_(x,L)}}();var pc,Wd,Fh,$d,Lh,Gm,Aw,Mw,Co_mdat=y,Co_moof=V,Rh=function(_,E){var D={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return D.dataOffset=E,D.compositionTimeOffset=_.pts-_.dts,D.duration=_.duration,D.size=4*_.length,D.size+=_.byteLength,_.keyFrame&&(D.flags.dependsOn=2,D.flags.isNonSyncSample=0),D},Do=[33,16,5,32,164,27],Vm=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ii=function(_){for(var E=[];_--;)E.push(0);return E};Wd=function(_){return 9e4*_},Fh=function(_,E){return _*E},$d=function(_){return _/9e4},Lh=function(_,E){return _/E},Gm=function(_,E){return Wd(Lh(_,E))},Aw=function(_,E){return Fh($d(_),E)},Mw=function(_,E,D){return $d(D?_:_-E)};var ri_secondsToVideoTs=Wd,ri_videoTsToSeconds=$d,ri_audioTsToVideoTs=Gm,ri_videoTsToAudioTs=Aw,ri_metadataTsToSeconds=Mw,Ab_prefixWithSilence=function(_,E,D,x){var L,he,Ie,tt,H=0,ie=0,ae=0,Te=0;if(E.length&&(L=ri_audioTsToVideoTs(_.baseMediaDecodeTime,_.samplerate),H=Math.ceil(9e4/(_.samplerate/1024)),D&&x&&(ie=L-Math.max(D,x),Te=(ae=Math.floor(ie/H))*H),!(ae<1||Te>45e3))){for((he=function(){if(!pc){var _={96e3:[Do,[227,64],ii(154),[56]],88200:[Do,[231],ii(170),[56]],64e3:[Do,[248,192],ii(240),[56]],48e3:[Do,[255,192],ii(268),[55,148,128],ii(54),[112]],44100:[Do,[255,192],ii(268),[55,163,128],ii(84),[112]],32e3:[Do,[255,192],ii(268),[55,234],ii(226),[112]],24e3:[Do,[255,192],ii(268),[55,255,128],ii(268),[111,112],ii(126),[224]],16e3:[Do,[255,192],ii(268),[55,255,128],ii(268),[111,255],ii(269),[223,108],ii(195),[1,192]],12e3:[Vm,ii(268),[3,127,248],ii(268),[6,255,240],ii(268),[13,255,224],ii(268),[27,253,128],ii(259),[56]],11025:[Vm,ii(268),[3,127,248],ii(268),[6,255,240],ii(268),[13,255,224],ii(268),[27,255,192],ii(268),[55,175,128],ii(108),[112]],8e3:[Vm,ii(268),[3,121,16],ii(47),[7]]};pc=function(_){return Object.keys(_).reduce(function(E,D){return E[D]=new Uint8Array(_[D].reduce(function(x,L){return x.concat(L)},[])),E},{})}(_)}return pc}()[_.samplerate])||(he=E[0].data),Ie=0;Ie<ae;Ie++)E.splice(0,0,{data:he,dts:(tt=E[0]).dts-H,pts:tt.pts-H});return _.baseMediaDecodeTime-=Math.floor(ri_videoTsToAudioTs(Te,_.samplerate)),Te}},Eo_clearDtsInfo=function(_){delete _.minSegmentDts,delete _.maxSegmentDts,delete _.minSegmentPts,delete _.maxSegmentPts},Eo_calculateTrackBaseMediaDecodeTime=function(_,E){var D,L=_.minSegmentDts;return E||(L-=_.timelineStartInfo.dts),D=_.timelineStartInfo.baseMediaDecodeTime,D+=L,D=Math.max(0,D),"audio"===_.type&&(D*=_.samplerate/9e4,D=Math.floor(D)),D},Eo_collectDtsInfo=function(_,E){"number"==typeof E.pts&&(void 0===_.timelineStartInfo.pts&&(_.timelineStartInfo.pts=E.pts),_.minSegmentPts=void 0===_.minSegmentPts?E.pts:Math.min(_.minSegmentPts,E.pts),_.maxSegmentPts=void 0===_.maxSegmentPts?E.pts:Math.max(_.maxSegmentPts,E.pts)),"number"==typeof E.dts&&(void 0===_.timelineStartInfo.dts&&(_.timelineStartInfo.dts=E.dts),_.minSegmentDts=void 0===_.minSegmentDts?E.dts:Math.min(_.minSegmentDts,E.dts),_.maxSegmentDts=void 0===_.maxSegmentDts?E.dts:Math.max(_.maxSegmentDts,E.dts))},_a=function $(_){_=_||{},$.prototype.init.call(this),this.parse708captions_="boolean"!=typeof _.parse708captions||_.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Yi(0,0),new Yi(0,1),new Yi(1,0),new Yi(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ti({captionServices:_.captionServices})),this.reset(),this.ccStreams_.forEach(function(E){E.on("data",this.trigger.bind(this,"data")),E.on("partialdone",this.trigger.bind(this,"partialdone")),E.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(_a.prototype=new n).push=function($){var _,E,D;if("sei_rbsp"===$.nalUnitType&&(_=function(_){for(var E=0,D={payloadType:-1,payloadSize:0},x=0,L=0;E<_.byteLength&&128!==_[E];){for(;255===_[E];)x+=255,E++;for(x+=_[E++];255===_[E];)L+=255,E++;if(L+=_[E++],!D.payload&&4===x){if("GA94"===String.fromCharCode(_[E+3],_[E+4],_[E+5],_[E+6])){D.payloadType=x,D.payloadSize=L,D.payload=_.subarray(E,E+L);break}D.payload=void 0}E+=L,x=0,L=0}return D}($.escapedRBSP)).payload&&4===_.payloadType&&(E=function(_){return 181!==_.payload[0]||49!=(_.payload[1]<<8|_.payload[2])||"GA94"!==String.fromCharCode(_.payload[3],_.payload[4],_.payload[5],_.payload[6])||3!==_.payload[7]?null:_.payload.subarray(8,_.payload.length-1)}(_))){if($.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if($.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));D=function(_,E){var x,L,H,ie,D=[];if(!(64&E[0]))return D;for(L=31&E[0],x=0;x<L;x++)ie={type:3&E[2+(H=3*x)],pts:_},4&E[H+2]&&(ie.ccData=E[H+3]<<8|E[H+4],D.push(ie));return D}($.pts,E),this.captionPackets_=this.captionPackets_.concat(D),this.latestDts_!==$.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=$.dts}},_a.prototype.flushCCStreams=function($){this.ccStreams_.forEach(function(_){return"flush"===$?_.flush():_.partialFlush()},this)},_a.prototype.flushStream=function($){this.captionPackets_.length?(this.captionPackets_.forEach(function(_,E){_.presortIndex=E}),this.captionPackets_.sort(function(_,E){return _.pts===E.pts?_.presortIndex-E.presortIndex:_.pts-E.pts}),this.captionPackets_.forEach(function(_){_.type<2?this.dispatchCea608Packet(_):this.dispatchCea708Packet(_)},this),this.captionPackets_.length=0,this.flushCCStreams($)):this.flushCCStreams($)},_a.prototype.flush=function(){return this.flushStream("flush")},_a.prototype.partialFlush=function(){return this.flushStream("partialFlush")},_a.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function($){$.reset()})},_a.prototype.dispatchCea608Packet=function($){this.setsTextOrXDSActive($)?this.activeCea608Channel_[$.type]=null:this.setsChannel1Active($)?this.activeCea608Channel_[$.type]=0:this.setsChannel2Active($)&&(this.activeCea608Channel_[$.type]=1),null!==this.activeCea608Channel_[$.type]&&this.ccStreams_[($.type<<1)+this.activeCea608Channel_[$.type]].push($)},_a.prototype.setsChannel1Active=function($){return 4096==(30720&$.ccData)},_a.prototype.setsChannel2Active=function($){return 6144==(30720&$.ccData)},_a.prototype.setsTextOrXDSActive=function($){return 256==(28928&$.ccData)||4138==(30974&$.ccData)||6186==(30974&$.ccData)},_a.prototype.dispatchCea708Packet=function($){this.parse708captions_&&this.cc708Stream_.push($)};var UA={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Mb=function(_){return 32<=_&&_<=127||160<=_&&_<=255},zl=function(_){this.windowNum=_,this.reset()};zl.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},zl.prototype.getText=function(){return this.rows.join("\n")},zl.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},zl.prototype.newLine=function($){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow($),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},zl.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},zl.prototype.addText=function($){this.rows[this.rowIdx]+=$},zl.prototype.backspace=function(){if(!this.isEmpty()){var $=this.rows[this.rowIdx];this.rows[this.rowIdx]=$.substr(0,$.length-1)}};var Nb=function(_,E,D){this.serviceNum=_,this.text="",this.currentWindow=new zl(-1),this.windows=[],this.stream=D,"string"==typeof E&&this.createTextDecoder(E)};Nb.prototype.init=function($,_){this.startPts=$;for(var E=0;E<8;E++)this.windows[E]=new zl(E),"function"==typeof _&&(this.windows[E].beforeRowOverflow=_)},Nb.prototype.setCurrentWindow=function($){this.currentWindow=this.windows[$]},Nb.prototype.createTextDecoder=function($){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder($)}catch(_){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+$+" encoding. "+_})}};var Ti=function $(_){_=_||{},$.prototype.init.call(this);var L,E=this,D=_.captionServices||{},x={};Object.keys(D).forEach(function(H){L=D[H],/^SERVICE/.test(H)&&(x[H]=L.encoding)}),this.serviceEncodings=x,this.current708Packet=null,this.services={},this.push=function(H){3===H.type?(E.new708Packet(),E.add708Bytes(H)):(null===E.current708Packet&&E.new708Packet(),E.add708Bytes(H))}};Ti.prototype=new n,Ti.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ti.prototype.add708Bytes=function($){var _=$.ccData,E=_>>>8,D=255&_;this.current708Packet.ptsVals.push($.pts),this.current708Packet.data.push(E),this.current708Packet.data.push(D)},Ti.prototype.push708Packet=function(){var $=this.current708Packet,_=$.data,E=null,D=null,x=0,L=_[x++];for($.seq=L>>6,$.sizeCode=63&L;x<_.length;x++)D=31&(L=_[x++]),7==(E=L>>5)&&D>0&&(E=L=_[x++]),this.pushServiceBlock(E,x,D),D>0&&(x+=D-1)},Ti.prototype.pushServiceBlock=function($,_,E){var D,x=_,L=this.current708Packet.data,H=this.services[$];for(H||(H=this.initService($,x));x<_+E&&x<L.length;x++)Mb(D=L[x])?x=this.handleText(x,H):24===D?x=this.multiByteCharacter(x,H):16===D?x=this.extendedCommands(x,H):128<=D&&D<=135?x=this.setCurrentWindow(x,H):152<=D&&D<=159?x=this.defineWindow(x,H):136===D?x=this.clearWindows(x,H):140===D?x=this.deleteWindows(x,H):137===D?x=this.displayWindows(x,H):138===D?x=this.hideWindows(x,H):139===D?x=this.toggleWindows(x,H):151===D?x=this.setWindowAttributes(x,H):144===D?x=this.setPenAttributes(x,H):145===D?x=this.setPenColor(x,H):146===D?x=this.setPenLocation(x,H):143===D?H=this.reset(x,H):8===D?H.currentWindow.backspace():12===D?H.currentWindow.clearText():13===D?H.currentWindow.pendingNewLine=!0:14===D?H.currentWindow.clearText():141===D&&x++},Ti.prototype.extendedCommands=function($,_){var D=this.current708Packet.data[++$];return Mb(D)&&($=this.handleText($,_,{isExtended:!0})),$},Ti.prototype.getPts=function($){return this.current708Packet.ptsVals[Math.floor($/2)]},Ti.prototype.initService=function($,_){var D,x,E=this;return(D="SERVICE"+$)in this.serviceEncodings&&(x=this.serviceEncodings[D]),this.services[$]=new Nb($,x,E),this.services[$].init(this.getPts(_),function(L){E.flushDisplayed(L,E.services[$])}),this.services[$]},Ti.prototype.handleText=function($,_,E){var he,Ie,D=E&&E.isExtended,L=this.current708Packet.data,H=D?4096:0,ie=L[$],Te=_.currentWindow;return _.textDecoder_&&!D?(E&&E.isMultiByte?(Ie=[ie,L[$+1]],$++):Ie=[ie],he=_.textDecoder_.decode(new Uint8Array(Ie))):he=function(_){var E=UA[_]||_;return 4096&_&&_===E?"":String.fromCharCode(E)}(H|ie),Te.pendingNewLine&&!Te.isEmpty()&&Te.newLine(this.getPts($)),Te.pendingNewLine=!1,Te.addText(he),$},Ti.prototype.multiByteCharacter=function($,_){var E=this.current708Packet.data,x=E[$+2];return Mb(E[$+1])&&Mb(x)&&($=this.handleText(++$,_,{isMultiByte:!0})),$},Ti.prototype.setCurrentWindow=function($,_){return _.setCurrentWindow(7&this.current708Packet.data[$]),$},Ti.prototype.defineWindow=function($,_){var E=this.current708Packet.data,D=E[$];_.setCurrentWindow(7&D);var L=_.currentWindow;return D=E[++$],L.visible=(32&D)>>5,L.rowLock=(16&D)>>4,L.columnLock=(8&D)>>3,L.priority=7&D,D=E[++$],L.relativePositioning=(128&D)>>7,L.anchorVertical=127&D,D=E[++$],L.anchorHorizontal=D,D=E[++$],L.anchorPoint=(240&D)>>4,L.rowCount=15&D,D=E[++$],L.columnCount=63&D,D=E[++$],L.windowStyle=(56&D)>>3,L.penStyle=7&D,L.virtualRowCount=L.rowCount+1,$},Ti.prototype.setWindowAttributes=function($,_){var E=this.current708Packet.data,D=E[$],x=_.currentWindow.winAttr;return D=E[++$],x.fillOpacity=(192&D)>>6,x.fillRed=(48&D)>>4,x.fillGreen=(12&D)>>2,x.fillBlue=3&D,D=E[++$],x.borderType=(192&D)>>6,x.borderRed=(48&D)>>4,x.borderGreen=(12&D)>>2,x.borderBlue=3&D,D=E[++$],x.borderType+=(128&D)>>5,x.wordWrap=(64&D)>>6,x.printDirection=(48&D)>>4,x.scrollDirection=(12&D)>>2,x.justify=3&D,D=E[++$],x.effectSpeed=(240&D)>>4,x.effectDirection=(12&D)>>2,x.displayEffect=3&D,$},Ti.prototype.flushDisplayed=function($,_){for(var E=[],D=0;D<8;D++)_.windows[D].visible&&!_.windows[D].isEmpty()&&E.push(_.windows[D].getText());_.endPts=$,_.text=E.join("\n\n"),this.pushCaption(_),_.startPts=$},Ti.prototype.pushCaption=function($){""!==$.text&&(this.trigger("data",{startPts:$.startPts,endPts:$.endPts,text:$.text,stream:"cc708_"+$.serviceNum}),$.text="",$.startPts=$.endPts)},Ti.prototype.displayWindows=function($,_){var D=this.current708Packet.data[++$],x=this.getPts($);this.flushDisplayed(x,_);for(var L=0;L<8;L++)D&1<<L&&(_.windows[L].visible=1);return $},Ti.prototype.hideWindows=function($,_){var D=this.current708Packet.data[++$],x=this.getPts($);this.flushDisplayed(x,_);for(var L=0;L<8;L++)D&1<<L&&(_.windows[L].visible=0);return $},Ti.prototype.toggleWindows=function($,_){var D=this.current708Packet.data[++$],x=this.getPts($);this.flushDisplayed(x,_);for(var L=0;L<8;L++)D&1<<L&&(_.windows[L].visible^=1);return $},Ti.prototype.clearWindows=function($,_){var D=this.current708Packet.data[++$],x=this.getPts($);this.flushDisplayed(x,_);for(var L=0;L<8;L++)D&1<<L&&_.windows[L].clearText();return $},Ti.prototype.deleteWindows=function($,_){var D=this.current708Packet.data[++$],x=this.getPts($);this.flushDisplayed(x,_);for(var L=0;L<8;L++)D&1<<L&&_.windows[L].reset();return $},Ti.prototype.setPenAttributes=function($,_){var E=this.current708Packet.data,D=E[$],x=_.currentWindow.penAttr;return D=E[++$],x.textTag=(240&D)>>4,x.offset=(12&D)>>2,x.penSize=3&D,D=E[++$],x.italics=(128&D)>>7,x.underline=(64&D)>>6,x.edgeType=(56&D)>>3,x.fontStyle=7&D,$},Ti.prototype.setPenColor=function($,_){var E=this.current708Packet.data,D=E[$],x=_.currentWindow.penColor;return D=E[++$],x.fgOpacity=(192&D)>>6,x.fgRed=(48&D)>>4,x.fgGreen=(12&D)>>2,x.fgBlue=3&D,D=E[++$],x.bgOpacity=(192&D)>>6,x.bgRed=(48&D)>>4,x.bgGreen=(12&D)>>2,x.bgBlue=3&D,D=E[++$],x.edgeRed=(48&D)>>4,x.edgeGreen=(12&D)>>2,x.edgeBlue=3&D,$},Ti.prototype.setPenLocation=function($,_){var E=this.current708Packet.data,D=E[$],x=_.currentWindow.penLoc;return _.currentWindow.pendingNewLine=!0,D=E[++$],x.row=15&D,D=E[++$],x.column=63&D,$},Ti.prototype.reset=function($,_){var E=this.getPts($);return this.flushDisplayed(E,_),this.initService(_.serviceNum,$)};var GA={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ib=function(_){return null===_?"":(_=GA[_]||_,String.fromCharCode(_))},jA=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],zd=function(){for(var _=[],E=15;E--;)_.push("");return _},Yi=function $(_,E){$.prototype.init.call(this),this.field_=_||0,this.dataChannel_=E||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(D){var x,L,H,ie,ae;if((x=32639&D.ccData)!==this.lastControlCode_){if(4096==(61440&x)?this.lastControlCode_=x:x!==this.PADDING_&&(this.lastControlCode_=null),H=x>>>8,ie=255&x,x!==this.PADDING_)if(x===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(x===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(D.pts),this.flushDisplayed(D.pts),L=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=L,this.startPts_=D.pts;else if(x===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(D.pts);else if(x===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(D.pts);else if(x===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(D.pts);else if(x===this.CARRIAGE_RETURN_)this.clearFormatting(D.pts),this.flushDisplayed(D.pts),this.shiftRowsUp_(),this.startPts_=D.pts;else if(x===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(x===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(D.pts),this.displayed_=zd();else if(x===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=zd();else if(x===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(D.pts),this.displayed_=zd()),this.mode_="paintOn",this.startPts_=D.pts;else if(this.isSpecialCharacter(H,ie))ae=Ib((H=(3&H)<<8)|ie),this[this.mode_](D.pts,ae),this.column_++;else if(this.isExtCharacter(H,ie))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),ae=Ib((H=(3&H)<<8)|ie),this[this.mode_](D.pts,ae),this.column_++;else if(this.isMidRowCode(H,ie))this.clearFormatting(D.pts),this[this.mode_](D.pts," "),this.column_++,14==(14&ie)&&this.addFormatting(D.pts,["i"]),1==(1&ie)&&this.addFormatting(D.pts,["u"]);else if(this.isOffsetControlCode(H,ie))this.column_+=3&ie;else if(this.isPAC(H,ie)){var Te=jA.indexOf(7968&x);"rollUp"===this.mode_&&(Te-this.rollUpRows_+1<0&&(Te=this.rollUpRows_-1),this.setRollUp(D.pts,Te)),Te!==this.row_&&(this.clearFormatting(D.pts),this.row_=Te),1&ie&&-1===this.formatting_.indexOf("u")&&this.addFormatting(D.pts,["u"]),16==(16&x)&&(this.column_=4*((14&x)>>1)),this.isColorPAC(ie)&&14==(14&ie)&&this.addFormatting(D.pts,["i"])}else this.isNormalChar(H)&&(0===ie&&(ie=null),ae=Ib(H),ae+=Ib(ie),this[this.mode_](D.pts,ae),this.column_+=ae.length)}else this.lastControlCode_=null}};Yi.prototype=new n,Yi.prototype.flushDisplayed=function($){var _=this.displayed_.map(function(E,D){try{return E.trim()}catch(x){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+D+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");_.length&&this.trigger("data",{startPts:this.startPts_,endPts:$,text:_,stream:this.name_})},Yi.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=zd(),this.nonDisplayed_=zd(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Yi.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Yi.prototype.isSpecialCharacter=function($,_){return $===this.EXT_&&_>=48&&_<=63},Yi.prototype.isExtCharacter=function($,_){return($===this.EXT_+1||$===this.EXT_+2)&&_>=32&&_<=63},Yi.prototype.isMidRowCode=function($,_){return $===this.EXT_&&_>=32&&_<=47},Yi.prototype.isOffsetControlCode=function($,_){return $===this.OFFSET_&&_>=33&&_<=35},Yi.prototype.isPAC=function($,_){return $>=this.BASE_&&$<this.BASE_+8&&_>=64&&_<=127},Yi.prototype.isColorPAC=function($){return $>=64&&$<=79||$>=96&&$<=127},Yi.prototype.isNormalChar=function($){return $>=32&&$<=127},Yi.prototype.setRollUp=function($,_){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed($),this.nonDisplayed_=zd(),this.displayed_=zd()),void 0!==_&&_!==this.row_)for(var E=0;E<this.rollUpRows_;E++)this.displayed_[_-E]=this.displayed_[this.row_-E],this.displayed_[this.row_-E]="";void 0===_&&(_=this.row_),this.topRow_=_-this.rollUpRows_+1},Yi.prototype.addFormatting=function($,_){this.formatting_=this.formatting_.concat(_);var E=_.reduce(function(D,x){return D+"<"+x+">"},"");this[this.mode_]($,E)},Yi.prototype.clearFormatting=function($){if(this.formatting_.length){var _=this.formatting_.reverse().reduce(function(E,D){return E+"</"+D+">"},"");this.formatting_=[],this[this.mode_]($,_)}},Yi.prototype.popOn=function($,_){var E=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=E+=_},Yi.prototype.rollUp=function($,_){var E=this.displayed_[this.row_];this.displayed_[this.row_]=E+=_},Yi.prototype.shiftRowsUp_=function(){var $;for($=0;$<this.topRow_;$++)this.displayed_[$]="";for($=this.row_+1;$<15;$++)this.displayed_[$]="";for($=this.topRow_;$<this.row_;$++)this.displayed_[$]=this.displayed_[$+1];this.displayed_[this.row_]=""},Yi.prototype.paintOn=function($,_){var E=this.displayed_[this.row_];this.displayed_[this.row_]=E+=_};var Pb={CaptionStream:_a,Cea608Stream:Yi,Cea708Stream:Ti},ts={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},JC=function(_,E){var D=1;for(_>E&&(D=-1);Math.abs(E-_)>4294967296;)_+=8589934592*D;return _},Ow=function $(_){var E,D;$.prototype.init.call(this),this.type_=_||"shared",this.push=function(x){"shared"!==this.type_&&x.type!==this.type_||(void 0===D&&(D=x.dts),x.dts=JC(x.dts,D),x.pts=JC(x.pts,D),E=x.dts,this.trigger("data",x))},this.flush=function(){D=E,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){D=void 0,E=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ow.prototype=new n;var Fb,Pw_TimestampRolloverStream=Ow,Pw_handleRollover=JC,Rw=function(_,E,D){var x,L="";for(x=E;x<D;x++)L+="%"+("00"+_[x].toString(16)).slice(-2);return L},Rb=function(_,E,D){return decodeURIComponent(Rw(_,E,D))},zA=function(_,E,D){return unescape(Rw(_,E,D))},kb=function(_){return _[0]<<21|_[1]<<14|_[2]<<7|_[3]},kw={TXXX:function(_){var E;if(3===_.data[0]){for(E=1;E<_.data.length;E++)if(0===_.data[E]){_.description=Rb(_.data,1,E),_.value=Rb(_.data,E+1,_.data.length).replace(/\0*$/,"");break}_.data=_.value}},WXXX:function(_){var E;if(3===_.data[0])for(E=1;E<_.data.length;E++)if(0===_.data[E]){_.description=Rb(_.data,1,E),_.url=Rb(_.data,E+1,_.data.length);break}},PRIV:function(_){var E;for(E=0;E<_.data.length;E++)if(0===_.data[E]){_.owner=zA(_.data,0,E);break}_.privateData=_.data.subarray(E+1),_.data=_.privateData}};Fb=function(_){var H,E={descriptor:_&&_.descriptor},D=0,x=[],L=0;if(Fb.prototype.init.call(this),this.dispatchType=ts.METADATA_STREAM_TYPE.toString(16),E.descriptor)for(H=0;H<E.descriptor.length;H++)this.dispatchType+=("00"+E.descriptor[H].toString(16)).slice(-2);this.push=function(ie){var ae,Te,he,Ie,tt;if("timed-metadata"===ie.type){if(ie.dataAlignmentIndicator&&(L=0,x.length=0),0===x.length&&(ie.data.length<10||ie.data[0]!=="I".charCodeAt(0)||ie.data[1]!=="D".charCodeAt(0)||ie.data[2]!=="3".charCodeAt(0)))return void this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});if(x.push(ie),L+=ie.data.byteLength,1===x.length&&(D=kb(ie.data.subarray(6,10)),D+=10),!(L<D)){for(ae={data:new Uint8Array(D),frames:[],pts:x[0].pts,dts:x[0].dts},tt=0;tt<D;)ae.data.set(x[0].data.subarray(0,D-tt),tt),tt+=x[0].data.byteLength,L-=x[0].data.byteLength,x.shift();Te=10,64&ae.data[5]&&(Te+=4,Te+=kb(ae.data.subarray(10,14)),D-=kb(ae.data.subarray(16,20)));do{if((he=kb(ae.data.subarray(Te+4,Te+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((Ie={id:String.fromCharCode(ae.data[Te],ae.data[Te+1],ae.data[Te+2],ae.data[Te+3]),data:ae.data.subarray(Te+10,Te+he+10)}).key=Ie.id,kw[Ie.id]&&(kw[Ie.id](Ie),"com.apple.streaming.transportStreamTimestamp"===Ie.owner)){var jt=Ie.data,It=(1&jt[3])<<30|jt[4]<<22|jt[5]<<14|jt[6]<<6|jt[7]>>>2;It*=4,Ie.timeStamp=It+=3&jt[7],void 0===ae.pts&&void 0===ae.dts&&(ae.pts=Ie.timeStamp,ae.dts=Ie.timeStamp),this.trigger("timestamp",Ie)}ae.frames.push(Ie),Te+=10,Te+=he}while(Te<D);this.trigger("data",ae)}}}},Fb.prototype=new n;var Lb,Wm,Bb,YA=Fb,KA=Pw_TimestampRolloverStream;Lb=function(){var _=new Uint8Array(188),E=0;Lb.prototype.init.call(this),this.push=function(D){var H,x=0,L=188;for(E?((H=new Uint8Array(D.byteLength+E)).set(_.subarray(0,E)),H.set(D,E),E=0):H=D;L<H.byteLength;)71!==H[x]||71!==H[L]?(x++,L++):(this.trigger("data",H.subarray(x,L)),x+=188,L+=188);x<H.byteLength&&(_.set(H.subarray(x),0),E=H.byteLength-x)},this.flush=function(){188===E&&71===_[0]&&(this.trigger("data",_),E=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){E=0,this.trigger("reset")}},Lb.prototype=new n,Wm=function(){var _,E,D,x;Wm.prototype.init.call(this),x=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,_=function(H,ie){var ae=0;ie.payloadUnitStartIndicator&&(ae+=H[ae]+1),"pat"===ie.type?E(H.subarray(ae),ie):D(H.subarray(ae),ie)},E=function(H,ie){ie.section_number=H[7],ie.last_section_number=H[8],x.pmtPid=(31&H[10])<<8|H[11],ie.pmtPid=x.pmtPid},D=function(H,ie){var Te,Ie;if(1&H[5]){for(x.programMapTable={video:null,audio:null,"timed-metadata":{}},Te=3+((15&H[1])<<8|H[2])-4,Ie=12+((15&H[10])<<8|H[11]);Ie<Te;){var tt=H[Ie],Rt=(31&H[Ie+1])<<8|H[Ie+2];tt===ts.H264_STREAM_TYPE&&null===x.programMapTable.video?x.programMapTable.video=Rt:tt===ts.ADTS_STREAM_TYPE&&null===x.programMapTable.audio?x.programMapTable.audio=Rt:tt===ts.METADATA_STREAM_TYPE&&(x.programMapTable["timed-metadata"][Rt]=tt),Ie+=5+((15&H[Ie+3])<<8|H[Ie+4])}ie.programMapTable=x.programMapTable}},this.push=function(L){var H={},ie=4;if(H.payloadUnitStartIndicator=!!(64&L[1]),H.pid=31&L[1],H.pid<<=8,H.pid|=L[2],(48&L[3])>>>4>1&&(ie+=L[ie]+1),0===H.pid)H.type="pat",_(L.subarray(ie),H),this.trigger("data",H);else if(H.pid===this.pmtPid)for(H.type="pmt",_(L.subarray(ie),H),this.trigger("data",H);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([L,ie,H]):this.processPes_(L,ie,H)},this.processPes_=function(L,H,ie){ie.streamType=ie.pid===this.programMapTable.video?ts.H264_STREAM_TYPE:ie.pid===this.programMapTable.audio?ts.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][ie.pid],ie.type="pes",ie.data=L.subarray(H),this.trigger("data",ie)}},Wm.prototype=new n,Wm.STREAM_TYPES={h264:27,adts:15},Bb=function(){var H,_=this,E=!1,D={data:[],size:0},x={data:[],size:0},L={data:[],size:0},ae=function(he,Ie,tt){var As,Rt=new Uint8Array(he.size),jt={type:Ie},It=0,an=0,Mr=!1;if(he.data.length&&!(he.size<9)){for(jt.trackId=he.data[0].pid,It=0;It<he.data.length;It++)Rt.set((As=he.data[It]).data,an),an+=As.data.byteLength;(function(he,Ie){var tt,Rt=he[0]<<16|he[1]<<8|he[2];Ie.data=new Uint8Array,1===Rt&&(Ie.packetLength=6+(he[4]<<8|he[5]),Ie.dataAlignmentIndicator=0!=(4&he[6]),192&(tt=he[7])&&(Ie.pts=(14&he[9])<<27|(255&he[10])<<20|(254&he[11])<<12|(255&he[12])<<5|(254&he[13])>>>3,Ie.pts*=4,Ie.pts+=(6&he[13])>>>1,Ie.dts=Ie.pts,64&tt&&(Ie.dts=(14&he[14])<<27|(255&he[15])<<20|(254&he[16])<<12|(255&he[17])<<5|(254&he[18])>>>3,Ie.dts*=4,Ie.dts+=(6&he[18])>>>1)),Ie.data=he.subarray(9+he[8]))})(Rt,jt),Mr="video"===Ie||jt.packetLength<=he.size,(tt||Mr)&&(he.size=0,he.data.length=0),Mr&&_.trigger("data",jt)}};Bb.prototype.init.call(this),this.push=function(Te){({pat:function(){},pes:function(){var Ie,tt;switch(Te.streamType){case ts.H264_STREAM_TYPE:Ie=D,tt="video";break;case ts.ADTS_STREAM_TYPE:Ie=x,tt="audio";break;case ts.METADATA_STREAM_TYPE:Ie=L,tt="timed-metadata";break;default:return}Te.payloadUnitStartIndicator&&ae(Ie,tt,!0),Ie.data.push(Te),Ie.size+=Te.data.byteLength},pmt:function(){var Ie={type:"metadata",tracks:[]};null!==(H=Te.programMapTable).video&&Ie.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+H.video,codec:"avc",type:"video"}),null!==H.audio&&Ie.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+H.audio,codec:"adts",type:"audio"}),E=!0,_.trigger("data",Ie)}})[Te.type]()},this.reset=function(){D.size=0,D.data.length=0,x.size=0,x.data.length=0,this.trigger("reset")},this.flushStreams_=function(){ae(D,"video"),ae(x,"audio"),ae(L,"timed-metadata")},this.flush=function(){if(!E&&H){var Te={type:"metadata",tracks:[]};null!==H.video&&Te.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+H.video,codec:"avc",type:"video"}),null!==H.audio&&Te.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+H.audio,codec:"adts",type:"audio"}),_.trigger("data",Te)}E=!1,this.flushStreams_(),this.trigger("done")}},Bb.prototype=new n;var Fw={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Lb,TransportParseStream:Wm,ElementaryStream:Bb,TimestampRolloverStream:KA,CaptionStream:Pb.CaptionStream,Cea608Stream:Pb.Cea608Stream,Cea708Stream:Pb.Cea708Stream,MetadataStream:YA};for(var tD in ts)ts.hasOwnProperty(tD)&&(Fw[tD]=ts[tD]);var Hb,Yl=Fw,Lw=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Hb=function(_){var E,D=0;Hb.prototype.init.call(this),this.skipWarn_=function(x,L){this.trigger("log",{level:"warn",message:"adts skiping bytes "+x+" to "+L+" in frame "+D+" outside syncword"})},this.push=function(x){var H,ie,ae,Te,he,L=0;if(_||(D=0),"audio"===x.type){E&&E.length?(ae=E,(E=new Uint8Array(ae.byteLength+x.data.byteLength)).set(ae),E.set(x.data,ae.byteLength)):E=x.data;for(var Ie;L+7<E.length;)if(255===E[L]&&240==(246&E[L+1])){if("number"==typeof Ie&&(this.skipWarn_(Ie,L),Ie=null),ie=2*(1&~E[L+1]),he=9e4*(Te=1024*(1+(3&E[L+6])))/Lw[(60&E[L+2])>>>2],E.byteLength-L<(H=(3&E[L+3])<<11|E[L+4]<<3|(224&E[L+5])>>5))break;this.trigger("data",{pts:x.pts+D*he,dts:x.dts+D*he,sampleCount:Te,audioobjecttype:1+(E[L+2]>>>6&3),channelcount:(1&E[L+2])<<2|(192&E[L+3])>>>6,samplerate:Lw[(60&E[L+2])>>>2],samplingfrequencyindex:(60&E[L+2])>>>2,samplesize:16,data:E.subarray(L+7+ie,L+H)}),D++,L+=H}else"number"!=typeof Ie&&(Ie=L),L++;"number"==typeof Ie&&(this.skipWarn_(Ie,L),Ie=null),E=E.subarray(L)}},this.flush=function(){D=0,this.trigger("done")},this.reset=function(){E=void 0,this.trigger("reset")},this.endTimeline=function(){E=void 0,this.trigger("endedtimeline")}},Hb.prototype=new n;var Hw,Bw=Hb;Hw=function(_){var E=_.byteLength,D=0,x=0;this.length=function(){return 8*E},this.bitsAvailable=function(){return 8*E+x},this.loadWord=function(){var L=_.byteLength-E,H=new Uint8Array(4),ie=Math.min(4,E);if(0===ie)throw new Error("no bytes available");H.set(_.subarray(L,L+ie)),D=new DataView(H.buffer).getUint32(0),x=8*ie,E-=ie},this.skipBits=function(L){var H;x>L?(D<<=L,x-=L):(L-=x,L-=8*(H=Math.floor(L/8)),E-=H,this.loadWord(),D<<=L,x-=L)},this.readBits=function(L){var H=Math.min(x,L),ie=D>>>32-H;return(x-=H)>0?D<<=H:E>0&&this.loadWord(),(H=L-H)>0?ie<<H|this.readBits(H):ie},this.skipLeadingZeros=function(){var L;for(L=0;L<x;++L)if(0!=(D&2147483648>>>L))return D<<=L,x-=L,L;return this.loadWord(),L+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var L=this.skipLeadingZeros();return this.readBits(L+1)-1},this.readExpGolomb=function(){var L=this.readUnsignedExpGolomb();return 1&L?1+L>>>1:-1*(L>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Ub,$m,Uw,XA=Hw;$m=function(){var E,D,_=0;$m.prototype.init.call(this),this.push=function(x){var L;D?((L=new Uint8Array(D.byteLength+x.data.byteLength)).set(D),L.set(x.data,D.byteLength),D=L):D=x.data;for(var H=D.byteLength;_<H-3;_++)if(1===D[_+2]){E=_+5;break}for(;E<H;)switch(D[E]){case 0:if(0!==D[E-1]){E+=2;break}if(0!==D[E-2]){E++;break}_+3!==E-2&&this.trigger("data",D.subarray(_+3,E-2));do{E++}while(1!==D[E]&&E<H);_=E-2,E+=3;break;case 1:if(0!==D[E-1]||0!==D[E-2]){E+=3;break}this.trigger("data",D.subarray(_+3,E-2)),_=E-2,E+=3;break;default:E+=3}D=D.subarray(_),E-=_,_=0},this.reset=function(){D=null,_=0,this.trigger("reset")},this.flush=function(){D&&D.byteLength>3&&this.trigger("data",D.subarray(_+3)),D=null,_=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},$m.prototype=new n,Uw={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Ub=function(){var E,D,x,L,H,ie,ae,_=new $m;Ub.prototype.init.call(this),E=this,this.push=function(Te){"video"===Te.type&&(D=Te.trackId,x=Te.pts,L=Te.dts,_.push(Te))},_.on("data",function(Te){var he={trackId:D,pts:x,dts:L,data:Te,nalUnitTypeCode:31&Te[0]};switch(he.nalUnitTypeCode){case 5:he.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:he.nalUnitType="sei_rbsp",he.escapedRBSP=H(Te.subarray(1));break;case 7:he.nalUnitType="seq_parameter_set_rbsp",he.escapedRBSP=H(Te.subarray(1)),he.config=ie(he.escapedRBSP);break;case 8:he.nalUnitType="pic_parameter_set_rbsp";break;case 9:he.nalUnitType="access_unit_delimiter_rbsp"}E.trigger("data",he)}),_.on("done",function(){E.trigger("done")}),_.on("partialdone",function(){E.trigger("partialdone")}),_.on("reset",function(){E.trigger("reset")}),_.on("endedtimeline",function(){E.trigger("endedtimeline")}),this.flush=function(){_.flush()},this.partialFlush=function(){_.partialFlush()},this.reset=function(){_.reset()},this.endTimeline=function(){_.endTimeline()},ae=function(he,Ie){var jt,tt=8,Rt=8;for(jt=0;jt<he;jt++)0!==Rt&&(Rt=(tt+Ie.readExpGolomb()+256)%256),tt=0===Rt?tt:Rt},H=function(he){for(var jt,It,Ie=he.byteLength,tt=[],Rt=1;Rt<Ie-2;)0===he[Rt]&&0===he[Rt+1]&&3===he[Rt+2]?(tt.push(Rt+2),Rt+=2):Rt++;if(0===tt.length)return he;jt=Ie-tt.length,It=new Uint8Array(jt);var an=0;for(Rt=0;Rt<jt;an++,Rt++)an===tt[0]&&(an++,tt.shift()),It[Rt]=he[an];return It},ie=function(he){var It,an,Mr,As,Xd,oD,sx,ax,ox,lD,lx,Qd,Ie=0,tt=0,Rt=0,jt=0,lr=[1,1];if(an=(It=new XA(he)).readUnsignedByte(),As=It.readUnsignedByte(),Mr=It.readUnsignedByte(),It.skipUnsignedExpGolomb(),Uw[an]&&(3===(Xd=It.readUnsignedExpGolomb())&&It.skipBits(1),It.skipUnsignedExpGolomb(),It.skipUnsignedExpGolomb(),It.skipBits(1),It.readBoolean()))for(lx=3!==Xd?8:12,Qd=0;Qd<lx;Qd++)It.readBoolean()&&ae(Qd<6?16:64,It);if(It.skipUnsignedExpGolomb(),0===(oD=It.readUnsignedExpGolomb()))It.readUnsignedExpGolomb();else if(1===oD)for(It.skipBits(1),It.skipExpGolomb(),It.skipExpGolomb(),sx=It.readUnsignedExpGolomb(),Qd=0;Qd<sx;Qd++)It.skipExpGolomb();if(It.skipUnsignedExpGolomb(),It.skipBits(1),ax=It.readUnsignedExpGolomb(),ox=It.readUnsignedExpGolomb(),0===(lD=It.readBits(1))&&It.skipBits(1),It.skipBits(1),It.readBoolean()&&(Ie=It.readUnsignedExpGolomb(),tt=It.readUnsignedExpGolomb(),Rt=It.readUnsignedExpGolomb(),jt=It.readUnsignedExpGolomb()),It.readBoolean()&&It.readBoolean())switch(It.readUnsignedByte()){case 1:lr=[1,1];break;case 2:lr=[12,11];break;case 3:lr=[10,11];break;case 4:lr=[16,11];break;case 5:lr=[40,33];break;case 6:lr=[24,11];break;case 7:lr=[20,11];break;case 8:lr=[32,11];break;case 9:lr=[80,33];break;case 10:lr=[18,11];break;case 11:lr=[15,11];break;case 12:lr=[64,33];break;case 13:lr=[160,99];break;case 14:lr=[4,3];break;case 15:lr=[3,2];break;case 16:lr=[2,1];break;case 255:lr=[It.readUnsignedByte()<<8|It.readUnsignedByte(),It.readUnsignedByte()<<8|It.readUnsignedByte()]}return{profileIdc:an,levelIdc:Mr,profileCompatibility:As,width:16*(ax+1)-2*Ie-2*tt,height:(2-lD)*(ox+1)*16-2*Rt-2*jt,sarRatio:lr}}},Ub.prototype=new n;var Gb,QA={H264Stream:Ub,NalByteStream:$m},ZA=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Vw=function(_,E){var D=_[E+6]<<21|_[E+7]<<14|_[E+8]<<7|_[E+9];return D=D>=0?D:0,(16&_[E+5])>>4?D+20:D+10},JA=function $(_,E){return _.length-E<10||_[E]!=="I".charCodeAt(0)||_[E+1]!=="D".charCodeAt(0)||_[E+2]!=="3".charCodeAt(0)?E:$(_,E+=Vw(_,E))},Gw=function(_){return _[0]<<21|_[1]<<14|_[2]<<7|_[3]},nM=function(_,E,D){return unescape(function(_,E,D){var x,L="";for(x=E;x<D;x++)L+="%"+("00"+_[x].toString(16)).slice(-2);return L}(_,E,D))},Vb={isLikelyAacData:function(_){var E=JA(_,0);return _.length>=E+2&&255==(255&_[E])&&240==(240&_[E+1])&&16==(22&_[E+1])},parseId3TagSize:Vw,parseAdtsSize:function(_,E){return 6144&_[E+3]|_[E+4]<<3|(224&_[E+5])>>5},parseType:function(_,E){return _[E]==="I".charCodeAt(0)&&_[E+1]==="D".charCodeAt(0)&&_[E+2]==="3".charCodeAt(0)?"timed-metadata":!0&_[E]&&240==(240&_[E+1])?"audio":null},parseSampleRate:function(_){for(var E=0;E+5<_.length;){if(255===_[E]&&240==(246&_[E+1]))return ZA[(60&_[E+2])>>>2];E++}return null},parseAacTimestamp:function(_){var E,D,x;E=10,64&_[5]&&(E+=4,E+=Gw(_.subarray(10,14)));do{if((D=Gw(_.subarray(E+4,E+8)))<1)return null;if("PRIV"===String.fromCharCode(_[E],_[E+1],_[E+2],_[E+3])){x=_.subarray(E+10,E+D+10);for(var H=0;H<x.byteLength;H++)if(0===x[H]){if("com.apple.streaming.transportStreamTimestamp"===nM(x,0,H)){var ae=x.subarray(H+1),Te=(1&ae[3])<<30|ae[4]<<22|ae[5]<<14|ae[6]<<6|ae[7]>>>2;return(Te*=4)+(3&ae[7])}break}}E+=10,E+=D}while(E<_.byteLength);return null}};Gb=function(){var _=new Uint8Array,E=0;Gb.prototype.init.call(this),this.setTimestamp=function(D){E=D},this.push=function(D){var ie,ae,Te,x=0,L=0;for(_.length?(Te=_.length,(_=new Uint8Array(D.byteLength+Te)).set(_.subarray(0,Te)),_.set(D,Te)):_=D;_.length-L>=3;)if(_[L]!=="I".charCodeAt(0)||_[L+1]!=="D".charCodeAt(0)||_[L+2]!=="3".charCodeAt(0))if(255!=(255&_[L])||240!=(240&_[L+1]))L++;else{if(_.length-L<7||L+(x=Vb.parseAdtsSize(_,L))>_.length)break;ae={type:"audio",data:_.subarray(L,L+x),pts:E,dts:E},this.trigger("data",ae),L+=x}else{if(_.length-L<10||L+(x=Vb.parseId3TagSize(_,L))>_.length)break;ie={type:"timed-metadata",data:_.subarray(L,L+x)},this.trigger("data",ie),L+=x}_=_.length-L>0?_.subarray(L):new Uint8Array},this.reset=function(){_=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){_=new Uint8Array,this.trigger("endedtimeline")}},Gb.prototype=new n;var zm,Hh,jb,Yd,oM=Gb,nD=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],iD=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],cM=QA.H264Stream,dM=Vb.isLikelyAacData,hM=function(_,E){E.stream=_,this.trigger("log",E)},jw=function(_,E){for(var D=Object.keys(E),x=0;x<D.length;x++){var L=D[x];"headOfPipeline"===L||!E[L].on||E[L].on("log",hM.bind(_,L))}},Ww=function(_,E){var D;if(_.length!==E.length)return!1;for(D=0;D<_.length;D++)if(_[D]!==E[D])return!1;return!0},rD=function(_,E,D,x,L,H){return{start:{dts:_,pts:_+(D-E)},end:{dts:_+(x-E),pts:_+(L-D)},prependedContentDuration:H,baseMediaDecodeTime:_}};Hh=function(_,E){var x,D=[],L=0,H=0,ie=1/0;x=(E=E||{}).firstSequenceNumber||0,Hh.prototype.init.call(this),this.push=function(ae){Eo_collectDtsInfo(_,ae),_&&nD.forEach(function(Te){_[Te]=ae[Te]}),D.push(ae)},this.setEarliestDts=function(ae){L=ae},this.setVideoBaseMediaDecodeTime=function(ae){ie=ae},this.setAudioAppendStart=function(ae){H=ae},this.flush=function(){var ae,Te,he,Ie,tt,Rt,jt;0!==D.length?(ae=function(_,E,D){return E.minSegmentDts>=D?_:(E.minSegmentDts=1/0,_.filter(function(x){return x.dts>=D&&(E.minSegmentDts=Math.min(E.minSegmentDts,x.dts),E.minSegmentPts=E.minSegmentDts,!0)}))}(D,_,L),_.baseMediaDecodeTime=Eo_calculateTrackBaseMediaDecodeTime(_,E.keepOriginalTimestamps),jt=Ab_prefixWithSilence(_,ae,H,ie),_.samples=function(_){var E,x=[];for(E=0;E<_.length;E++)x.push({size:_[E].data.byteLength,duration:1024});return x}(ae),he=Co_mdat(function(_){var E,D,x=0,L=new Uint8Array(function(_){var E,x=0;for(E=0;E<_.length;E++)x+=_[E].data.byteLength;return x}(_));for(E=0;E<_.length;E++)L.set((D=_[E]).data,x),x+=D.data.byteLength;return L}(ae)),D=[],Te=Co_moof(x,[_]),Ie=new Uint8Array(Te.byteLength+he.byteLength),x++,Ie.set(Te),Ie.set(he,Te.byteLength),Eo_clearDtsInfo(_),tt=Math.ceil(9216e4/_.samplerate),ae.length&&(Rt=ae.length*tt,this.trigger("segmentTimingInfo",rD(ri_audioTsToVideoTs(_.baseMediaDecodeTime,_.samplerate),ae[0].dts,ae[0].pts,ae[0].dts+Rt,ae[0].pts+Rt,jt||0)),this.trigger("timingInfo",{start:ae[0].pts,end:ae[0].pts+Rt})),this.trigger("data",{track:_,boxes:Ie}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Eo_clearDtsInfo(_),D=[],this.trigger("reset")}},Hh.prototype=new n,zm=function(_,E){var D,H,ie,x=[],L=[];D=(E=E||{}).firstSequenceNumber||0,zm.prototype.init.call(this),delete _.minPTS,this.gopCache_=[],this.push=function(ae){Eo_collectDtsInfo(_,ae),"seq_parameter_set_rbsp"===ae.nalUnitType&&!H&&(H=ae.config,_.sps=[ae.data],iD.forEach(function(Te){_[Te]=H[Te]},this)),"pic_parameter_set_rbsp"===ae.nalUnitType&&!ie&&(ie=ae.data,_.pps=[ae.data]),x.push(ae)},this.flush=function(){for(var ae,Te,he,Ie,tt,Rt,It,an,jt=0;x.length&&"access_unit_delimiter_rbsp"!==x[0].nalUnitType;)x.shift();if(0===x.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(ae=function(_){var E,D,x=[],L=[];for(L.byteLength=0,L.nalCount=0,L.duration=0,x.byteLength=0,E=0;E<_.length;E++)"access_unit_delimiter_rbsp"===(D=_[E]).nalUnitType?(x.length&&(x.duration=D.dts-x.dts,L.byteLength+=x.byteLength,L.nalCount+=x.length,L.duration+=x.duration,L.push(x)),(x=[D]).byteLength=D.data.byteLength,x.pts=D.pts,x.dts=D.dts):("slice_layer_without_partitioning_rbsp_idr"===D.nalUnitType&&(x.keyFrame=!0),x.duration=D.dts-x.dts,x.byteLength+=D.data.byteLength,x.push(D));return L.length&&(!x.duration||x.duration<=0)&&(x.duration=L[L.length-1].duration),L.byteLength+=x.byteLength,L.nalCount+=x.length,L.duration+=x.duration,L.push(x),L}(x),(he=function(_){var E,D,x=[],L=[];for(x.byteLength=0,x.nalCount=0,x.duration=0,x.pts=_[0].pts,x.dts=_[0].dts,L.byteLength=0,L.nalCount=0,L.duration=0,L.pts=_[0].pts,L.dts=_[0].dts,E=0;E<_.length;E++)(D=_[E]).keyFrame?(x.length&&(L.push(x),L.byteLength+=x.byteLength,L.nalCount+=x.nalCount,L.duration+=x.duration),(x=[D]).nalCount=D.length,x.byteLength=D.byteLength,x.pts=D.pts,x.dts=D.dts,x.duration=D.duration):(x.duration+=D.duration,x.nalCount+=D.length,x.byteLength+=D.byteLength,x.push(D));return L.length&&x.duration<=0&&(x.duration=L[L.length-1].duration),L.byteLength+=x.byteLength,L.nalCount+=x.nalCount,L.duration+=x.duration,L.push(x),L}(ae))[0][0].keyFrame||((Te=this.getGopForFusion_(x[0],_))?(jt=Te.duration,he.unshift(Te),he.byteLength+=Te.byteLength,he.nalCount+=Te.nalCount,he.pts=Te.pts,he.dts=Te.dts,he.duration+=Te.duration):he=function(_){var E;return!_[0][0].keyFrame&&_.length>1&&(E=_.shift(),_.byteLength-=E.byteLength,_.nalCount-=E.nalCount,_[0][0].dts=E.dts,_[0][0].pts=E.pts,_[0][0].duration+=E.duration),_}(he)),L.length){var Mr;if(!(Mr=E.alignGopsAtEnd?this.alignGopsAtEnd_(he):this.alignGopsAtStart_(he)))return this.gopCache_.unshift({gop:he.pop(),pps:_.pps,sps:_.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),x=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Eo_clearDtsInfo(_),he=Mr}Eo_collectDtsInfo(_,he),_.samples=function(_,E){var D,x,L,H,ae=E||0,Te=[];for(D=0;D<_.length;D++)for(H=_[D],x=0;x<H.length;x++)ae+=(L=Rh(H[x],ae)).size,Te.push(L);return Te}(he),tt=Co_mdat(function(_){var E,D,x,L,H,ie,ae=0,tt=new Uint8Array(_.byteLength+4*_.nalCount),Rt=new DataView(tt.buffer);for(E=0;E<_.length;E++)for(L=_[E],D=0;D<L.length;D++)for(H=L[D],x=0;x<H.length;x++)Rt.setUint32(ae,(ie=H[x]).data.byteLength),tt.set(ie.data,ae+=4),ae+=ie.data.byteLength;return tt}(he)),_.baseMediaDecodeTime=Eo_calculateTrackBaseMediaDecodeTime(_,E.keepOriginalTimestamps),this.trigger("processedGopsInfo",he.map(function(As){return{pts:As.pts,dts:As.dts,byteLength:As.byteLength}})),this.trigger("segmentTimingInfo",rD(_.baseMediaDecodeTime,(It=he[0]).dts,It.pts,(an=he[he.length-1]).dts+an.duration,an.pts+an.duration,jt)),this.trigger("timingInfo",{start:he[0].pts,end:he[he.length-1].pts+he[he.length-1].duration}),this.gopCache_.unshift({gop:he.pop(),pps:_.pps,sps:_.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),x=[],this.trigger("baseMediaDecodeTime",_.baseMediaDecodeTime),this.trigger("timelineStartInfo",_.timelineStartInfo),Ie=Co_moof(D,[_]),Rt=new Uint8Array(Ie.byteLength+tt.byteLength),D++,Rt.set(Ie),Rt.set(tt,Ie.byteLength),this.trigger("data",{track:_,boxes:Rt}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),x=[],this.gopCache_.length=0,L.length=0,this.trigger("reset")},this.resetStream_=function(){Eo_clearDtsInfo(_),H=void 0,ie=void 0},this.getGopForFusion_=function(ae){var tt,Rt,jt,It,an,Ie=1/0;for(an=0;an<this.gopCache_.length;an++)jt=(It=this.gopCache_[an]).gop,_.pps&&Ww(_.pps[0],It.pps[0])&&_.sps&&Ww(_.sps[0],It.sps[0])&&(jt.dts<_.timelineStartInfo.dts||(tt=ae.dts-jt.dts-jt.duration)>=-1e4&&tt<=45e3&&(!Rt||Ie>tt)&&(Rt=It,Ie=tt));return Rt?Rt.gop:null},this.alignGopsAtStart_=function(ae){var Te,he,Ie,tt,Rt,jt,It,an;for(Rt=ae.byteLength,jt=ae.nalCount,It=ae.duration,Te=he=0;Te<L.length&&he<ae.length&&(Ie=L[Te]).pts!==(tt=ae[he]).pts;)tt.pts>Ie.pts?Te++:(he++,Rt-=tt.byteLength,jt-=tt.nalCount,It-=tt.duration);return 0===he?ae:he===ae.length?null:((an=ae.slice(he)).byteLength=Rt,an.duration=It,an.nalCount=jt,an.pts=an[0].pts,an.dts=an[0].dts,an)},this.alignGopsAtEnd_=function(ae){var Te,he,Ie,tt,Rt,jt,It;for(Te=L.length-1,he=ae.length-1,Rt=null,jt=!1;Te>=0&&he>=0;){if((Ie=L[Te]).pts===(tt=ae[he]).pts){jt=!0;break}Ie.pts>tt.pts?Te--:(Te===L.length-1&&(Rt=he),he--)}if(!jt&&null===Rt)return null;if(0===(It=jt?he:Rt))return ae;var an=ae.slice(It),Mr=an.reduce(function(As,Xd){return As.byteLength+=Xd.byteLength,As.duration+=Xd.duration,As.nalCount+=Xd.nalCount,As},{byteLength:0,duration:0,nalCount:0});return an.byteLength=Mr.byteLength,an.duration=Mr.duration,an.nalCount=Mr.nalCount,an.pts=an[0].pts,an.dts=an[0].dts,an},this.alignGopsWith=function(ae){L=ae}},zm.prototype=new n,Yd=function(_,E){this.numberOfTracks=0,this.metadataStream=E,this.remuxTracks=void 0===(_=_||{}).remux||!!_.remux,this.keepOriginalTimestamps="boolean"==typeof _.keepOriginalTimestamps&&_.keepOriginalTimestamps,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Yd.prototype.init.call(this),this.push=function(D){return D.text?this.pendingCaptions.push(D):D.frames?this.pendingMetadata.push(D):(this.pendingTracks.push(D.track),this.pendingBytes+=D.boxes.byteLength,"video"===D.track.type&&(this.videoTrack=D.track,this.pendingBoxes.push(D.boxes)),void("audio"===D.track.type&&(this.audioTrack=D.track,this.pendingBoxes.unshift(D.boxes))))}},Yd.prototype=new n,Yd.prototype.flush=function($){var D,x,L,ie,_=0,E={captions:[],captionStreams:{},metadata:[],info:{}},H=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==$&&"AudioSegmentStream"!==$)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(H=this.videoTrack.timelineStartInfo.pts,iD.forEach(function(ae){E.info[ae]=this.videoTrack[ae]},this)):this.audioTrack&&(H=this.audioTrack.timelineStartInfo.pts,nD.forEach(function(ae){E.info[ae]=this.audioTrack[ae]},this)),this.videoTrack||this.audioTrack){for(E.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,L=function(_){var x,E=m(),D=q(_);return(x=new Uint8Array(E.byteLength+D.byteLength)).set(E),x.set(D,E.byteLength),x}(this.pendingTracks),E.initSegment=new Uint8Array(L.byteLength),E.initSegment.set(L),E.data=new Uint8Array(this.pendingBytes),ie=0;ie<this.pendingBoxes.length;ie++)E.data.set(this.pendingBoxes[ie],_),_+=this.pendingBoxes[ie].byteLength;for(ie=0;ie<this.pendingCaptions.length;ie++)(D=this.pendingCaptions[ie]).startTime=ri_metadataTsToSeconds(D.startPts,H,this.keepOriginalTimestamps),D.endTime=ri_metadataTsToSeconds(D.endPts,H,this.keepOriginalTimestamps),E.captionStreams[D.stream]=!0,E.captions.push(D);for(ie=0;ie<this.pendingMetadata.length;ie++)(x=this.pendingMetadata[ie]).cueTime=ri_metadataTsToSeconds(x.pts,H,this.keepOriginalTimestamps),E.metadata.push(x);for(E.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",E),ie=0;ie<E.captions.length;ie++)this.trigger("caption",D=E.captions[ie]);for(ie=0;ie<E.metadata.length;ie++)this.trigger("id3Frame",x=E.metadata[ie])}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Yd.prototype.setRemux=function($){this.remuxTracks=$},jb=function(_){var x,L,E=this,D=!0;jb.prototype.init.call(this),this.baseMediaDecodeTime=(_=_||{}).baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var H={};this.transmuxPipeline_=H,H.type="aac",H.metadataStream=new Yl.MetadataStream,H.aacStream=new oM,H.audioTimestampRolloverStream=new Yl.TimestampRolloverStream("audio"),H.timedMetadataTimestampRolloverStream=new Yl.TimestampRolloverStream("timed-metadata"),H.adtsStream=new Bw,H.coalesceStream=new Yd(_,H.metadataStream),H.headOfPipeline=H.aacStream,H.aacStream.pipe(H.audioTimestampRolloverStream).pipe(H.adtsStream),H.aacStream.pipe(H.timedMetadataTimestampRolloverStream).pipe(H.metadataStream).pipe(H.coalesceStream),H.metadataStream.on("timestamp",function(ie){H.aacStream.setTimestamp(ie.timeStamp)}),H.aacStream.on("data",function(ie){"timed-metadata"!==ie.type&&"audio"!==ie.type||H.audioSegmentStream||(L=L||{timelineStartInfo:{baseMediaDecodeTime:E.baseMediaDecodeTime},codec:"adts",type:"audio"},H.coalesceStream.numberOfTracks++,H.audioSegmentStream=new Hh(L,_),H.audioSegmentStream.on("log",E.getLogTrigger_("audioSegmentStream")),H.audioSegmentStream.on("timingInfo",E.trigger.bind(E,"audioTimingInfo")),H.adtsStream.pipe(H.audioSegmentStream).pipe(H.coalesceStream),E.trigger("trackinfo",{hasAudio:!!L,hasVideo:!!x}))}),H.coalesceStream.on("data",this.trigger.bind(this,"data")),H.coalesceStream.on("done",this.trigger.bind(this,"done")),jw(this,H)},this.setupTsPipeline=function(){var H={};this.transmuxPipeline_=H,H.type="ts",H.metadataStream=new Yl.MetadataStream,H.packetStream=new Yl.TransportPacketStream,H.parseStream=new Yl.TransportParseStream,H.elementaryStream=new Yl.ElementaryStream,H.timestampRolloverStream=new Yl.TimestampRolloverStream,H.adtsStream=new Bw,H.h264Stream=new cM,H.captionStream=new Yl.CaptionStream(_),H.coalesceStream=new Yd(_,H.metadataStream),H.headOfPipeline=H.packetStream,H.packetStream.pipe(H.parseStream).pipe(H.elementaryStream).pipe(H.timestampRolloverStream),H.timestampRolloverStream.pipe(H.h264Stream),H.timestampRolloverStream.pipe(H.adtsStream),H.timestampRolloverStream.pipe(H.metadataStream).pipe(H.coalesceStream),H.h264Stream.pipe(H.captionStream).pipe(H.coalesceStream),H.elementaryStream.on("data",function(ie){var ae;if("metadata"===ie.type){for(ae=ie.tracks.length;ae--;)x||"video"!==ie.tracks[ae].type?!L&&"audio"===ie.tracks[ae].type&&((L=ie.tracks[ae]).timelineStartInfo.baseMediaDecodeTime=E.baseMediaDecodeTime):(x=ie.tracks[ae]).timelineStartInfo.baseMediaDecodeTime=E.baseMediaDecodeTime;x&&!H.videoSegmentStream&&(H.coalesceStream.numberOfTracks++,H.videoSegmentStream=new zm(x,_),H.videoSegmentStream.on("log",E.getLogTrigger_("videoSegmentStream")),H.videoSegmentStream.on("timelineStartInfo",function(Te){L&&!_.keepOriginalTimestamps&&(L.timelineStartInfo=Te,H.audioSegmentStream.setEarliestDts(Te.dts-E.baseMediaDecodeTime))}),H.videoSegmentStream.on("processedGopsInfo",E.trigger.bind(E,"gopInfo")),H.videoSegmentStream.on("segmentTimingInfo",E.trigger.bind(E,"videoSegmentTimingInfo")),H.videoSegmentStream.on("baseMediaDecodeTime",function(Te){L&&H.audioSegmentStream.setVideoBaseMediaDecodeTime(Te)}),H.videoSegmentStream.on("timingInfo",E.trigger.bind(E,"videoTimingInfo")),H.h264Stream.pipe(H.videoSegmentStream).pipe(H.coalesceStream)),L&&!H.audioSegmentStream&&(H.coalesceStream.numberOfTracks++,H.audioSegmentStream=new Hh(L,_),H.audioSegmentStream.on("log",E.getLogTrigger_("audioSegmentStream")),H.audioSegmentStream.on("timingInfo",E.trigger.bind(E,"audioTimingInfo")),H.audioSegmentStream.on("segmentTimingInfo",E.trigger.bind(E,"audioSegmentTimingInfo")),H.adtsStream.pipe(H.audioSegmentStream).pipe(H.coalesceStream)),E.trigger("trackinfo",{hasAudio:!!L,hasVideo:!!x})}}),H.coalesceStream.on("data",this.trigger.bind(this,"data")),H.coalesceStream.on("id3Frame",function(ie){ie.dispatchType=H.metadataStream.dispatchType,E.trigger("id3Frame",ie)}),H.coalesceStream.on("caption",this.trigger.bind(this,"caption")),H.coalesceStream.on("done",this.trigger.bind(this,"done")),jw(this,H)},this.setBaseMediaDecodeTime=function(H){var ie=this.transmuxPipeline_;_.keepOriginalTimestamps||(this.baseMediaDecodeTime=H),L&&(L.timelineStartInfo.dts=void 0,L.timelineStartInfo.pts=void 0,Eo_clearDtsInfo(L),ie.audioTimestampRolloverStream&&ie.audioTimestampRolloverStream.discontinuity()),x&&(ie.videoSegmentStream&&(ie.videoSegmentStream.gopCache_=[]),x.timelineStartInfo.dts=void 0,x.timelineStartInfo.pts=void 0,Eo_clearDtsInfo(x),ie.captionStream.reset()),ie.timestampRolloverStream&&ie.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(H){L&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(H)},this.setRemux=function(H){var ie=this.transmuxPipeline_;_.remux=H,ie&&ie.coalesceStream&&ie.coalesceStream.setRemux(H)},this.alignGopsWith=function(H){x&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(H)},this.getLogTrigger_=function(H){var ie=this;return function(ae){ae.stream=H,ie.trigger("log",ae)}},this.push=function(H){if(D){var ie=dM(H);ie&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():!ie&&"ts"!==this.transmuxPipeline_.type&&this.setupTsPipeline(),D=!1}this.transmuxPipeline_.headOfPipeline.push(H)},this.flush=function(){D=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},jb.prototype=new n;var Qw,ex,sD,pM={Transmuxer:jb,VideoSegmentStream:zm,AudioSegmentStream:Hh,AUDIO_PROPERTIES:nD,VIDEO_PROPERTIES:iD,generateSegmentTimingInfo:rD},Wb_toUnsigned=function(_){return _>>>0},Kd=function(_){var E="";return E+=String.fromCharCode(_[0]),E+=String.fromCharCode(_[1]),(E+=String.fromCharCode(_[2]))+String.fromCharCode(_[3])},_M=Wb_toUnsigned,Ni=function $(_,E){var x,L,H,ie,ae,D=[];if(!E.length)return null;for(x=0;x<_.byteLength;)L=_M(_[x]<<24|_[x+1]<<16|_[x+2]<<8|_[x+3]),H=Kd(_.subarray(x+4,x+8)),ie=L>1?x+L:_.byteLength,H===E[0]&&(1===E.length?D.push(_.subarray(x+8,ie)):(ae=$(_.subarray(x+8,ie),E.slice(1))).length&&(D=D.concat(ae))),x=ie;return D},bM=Wb_toUnsigned,TM=t.getUint64,zw=function(_){return{isLeading:(12&_[0])>>>2,dependsOn:3&_[0],isDependedOn:(192&_[1])>>>6,hasRedundancy:(48&_[1])>>>4,paddingValue:(14&_[1])>>>1,isNonSyncSample:1&_[1],degradationPriority:_[2]<<8|_[3]}},qw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Km="undefined"!=typeof window?window:void 0!==qw?qw:"undefined"!=typeof self?self:{},wM=function(_){for(var L,H,E=_.byteLength,D=[],x=1;x<E-2;)0===_[x]&&0===_[x+1]&&3===_[x+2]?(D.push(x+2),x+=2):x++;if(0===D.length)return _;L=E-D.length,H=new Uint8Array(L);var ie=0;for(x=0;x<L;ie++,x++)ie===D[0]&&(ie++,D.shift()),H[x]=_[ie];return H},xM=Pb.CaptionStream,AM=function(_,E){for(var D=_,x=0;x<E.length;x++){var L=E[x];if(D<L.size)return L;D-=L.size}return null},IM=function(_,E){var D=Ni(_,["moof","traf"]),x=Ni(_,["mdat"]),L={},H=[];return x.forEach(function(ie,ae){H.push({mdat:ie,traf:D[ae]})}),H.forEach(function(ie){var an,Mr,ae=ie.mdat,Te=ie.traf,Ie=function(_){var Ie,E=new DataView(_.buffer,_.byteOffset,_.byteLength),D={version:_[0],flags:new Uint8Array(_.subarray(1,4)),trackId:E.getUint32(4)},x=1&D.flags[2],L=2&D.flags[2],H=8&D.flags[2],ie=16&D.flags[2],ae=32&D.flags[2],Te=65536&D.flags[0],he=131072&D.flags[0];return Ie=8,x&&(Ie+=4,D.baseDataOffset=E.getUint32(12),Ie+=4),L&&(D.sampleDescriptionIndex=E.getUint32(Ie),Ie+=4),H&&(D.defaultSampleDuration=E.getUint32(Ie),Ie+=4),ie&&(D.defaultSampleSize=E.getUint32(Ie),Ie+=4),ae&&(D.defaultSampleFlags=E.getUint32(Ie)),Te&&(D.durationIsEmpty=!0),!x&&he&&(D.baseDataOffsetIsMoof=!0),D}(Ni(Te,["tfhd"])[0]),tt=Ie.trackId,Rt=Ni(Te,["tfdt"]),jt=Rt.length>0?function(_){var E={version:_[0],flags:new Uint8Array(_.subarray(1,4))};return E.baseMediaDecodeTime=1===E.version?TM(_.subarray(4)):bM(_[4]<<24|_[5]<<16|_[6]<<8|_[7]),E}(Rt[0]).baseMediaDecodeTime:0,It=Ni(Te,["trun"]);E===tt&&It.length>0&&(an=function(_,E,D){var x=E,L=D.defaultSampleDuration||0,H=D.defaultSampleSize||0,ie=D.trackId,ae=[];return _.forEach(function(Te){var Ie=function(_){var tt,E={version:_[0],flags:new Uint8Array(_.subarray(1,4)),samples:[]},D=new DataView(_.buffer,_.byteOffset,_.byteLength),x=1&E.flags[2],L=4&E.flags[2],H=1&E.flags[1],ie=2&E.flags[1],ae=4&E.flags[1],Te=8&E.flags[1],he=D.getUint32(4),Ie=8;for(x&&(E.dataOffset=D.getInt32(Ie),Ie+=4),L&&he&&(tt={flags:zw(_.subarray(Ie,Ie+4))},Ie+=4,H&&(tt.duration=D.getUint32(Ie),Ie+=4),ie&&(tt.size=D.getUint32(Ie),Ie+=4),Te&&(tt.compositionTimeOffset=1===E.version?D.getInt32(Ie):D.getUint32(Ie),Ie+=4),E.samples.push(tt),he--);he--;)tt={},H&&(tt.duration=D.getUint32(Ie),Ie+=4),ie&&(tt.size=D.getUint32(Ie),Ie+=4),ae&&(tt.flags=zw(_.subarray(Ie,Ie+4)),Ie+=4),Te&&(tt.compositionTimeOffset=1===E.version?D.getInt32(Ie):D.getUint32(Ie),Ie+=4),E.samples.push(tt);return E}(Te).samples;Ie.forEach(function(tt){void 0===tt.duration&&(tt.duration=L),void 0===tt.size&&(tt.size=H),tt.trackId=ie,tt.dts=x,void 0===tt.compositionTimeOffset&&(tt.compositionTimeOffset=0),"bigint"==typeof x?(tt.pts=x+Km.BigInt(tt.compositionTimeOffset),x+=Km.BigInt(tt.duration)):(tt.pts=x+tt.compositionTimeOffset,x+=tt.duration)}),ae=ae.concat(Ie)}),ae}(It,jt,Ie),Mr=function(_,E,D){var H,ie,ae,Te,x=new DataView(_.buffer,_.byteOffset,_.byteLength),L={logs:[],seiNals:[]};for(ie=0;ie+4<_.length;ie+=ae)if(ae=x.getUint32(ie),ie+=4,!(ae<=0))switch(31&_[ie]){case 6:var he=_.subarray(ie+1,ie+1+ae),Ie=AM(ie,E);if(H={nalUnitType:"sei_rbsp",size:ae,data:he,escapedRBSP:wM(he),trackId:D},Ie)H.pts=Ie.pts,H.dts=Ie.dts,Te=Ie;else{if(!Te){L.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+ie+" for trackId "+D+". See mux.js#223."});break}H.pts=Te.pts,H.dts=Te.dts}L.seiNals.push(H)}return L}(ae,an,tt),L[tt]||(L[tt]={seiNals:[],logs:[]}),L[tt].seiNals=L[tt].seiNals.concat(Mr.seiNals),L[tt].logs=L[tt].logs.concat(Mr.logs))}),L},RM=function(){var E,D,x,L,H,ie,_=!1;this.isInitialized=function(){return _},this.init=function(ae){E=new xM,_=!0,ie=!!ae&&ae.isPartial,E.on("data",function(Te){Te.startTime=Te.startPts/L,Te.endTime=Te.endPts/L,H.captions.push(Te),H.captionStreams[Te.stream]=!0}),E.on("log",function(Te){H.logs.push(Te)})},this.isNewInit=function(ae,Te){return!(ae&&0===ae.length||Te&&"object"==typeof Te&&0===Object.keys(Te).length||x===ae[0]&&L===Te[x])},this.parse=function(ae,Te,he){var Ie;if(!this.isInitialized())return null;if(!Te||!he)return null;if(this.isNewInit(Te,he))L=he[x=Te[0]];else if(null===x||!L)return D.push(ae),null;for(;D.length>0;){var tt=D.shift();this.parse(tt,Te,he)}return Ie=function(_,E,D){if(null===E)return null;var L=IM(_,E)[E]||{};return{seiNals:L.seiNals,logs:L.logs,timescale:D}}(ae,x,L),Ie&&Ie.logs&&(H.logs=H.logs.concat(Ie.logs)),null!==Ie&&Ie.seiNals?(this.pushNals(Ie.seiNals),this.flushStream(),H):H.logs.length?{logs:H.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(ae){if(!this.isInitialized()||!ae||0===ae.length)return null;ae.forEach(function(Te){E.push(Te)})},this.flushStream=function(){if(!this.isInitialized())return null;ie?E.partialFlush():E.flush()},this.clearParsedCaptions=function(){H.captions=[],H.captionStreams={},H.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;E.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){D=[],x=null,L=null,H?this.clearParsedCaptions():H={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},$b=Wb_toUnsigned,qm=function(_){return("00"+_.toString(16)).slice(-2)},kM=t.getUint64;Qw=function(_,E){var x=Ni(E,["moof","traf"]).reduce(function(L,H){var tt,Rt,ie=Ni(H,["tfhd"])[0],ae=$b(ie[4]<<24|ie[5]<<16|ie[6]<<8|ie[7]),Te=_[ae]||9e4,he=Ni(H,["tfdt"])[0],Ie=new DataView(he.buffer,he.byteOffset,he.byteLength);return"bigint"==typeof(tt=1===he[0]?kM(he.subarray(4,12)):Ie.getUint32(4))?Rt=tt/Km.BigInt(Te):"number"==typeof tt&&!isNaN(tt)&&(Rt=tt/Te),Rt<Number.MAX_SAFE_INTEGER&&(Rt=Number(Rt)),Rt<L&&(L=Rt),L},1/0);return"bigint"==typeof x||isFinite(x)?x:0},sD=function(_){var D=0===_[0]?12:20;return $b(_[D]<<24|_[D+1]<<16|_[D+2]<<8|_[D+3])},ex=function(_){var E=Ni(_,["moov","trak"]),D=[];return E.forEach(function(x){var ie,ae,L={},H=Ni(x,["tkhd"])[0];H&&(ae=(ie=new DataView(H.buffer,H.byteOffset,H.byteLength)).getUint8(0),L.id=ie.getUint32(0===ae?12:20));var Te=Ni(x,["mdia","hdlr"])[0];if(Te){var he=Kd(Te.subarray(8,12));L.type="vide"===he?"video":"soun"===he?"audio":he}var Ie=Ni(x,["mdia","minf","stbl","stsd"])[0];if(Ie){var tt=Ie.subarray(8);L.codec=Kd(tt.subarray(4,8));var jt,Rt=Ni(tt,[L.codec])[0];Rt&&(/^[asm]vc[1-9]$/i.test(L.codec)?(jt=Rt.subarray(78),"avcC"===Kd(jt.subarray(4,8))&&jt.length>11?(L.codec+=".",L.codec+=qm(jt[9]),L.codec+=qm(jt[10]),L.codec+=qm(jt[11])):L.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(L.codec)?(jt=Rt.subarray(28),"esds"===Kd(jt.subarray(4,8))&&jt.length>20&&0!==jt[19]?(L.codec+="."+qm(jt[19]),L.codec+="."+qm(jt[20]>>>2&63).replace(/^0/,"")):L.codec="mp4a.40.2"):L.codec=L.codec.toLowerCase())}var an=Ni(x,["mdia","mdhd"])[0];an&&(L.timescale=sD(an)),D.push(L)}),D};var tx_startTime=Qw,tx_tracks=ex,nx=function(_){var E=31&_[1];return(E<<=8)|_[2]},zb=function(_){return!!(64&_[1])},Yb=function(_){var E=0;return(48&_[3])>>>4>1&&(E+=_[4]+1),E},aD=function(_){switch(_){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},GM={parseType:function(_,E){var D=nx(_);return 0===D?"pat":D===E?"pmt":E?"pes":null},parsePat:function(_){var E=zb(_),D=4+Yb(_);return E&&(D+=_[D]+1),(31&_[D+10])<<8|_[D+11]},parsePmt:function(_){var E={},D=zb(_),x=4+Yb(_);if(D&&(x+=_[x]+1),1&_[x+5]){var H;H=3+((15&_[x+1])<<8|_[x+2])-4;for(var ae=12+((15&_[x+10])<<8|_[x+11]);ae<H;){var Te=x+ae;E[(31&_[Te+1])<<8|_[Te+2]]=_[Te],ae+=5+((15&_[Te+3])<<8|_[Te+4])}return E}},parsePayloadUnitStartIndicator:zb,parsePesType:function(_,E){switch(E[nx(_)]){case ts.H264_STREAM_TYPE:return"video";case ts.ADTS_STREAM_TYPE:return"audio";case ts.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(_){if(!zb(_))return null;var D=4+Yb(_);if(D>=_.byteLength)return null;var L,x=null;return 192&(L=_[D+7])&&((x={}).pts=(14&_[D+9])<<27|(255&_[D+10])<<20|(254&_[D+11])<<12|(255&_[D+12])<<5|(254&_[D+13])>>>3,x.pts*=4,x.pts+=(6&_[D+13])>>>1,x.dts=x.pts,64&L&&(x.dts=(14&_[D+14])<<27|(255&_[D+15])<<20|(254&_[D+16])<<12|(255&_[D+17])<<5|(254&_[D+18])>>>3,x.dts*=4,x.dts+=(6&_[D+18])>>>1)),x},videoPacketContainsKeyFrame:function(_){for(var E=4+Yb(_),D=_.subarray(E),x=0,L=0,H=!1;L<D.byteLength-3;L++)if(1===D[L+2]){x=L+5;break}for(;x<D.byteLength;)switch(D[x]){case 0:if(0!==D[x-1]){x+=2;break}if(0!==D[x-2]){x++;break}L+3!==x-2&&"slice_layer_without_partitioning_rbsp_idr"===aD(31&D[L+3])&&(H=!0);do{x++}while(1!==D[x]&&x<D.length);L=x-2,x+=3;break;case 1:if(0!==D[x-1]||0!==D[x-2]){x+=3;break}"slice_layer_without_partitioning_rbsp_idr"===aD(31&D[L+3])&&(H=!0),L=x-2,x+=3;break;default:x+=3}return D=D.subarray(L),x-=L,L=0,D&&D.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===aD(31&D[L+3])&&(H=!0),H}},Uh=Pw_handleRollover,li={};li.ts=GM,li.aac=Vb;var qd=9e4,xs=188,ix=function(_,E,D){for(var H,ae,Te,he,x=0,L=xs,Ie=!1;L<=_.byteLength;)if(71!==_[x]||71!==_[L]&&L!==_.byteLength)x++,L++;else{if("pes"===(H=_.subarray(x,L),li.ts.parseType(H,E.pid))&&(ae=li.ts.parsePesType(H,E.table),Te=li.ts.parsePayloadUnitStartIndicator(H),"audio"===ae&&Te&&(he=li.ts.parsePesTime(H))&&(he.type="audio",D.audio.push(he),Ie=!0)),Ie)break;x+=xs,L+=xs}for(x=(L=_.byteLength)-xs,Ie=!1;x>=0;)if(71!==_[x]||71!==_[L]&&L!==_.byteLength)x--,L--;else{if("pes"===(H=_.subarray(x,L),li.ts.parseType(H,E.pid))&&(ae=li.ts.parsePesType(H,E.table),Te=li.ts.parsePayloadUnitStartIndicator(H),"audio"===ae&&Te&&(he=li.ts.parsePesTime(H))&&(he.type="audio",D.audio.push(he),Ie=!0)),Ie)break;x-=xs,L-=xs}},WM=function(_,E,D){for(var H,ae,Te,he,Ie,tt,Rt,x=0,L=xs,jt=!1,It={data:[],size:0};L<_.byteLength;)if(71!==_[x]||71!==_[L])x++,L++;else{if("pes"===(H=_.subarray(x,L),li.ts.parseType(H,E.pid))&&(ae=li.ts.parsePesType(H,E.table),Te=li.ts.parsePayloadUnitStartIndicator(H),"video"===ae&&(Te&&!jt&&(he=li.ts.parsePesTime(H))&&(he.type="video",D.video.push(he),jt=!0),!D.firstKeyFrame))){if(Te&&0!==It.size){for(Ie=new Uint8Array(It.size),tt=0;It.data.length;)Rt=It.data.shift(),Ie.set(Rt,tt),tt+=Rt.byteLength;if(li.ts.videoPacketContainsKeyFrame(Ie)){var an=li.ts.parsePesTime(Ie);an?(D.firstKeyFrame=an,D.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}It.size=0}It.data.push(H),It.size+=H.byteLength}if(jt&&D.firstKeyFrame)break;x+=xs,L+=xs}for(x=(L=_.byteLength)-xs,jt=!1;x>=0;)if(71!==_[x]||71!==_[L])x--,L--;else{if("pes"===(H=_.subarray(x,L),li.ts.parseType(H,E.pid))&&(ae=li.ts.parsePesType(H,E.table),Te=li.ts.parsePayloadUnitStartIndicator(H),"video"===ae&&Te&&(he=li.ts.parsePesTime(H))&&(he.type="video",D.video.push(he),jt=!0)),jt)break;x-=xs,L-=xs}},qM_inspect=function(_,E){var x;return x=li.aac.isLikelyAacData(_)?function(_){for(var ae,E=!1,D=0,x=null,L=null,H=0,ie=0;_.length-ie>=3;){switch(li.aac.parseType(_,ie)){case"timed-metadata":if(_.length-ie<10){E=!0;break}if((H=li.aac.parseId3TagSize(_,ie))>_.length){E=!0;break}null===L&&(ae=_.subarray(ie,ie+H),L=li.aac.parseAacTimestamp(ae)),ie+=H;break;case"audio":if(_.length-ie<7){E=!0;break}if((H=li.aac.parseAdtsSize(_,ie))>_.length){E=!0;break}null===x&&(ae=_.subarray(ie,ie+H),x=li.aac.parseSampleRate(ae)),D++,ie+=H;break;default:ie++}if(E)return null}if(null===x||null===L)return null;var he=qd/x;return{audio:[{type:"audio",dts:L,pts:L},{type:"audio",dts:L+1024*D*he,pts:L+1024*D*he}]}}(_):function(_){var E={pid:null,table:null},D={};for(var x in function(_,E){for(var L,D=0,x=xs;x<_.byteLength;)if(71!==_[D]||71!==_[x])D++,x++;else{switch(L=_.subarray(D,x),li.ts.parseType(L,E.pid)){case"pat":E.pid=li.ts.parsePat(L);break;case"pmt":var ie=li.ts.parsePmt(L);E.table=E.table||{},Object.keys(ie).forEach(function(ae){E.table[ae]=ie[ae]})}D+=xs,x+=xs}}(_,E),E.table)if(E.table.hasOwnProperty(x))switch(E.table[x]){case ts.H264_STREAM_TYPE:D.video=[],WM(_,E,D),0===D.video.length&&delete D.video;break;case ts.ADTS_STREAM_TYPE:D.audio=[],ix(_,E,D),0===D.audio.length&&delete D.audio}return D}(_),x&&(x.audio||x.video)?(function(_,E){if(_.audio&&_.audio.length){var D=E;(void 0===D||isNaN(D))&&(D=_.audio[0].dts),_.audio.forEach(function(H){H.dts=Uh(H.dts,D),H.pts=Uh(H.pts,D),H.dtsTime=H.dts/qd,H.ptsTime=H.pts/qd})}if(_.video&&_.video.length){var x=E;if((void 0===x||isNaN(x))&&(x=_.video[0].dts),_.video.forEach(function(H){H.dts=Uh(H.dts,x),H.pts=Uh(H.pts,x),H.dtsTime=H.dts/qd,H.ptsTime=H.pts/qd}),_.firstKeyFrame){var L=_.firstKeyFrame;L.dts=Uh(L.dts,x),L.pts=Uh(L.pts,x),L.dtsTime=L.dts/qd,L.ptsTime=L.pts/qd}}}(x,E),x):null},rx=function(){function $(E,D){this.options=D||{},this.self=E,this.init()}var _=$.prototype;return _.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new pM.Transmuxer(this.options),function(_,E){E.on("data",function(D){var x=D.initSegment;D.initSegment={data:x.buffer,byteOffset:x.byteOffset,byteLength:x.byteLength};var L=D.data;D.data=L.buffer,_.postMessage({action:"data",segment:D,byteOffset:L.byteOffset,byteLength:L.byteLength},[D.data])}),E.on("done",function(D){_.postMessage({action:"done"})}),E.on("gopInfo",function(D){_.postMessage({action:"gopInfo",gopInfo:D})}),E.on("videoSegmentTimingInfo",function(D){var x={start:{decode:ri_videoTsToSeconds(D.start.dts),presentation:ri_videoTsToSeconds(D.start.pts)},end:{decode:ri_videoTsToSeconds(D.end.dts),presentation:ri_videoTsToSeconds(D.end.pts)},baseMediaDecodeTime:ri_videoTsToSeconds(D.baseMediaDecodeTime)};D.prependedContentDuration&&(x.prependedContentDuration=ri_videoTsToSeconds(D.prependedContentDuration)),_.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:x})}),E.on("audioSegmentTimingInfo",function(D){var x={start:{decode:ri_videoTsToSeconds(D.start.dts),presentation:ri_videoTsToSeconds(D.start.pts)},end:{decode:ri_videoTsToSeconds(D.end.dts),presentation:ri_videoTsToSeconds(D.end.pts)},baseMediaDecodeTime:ri_videoTsToSeconds(D.baseMediaDecodeTime)};D.prependedContentDuration&&(x.prependedContentDuration=ri_videoTsToSeconds(D.prependedContentDuration)),_.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:x})}),E.on("id3Frame",function(D){_.postMessage({action:"id3Frame",id3Frame:D})}),E.on("caption",function(D){_.postMessage({action:"caption",caption:D})}),E.on("trackinfo",function(D){_.postMessage({action:"trackinfo",trackInfo:D})}),E.on("audioTimingInfo",function(D){_.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:ri_videoTsToSeconds(D.start),end:ri_videoTsToSeconds(D.end)}})}),E.on("videoTimingInfo",function(D){_.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:ri_videoTsToSeconds(D.start),end:ri_videoTsToSeconds(D.end)}})}),E.on("log",function(D){_.postMessage({action:"log",log:D})})}(this.self,this.transmuxer)},_.pushMp4Captions=function(D){this.captionParser||(this.captionParser=new RM,this.captionParser.init());var x=new Uint8Array(D.data,D.byteOffset,D.byteLength),L=this.captionParser.parse(x,D.trackIds,D.timescales);this.self.postMessage({action:"mp4Captions",captions:L&&L.captions||[],logs:L&&L.logs||[],data:x.buffer},[x.buffer])},_.probeMp4StartTime=function(D){var L=D.data,H=tx_startTime(D.timescales,L);this.self.postMessage({action:"probeMp4StartTime",startTime:H,data:L},[L.buffer])},_.probeMp4Tracks=function(D){var x=D.data,L=tx_tracks(x);this.self.postMessage({action:"probeMp4Tracks",tracks:L,data:x},[x.buffer])},_.probeTs=function(D){var x=D.data,L=D.baseStartTime,H="number"!=typeof L||isNaN(L)?void 0:9e4*L,ie=qM_inspect(x,H),ae=null;ie&&((ae={hasVideo:ie.video&&2===ie.video.length||!1,hasAudio:ie.audio&&2===ie.audio.length||!1}).hasVideo&&(ae.videoStart=ie.video[0].ptsTime),ae.hasAudio&&(ae.audioStart=ie.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:ae,data:x},[x.buffer])},_.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},_.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},_.push=function(D){var x=new Uint8Array(D.data,D.byteOffset,D.byteLength);this.transmuxer.push(x)},_.reset=function(){this.transmuxer.reset()},_.setTimestampOffset=function(D){this.transmuxer.setBaseMediaDecodeTime(Math.round(ri_secondsToVideoTs(D.timestampOffset||0)))},_.setAudioAppendStart=function(D){this.transmuxer.setAudioAppendStart(Math.ceil(ri_secondsToVideoTs(D.appendStart)))},_.setRemux=function(D){this.transmuxer.setRemux(D.remux)},_.flush=function(D){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},_.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},_.alignGopsWith=function(D){this.transmuxer.alignGopsWith(D.gopsToAlignWith.slice())},$}();self.onmessage=function($){"init"===$.data.action&&$.data.options?this.messageHandlers=new rx(self,$.data.options):(this.messageHandlers||(this.messageHandlers=new rx(self)),$.data&&$.data.action&&"init"!==$.data.action&&this.messageHandlers[$.data.action]&&this.messageHandlers[$.data.action]($.data))}})),yg=z0(p1),m1=function(n){var e=n.transmuxer,i=n.bytes,t=n.audioAppendStart,r=n.gopsToAlignWith,l=n.remux,d=n.onData,p=n.onTrackInfo,m=n.onAudioTimingInfo,y=n.onVideoTimingInfo,N=n.onVideoSegmentTimingInfo,M=n.onAudioSegmentTimingInfo,V=n.onId3,q=n.onCaptions,j=n.onDone,z=n.onEndedTimeline,ve=n.onTransmuxerLog,_e=n.isEndOfTimeline,Ve={buffer:[]},Ge=_e;if(e.onmessage=function(At){e.currentTransmux===n&&("data"===At.data.action&&function(n,e,i){var t=n.data.segment,r=t.type,l=t.initSegment,y=t.videoFrameDtsTime,N=t.videoFramePtsTime;e.buffer.push({captions:t.captions,captionStreams:t.captionStreams,metadata:t.metadata});var M=n.data.segment.boxes||{data:n.data.segment.data},V={type:r,data:new Uint8Array(M.data,M.data.byteOffset,M.data.byteLength),initSegment:new Uint8Array(l.data,l.byteOffset,l.byteLength)};void 0!==y&&(V.videoFrameDtsTime=y),void 0!==N&&(V.videoFramePtsTime=N),i(V)}(At,Ve,d),"trackinfo"===At.data.action&&p(At.data.trackInfo),"gopInfo"===At.data.action&&function(n,e){e.gopInfo=n.data.gopInfo}(At,Ve),"audioTimingInfo"===At.data.action&&m(At.data.audioTimingInfo),"videoTimingInfo"===At.data.action&&y(At.data.videoTimingInfo),"videoSegmentTimingInfo"===At.data.action&&N(At.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===At.data.action&&M(At.data.audioSegmentTimingInfo),"id3Frame"===At.data.action&&V([At.data.id3Frame],At.data.id3Frame.dispatchType),"caption"===At.data.action&&q(At.data.caption),"endedtimeline"===At.data.action&&(Ge=!1,z()),"log"===At.data.action&&ve(At.data.log),"transmuxed"===At.data.type&&(Ge||(e.onmessage=null,function(n){var e=n.transmuxedData,i=n.callback;e.buffer=[],i(e)}({transmuxedData:Ve,callback:j}),v1(e))))},t&&e.postMessage({action:"setAudioAppendStart",appendStart:t}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==l&&e.postMessage({action:"setRemux",remux:l}),i.byteLength){var it=i instanceof ArrayBuffer?i:i.buffer,ht=i instanceof ArrayBuffer?0:i.byteOffset;e.postMessage({action:"push",data:it,byteOffset:ht,byteLength:i.byteLength},[it])}_e&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},v1=function(n){n.currentTransmux=null,n.transmuxQueue.length&&(n.currentTransmux=n.transmuxQueue.shift(),"function"==typeof n.currentTransmux?n.currentTransmux():m1(n.currentTransmux))},K0=function(n,e){n.postMessage({action:e}),v1(n)},Xf_reset=function(n){!function(n,e){if(!e.currentTransmux)return e.currentTransmux=n,void K0(e,n);e.transmuxQueue.push(K0.bind(null,e,n))}("reset",n)},Qf=function(n){var e=n.transmuxer,i=n.endAction||n.action,t=n.callback,r=Un({},n,{endAction:null,transmuxer:null,callback:null});if(e.addEventListener("message",function m(y){y.data.action===i&&(e.removeEventListener("message",m),y.data.data&&(y.data.data=new Uint8Array(y.data.data,n.byteOffset||0,n.byteLength||y.data.data.byteLength),n.data&&(n.data=y.data.data)),t(y.data))}),n.data){var d=n.data instanceof ArrayBuffer;r.byteOffset=d?0:n.data.byteOffset,r.byteLength=n.data.byteLength,e.postMessage(r,[d?n.data:n.data.buffer])}else e.postMessage(r)},Wu=function(n){n.forEach(function(e){e.abort()})},Sg=function(n,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:-101,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:-102,xhr:e}:n?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:2,xhr:e}:"arraybuffer"===e.responseType&&0===e.response.byteLength?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:2,xhr:e}:null},X0=function(n,e,i){return function(t,r){var l=r.response,d=Sg(t,r);if(d)return i(d,n);if(16!==l.byteLength)return i({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:2,xhr:r},n);for(var p=new DataView(l),m=new Uint32Array([p.getUint32(0),p.getUint32(4),p.getUint32(8),p.getUint32(12)]),y=0;y<e.length;y++)e[y].bytes=m;return i(null,n)}},Q0=function(n,e){var i=rp(n.map.bytes);if("mp4"!==i)return e({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+(n.map.resolvedUri||n.map.uri),code:2});Qf({action:"probeMp4Tracks",data:n.map.bytes,transmuxer:n.transmuxer,callback:function(l){var d=l.tracks;return n.map.bytes=l.data,d.forEach(function(m){n.map.tracks=n.map.tracks||{},!n.map.tracks[m.type]&&(n.map.tracks[m.type]=m,"number"==typeof m.id&&m.timescale&&(n.map.timescales=n.map.timescales||{},n.map.timescales[m.id]=m.timescale))}),e(null)}})},Z0=function(n){var e=n.segment,i=n.bytes,t=n.trackInfoFn,r=n.timingInfoFn,l=n.videoSegmentTimingInfoFn,d=n.audioSegmentTimingInfoFn,p=n.id3Fn,m=n.captionsFn,y=n.isEndOfTimeline,N=n.endedTimelineFn,M=n.dataFn,V=n.doneFn,q=n.onTransmuxerLog,j=e.map&&e.map.tracks||{},z=Boolean(j.audio&&j.video),ve=r.bind(null,e,"audio","start"),_e=r.bind(null,e,"audio","end"),Ve=r.bind(null,e,"video","start"),Ge=r.bind(null,e,"video","end");Qf({action:"probeTs",transmuxer:e.transmuxer,data:i,baseStartTime:e.baseStartTime,callback:function(ht){e.bytes=i=ht.data;var ze=ht.result;ze&&(t(e,{hasAudio:ze.hasAudio,hasVideo:ze.hasVideo,isMuxed:z}),t=null,ze.hasAudio&&!z&&ve(ze.audioStart),ze.hasVideo&&Ve(ze.videoStart),ve=null,Ve=null),function(n){if(!n.transmuxer.currentTransmux)return n.transmuxer.currentTransmux=n,void m1(n);n.transmuxer.transmuxQueue.push(n)}({bytes:i,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:z,onData:function(ze){ze.type="combined"===ze.type?"video":ze.type,M(e,ze)},onTrackInfo:function(ze){t&&(z&&(ze.isMuxed=!0),t(e,ze))},onAudioTimingInfo:function(ze){ve&&void 0!==ze.start&&(ve(ze.start),ve=null),_e&&void 0!==ze.end&&_e(ze.end)},onVideoTimingInfo:function(ze){Ve&&void 0!==ze.start&&(Ve(ze.start),Ve=null),Ge&&void 0!==ze.end&&Ge(ze.end)},onVideoSegmentTimingInfo:function(ze){l(ze)},onAudioSegmentTimingInfo:function(ze){d(ze)},onId3:function(ze,At){p(e,ze,At)},onCaptions:function(ze){m(e,[ze])},isEndOfTimeline:y,onEndedTimeline:function(){N()},onTransmuxerLog:q,onDone:function(ze){!V||(ze.type="combined"===ze.type?"video":ze.type,V(null,e,ze))}})}})},J0=function(n){var e=n.segment,i=n.bytes,t=n.trackInfoFn,r=n.timingInfoFn,l=n.videoSegmentTimingInfoFn,d=n.audioSegmentTimingInfoFn,p=n.id3Fn,m=n.captionsFn,y=n.isEndOfTimeline,N=n.endedTimelineFn,M=n.dataFn,V=n.doneFn,q=n.onTransmuxerLog,j=new Uint8Array(i);if(function(n){return as(n,["moof"]).length>0}(j)){e.isFmp4=!0;var z=e.map.tracks,ve={isFmp4:!0,hasVideo:!!z.video,hasAudio:!!z.audio};z.audio&&z.audio.codec&&"enca"!==z.audio.codec&&(ve.audioCodec=z.audio.codec),z.video&&z.video.codec&&"encv"!==z.video.codec&&(ve.videoCodec=z.video.codec),z.video&&z.audio&&(ve.isMuxed=!0),t(e,ve);var _e=function(Ge){M(e,{data:j,type:ve.hasAudio&&!ve.isMuxed?"audio":"video"}),Ge&&Ge.length&&m(e,Ge),V(null,e,{})};Qf({action:"probeMp4StartTime",timescales:e.map.timescales,data:j,transmuxer:e.transmuxer,callback:function(Ge){var je=Ge.data,it=Ge.startTime;i=je.buffer,e.bytes=j=je,ve.hasAudio&&!ve.isMuxed&&r(e,"audio","start",it),ve.hasVideo&&r(e,"video","start",it),z.video&&je.byteLength&&e.transmuxer?Qf({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:j,timescales:e.map.timescales,trackIds:[z.video.id],callback:function(ze){i=ze.data.buffer,e.bytes=j=ze.data,ze.logs.forEach(function(At){q(Ne.mergeOptions(At,{stream:"mp4CaptionParser"}))}),_e(ze.captions)}}):_e()}})}else{if(e.transmuxer)return void 0===e.container&&(e.container=rp(j)),"ts"!==e.container&&"aac"!==e.container?(t(e,{hasAudio:!1,hasVideo:!1}),void V(null,e,{})):void Z0({segment:e,bytes:i,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:p,captionsFn:m,isEndOfTimeline:y,endedTimelineFn:N,dataFn:M,doneFn:V,onTransmuxerLog:q});V(null,e,{})}},Cg=function(n,e){var p,i=n.id,t=n.key,r=n.encryptedBytes,l=n.decryptionWorker;l.addEventListener("message",function m(y){if(y.data.source===i){l.removeEventListener("message",m);var N=y.data.decrypted;e(new Uint8Array(N.bytes,N.byteOffset,N.byteLength))}}),p=t.bytes.slice?t.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.bytes)),l.postMessage(md({source:i,encrypted:r,key:p,iv:t.iv}),[r.buffer,p.buffer])},C1=function(n){var e=n.xhr,i=n.xhrOptions,r=n.segment,l=n.abortFn,d=n.progressFn,p=n.trackInfoFn,m=n.timingInfoFn,y=n.videoSegmentTimingInfoFn,N=n.audioSegmentTimingInfoFn,M=n.id3Fn,V=n.captionsFn,q=n.isEndOfTimeline,j=n.endedTimelineFn,z=n.dataFn,Ve=[],Ge=function(n){var e=n.activeXhrs,i=n.decryptionWorker,t=n.trackInfoFn,r=n.timingInfoFn,l=n.videoSegmentTimingInfoFn,d=n.audioSegmentTimingInfoFn,p=n.id3Fn,m=n.captionsFn,y=n.isEndOfTimeline,N=n.endedTimelineFn,M=n.dataFn,V=n.doneFn,q=n.onTransmuxerLog,j=0,z=!1;return function(ve,_e){if(!z){if(ve)return z=!0,Wu(e),V(ve,_e);if((j+=1)===e.length){var Ve=function(){if(_e.encryptedBytes)return function(n){var i=n.segment,t=n.trackInfoFn,r=n.timingInfoFn,l=n.videoSegmentTimingInfoFn,d=n.audioSegmentTimingInfoFn,p=n.id3Fn,m=n.captionsFn,y=n.isEndOfTimeline,N=n.endedTimelineFn,M=n.dataFn,V=n.doneFn,q=n.onTransmuxerLog;Cg({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:n.decryptionWorker},function(j){i.bytes=j,J0({segment:i,bytes:i.bytes,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:p,captionsFn:m,isEndOfTimeline:y,endedTimelineFn:N,dataFn:M,doneFn:V,onTransmuxerLog:q})})}({decryptionWorker:i,segment:_e,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:p,captionsFn:m,isEndOfTimeline:y,endedTimelineFn:N,dataFn:M,doneFn:V,onTransmuxerLog:q});J0({segment:_e,bytes:_e.bytes,trackInfoFn:t,timingInfoFn:r,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:p,captionsFn:m,isEndOfTimeline:y,endedTimelineFn:N,dataFn:M,doneFn:V,onTransmuxerLog:q})};if(_e.endOfAllRequests=Date.now(),_e.map&&_e.map.encryptedBytes&&!_e.map.bytes)return Cg({decryptionWorker:i,id:_e.requestId+"-init",encryptedBytes:_e.map.encryptedBytes,key:_e.map.key},function(Ge){_e.map.bytes=Ge,Q0(_e,function(je){if(je)return Wu(e),V(je,_e);Ve()})});Ve()}}}}({activeXhrs:Ve,decryptionWorker:n.decryptionWorker,trackInfoFn:p,timingInfoFn:m,videoSegmentTimingInfoFn:y,audioSegmentTimingInfoFn:N,id3Fn:M,captionsFn:V,isEndOfTimeline:q,endedTimelineFn:j,dataFn:z,doneFn:n.doneFn,onTransmuxerLog:n.onTransmuxerLog});if(r.key&&!r.key.bytes){var je=[r.key];r.map&&!r.map.bytes&&r.map.key&&r.map.key.resolvedUri===r.key.resolvedUri&&je.push(r.map.key);var ze=e(Ne.mergeOptions(i,{uri:r.key.resolvedUri,responseType:"arraybuffer"}),X0(r,je,Ge));Ve.push(ze)}if(r.map&&!r.map.bytes){if(r.map.key&&(!r.key||r.key.resolvedUri!==r.map.key.resolvedUri)){var Ut=e(Ne.mergeOptions(i,{uri:r.map.key.resolvedUri,responseType:"arraybuffer"}),X0(r,[r.map.key],Ge));Ve.push(Ut)}var Tn=Ne.mergeOptions(i,{uri:r.map.resolvedUri,responseType:"arraybuffer",headers:Us(r.map)}),er=function(n){var e=n.segment,i=n.finishProcessingFn;return function(t,r){var l=Sg(t,r);if(l)return i(l,e);var d=new Uint8Array(r.response);if(e.map.key)return e.map.encryptedBytes=d,i(null,e);e.map.bytes=d,Q0(e,function(p){if(p)return p.xhr=r,p.status=r.status,i(p,e);i(null,e)})}}({segment:r,finishProcessingFn:Ge}),Ln=e(Tn,er);Ve.push(Ln)}var or=Ne.mergeOptions(i,{uri:r.part&&r.part.resolvedUri||r.resolvedUri,responseType:"arraybuffer",headers:Us(r)}),es=e(or,function(n){var e=n.segment,i=n.finishProcessingFn,t=n.responseType;return function(r,l){var d=Sg(r,l);if(d)return i(d,e);var p="arraybuffer"!==t&&l.responseText?function(n){for(var e=new Uint8Array(new ArrayBuffer(n.length)),i=0;i<n.length;i++)e[i]=n.charCodeAt(i);return e.buffer}(l.responseText.substring(e.lastReachedChar||0)):l.response;return e.stats=function(n){return{bandwidth:n.bandwidth,bytesReceived:n.bytesReceived||0,roundTripTime:n.roundTripTime||0}}(l),e.key?e.encryptedBytes=new Uint8Array(p):e.bytes=new Uint8Array(p),i(null,e)}}({segment:r,finishProcessingFn:Ge,responseType:or.responseType}));es.addEventListener("progress",function(n){var e=n.segment,i=n.progressFn;return function(t){if(!t.target.aborted)return e.stats=Ne.mergeOptions(e.stats,function(n){var e=n.target,t={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return t.bytesReceived=n.loaded,t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3),t}(t)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),i(t,e)}}({segment:r,progressFn:d,trackInfoFn:p,timingInfoFn:m,videoSegmentTimingInfoFn:y,audioSegmentTimingInfoFn:N,id3Fn:M,captionsFn:V,isEndOfTimeline:q,endedTimelineFn:j,dataFn:z})),Ve.push(es);var $r={};return Ve.forEach(function($s){$s.addEventListener("loadend",function(n){var e=n.loadendState,i=n.abortFn;return function(t){t.target.aborted&&i&&!e.calledAbortFn&&(i(),e.calledAbortFn=!0)}}({loadendState:$r,abortFn:l}))}),function(){return Wu(Ve)}},FD=Ss("CodecUtils"),wg=function(n,e){var i=e.attributes||{};return n&&n.mediaGroups&&n.mediaGroups.AUDIO&&i.AUDIO&&n.mediaGroups.AUDIO[i.AUDIO]},$u=function(n){var e={};return n.forEach(function(i){var t=i.mediaType,r=i.type,l=i.details;e[t]=e[t]||[],e[t].push(Xl(""+r+l))}),Object.keys(e).forEach(function(i){if(e[i].length>1)return FD("multiple "+i+" codecs found as attributes: "+e[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(e[i]=null);e[i]=e[i][0]}),e},t_=function(n){var e=0;return n.audio&&e++,n.video&&e++,e},Vo=function(n,e){var i=e.attributes||{},t=$u(function(n){var e=n.attributes||{};if(e.CODECS)return vs(e.CODECS)}(e)||[]);if(wg(n,e)&&!t.audio&&!function(n,e){if(!wg(n,e))return!0;var t=n.mediaGroups.AUDIO[(e.attributes||{}).AUDIO];for(var r in t)if(!t[r].uri&&!t[r].playlists)return!0;return!1}(n,e)){var r=$u(function(n,e){if(!n.mediaGroups.AUDIO||!e)return null;var i=n.mediaGroups.AUDIO[e];if(!i)return null;for(var t in i){var r=i[t];if(r.default&&r.playlists)return vs(r.playlists[0].attributes.CODECS)}return null}(n,i.AUDIO)||[]);r.audio&&(t.audio=r.audio)}return t},Ol=Ss("PlaylistSelector"),Zf=function(n){if(n&&n.playlist){var e=n.playlist;return JSON.stringify({id:e.id,bandwidth:n.bandwidth,width:n.width,height:n.height,codecs:e.attributes&&e.attributes.CODECS||""})}},Ag=function(n,e){if(!n)return"";var i=oe().getComputedStyle(n);return i?i[e]:""},zu=function(n,e){var i=n.slice();n.sort(function(t,r){var l=e(t,r);return 0===l?i.indexOf(t)-i.indexOf(r):l})},Yu=function(n,e){var i,t;return n.attributes.BANDWIDTH&&(i=n.attributes.BANDWIDTH),i=i||oe().Number.MAX_VALUE,e.attributes.BANDWIDTH&&(t=e.attributes.BANDWIDTH),i-(t||oe().Number.MAX_VALUE)},Mg=function(n,e,i,t,r,l){if(n){var d={bandwidth:e,width:i,height:t,limitRenditionByPlayerDimensions:r},p=n.playlists;Cs.isAudioOnly(n)&&(p=l.getAudioTrackPlaylists_(),d.audioOnly=!0);var m=p.map(function(Dt){var Ut=Dt.attributes&&Dt.attributes.RESOLUTION&&Dt.attributes.RESOLUTION.width,Tn=Dt.attributes&&Dt.attributes.RESOLUTION&&Dt.attributes.RESOLUTION.height;return{bandwidth:Dt.attributes&&Dt.attributes.BANDWIDTH||oe().Number.MAX_VALUE,width:Ut,height:Tn,playlist:Dt}});zu(m,function(Dt,Zt){return Dt.bandwidth-Zt.bandwidth});var y=(m=m.filter(function(Dt){return!Cs.isIncompatible(Dt.playlist)})).filter(function(Dt){return Cs.isEnabled(Dt.playlist)});y.length||(y=m.filter(function(Dt){return!Cs.isDisabled(Dt.playlist)}));var N=y.filter(function(Dt){return Dt.bandwidth*br.BANDWIDTH_VARIANCE<e}),M=N[N.length-1],V=N.filter(function(Dt){return Dt.bandwidth===M.bandwidth})[0];if(!1===r){var q=V||y[0]||m[0];if(q&&q.playlist){var j="sortedPlaylistReps";return V&&(j="bandwidthBestRep"),y[0]&&(j="enabledPlaylistReps"),Ol("choosing "+Zf(q)+" using "+j+" with options",d),q.playlist}return Ol("could not choose a playlist with options",d),null}var z=N.filter(function(Dt){return Dt.width&&Dt.height});zu(z,function(Dt,Zt){return Dt.width-Zt.width});var ve=z.filter(function(Dt){return Dt.width===i&&Dt.height===t});M=ve[ve.length-1];var Ve,Ge,je,it,_e=ve.filter(function(Dt){return Dt.bandwidth===M.bandwidth})[0];if(_e||(Ge=(Ve=z.filter(function(Dt){return Dt.width>i||Dt.height>t})).filter(function(Dt){return Dt.width===Ve[0].width&&Dt.height===Ve[0].height}),M=Ge[Ge.length-1],je=Ge.filter(function(Dt){return Dt.bandwidth===M.bandwidth})[0]),l.experimentalLeastPixelDiffSelector){var ht=z.map(function(Dt){return Dt.pixelDiff=Math.abs(Dt.width-i)+Math.abs(Dt.height-t),Dt});zu(ht,function(Dt,Zt){return Dt.pixelDiff===Zt.pixelDiff?Zt.bandwidth-Dt.bandwidth:Dt.pixelDiff-Zt.pixelDiff}),it=ht[0]}var ze=it||je||_e||V||y[0]||m[0];if(ze&&ze.playlist){var At="sortedPlaylistReps";return it?At="leastPixelDiffRep":je?At="resolutionPlusOneRep":_e?At="resolutionBestRep":V?At="bandwidthBestRep":y[0]&&(At="enabledPlaylistReps"),Ol("choosing "+Zf(ze)+" using "+At+" with options",d),ze.playlist}return Ol("could not choose a playlist with options",d),null}},Ng=function(){var n=this.useDevicePixelRatio&&oe().devicePixelRatio||1;return Mg(this.playlists.master,this.systemBandwidth,parseInt(Ag(this.tech_.el(),"width"),10)*n,parseInt(Ag(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Ku=function(n,e,i){var t,r;if(i&&i.cues)for(t=i.cues.length;t--;)(r=i.cues[t]).startTime>=n&&r.endTime<=e&&i.removeCue(r)},Fg=function(n){return"number"==typeof n&&isFinite(n)},_d=1/60,yd=function(n){var e=n.startOfSegment,i=n.duration,t=n.segment,r=n.part,l=n.playlist,d=l.mediaSequence,p=l.id,m=l.segments,N=n.mediaIndex,M=n.partIndex,V=n.timeline,q=(void 0===m?[]:m).length-1,j="mediaIndex/partIndex increment";n.getMediaInfoForTime?j="getMediaInfoForTime ("+n.getMediaInfoForTime+")":n.isSyncRequest&&(j="getSyncSegmentCandidate (isSyncRequest)"),n.independent&&(j+=" with independent "+n.independent);var z="number"==typeof M,ve=n.segment.uri?"segment":"pre-segment",_e=z?la({preloadSegment:t})-1:0;return ve+" ["+(d+N)+"/"+(d+q)+"]"+(z?" part ["+M+"/"+_e+"]":"")+" segment start/end ["+t.start+" => "+t.end+"]"+(z?" part start/end ["+r.start+" => "+r.end+"]":"")+" startOfSegment ["+e+"] duration ["+i+"] timeline ["+V+"] selected by ["+j+"] playlist ["+p+"]"},h_=function(n){return n+"TimingInfo"},Lg=function(n){var e=n.timelineChangeController,t=n.segmentTimeline,r=n.loaderType,l=n.audioDisabled;if(n.currentTimeline===t)return!1;if("audio"===r){var d=e.lastTimelineChange({type:"main"});return!d||d.to!==t}if("main"===r&&l){var p=e.pendingTimelineChange({type:"audio"});return!(p&&p.to===t)}return!1},Zi=function(n){var e=n.segmentDuration,i=n.maxDuration;return!!e&&Math.round(e)>i+fo},Bg=function(s){function n(i,t){var r;if(r=s.call(this)||this,!i)throw new TypeError("Initialization settings are required");if("function"!=typeof i.currentTime)throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return r.bandwidth=i.bandwidth,r.throughput={rate:0,count:0},r.roundTrip=NaN,r.resetStats_(),r.mediaIndex=null,r.partIndex=null,r.hasPlayed_=i.hasPlayed,r.currentTime_=i.currentTime,r.seekable_=i.seekable,r.seeking_=i.seeking,r.duration_=i.duration,r.mediaSource_=i.mediaSource,r.vhs_=i.vhs,r.loaderType_=i.loaderType,r.currentMediaInfo_=void 0,r.startingMediaInfo_=void 0,r.segmentMetadataTrack_=i.segmentMetadataTrack,r.goalBufferLength_=i.goalBufferLength,r.sourceType_=i.sourceType,r.sourceUpdater_=i.sourceUpdater,r.inbandTextTracks_=i.inbandTextTracks,r.state_="INIT",r.timelineChangeController_=i.timelineChangeController,r.shouldSaveSegmentTimingInfo_=!0,r.parse708captions_=i.parse708captions,r.captionServices_=i.captionServices,r.experimentalExactManifestTimings=i.experimentalExactManifestTimings,r.checkBufferTimeout_=null,r.error_=void 0,r.currentTimeline_=-1,r.pendingSegment_=null,r.xhrOptions_=null,r.pendingSegments_=[],r.audioDisabled_=!1,r.isPendingTimestampOffset_=!1,r.gopBuffer_=[],r.timeMapping_=0,r.safeAppend_=Ne.browser.IE_VERSION>=11,r.appendInitSegment_={audio:!0,video:!0},r.playlistOfLastInitSegment_={audio:null,video:null},r.callQueue_=[],r.loadQueue_=[],r.metadataQueue_={id3:[],caption:[]},r.waitingOnRemove_=!1,r.quotaExceededErrorRetryTimeout_=null,r.activeInitSegmentId_=null,r.initSegments_={},r.cacheEncryptionKeys_=i.cacheEncryptionKeys,r.keyCache_={},r.decrypter_=i.decrypter,r.syncController_=i.syncController,r.syncPoint_={segmentIndex:0,time:0},r.transmuxer_=r.createTransmuxer_(),r.triggerSyncInfoUpdate_=function(){return r.trigger("syncinfoupdate")},r.syncController_.on("syncinfoupdate",r.triggerSyncInfoUpdate_),r.mediaSource_.addEventListener("sourceopen",function(){r.isEndOfStream_()||(r.ended_=!1)}),r.fetchAtBuffer_=!1,r.logger_=Ss("SegmentLoader["+r.loaderType_+"]"),Object.defineProperty(Kt(r),"state",{get:function(){return this.state_},set:function(d){d!==this.state_&&(this.logger_(this.state_+" -> "+d),this.state_=d,this.trigger("statechange"))}}),r.sourceUpdater_.on("ready",function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()}),"main"===r.loaderType_&&r.timelineChangeController_.on("pendingtimelinechange",function(){r.hasEnoughInfoToAppend_()&&r.processCallQueue_()}),"audio"===r.loaderType_&&r.timelineChangeController_.on("timelinechange",function(){r.hasEnoughInfoToLoad_()&&r.processLoadQueue_(),r.hasEnoughInfoToAppend_()&&r.processCallQueue_()}),r}Et(n,s);var e=n.prototype;return e.createTransmuxer_=function(){return function(n){var e=new yg;e.currentTransmux=null,e.transmuxQueue=[];var i=e.terminate;return e.terminate=function(){return e.currentTransmux=null,e.transmuxQueue.length=0,i.call(e)},e.postMessage({action:"init",options:n}),e}({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},e.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},e.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&oe().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},e.setAudio=function(t){this.audioDisabled_=!t,t?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},e.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},e.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,oe().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},e.checkForAbort_=function(t){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==t:(this.state="READY",!0)},e.error=function(t){return void 0!==t&&(this.logger_("error occurred:",t),this.error_=t),this.pendingSegment_=null,this.error_},e.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Xf_reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},e.buffered_=function(){var t=this.getMediaInfo_();if(!this.sourceUpdater_||!t)return Ne.createTimeRanges();if("main"===this.loaderType_){var l=t.hasVideo;if(l&&t.hasAudio&&!this.audioDisabled_&&!t.isMuxed)return this.sourceUpdater_.buffered();if(l)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},e.initSegmentForMap=function(t,r){if(void 0===r&&(r=!1),!t)return null;var l=Jr(t),d=this.initSegments_[l];return r&&!d&&t.bytes&&(this.initSegments_[l]=d={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,tracks:t.tracks,timescales:t.timescales}),d||t},e.segmentKey=function(t,r){if(void 0===r&&(r=!1),!t)return null;var l=Kf(t),d=this.keyCache_[l];this.cacheEncryptionKeys_&&r&&!d&&t.bytes&&(this.keyCache_[l]=d={resolvedUri:t.resolvedUri,bytes:t.bytes});var p={resolvedUri:(d||t).resolvedUri};return d&&(p.bytes=d.bytes),p},e.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},e.load=function(){if(this.monitorBuffer_(),this.playlist_){if("INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},e.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},e.playlist=function(t,r){if(void 0===r&&(r={}),t){var l=this.playlist_,d=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=r,"INIT"===this.state&&(t.syncInfo={mediaSequence:t.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(t));var p=null;if(l&&(l.id?p=l.id:l.uri&&(p=l.uri)),this.logger_("playlist update ["+p+" => "+(t.id||t.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!l||l.uri!==t.uri)return null!==this.mediaIndex&&(t.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var m=t.mediaSequence-l.mediaSequence;if(this.logger_("live window shift ["+m+"]"),null!==this.mediaIndex)if(this.mediaIndex-=m,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var y=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!y.parts||!y.parts.length||!y.parts[this.partIndex])){var N=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=N}}d&&(d.mediaIndex-=m,d.mediaIndex<0?(d.mediaIndex=null,d.partIndex=null):(d.mediaIndex>=0&&(d.segment=t.segments[d.mediaIndex]),d.partIndex>=0&&d.segment.parts&&(d.part=d.segment.parts[d.partIndex]))),this.syncController_.saveExpiredSegmentInfo(l,t)}},e.pause=function(){this.checkBufferTimeout_&&(oe().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},e.paused=function(){return null===this.checkBufferTimeout_},e.resetEverything=function(t){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,t),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},e.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},e.resyncLoader=function(){this.transmuxer_&&Xf_reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},e.remove=function(t,r,l,d){if(void 0===l&&(l=function(){}),void 0===d&&(d=!1),r===1/0&&(r=this.duration_()),r<=t)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var p=1,m=function(){0==--p&&l()};for(var y in(d||!this.audioDisabled_)&&(p++,this.sourceUpdater_.removeAudio(t,r,m)),(d||"main"===this.loaderType_)&&(this.gopBuffer_=function(n,e,i,t){for(var r=Math.ceil((e-t)*ff.ONE_SECOND_IN_TS),l=Math.ceil((i-t)*ff.ONE_SECOND_IN_TS),d=n.slice(),p=n.length;p--&&!(n[p].pts<=l););if(-1===p)return d;for(var m=p+1;m--&&!(n[m].pts<=r););return m=Math.max(m,0),d.splice(m,p-m+1),d}(this.gopBuffer_,t,r,this.timeMapping_),p++,this.sourceUpdater_.removeVideo(t,r,m)),this.inbandTextTracks_)Ku(t,r,this.inbandTextTracks_[y]);Ku(t,r,this.segmentMetadataTrack_),m()}else this.logger_("skipping remove because no source updater or starting media info")},e.monitorBuffer_=function(){this.checkBufferTimeout_&&oe().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=oe().setTimeout(this.monitorBufferTick_.bind(this),1)},e.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&oe().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=oe().setTimeout(this.monitorBufferTick_.bind(this),500)},e.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var t=this.chooseNextRequest_();!t||("number"==typeof t.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline})),this.loadSegment_(t))}},e.isEndOfStream_=function(t,r,l){if(void 0===t&&(t=this.mediaIndex),void 0===r&&(r=this.playlist_),void 0===l&&(l=this.partIndex),!r||!this.mediaSource_)return!1;var d="number"==typeof t&&r.segments[t];return r.endList&&"open"===this.mediaSource_.readyState&&t+1===r.segments.length&&(!d||!d.parts||l+1===d.parts.length)},e.chooseNextRequest_=function(){var t=this.buffered_(),r=S0(t)||0,l=Uo(t,this.currentTime_()),d=!this.hasPlayed_()&&l>=1,p=l>=this.goalBufferLength_(),m=this.playlist_.segments;if(!m.length||d||p)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var y={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(y.isSyncRequest)y.mediaIndex=function(n,e,i){e=e||[];for(var t=[],r=0,l=0;l<e.length;l++){var d=e[l];if(n===d.timeline&&(t.push(l),(r+=d.duration)>i))return l}return 0===t.length?0:t[t.length-1]}(this.currentTimeline_,m,r);else if(null!==this.mediaIndex){var N=m[this.mediaIndex],M="number"==typeof this.partIndex?this.partIndex:-1;y.startOfSegment=N.end?N.end:r,N.parts&&N.parts[M+1]?(y.mediaIndex=this.mediaIndex,y.partIndex=M+1):y.mediaIndex=this.mediaIndex+1}else{var V=Cs.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?r:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),q=V.segmentIndex,j=V.startTime,z=V.partIndex;y.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+r:"currentTime "+this.currentTime_(),y.mediaIndex=q,y.startOfSegment=j,y.partIndex=z}var ve=m[y.mediaIndex],_e=ve&&"number"==typeof y.partIndex&&ve.parts&&ve.parts[y.partIndex];if(!ve||"number"==typeof y.partIndex&&!_e)return null;if("number"!=typeof y.partIndex&&ve.parts&&(y.partIndex=0,_e=ve.parts[0]),!l&&_e&&!_e.independent)if(0===y.partIndex){var Ve=m[y.mediaIndex-1],Ge=Ve.parts&&Ve.parts.length&&Ve.parts[Ve.parts.length-1];Ge&&Ge.independent&&(y.mediaIndex-=1,y.partIndex=Ve.parts.length-1,y.independent="previous segment")}else ve.parts[y.partIndex-1].independent&&(y.partIndex-=1,y.independent="previous part");return y.mediaIndex>=m.length-1&&this.mediaSource_&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?null:this.generateSegmentInfo_(y)},e.generateSegmentInfo_=function(t){var r=t.independent,l=t.playlist,d=t.mediaIndex,p=t.startOfSegment,m=t.isSyncRequest,y=t.partIndex,N=t.forceTimestampOffset,M=t.getMediaInfoForTime,V=l.segments[d],q="number"==typeof y&&V.parts[y],j={requestId:"segment-loader-"+Math.random(),uri:q&&q.resolvedUri||V.resolvedUri,mediaIndex:d,partIndex:q?y:null,isSyncRequest:m,startOfSegment:p,playlist:l,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:V.timeline,duration:q&&q.duration||V.duration,segment:V,part:q,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:M,independent:r},z=void 0!==N?N:this.isPendingTimestampOffset_;j.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:V.timeline,currentTimeline:this.currentTimeline_,startOfSegment:p,buffered:this.buffered_(),overrideCheck:z});var ve=S0(this.sourceUpdater_.audioBuffered());return"number"==typeof ve&&(j.audioAppendStart=ve-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(j.gopsToAlignWith=function(n,e,i){if(null==e||!n.length)return[];var r,t=Math.ceil((e-i+3)*ff.ONE_SECOND_IN_TS);for(r=0;r<n.length&&!(n[r].pts>t);r++);return n.slice(r)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),j},e.timestampOffsetForSegment_=function(t){return function(n){var e=n.segmentTimeline,i=n.currentTimeline,t=n.startOfSegment,r=n.buffered;return n.overrideCheck||e!==i?e<i?t:r.length?r.end(r.length-1):t:null}(t)},e.earlyAbortWhenNeeded_=function(t){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)){var r=this.currentTime_(),l=t.bandwidth,d=this.pendingSegment_.duration,p=Cs.estimateSegmentRequestTime(d,l,this.playlist_,t.bytesReceived),m=function(n,e,i){return void 0===i&&(i=1),((n.length?n.end(n.length-1):0)-e)/i}(this.buffered_(),r,this.vhs_.tech_.playbackRate())-1;if(!(p<=m)){var y=function(n){var i=n.currentTime,t=n.bandwidth,r=n.duration,l=n.segmentDuration,d=n.timeUntilRebuffer,p=n.currentTimeline,m=n.syncController,y=n.master.playlists.filter(function(j){return!Cs.isIncompatible(j)}),N=y.filter(Cs.isEnabled);N.length||(N=y.filter(function(j){return!Cs.isDisabled(j)}));var V=N.filter(Cs.hasAttribute.bind(null,"BANDWIDTH")).map(function(j){var ve=m.getSyncPoint(j,r,p,i)?1:2;return{playlist:j,rebufferingImpact:Cs.estimateSegmentRequestTime(l,t,j)*ve-d}}),q=V.filter(function(j){return j.rebufferingImpact<=0});return zu(q,function(j,z){return Yu(z.playlist,j.playlist)}),q.length?q[0]:(zu(V,function(j,z){return j.rebufferingImpact-z.rebufferingImpact}),V[0]||null)}({master:this.vhs_.playlists.master,currentTime:r,bandwidth:l,duration:this.duration_(),segmentDuration:d,timeUntilRebuffer:m,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(y){var V=.5;m<=fo&&(V=1),y.playlist&&y.playlist.uri!==this.playlist_.uri&&!(p-m-y.rebufferingImpact<V)&&(this.bandwidth=y.playlist.attributes.BANDWIDTH*br.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},e.handleAbort_=function(t){this.logger_("Aborting "+yd(t)),this.mediaRequestsAborted+=1},e.handleProgress_=function(t,r){this.earlyAbortWhenNeeded_(r.stats),!this.checkForAbort_(r.requestId)&&this.trigger("progress")},e.handleTrackInfo_=function(t,r){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&(this.checkForIllegalMediaSwitch(r)||(function(n,e){if(!n&&!e||!n&&e||n&&!e)return!1;if(n===e)return!0;var i=Object.keys(n).sort(),t=Object.keys(e).sort();if(i.length!==t.length)return!1;for(var r=0;r<i.length;r++){var l=i[r];if(l!==t[r]||n[l]!==e[l])return!1}return!0}(this.currentMediaInfo_,r=r||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=r,this.currentMediaInfo_=r,this.logger_("trackinfo update",r),this.trigger("trackinfo")),!this.checkForAbort_(t.requestId)&&(this.pendingSegment_.trackInfo=r,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},e.handleTimingInfo_=function(t,r,l,d){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){var p=this.pendingSegment_,m=h_(r);p[m]=p[m]||{},p[m][l]=d,this.logger_("timinginfo: "+r+" - "+l+" - "+d),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},e.handleCaptions_=function(t,r){var l=this;if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(0===r.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,t,r));var p=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),m={};r.forEach(function(y){m[y.stream]=m[y.stream]||{startTime:1/0,captions:[],endTime:0};var N=m[y.stream];N.startTime=Math.min(N.startTime,y.startTime+p),N.endTime=Math.max(N.endTime,y.endTime+p),N.captions.push(y)}),Object.keys(m).forEach(function(y){var N=m[y],M=N.startTime,V=N.endTime,q=N.captions,j=l.inbandTextTracks_;l.logger_("adding cues from "+M+" -> "+V+" for "+y),function(n,e,i){if(!n[i]){e.trigger({type:"usage",name:"vhs-608"}),e.trigger({type:"usage",name:"hls-608"});var t=i;/^cc708_/.test(i)&&(t="SERVICE"+i.split("_")[1]);var r=e.textTracks().getTrackById(t);if(r)n[i]=r;else{var d=i,p=i,m=!1,y=(e.options_.vhs&&e.options_.vhs.captionServices||{})[t];y&&(d=y.label,p=y.language,m=y.default),n[i]=e.addRemoteTextTrack({kind:"captions",id:t,default:m,label:d,language:p},!1).track}}}(j,l.vhs_.tech_,y),Ku(M,V,j[y]),function(n){var e=n.inbandTextTracks,i=n.captionArray,t=n.timestampOffset;if(i){var r=oe().WebKitDataCue||oe().VTTCue;i.forEach(function(l){e[l.stream].addCue(new r(l.startTime+t,l.endTime+t,l.text))})}}({captionArray:q,inbandTextTracks:j,timestampOffset:p})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},e.handleId3_=function(t,r,l){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.id3.push(this.handleId3_.bind(this,t,r,l));var p=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();(function(n,e,i){n.metadataTrack_||(n.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,n.metadataTrack_.inBandMetadataTrackDispatchType=e)})(this.inbandTextTracks_,l,this.vhs_.tech_),function(n){var e=n.inbandTextTracks,i=n.metadataArray,t=n.timestampOffset,r=n.videoDuration;if(i){var l=oe().WebKitDataCue||oe().VTTCue,d=e.metadataTrack_;if(d&&(i.forEach(function(V){var q=V.cueTime+t;"number"!=typeof q||oe().isNaN(q)||q<0||!(q<1/0)||V.frames.forEach(function(j){var z=new l(q,q,j.value||j.url||j.data||"");z.frame=j,z.value=j,function(n){Object.defineProperties(n.frame,{id:{get:function(){return Ne.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),n.value.key}},value:{get:function(){return Ne.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),n.value.data}},privateData:{get:function(){return Ne.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),n.value.data}}})}(z),d.addCue(z)})}),d.cues&&d.cues.length)){for(var p=d.cues,m=[],y=0;y<p.length;y++)p[y]&&m.push(p[y]);var N=m.reduce(function(V,q){var j=V[q.startTime]||[];return j.push(q),V[q.startTime]=j,V},{}),M=Object.keys(N).sort(function(V,q){return Number(V)-Number(q)});M.forEach(function(V,q){var j=N[V],z=Number(M[q+1])||r;j.forEach(function(ve){ve.endTime=z})})}}}({inbandTextTracks:this.inbandTextTracks_,metadataArray:r,timestampOffset:p,videoDuration:this.duration_()})}},e.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(t){return t()}),this.metadataQueue_.caption.forEach(function(t){return t()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},e.processCallQueue_=function(){var t=this.callQueue_;this.callQueue_=[],t.forEach(function(r){return r()})},e.processLoadQueue_=function(){var t=this.loadQueue_;this.loadQueue_=[],t.forEach(function(r){return r()})},e.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var t=this.pendingSegment_;return!(!t||this.getCurrentMediaInfo_()&&Lg({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},e.getCurrentMediaInfo_=function(t){return void 0===t&&(t=this.pendingSegment_),t&&t.trackInfo||this.currentMediaInfo_},e.getMediaInfo_=function(t){return void 0===t&&(t=this.pendingSegment_),this.getCurrentMediaInfo_(t)||this.startingMediaInfo_},e.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var t=this.pendingSegment_,r=this.getCurrentMediaInfo_();return!(!t||!r||r.hasVideo&&!t.videoTimingInfo||r.hasAudio&&!this.audioDisabled_&&!r.isMuxed&&!t.audioTimingInfo||Lg({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:t.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},e.handleData_=function(t,r){if(this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return void this.callQueue_.push(this.handleData_.bind(this,t,r));var l=this.pendingSegment_;if(this.setTimeMapping_(l.timeline),this.updateMediaSecondsLoaded_(l.part||l.segment),"closed"!==this.mediaSource_.readyState){if(t.map&&(t.map=this.initSegmentForMap(t.map,!0),l.segment.map=t.map),t.key&&this.segmentKey(t.key,!0),l.isFmp4=t.isFmp4,l.timingInfo=l.timingInfo||{},l.isFmp4)this.trigger("fmp4"),l.timingInfo.start=l[h_(r.type)].start;else{var m,d=this.getCurrentMediaInfo_(),p="main"===this.loaderType_&&d&&d.hasVideo;p&&(m=l.videoTimingInfo.start),l.timingInfo.start=this.trueSegmentStart_({currentStart:l.timingInfo.start,playlist:l.playlist,mediaIndex:l.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:p,firstVideoFrameTimeForData:m,videoTimingInfo:l.videoTimingInfo,audioTimingInfo:l.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(l,r.type),this.updateSourceBufferTimestampOffset_(l),l.isSyncRequest){this.updateTimingInfoEnd_(l),this.syncController_.saveSegmentTimingInfo({segmentInfo:l,shouldSaveTimelineMapping:"main"===this.loaderType_});var y=this.chooseNextRequest_();if(y.mediaIndex!==l.mediaIndex||y.partIndex!==l.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}l.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(l,r)}}},e.updateAppendInitSegmentStatus=function(t,r){"main"===this.loaderType_&&"number"==typeof t.timestampOffset&&!t.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[r]!==t.playlist&&(this.appendInitSegment_[r]=!0)},e.getInitSegmentAndUpdateState_=function(t){var r=t.type,l=t.initSegment,d=t.map,p=t.playlist;if(d){var m=Jr(d);if(this.activeInitSegmentId_===m)return null;l=this.initSegmentForMap(d,!0).bytes,this.activeInitSegmentId_=m}return l&&this.appendInitSegment_[r]?(this.playlistOfLastInitSegment_[r]=p,this.appendInitSegment_[r]=!1,this.activeInitSegmentId_=null,l):null},e.handleQuotaExceededError_=function(t,r){var l=this,d=t.segmentInfo,p=t.type,m=t.bytes,y=this.sourceUpdater_.audioBuffered(),N=this.sourceUpdater_.videoBuffered();y.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Ho(y).join(", ")),N.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Ho(N).join(", "));var M=y.length?y.start(0):0,V=y.length?y.end(y.length-1):0,q=N.length?N.start(0):0,j=N.length?N.end(N.length-1):0;if(V-M<=1&&j-q<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+m.byteLength+", audio buffer: "+Ho(y).join(", ")+", video buffer: "+Ho(N).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:d,type:p,bytes:m}));var ve=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+ve),this.remove(0,ve,function(){l.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),l.waitingOnRemove_=!1,l.quotaExceededErrorRetryTimeout_=oe().setTimeout(function(){l.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),l.quotaExceededErrorRetryTimeout_=null,l.processCallQueue_()},1e3)},!0)},e.handleAppendError_=function(t,r){var l=t.segmentInfo,d=t.type,p=t.bytes;if(r){if(22===r.code)return void this.handleQuotaExceededError_({segmentInfo:l,type:d,bytes:p});this.logger_("Received non QUOTA_EXCEEDED_ERR on append",r),this.error(d+" append of "+p.length+"b failed for segment #"+l.mediaIndex+" in playlist "+l.playlist.id),this.trigger("appenderror")}},e.appendToSourceBuffer_=function(t){var r=t.segmentInfo,l=t.type,d=t.initSegment,p=t.data,m=t.bytes;if(!m){var y=[p],N=p.byteLength;d&&(y.unshift(d),N+=d.byteLength),m=function(n){var i,e=0;return n.bytes&&(i=new Uint8Array(n.bytes),n.segments.forEach(function(t){i.set(t,e),e+=t.byteLength})),i}({bytes:N,segments:y})}this.sourceUpdater_.appendBuffer({segmentInfo:r,type:l,bytes:m},this.handleAppendError_.bind(this,{segmentInfo:r,type:l,bytes:m}))},e.handleSegmentTimingInfo_=function(t,r,l){if(this.pendingSegment_&&r===this.pendingSegment_.requestId){var d=this.pendingSegment_.segment,p=t+"TimingInfo";d[p]||(d[p]={}),d[p].transmuxerPrependedSeconds=l.prependedContentDuration||0,d[p].transmuxedPresentationStart=l.start.presentation,d[p].transmuxedDecodeStart=l.start.decode,d[p].transmuxedPresentationEnd=l.end.presentation,d[p].transmuxedDecodeEnd=l.end.decode,d[p].baseMediaDecodeTime=l.baseMediaDecodeTime}},e.appendData_=function(t,r){var l=r.type,d=r.data;if(d&&d.byteLength&&("audio"!==l||!this.audioDisabled_)){var p=this.getInitSegmentAndUpdateState_({type:l,initSegment:r.initSegment,playlist:t.playlist,map:t.isFmp4?t.segment.map:null});this.appendToSourceBuffer_({segmentInfo:t,type:l,initSegment:p,data:d})}},e.loadSegment_=function(t){var r=this;this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),"number"==typeof t.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(t):this.loadQueue_.push(function(){var l=Un({},t,{forceTimestampOffset:!0});Un(t,r.generateSegmentInfo_(l)),r.isPendingTimestampOffset_=!1,r.updateTransmuxerAndRequestSegment_(t)})},e.updateTransmuxerAndRequestSegment_=function(t){var r=this;this.shouldUpdateTransmuxerTimestampOffset_(t.timestampOffset)&&(this.gopBuffer_.length=0,t.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t.timestampOffset}));var l=this.createSimplifiedSegmentObj_(t),y=this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)||null!==this.mediaIndex&&t.timeline!==this.currentTimeline_&&t.timeline>0;this.logger_("Requesting "+yd(t)),l.map&&!l.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),t.abortRequests=C1({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:l,abortFn:this.handleAbort_.bind(this,t),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",t.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",t.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:y,endedTimelineFn:function(){r.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(M){var V=M.message,q=M.level,j=M.stream;r.logger_(yd(t)+" logged from transmuxer stream "+j+" as a "+q+": "+V)}})},e.trimBackBuffer_=function(t){var r=function(n,e,i){var t=e-br.BACK_BUFFER_LENGTH;return n.length&&(t=Math.max(t,n.start(0))),Math.min(e-i,t)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);r>0&&this.remove(0,r)},e.createSimplifiedSegmentObj_=function(t){var r=t.segment,l=t.part,d={resolvedUri:l?l.resolvedUri:r.resolvedUri,byterange:l?l.byterange:r.byterange,requestId:t.requestId,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,part:t.part},p=t.playlist.segments[t.mediaIndex-1];if(p&&p.timeline===r.timeline&&(p.videoTimingInfo?d.baseStartTime=p.videoTimingInfo.transmuxedDecodeEnd:p.audioTimingInfo&&(d.baseStartTime=p.audioTimingInfo.transmuxedDecodeEnd)),r.key){var m=r.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);d.key=this.segmentKey(r.key),d.key.iv=m}return r.map&&(d.map=this.initSegmentForMap(r.map)),d},e.saveTransferStats_=function(t){this.mediaRequests+=1,t&&(this.mediaBytesTransferred+=t.bytesReceived,this.mediaTransferDuration+=t.roundTripTime)},e.saveBandwidthRelatedStats_=function(t,r){this.pendingSegment_.byteLength=r.bytesReceived,t<_d?this.logger_("Ignoring segment's bandwidth because its duration of "+t+" is less than the min to record "+_d):(this.bandwidth=r.bandwidth,this.roundTrip=r.roundTripTime)},e.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},e.segmentRequestFinished_=function(t,r,l){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,t,r,l));else if(this.saveTransferStats_(r.stats),this.pendingSegment_&&r.requestId===this.pendingSegment_.requestId){if(t){if(this.pendingSegment_=null,this.state="READY",-102===t.code)return;return this.pause(),-101===t.code?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error"))}var d=this.pendingSegment_;this.saveBandwidthRelatedStats_(d.duration,r.stats),d.endOfAllRequests=r.endOfAllRequests,l.gopInfo&&(this.gopBuffer_=function(n,e,i){if(!e.length)return n;if(i)return e.slice();for(var t=e[0].pts,r=0;r<n.length&&!(n[r].pts>=t);r++);return n.slice(0,r).concat(e)}(this.gopBuffer_,l.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(d)}},e.setTimeMapping_=function(t){var r=this.syncController_.mappingForTimeline(t);null!==r&&(this.timeMapping_=r)},e.updateMediaSecondsLoaded_=function(t){this.mediaSecondsLoaded+="number"==typeof t.start&&"number"==typeof t.end?t.end-t.start:t.duration},e.shouldUpdateTransmuxerTimestampOffset_=function(t){return null!==t&&("main"===this.loaderType_&&t!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&t!==this.sourceUpdater_.audioTimestampOffset())},e.trueSegmentStart_=function(t){var r=t.currentStart,d=t.mediaIndex,p=t.firstVideoFrameTimeForData;if(void 0!==r)return r;if(!t.useVideoTimingInfo)return t.audioTimingInfo.start;var V=t.playlist.segments[d-1];return 0!==d&&V&&void 0!==V.start&&V.end===p+t.currentVideoTimestampOffset?t.videoTimingInfo.start:p},e.waitForAppendsToComplete_=function(t){var r=this.getCurrentMediaInfo_(t);if(!r)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var m="main"===this.loaderType_&&r.hasVideo,y=!this.audioDisabled_&&r.hasAudio&&!r.isMuxed;if(t.waitingOnAppends=0,!t.hasAppendedData_)return!t.timingInfo&&"number"==typeof t.timestampOffset&&(this.isPendingTimestampOffset_=!0),t.timingInfo={start:0},t.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(t),this.processMetadataQueue_()),void this.checkAppendsDone_(t);m&&t.waitingOnAppends++,y&&t.waitingOnAppends++,m&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,t)),y&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,t))},e.checkAppendsDone_=function(t){this.checkForAbort_(t.requestId)||(t.waitingOnAppends--,0===t.waitingOnAppends&&this.handleAppendsDone_())},e.checkForIllegalMediaSwitch=function(t){var r=function(n,e,i){return"main"===n&&e&&i?i.hasAudio||i.hasVideo?e.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),t);return!!r&&(this.error({message:r,blacklistDuration:1/0}),this.trigger("error"),!0)},e.updateSourceBufferTimestampOffset_=function(t){if(null!==t.timestampOffset&&"number"==typeof t.timingInfo.start&&!t.changedTimestampOffset&&"main"===this.loaderType_){var r=!1;t.timestampOffset-=t.timingInfo.start,t.changedTimestampOffset=!0,t.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(t.timestampOffset),r=!0),t.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(t.timestampOffset),r=!0),r&&this.trigger("timestampoffset")}},e.updateTimingInfoEnd_=function(t){t.timingInfo=t.timingInfo||{};var r=this.getMediaInfo_(),d="main"===this.loaderType_&&r&&r.hasVideo&&t.videoTimingInfo?t.videoTimingInfo:t.audioTimingInfo;!d||(t.timingInfo.end="number"==typeof d.end?d.end:d.start+t.duration)},e.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_;this.updateTimingInfoEnd_(t),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:t,shouldSaveTimelineMapping:"main"===this.loaderType_});var r=function(n,e){if("hls"!==e)return null;var i=function(n){var e=0;return["video","audio"].forEach(function(i){var t=n[i+"TimingInfo"];if(t){var d,r=t.start,l=t.end;"bigint"==typeof r||"bigint"==typeof l?d=oe().BigInt(l)-oe().BigInt(r):"number"==typeof r&&"number"==typeof l&&(d=l-r),void 0!==d&&d>e&&(e=d)}}),"bigint"==typeof e&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e}({audioTimingInfo:n.audioTimingInfo,videoTimingInfo:n.videoTimingInfo});if(!i)return null;var t=n.playlist.targetDuration,r=Zi({segmentDuration:i,maxDuration:2*t}),l=Zi({segmentDuration:i,maxDuration:t});return r||l?{severity:r?"warn":"info",message:"Segment with index "+n.mediaIndex+" from playlist "+n.playlist.id+" has a duration of "+i+" when the reported duration is "+n.duration+" and the target duration is "+t+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1"}:null}(t,this.sourceType_);if(r&&("warn"===r.severity?Ne.log.warn(r.message):this.logger_(r.message)),this.recordThroughput_(t),this.pendingSegment_=null,this.state="READY",!t.isSyncRequest||(this.trigger("syncinfoupdate"),t.hasAppendedData_)){this.logger_("Appended "+yd(t)),this.addSegmentMetadataCue_(t),this.fetchAtBuffer_=!0,this.currentTimeline_!==t.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:t.timeline}),"main"===this.loaderType_&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:t.timeline})),this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate");var l=t.segment,d=t.part,p=l.end&&this.currentTime_()-l.end>3*t.playlist.targetDuration,m=d&&d.end&&this.currentTime_()-d.end>3*t.playlist.partTargetDuration;if(p||m)return this.logger_("bad "+(p?"segment":"part")+" "+yd(t)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=t.mediaIndex,this.partIndex=t.partIndex,this.isEndOfStream_(t.mediaIndex,t.playlist,t.partIndex)&&this.endOfStream(),this.trigger("appended"),t.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+yd(t))},e.recordThroughput_=function(t){if(t.duration<_d)this.logger_("Ignoring segment's throughput because its duration of "+t.duration+" is less than the min to record "+_d);else{var r=this.throughput.rate,l=Date.now()-t.endOfAllRequests+1,d=Math.floor(t.byteLength/l*8*1e3);this.throughput.rate+=(d-r)/++this.throughput.count}},e.addSegmentMetadataCue_=function(t){if(this.segmentMetadataTrack_){var r=t.segment,l=r.start,d=r.end;if(Fg(l)&&Fg(d)){Ku(l,d,this.segmentMetadataTrack_);var p=oe().WebKitDataCue||oe().VTTCue,m={custom:r.custom,dateTimeObject:r.dateTimeObject,dateTimeString:r.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.id,start:l,end:d},N=new p(l,d,JSON.stringify(m));N.value=m,this.segmentMetadataTrack_.addCue(N)}}},n}(Ne.EventTarget);function ho(){}var fa,Hg=function(n){return"string"!=typeof n?n:n.replace(/./,function(e){return e.toUpperCase()})},A1=["video","audio"],th=function(n,e){var i=e[n+"Buffer"];return i&&i.updating||e.queuePending[n]},Go=function s(n,e){if(0!==e.queue.length){var i=0,t=e.queue[i];if("mediaSource"===t.type)return void(!e.updating()&&"closed"!==e.mediaSource.readyState&&(e.queue.shift(),t.action(e),t.doneFn&&t.doneFn(),s("audio",e),s("video",e)));if("mediaSource"!==n&&e.ready()&&"closed"!==e.mediaSource.readyState&&!th(n,e)){if(t.type!==n){if(i=function(n,e){for(var i=0;i<e.length;i++){var t=e[i];if("mediaSource"===t.type)return null;if(t.type===n)return i}return null}(n,e.queue),null===i)return;t=e.queue[i]}if(e.queue.splice(i,1),e.queuePending[n]=t,t.action(n,e),!t.doneFn)return e.queuePending[n]=null,void s(n,e)}}},m_=function(n,e){var i=e[n+"Buffer"],t=Hg(n);!i||(i.removeEventListener("updateend",e["on"+t+"UpdateEnd_"]),i.removeEventListener("error",e["on"+t+"Error_"]),e.codecs[n]=null,e[n+"Buffer"]=null)},Fa=function(n,e){return n&&e&&-1!==Array.prototype.indexOf.call(n.sourceBuffers,e)},us_appendBuffer=function(n,e,i){return function(t,r){var l=r[t+"Buffer"];if(Fa(r.mediaSource,l)){r.logger_("Appending segment "+e.mediaIndex+"'s "+n.length+" bytes to "+t+"Buffer");try{l.appendBuffer(n)}catch(d){r.logger_("Error with code "+d.code+" "+(22===d.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+e.mediaIndex+" to "+t+"Buffer"),r.queuePending[t]=null,i(d)}}}},us_remove=function(n,e){return function(i,t){var r=t[i+"Buffer"];if(Fa(t.mediaSource,r)){t.logger_("Removing "+n+" to "+e+" from "+i+"Buffer");try{r.remove(n,e)}catch(l){t.logger_("Remove "+n+" to "+e+" from "+i+"Buffer failed")}}}},us_timestampOffset=function(n){return function(e,i){var t=i[e+"Buffer"];!Fa(i.mediaSource,t)||(i.logger_("Setting "+e+"timestampOffset to "+n),t.timestampOffset=n)}},us_callback=function(n){return function(e,i){n()}},us_endOfStream=function(n){return function(e){if("open"===e.mediaSource.readyState){e.logger_("Calling mediaSource endOfStream("+(n||"")+")");try{e.mediaSource.endOfStream(n)}catch(i){Ne.log.warn("Failed to call media source endOfStream",i)}}}},us_duration=function(n){return function(e){e.logger_("Setting mediaSource duration to "+n);try{e.mediaSource.duration=n}catch(i){Ne.log.warn("Failed to set media source duration",i)}}},us_addSourceBuffer=function(n,e){return function(i){var t=Hg(n),r=xo(e);i.logger_("Adding "+n+"Buffer with codec "+e+" to mediaSource");var l=i.mediaSource.addSourceBuffer(r);l.addEventListener("updateend",i["on"+t+"UpdateEnd_"]),l.addEventListener("error",i["on"+t+"Error_"]),i.codecs[n]=e,i[n+"Buffer"]=l}},us_removeSourceBuffer=function(n){return function(e){var i=e[n+"Buffer"];if(m_(n,e),Fa(e.mediaSource,i)){e.logger_("Removing "+n+"Buffer with codec "+e.codecs[n]+" from mediaSource");try{e.mediaSource.removeSourceBuffer(i)}catch(t){Ne.log.warn("Failed to removeSourceBuffer "+n+"Buffer",t)}}}},us_changeType=function(n){return function(e,i){var t=i[e+"Buffer"],r=xo(n);!Fa(i.mediaSource,t)||i.codecs[e]!==n&&(i.logger_("changing "+e+"Buffer codec from "+i.codecs[e]+" to "+n),t.changeType(r),i.codecs[e]=n)}},Ds=function(n){var e=n.type,i=n.sourceUpdater;i.queue.push({type:e,action:n.action,doneFn:n.doneFn,name:n.name}),Go(e,i)},Ug=function(n,e){return function(i){if(e.queuePending[n]){var t=e.queuePending[n].doneFn;e.queuePending[n]=null,t&&t(e[n+"Error_"])}Go(n,e)}},M1=function(s){function n(i){var t;return(t=s.call(this)||this).mediaSource=i,t.sourceopenListener_=function(){return Go("mediaSource",Kt(t))},t.mediaSource.addEventListener("sourceopen",t.sourceopenListener_),t.logger_=Ss("SourceUpdater"),t.audioTimestampOffset_=0,t.videoTimestampOffset_=0,t.queue=[],t.queuePending={audio:null,video:null},t.delayedAudioAppendQueue_=[],t.videoAppendQueued_=!1,t.codecs={},t.onVideoUpdateEnd_=Ug("video",Kt(t)),t.onAudioUpdateEnd_=Ug("audio",Kt(t)),t.onVideoError_=function(r){t.videoError_=r},t.onAudioError_=function(r){t.audioError_=r},t.createdSourceBuffers_=!1,t.initializedEme_=!1,t.triggeredReady_=!1,t}Et(n,s);var e=n.prototype;return e.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},e.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},e.hasInitializedAnyEme=function(){return this.initializedEme_},e.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},e.createSourceBuffers=function(t){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(t),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},e.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},e.addSourceBuffer=function(t,r){Ds({type:"mediaSource",sourceUpdater:this,action:us_addSourceBuffer(t,r),name:"addSourceBuffer"})},e.abort=function(t){Ds({type:t,sourceUpdater:this,action:function(n,e){if("open"===e.mediaSource.readyState){var i=e[n+"Buffer"];if(Fa(e.mediaSource,i)){e.logger_("calling abort on "+n+"Buffer");try{i.abort()}catch(t){Ne.log.warn("Failed to abort on "+n+"Buffer",t)}}}},name:"abort"})},e.removeSourceBuffer=function(t){this.canRemoveSourceBuffer()?Ds({type:"mediaSource",sourceUpdater:this,action:us_removeSourceBuffer(t),name:"removeSourceBuffer"}):Ne.log.error("removeSourceBuffer is not supported!")},e.canRemoveSourceBuffer=function(){return!Ne.browser.IE_VERSION&&!Ne.browser.IS_FIREFOX&&oe().MediaSource&&oe().MediaSource.prototype&&"function"==typeof oe().MediaSource.prototype.removeSourceBuffer},n.canChangeType=function(){return oe().SourceBuffer&&oe().SourceBuffer.prototype&&"function"==typeof oe().SourceBuffer.prototype.changeType},e.canChangeType=function(){return this.constructor.canChangeType()},e.changeType=function(t,r){this.canChangeType()?Ds({type:t,sourceUpdater:this,action:us_changeType(r),name:"changeType"}):Ne.log.error("changeType is not supported!")},e.addOrChangeSourceBuffers=function(t){var r=this;if(!t||"object"!=typeof t||0===Object.keys(t).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(t).forEach(function(l){var d=t[l];if(!r.hasCreatedSourceBuffers())return r.addSourceBuffer(l,d);r.canChangeType()&&r.changeType(l,d)})},e.appendBuffer=function(t,r){var l=this,d=t.segmentInfo,p=t.type,m=t.bytes;if(this.processedAppend_=!0,"audio"===p&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([t,r]),void this.logger_("delayed audio append of "+m.length+" until video append");if(Ds({type:p,sourceUpdater:this,action:us_appendBuffer(m,d||{mediaIndex:-1},r),doneFn:r,name:"appendBuffer"}),"video"===p){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var N=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+N.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,N.forEach(function(M){l.appendBuffer.apply(l,M)})}},e.audioBuffered=function(){return Fa(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Ne.createTimeRange()},e.videoBuffered=function(){return Fa(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Ne.createTimeRange()},e.buffered=function(){var t=Fa(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,r=Fa(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return r&&!t?this.audioBuffered():t&&!r?this.videoBuffered():function(n,e){var i=null,t=null,r=0,l=[],d=[];if(!(n&&n.length&&e&&e.length))return Ne.createTimeRange();for(var p=n.length;p--;)l.push({time:n.start(p),type:"start"}),l.push({time:n.end(p),type:"end"});for(p=e.length;p--;)l.push({time:e.start(p),type:"start"}),l.push({time:e.end(p),type:"end"});for(l.sort(function(m,y){return m.time-y.time}),p=0;p<l.length;p++)"start"===l[p].type?2==++r&&(i=l[p].time):"end"===l[p].type&&1==--r&&(t=l[p].time),null!==i&&null!==t&&(d.push([i,t]),i=null,t=null);return Ne.createTimeRanges(d)}(this.audioBuffered(),this.videoBuffered())},e.setDuration=function(t,r){void 0===r&&(r=ho),Ds({type:"mediaSource",sourceUpdater:this,action:us_duration(t),name:"duration",doneFn:r})},e.endOfStream=function(t,r){void 0===t&&(t=null),void 0===r&&(r=ho),"string"!=typeof t&&(t=void 0),Ds({type:"mediaSource",sourceUpdater:this,action:us_endOfStream(t),name:"endOfStream",doneFn:r})},e.removeAudio=function(t,r,l){void 0===l&&(l=ho),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Ds({type:"audio",sourceUpdater:this,action:us_remove(t,r),doneFn:l,name:"remove"}):l()},e.removeVideo=function(t,r,l){void 0===l&&(l=ho),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Ds({type:"video",sourceUpdater:this,action:us_remove(t,r),doneFn:l,name:"remove"}):l()},e.updating=function(){return!(!th("audio",this)&&!th("video",this))},e.audioTimestampOffset=function(t){return void 0!==t&&this.audioBuffer&&this.audioTimestampOffset_!==t&&(Ds({type:"audio",sourceUpdater:this,action:us_timestampOffset(t),name:"timestampOffset"}),this.audioTimestampOffset_=t),this.audioTimestampOffset_},e.videoTimestampOffset=function(t){return void 0!==t&&this.videoBuffer&&this.videoTimestampOffset!==t&&(Ds({type:"video",sourceUpdater:this,action:us_timestampOffset(t),name:"timestampOffset"}),this.videoTimestampOffset_=t),this.videoTimestampOffset_},e.audioQueueCallback=function(t){!this.audioBuffer||Ds({type:"audio",sourceUpdater:this,action:us_callback(t),name:"callback"})},e.videoQueueCallback=function(t){!this.videoBuffer||Ds({type:"video",sourceUpdater:this,action:us_callback(t),name:"callback"})},e.dispose=function(){var t=this;this.trigger("dispose"),A1.forEach(function(r){t.abort(r),t.canRemoveSourceBuffer()?t.removeSourceBuffer(r):t[r+"QueueCallback"](function(){return m_(r,t)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},n}(Ne.EventTarget),nh=function(n){return decodeURIComponent(escape(String.fromCharCode.apply(null,n)))},ih=new Uint8Array("\n\n".split("").map(function(s){return s.charCodeAt(0)})),La=function(s){function n(i,t){var r;return void 0===t&&(t={}),(r=s.call(this,i,t)||this).mediaSource_=null,r.subtitlesTrack_=null,r.loaderType_="subtitle",r.featuresNativeTextTracks_=i.featuresNativeTextTracks,r.shouldSaveSegmentTimingInfo_=!1,r}Et(n,s);var e=n.prototype;return e.createTransmuxer_=function(){return null},e.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Ne.createTimeRanges();var t=this.subtitlesTrack_.cues;return Ne.createTimeRanges([[t[0].startTime,t[t.length-1].startTime]])},e.initSegmentForMap=function(t,r){if(void 0===r&&(r=!1),!t)return null;var l=Jr(t),d=this.initSegments_[l];if(r&&!d&&t.bytes){var m=new Uint8Array(ih.byteLength+t.bytes.byteLength);m.set(t.bytes),m.set(ih,t.bytes.byteLength),this.initSegments_[l]=d={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:m}}return d||t},e.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},e.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},e.track=function(t){return void 0===t||(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},e.remove=function(t,r){Ku(t,r,this.subtitlesTrack_)},e.fillBuffer_=function(){var t=this,r=this.chooseNextRequest_();if(r){if(null===this.syncController_.timestampOffsetForTimeline(r.timeline))return this.syncController_.one("timestampoffset",function(){t.state="READY",t.paused()||t.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(r)}},e.timestampOffsetForSegment_=function(){return null},e.chooseNextRequest_=function(){return this.skipEmptySegments_(s.prototype.chooseNextRequest_.call(this))},e.skipEmptySegments_=function(t){for(;t&&t.segment.empty;){if(t.mediaIndex+1>=t.playlist.segments.length){t=null;break}t=this.generateSegmentInfo_({playlist:t.playlist,mediaIndex:t.mediaIndex+1,startOfSegment:t.startOfSegment+t.duration,isSyncRequest:t.isSyncRequest})}return t},e.stopForError=function(t){this.error(t),this.state="READY",this.pause(),this.trigger("error")},e.segmentRequestFinished_=function(t,r,l){var d=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(r.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(t)return-101===t.code&&this.handleTimeout_(),-102===t.code?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(t);var p=this.pendingSegment_;this.saveBandwidthRelatedStats_(p.duration,r.stats),this.state="APPENDING",this.trigger("appending");var m=p.segment;if(m.map&&(m.map.bytes=r.map.bytes),p.bytes=r.bytes,"function"!=typeof oe().WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var y,N=function(){d.subtitlesTrack_.tech_.off("vttjsloaded",y),d.stopForError({message:"Error loading vtt.js"})};return y=function(){d.subtitlesTrack_.tech_.off("vttjserror",N),d.segmentRequestFinished_(t,r,l)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",y),void this.subtitlesTrack_.tech_.one("vttjserror",N)}m.requested=!0;try{this.parseVTTCues_(p)}catch(M){return void this.stopForError({message:M.message})}if(this.updateTimeMapping_(p,this.syncController_.timelines[p.timeline],this.playlist_),p.timingInfo=p.cues.length?{start:p.cues[0].startTime,end:p.cues[p.cues.length-1].endTime}:{start:p.startOfSegment,end:p.startOfSegment+p.duration},p.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");p.byteLength=p.bytes.byteLength,this.mediaSecondsLoaded+=m.duration,p.cues.forEach(function(M){d.subtitlesTrack_.addCue(d.featuresNativeTextTracks_?new(oe().VTTCue)(M.startTime,M.endTime,M.text):M)}),function(n){var e=n.cues;if(e)for(var i=0;i<e.length;i++){for(var t=[],r=0,l=0;l<e.length;l++)e[i].startTime===e[l].startTime&&e[i].endTime===e[l].endTime&&e[i].text===e[l].text&&++r>1&&t.push(e[l]);t.length&&t.forEach(function(d){return n.removeCue(d)})}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},e.handleData_=function(){},e.updateTimingInfoEnd_=function(){},e.parseVTTCues_=function(t){var r,l=!1;"function"==typeof oe().TextDecoder?r=new(oe().TextDecoder)("utf8"):(r=oe().WebVTT.StringDecoder(),l=!0);var d=new(oe().WebVTT.Parser)(oe(),oe().vttjs,r);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},d.oncue=t.cues.push.bind(t.cues),d.ontimestampmap=function(y){t.timestampmap=y},d.onparsingerror=function(y){Ne.log.warn("Error encountered when parsing cues: "+y.message)},t.segment.map){var p=t.segment.map.bytes;l&&(p=nh(p)),d.parse(p)}var m=t.bytes;l&&(m=nh(m)),d.parse(m),d.flush()},e.updateTimeMapping_=function(t,r,l){var d=t.segment;if(r){if(!t.cues.length)return void(d.empty=!0);var p=t.timestampmap,m=p.MPEGTS/ff.ONE_SECOND_IN_TS-p.LOCAL+r.mapping;t.cues.forEach(function(M){M.startTime+=m,M.endTime+=m}),l.syncInfo||(l.syncInfo={mediaSequence:l.mediaSequence+t.mediaIndex,time:Math.min(t.cues[0].startTime,t.cues[t.cues.length-1].startTime-d.duration)})}},n}(Bg),N1=function(n,e){for(var i=n.cues,t=0;t<i.length;t++){var r=i[t];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},Vs=[{name:"VOD",run:function(n,e,i,t,r){return i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null}},{name:"ProgramDateTime",run:function(n,e,i,t,r){if(!Object.keys(n.timelineToDatetimeMappings).length)return null;var l=null,d=null,p=ig(e);r=r||0;for(var m=0;m<p.length;m++){var N=p[e.endList||0===r?m:p.length-(m+1)],M=N.segment,V=n.timelineToDatetimeMappings[M.timeline];if(V&&M.dateTimeObject){var j=M.dateTimeObject.getTime()/1e3+V;if(M.parts&&"number"==typeof N.partIndex)for(var z=0;z<N.partIndex;z++)j+=M.parts[z].duration;var ve=Math.abs(r-j);if(null!==d&&(0===ve||d<ve))break;d=ve,l={time:j,segmentIndex:N.segmentIndex,partIndex:N.partIndex}}}return l}},{name:"Segment",run:function(n,e,i,t,r){var l=null,d=null;r=r||0;for(var p=ig(e),m=0;m<p.length;m++){var N=p[e.endList||0===r?m:p.length-(m+1)],M=N.segment,V=N.part&&N.part.start||M&&M.start;if(M.timeline===t&&void 0!==V){var q=Math.abs(r-V);if(null!==d&&d<q)break;(!l||null===d||d>=q)&&(d=q,l={time:V,segmentIndex:N.segmentIndex,partIndex:N.partIndex})}}return l}},{name:"Discontinuity",run:function(n,e,i,t,r){var l=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var d=null,p=0;p<e.discontinuityStarts.length;p++){var m=e.discontinuityStarts[p],N=n.discontinuities[e.discontinuitySequence+p+1];if(N){var M=Math.abs(r-N.time);if(null!==d&&d<M)break;(!l||null===d||d>=M)&&(d=M,l={time:N.time,segmentIndex:m,partIndex:null})}}return l}},{name:"Playlist",run:function(n,e,i,t,r){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}}],da=function(s){function n(i){var t;return(t=s.call(this)||this).timelines=[],t.discontinuities=[],t.timelineToDatetimeMappings={},t.logger_=Ss("SyncController"),t}Et(n,s);var e=n.prototype;return e.getSyncPoint=function(t,r,l,d){var p=this.runStrategies_(t,r,l,d);return p.length?this.selectSyncPoint_(p,{key:"time",value:d}):null},e.getExpiredTime=function(t,r){if(!t||!t.segments)return null;var l=this.runStrategies_(t,r,t.discontinuitySequence,0);if(!l.length)return null;var d=this.selectSyncPoint_(l,{key:"segmentIndex",value:0});return d.segmentIndex>0&&(d.time*=-1),Math.abs(d.time+dd({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:d.segmentIndex,endIndex:0}))},e.runStrategies_=function(t,r,l,d){for(var p=[],m=0;m<Vs.length;m++){var y=Vs[m],N=y.run(this,t,r,l,d);N&&(N.strategy=y.name,p.push({strategy:y.name,syncPoint:N}))}return p},e.selectSyncPoint_=function(t,r){for(var l=t[0].syncPoint,d=Math.abs(t[0].syncPoint[r.key]-r.value),p=t[0].strategy,m=1;m<t.length;m++){var y=Math.abs(t[m].syncPoint[r.key]-r.value);y<d&&(d=y,l=t[m].syncPoint,p=t[m].strategy)}return this.logger_("syncPoint for ["+r.key+": "+r.value+"] chosen with strategy ["+p+"]: [time:"+l.time+", segmentIndex:"+l.segmentIndex+("number"==typeof l.partIndex?",partIndex:"+l.partIndex:"")+"]"),l},e.saveExpiredSegmentInfo=function(t,r){var l=r.mediaSequence-t.mediaSequence;if(l>86400)Ne.log.warn("Not saving expired segment info. Media sequence gap "+l+" is too large.");else for(var d=l-1;d>=0;d--){var p=t.segments[d];if(p&&void 0!==p.start){r.syncInfo={mediaSequence:t.mediaSequence+d,time:p.start},this.logger_("playlist refresh sync: [time:"+r.syncInfo.time+", mediaSequence: "+r.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},e.setDateTimeMappingForStart=function(t){if(this.timelineToDatetimeMappings={},t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var r=t.segments[0],l=r.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[r.timeline]=-l}},e.saveSegmentTimingInfo=function(t){var r=t.segmentInfo,l=t.shouldSaveTimelineMapping,d=this.calculateSegmentTimeMapping_(r,r.timingInfo,l),p=r.segment;d&&(this.saveDiscontinuitySyncInfo_(r),r.playlist.syncInfo||(r.playlist.syncInfo={mediaSequence:r.playlist.mediaSequence+r.mediaIndex,time:p.start}));var m=p.dateTimeObject;p.discontinuity&&l&&m&&(this.timelineToDatetimeMappings[p.timeline]=-m.getTime()/1e3)},e.timestampOffsetForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].time},e.mappingForTimeline=function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping},e.calculateSegmentTimeMapping_=function(t,r,l){var y,N,d=t.segment,p=t.part,m=this.timelines[t.timeline];if("number"==typeof t.timestampOffset)m={time:t.startOfSegment,mapping:t.startOfSegment-r.start},l&&(this.timelines[t.timeline]=m,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+m.time+"] [mapping: "+m.mapping+"]")),y=t.startOfSegment,N=r.end+m.mapping;else{if(!m)return!1;y=r.start+m.mapping,N=r.end+m.mapping}return p&&(p.start=y,p.end=N),(!d.start||y<d.start)&&(d.start=y),d.end=N,!0},e.saveDiscontinuitySyncInfo_=function(t){var r=t.playlist,l=t.segment;if(l.discontinuity)this.discontinuities[l.timeline]={time:l.start,accuracy:0};else if(r.discontinuityStarts&&r.discontinuityStarts.length)for(var d=0;d<r.discontinuityStarts.length;d++){var p=r.discontinuityStarts[d],m=r.discontinuitySequence+d+1,y=p-t.mediaIndex,N=Math.abs(y);if(!this.discontinuities[m]||this.discontinuities[m].accuracy>N){var M;M=y<0?l.start-dd({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:t.mediaIndex,endIndex:p}):l.end+dd({defaultDuration:r.targetDuration,durationList:r.segments,startIndex:t.mediaIndex+1,endIndex:p}),this.discontinuities[m]={time:M,accuracy:N}}}},e.dispose=function(){this.trigger("dispose"),this.off()},n}(Ne.EventTarget),__=function(s){function n(){var i;return(i=s.call(this)||this).pendingTimelineChanges_={},i.lastTimelineChanges_={},i}Et(n,s);var e=n.prototype;return e.clearPendingTimelineChange=function(t){this.pendingTimelineChanges_[t]=null,this.trigger("pendingtimelinechange")},e.pendingTimelineChange=function(t){var r=t.type,l=t.from,d=t.to;return"number"==typeof l&&"number"==typeof d&&(this.pendingTimelineChanges_[r]={type:r,from:l,to:d},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[r]},e.lastTimelineChange=function(t){var r=t.type,l=t.from,d=t.to;return"number"==typeof l&&"number"==typeof d&&(this.lastTimelineChanges_[r]={type:r,from:l,to:d},delete this.pendingTimelineChanges_[r],this.trigger("timelinechange")),this.lastTimelineChanges_[r]},e.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},n}(Ne.EventTarget),y_=Y0(h1(function(){function s(j,z,ve){return j(ve={path:z,exports:{},require:function(Ve,Ge){return function n(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},ve.exports),ve.exports}var e=s(function(j){function z(_e,Ve){for(var Ge=0;Ge<Ve.length;Ge++){var je=Ve[Ge];je.enumerable=je.enumerable||!1,je.configurable=!0,"value"in je&&(je.writable=!0),Object.defineProperty(_e,je.key,je)}}j.exports=function ve(_e,Ve,Ge){return Ve&&z(_e.prototype,Ve),Ge&&z(_e,Ge),_e},j.exports.default=j.exports,j.exports.__esModule=!0}),i=s(function(j){function z(ve,_e){return j.exports=z=Object.setPrototypeOf||function(Ge,je){return Ge.__proto__=je,Ge},j.exports.default=j.exports,j.exports.__esModule=!0,z(ve,_e)}j.exports=z,j.exports.default=j.exports,j.exports.__esModule=!0}),t=s(function(j){j.exports=function z(ve,_e){ve.prototype=Object.create(_e.prototype),ve.prototype.constructor=ve,i(ve,_e)},j.exports.default=j.exports,j.exports.__esModule=!0}),r=function(){function j(){this.listeners={}}var z=j.prototype;return z.on=function(_e,Ve){this.listeners[_e]||(this.listeners[_e]=[]),this.listeners[_e].push(Ve)},z.off=function(_e,Ve){if(!this.listeners[_e])return!1;var Ge=this.listeners[_e].indexOf(Ve);return this.listeners[_e]=this.listeners[_e].slice(0),this.listeners[_e].splice(Ge,1),Ge>-1},z.trigger=function(_e){var Ve=this.listeners[_e];if(Ve)if(2===arguments.length)for(var Ge=Ve.length,je=0;je<Ge;++je)Ve[je].call(this,arguments[1]);else for(var it=Array.prototype.slice.call(arguments,1),ht=Ve.length,ze=0;ze<ht;++ze)Ve[ze].apply(this,it)},z.dispose=function(){this.listeners={}},z.pipe=function(_e){this.on("data",function(Ve){_e.push(Ve)})},j}(),p=null,m=function(){function j(ve){p||(p=function(){var je,it,ht,Dt,Zt,Tn,er,Ln,z=[[[],[],[],[],[]],[[],[],[],[],[]]],ve=z[0],_e=z[1],Ve=ve[4],Ge=_e[4],ze=[],At=[];for(je=0;je<256;je++)At[(ze[je]=je<<1^283*(je>>7))^je]=je;for(it=ht=0;!Ve[it];it^=Dt||1,ht=At[ht]||1)for(Ve[it]=Tn=(Tn=ht^ht<<1^ht<<2^ht<<3^ht<<4)>>8^255&Tn^99,Ge[Tn]=it,Ln=16843009*ze[Zt=ze[Dt=ze[it]]]^65537*Zt^257*Dt^16843008*it,er=257*ze[Tn]^16843008*Tn,je=0;je<4;je++)ve[je][it]=er=er<<24^er>>>8,_e[je][Tn]=Ln=Ln<<24^Ln>>>8;for(je=0;je<5;je++)ve[je]=ve[je].slice(0),_e[je]=_e[je].slice(0);return z}()),this._tables=[[p[0][0].slice(),p[0][1].slice(),p[0][2].slice(),p[0][3].slice(),p[0][4].slice()],[p[1][0].slice(),p[1][1].slice(),p[1][2].slice(),p[1][3].slice(),p[1][4].slice()]];var _e,Ve,Ge,je=this._tables[0][4],it=this._tables[1],ht=ve.length,ze=1;if(4!==ht&&6!==ht&&8!==ht)throw new Error("Invalid aes key size");var At=ve.slice(0),Dt=[];for(this._key=[At,Dt],_e=ht;_e<4*ht+28;_e++)Ge=At[_e-1],(_e%ht==0||8===ht&&_e%ht==4)&&(Ge=je[Ge>>>24]<<24^je[Ge>>16&255]<<16^je[Ge>>8&255]<<8^je[255&Ge],_e%ht==0&&(Ge=Ge<<8^Ge>>>24^ze<<24,ze=ze<<1^283*(ze>>7))),At[_e]=At[_e-ht]^Ge;for(Ve=0;_e;Ve++,_e--)Ge=At[3&Ve?_e:_e-4],Dt[Ve]=_e<=4||Ve<4?Ge:it[0][je[Ge>>>24]]^it[1][je[Ge>>16&255]]^it[2][je[Ge>>8&255]]^it[3][je[255&Ge]]}return j.prototype.decrypt=function(_e,Ve,Ge,je,it,ht){var Tn,er,Ln,Li,ze=this._key[1],At=_e^ze[0],Dt=je^ze[1],Zt=Ge^ze[2],Ut=Ve^ze[3],or=ze.length/4-2,es=4,$r=this._tables[1],$s=$r[0],To=$r[1],ws=$r[2],Va=$r[3],zs=$r[4];for(Li=0;Li<or;Li++)Tn=$s[At>>>24]^To[Dt>>16&255]^ws[Zt>>8&255]^Va[255&Ut]^ze[es],er=$s[Dt>>>24]^To[Zt>>16&255]^ws[Ut>>8&255]^Va[255&At]^ze[es+1],Ln=$s[Zt>>>24]^To[Ut>>16&255]^ws[At>>8&255]^Va[255&Dt]^ze[es+2],Ut=$s[Ut>>>24]^To[At>>16&255]^ws[Dt>>8&255]^Va[255&Zt]^ze[es+3],es+=4,At=Tn,Dt=er,Zt=Ln;for(Li=0;Li<4;Li++)it[(3&-Li)+ht]=zs[At>>>24]<<24^zs[Dt>>16&255]<<16^zs[Zt>>8&255]<<8^zs[255&Ut]^ze[es++],Tn=At,At=Dt,Dt=Zt,Zt=Ut,Ut=Tn},j}(),y=function(j){function z(){var _e;return(_e=j.call(this,r)||this).jobs=[],_e.delay=1,_e.timeout_=null,_e}t(z,j);var ve=z.prototype;return ve.processJob_=function(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},ve.push=function(Ve){this.jobs.push(Ve),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},z}(r),N=function(z){return z<<24|(65280&z)<<8|(16711680&z)>>8|z>>>24},V=function(){function j(ve,_e,Ve,Ge){var je=j.STEP,it=new Int32Array(ve.buffer),ht=new Uint8Array(ve.byteLength),ze=0;for(this.asyncStream_=new y,this.asyncStream_.push(this.decryptChunk_(it.subarray(ze,ze+je),_e,Ve,ht)),ze=je;ze<it.length;ze+=je)Ve=new Uint32Array([N(it[ze-4]),N(it[ze-3]),N(it[ze-2]),N(it[ze-1])]),this.asyncStream_.push(this.decryptChunk_(it.subarray(ze,ze+je),_e,Ve,ht));this.asyncStream_.push(function(){Ge(null,
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
function l(j){return j.subarray(0,j.byteLength-j[j.byteLength-1])}
/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */(ht))})}return j.prototype.decryptChunk_=function(_e,Ve,Ge,je){return function(){var it=function(z,ve,_e){var ht,ze,At,Dt,Zt,Ut,Tn,er,Ln,Ve=new Int32Array(z.buffer,z.byteOffset,z.byteLength>>2),Ge=new m(Array.prototype.slice.call(ve)),je=new Uint8Array(z.byteLength),it=new Int32Array(je.buffer);for(ht=_e[0],ze=_e[1],At=_e[2],Dt=_e[3],Ln=0;Ln<Ve.length;Ln+=4)Zt=N(Ve[Ln]),Ut=N(Ve[Ln+1]),Tn=N(Ve[Ln+2]),er=N(Ve[Ln+3]),Ge.decrypt(Zt,Ut,Tn,er,it,Ln),it[Ln]=N(it[Ln]^ht),it[Ln+1]=N(it[Ln+1]^ze),it[Ln+2]=N(it[Ln+2]^At),it[Ln+3]=N(it[Ln+3]^Dt),ht=Zt,ze=Ut,At=Tn,Dt=er;return je}(_e,Ve,Ge);je.set(it,_e.byteOffset)}},e(j,null,[{key:"STEP",get:function(){return 32e3}}]),j}();self.onmessage=function(j){var z=j.data,ve=new Uint8Array(z.encrypted.bytes,z.encrypted.byteOffset,z.encrypted.byteLength),_e=new Uint32Array(z.key.bytes,z.key.byteOffset,z.key.byteLength/4),Ve=new Uint32Array(z.iv.bytes,z.iv.byteOffset,z.iv.byteLength/4);new V(ve,_e,Ve,function(Ge,je){self.postMessage(function(z){var ve={};return Object.keys(z).forEach(function(_e){var Ve=z[_e];ve[_e]=ArrayBuffer.isView(Ve)?{bytes:Ve.buffer,byteOffset:Ve.byteOffset,byteLength:Ve.byteLength}:Ve}),ve}({source:z.source,decrypted:je}),[je.buffer])})}})),I1=z0(y_),O1=function(n){var e=n.default?"main":"alternative";return n.characteristics&&n.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},rh=function(n,e){n.abort(),n.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Vg=function(n,e){e.activePlaylistLoader=n,n.load()},Td={AUDIO:function(n,e){return function(){var t=e.mediaTypes[n],r=e.blacklistCurrentPlaylist;rh(e.segmentLoaders[n],t);var l=t.activeTrack(),d=t.activeGroup(),p=(d.filter(function(N){return N.default})[0]||d[0]).id,m=t.tracks[p];if(l!==m){for(var y in Ne.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),t.tracks)t.tracks[y].enabled=t.tracks[y]===m;t.onTrackChanged()}else r({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(n,e){return function(){var i=e.segmentLoaders[n],t=e.mediaTypes[n];Ne.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),rh(i,t);var r=t.activeTrack();r&&(r.mode="disabled"),t.onTrackChanged()}}},b_={AUDIO:function(n,e,i){if(e){var t=i.tech,r=i.requestOptions,l=i.segmentLoaders[n];e.on("loadedmetadata",function(){var d=e.media();l.playlist(d,r),(!t.paused()||d.endList&&"none"!==t.preload())&&l.load()}),e.on("loadedplaylist",function(){l.playlist(e.media(),r),t.paused()||l.load()}),e.on("error",Td[n](n,i))}},SUBTITLES:function(n,e,i){var t=i.tech,r=i.requestOptions,l=i.segmentLoaders[n],d=i.mediaTypes[n];e.on("loadedmetadata",function(){var p=e.media();l.playlist(p,r),l.track(d.activeTrack()),(!t.paused()||p.endList&&"none"!==t.preload())&&l.load()}),e.on("loadedplaylist",function(){l.playlist(e.media(),r),t.paused()||l.load()}),e.on("error",Td[n](n,i))}},T_={AUDIO:function(n,e){var i=e.vhs,t=e.sourceType,r=e.segmentLoaders[n],l=e.requestOptions,d=e.master.mediaGroups,p=e.mediaTypes[n],m=p.groups,y=p.tracks,N=p.logger_,M=e.masterPlaylistLoader,V=Pu(M.master);for(var q in(!d[n]||0===Object.keys(d[n]).length)&&(d[n]={main:{default:{default:!0}}},V&&(d[n].main.default.playlists=M.master.playlists)),d[n])for(var j in m[q]||(m[q]=[]),d[n][q]){var z=d[n][q][j],ve=void 0;if(V?(N("AUDIO group '"+q+"' label '"+j+"' is a master playlist"),z.isMasterPlaylist=!0,ve=null):ve="vhs-json"===t&&z.playlists?new ua(z.playlists[0],i,l):z.resolvedUri?new ua(z.resolvedUri,i,l):z.playlists&&"dash"===t?new _g(z.playlists[0],i,l,M):null,z=Ne.mergeOptions({id:j,playlistLoader:ve},z),b_[n](n,z.playlistLoader,e),m[q].push(z),void 0===y[j]){var _e=new Ne.AudioTrack({id:j,kind:O1(z),enabled:!1,language:z.language,default:z.default,label:j});y[j]=_e}}r.on("error",Td[n](n,e))},SUBTITLES:function(n,e){var i=e.tech,t=e.vhs,r=e.sourceType,l=e.segmentLoaders[n],d=e.requestOptions,p=e.master.mediaGroups,m=e.mediaTypes[n],y=m.groups,N=m.tracks,M=e.masterPlaylistLoader;for(var V in p[n])for(var q in y[V]||(y[V]=[]),p[n][V])if(!p[n][V][q].forced){var j=p[n][V][q],z=void 0;if("hls"===r)z=new ua(j.resolvedUri,t,d);else if("dash"===r){if(!j.playlists.filter(function(Ve){return Ve.excludeUntil!==1/0}).length)return;z=new _g(j.playlists[0],t,d,M)}else"vhs-json"===r&&(z=new ua(j.playlists?j.playlists[0]:j.resolvedUri,t,d));if(j=Ne.mergeOptions({id:q,playlistLoader:z},j),b_[n](n,j.playlistLoader,e),y[V].push(j),void 0===N[q]){var _e=i.addRemoteTextTrack({id:q,kind:"subtitles",default:j.default&&j.autoselect,language:j.language,label:q},!1).track;N[q]=_e}}l.on("error",Td[n](n,e))},"CLOSED-CAPTIONS":function(n,e){var i=e.tech,t=e.master.mediaGroups,r=e.mediaTypes[n],l=r.groups,d=r.tracks;for(var p in t[n])for(var m in l[p]||(l[p]=[]),t[n][p]){var y=t[n][p][m];if(/^(?:CC|SERVICE)/.test(y.instreamId)){var N=i.options_.vhs&&i.options_.vhs.captionServices||{},M={label:m,language:y.language,instreamId:y.instreamId,default:y.default&&y.autoselect};if(N[M.instreamId]&&(M=Ne.mergeOptions(M,N[M.instreamId])),void 0===M.default&&delete M.default,l[p].push(Ne.mergeOptions({id:m},y)),void 0===d[m]){var V=i.addRemoteTextTrack({id:M.instreamId,kind:"captions",default:M.default,language:M.language,label:M.label},!1).track;d[m]=V}}}}},S_=function s(n,e){for(var i=0;i<n.length;i++)if(og(e,n[i])||n[i].playlists&&s(n[i].playlists,e))return!0;return!1},R1={AUDIO:function(n,e){return function(){var i=e.mediaTypes[n].tracks;for(var t in i)if(i[t].enabled)return i[t];return null}},SUBTITLES:function(n,e){return function(){var i=e.mediaTypes[n].tracks;for(var t in i)if("showing"===i[t].mode||"hidden"===i[t].mode)return i[t];return null}}},E_=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],w_=function(n){return this.audioSegmentLoader_[n]+this.mainSegmentLoader_[n]},A_=function(s){function n(i){var t;t=s.call(this)||this;var r=i.src,l=i.handleManifestRedirects,d=i.withCredentials,p=i.tech,m=i.bandwidth,y=i.externVhs,N=i.useCueTags,M=i.blacklistDuration,V=i.enableLowInitialPlaylist,q=i.sourceType,j=i.cacheEncryptionKeys,z=i.experimentalBufferBasedABR,ve=i.experimentalLeastPixelDiffSelector,_e=i.captionServices;if(!r)throw new Error("A non-empty playlist URL or JSON manifest string is required");var Ve=i.maxPlaylistRetries;null==Ve&&(Ve=1/0),fa=y,t.experimentalBufferBasedABR=Boolean(z),t.experimentalLeastPixelDiffSelector=Boolean(ve),t.withCredentials=d,t.tech_=p,t.vhs_=p.vhs,t.sourceType_=q,t.useCueTags_=N,t.blacklistDuration=M,t.maxPlaylistRetries=Ve,t.enableLowInitialPlaylist=V,t.useCueTags_&&(t.cueTagsTrack_=t.tech_.addTextTrack("metadata","ad-cues"),t.cueTagsTrack_.inBandMetadataTrackDispatchType=""),t.requestOptions_={withCredentials:d,handleManifestRedirects:l,maxPlaylistRetries:Ve,timeout:null},t.on("error",t.pauseLoading),t.mediaTypes_=function(){var n={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){n[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ho,activeTrack:ho,getActiveGroup:ho,onGroupChanged:ho,onTrackChanged:ho,lastTrack_:null,logger_:Ss("MediaGroups["+e+"]")}}),n}(),t.mediaSource=new(oe().MediaSource),t.handleDurationChange_=t.handleDurationChange_.bind(Kt(t)),t.handleSourceOpen_=t.handleSourceOpen_.bind(Kt(t)),t.handleSourceEnded_=t.handleSourceEnded_.bind(Kt(t)),t.mediaSource.addEventListener("durationchange",t.handleDurationChange_),t.mediaSource.addEventListener("sourceopen",t.handleSourceOpen_),t.mediaSource.addEventListener("sourceended",t.handleSourceEnded_),t.seekable_=Ne.createTimeRanges(),t.hasPlayed_=!1,t.syncController_=new da(i),t.segmentMetadataTrack_=p.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,t.decrypter_=new I1,t.sourceUpdater_=new M1(t.mediaSource),t.inbandTextTracks_={},t.timelineChangeController_=new __;var Ge={vhs:t.vhs_,parse708captions:i.parse708captions,captionServices:_e,mediaSource:t.mediaSource,currentTime:t.tech_.currentTime.bind(t.tech_),seekable:function(){return t.seekable()},seeking:function(){return t.tech_.seeking()},duration:function(){return t.duration()},hasPlayed:function(){return t.hasPlayed_},goalBufferLength:function(){return t.goalBufferLength()},bandwidth:m,syncController:t.syncController_,decrypter:t.decrypter_,sourceType:t.sourceType_,inbandTextTracks:t.inbandTextTracks_,cacheEncryptionKeys:j,sourceUpdater:t.sourceUpdater_,timelineChangeController:t.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};t.masterPlaylistLoader_="dash"===t.sourceType_?new _g(r,t.vhs_,t.requestOptions_):new ua(r,t.vhs_,t.requestOptions_),t.setupMasterPlaylistLoaderListeners_(),t.mainSegmentLoader_=new Bg(Ne.mergeOptions(Ge,{segmentMetadataTrack:t.segmentMetadataTrack_,loaderType:"main"}),i),t.audioSegmentLoader_=new Bg(Ne.mergeOptions(Ge,{loaderType:"audio"}),i),t.subtitleSegmentLoader_=new La(Ne.mergeOptions(Ge,{loaderType:"vtt",featuresNativeTextTracks:t.tech_.featuresNativeTextTracks}),i),t.setupSegmentLoaderListeners_(),t.experimentalBufferBasedABR&&(t.masterPlaylistLoader_.one("loadedplaylist",function(){return t.startABRTimer_()}),t.tech_.on("pause",function(){return t.stopABRTimer_()}),t.tech_.on("play",function(){return t.startABRTimer_()})),E_.forEach(function(it){t[it+"_"]=w_.bind(Kt(t),it)}),t.logger_=Ss("MPC"),t.triggeredFmp4Usage=!1,"none"===t.tech_.preload()?(t.loadOnPlay_=function(){t.loadOnPlay_=null,t.masterPlaylistLoader_.load()},t.tech_.one("play",t.loadOnPlay_)):t.masterPlaylistLoader_.load(),t.timeToLoadedData__=-1,t.mainAppendsToLoadedData__=-1,t.audioAppendsToLoadedData__=-1;var je="none"===t.tech_.preload()?"play":"loadstart";return t.tech_.one(je,function(){var it=Date.now();t.tech_.one("loadeddata",function(){t.timeToLoadedData__=Date.now()-it,t.mainAppendsToLoadedData__=t.mainSegmentLoader_.mediaAppends,t.audioAppendsToLoadedData__=t.audioSegmentLoader_.mediaAppends})}),t}Et(n,s);var e=n.prototype;return e.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},e.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},e.appendsToLoadedData_=function(){var t=this.mainAppendsToLoadedData_(),r=this.audioAppendsToLoadedData_();return-1===t||-1===r?-1:t+r},e.timeToLoadedData_=function(){return this.timeToLoadedData__},e.checkABR_=function(){var t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,"abr")},e.switchMedia_=function(t,r,l){var d=this.media(),p=d&&(d.id||d.uri),m=t.id||t.uri;p&&p!==m&&(this.logger_("switch media "+p+" -> "+m+" from "+r),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+r})),this.masterPlaylistLoader_.media(t,l)},e.startABRTimer_=function(){var t=this;this.stopABRTimer_(),this.abrTimer_=oe().setInterval(function(){return t.checkABR_()},250)},e.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(oe().clearInterval(this.abrTimer_),this.abrTimer_=null)},e.getAudioTrackPlaylists_=function(){var t=this.master(),r=t&&t.playlists||[];if(!t||!t.mediaGroups||!t.mediaGroups.AUDIO)return r;var p,l=t.mediaGroups.AUDIO,d=Object.keys(l);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)p=this.mediaTypes_.AUDIO.activeTrack();else{var m=l.main||d.length&&l[d[0]];for(var y in m)if(m[y].default){p={label:y};break}}if(!p)return r;var N=[];for(var M in l)if(l[M][p.label]){var V=l[M][p.label];if(V.playlists&&V.playlists.length)N.push.apply(N,V.playlists);else if(V.uri)N.push(V);else if(t.playlists.length)for(var q=0;q<t.playlists.length;q++){var j=t.playlists[q];j.attributes&&j.attributes.AUDIO&&j.attributes.AUDIO===M&&N.push(j)}}return N.length?N:r},e.setupMasterPlaylistLoaderListeners_=function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var r=t.masterPlaylistLoader_.media(),l=1.5*r.targetDuration*1e3;t.requestOptions_.timeout=hd(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?0:l,r.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(r,t.requestOptions_),t.mainSegmentLoader_.load()),function(n){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(q){T_[q](q,n)});var e=n.mediaTypes,i=n.masterPlaylistLoader,t=n.tech,r=n.vhs,l=n.segmentLoaders,d=l.AUDIO,p=l.main;["AUDIO","SUBTITLES"].forEach(function(q){e[q].activeGroup=function(n,e){return function(i){var r=e.mediaTypes[n].groups,l=e.masterPlaylistLoader.media();if(!l)return null;var d=null;l.attributes[n]&&(d=r[l.attributes[n]]);var p=Object.keys(r);if(!d)if("AUDIO"===n&&p.length>1&&Pu(e.master))for(var m=0;m<p.length;m++){var y=r[p[m]];if(S_(y,l)){d=y;break}}else r.main?d=r.main:1===p.length&&(d=r[p[0]]);return void 0===i?d:null!==i&&d&&d.filter(function(N){return N.id===i.id})[0]||null}}(q,n),e[q].activeTrack=R1[q](q,n),e[q].onGroupChanged=function(n,e){return function(){var i=e.segmentLoaders,t=i[n],r=i.main,l=e.mediaTypes[n],d=l.activeTrack(),p=l.getActiveGroup(),m=l.activePlaylistLoader,y=l.lastGroup_;if((!p||!y||p.id!==y.id)&&(l.lastGroup_=p,l.lastTrack_=d,rh(t,l),p&&!p.isMasterPlaylist)){if(!p.playlistLoader)return void(m&&r.resetEverything());t.resyncLoader(),Vg(p.playlistLoader,l)}}}(q,n),e[q].onGroupChanging=function(n,e){return function(){var i=e.segmentLoaders[n];e.mediaTypes[n].lastGroup_=null,i.abort(),i.pause()}}(q,n),e[q].onTrackChanged=function(n,e){return function(){var i=e.masterPlaylistLoader,t=e.segmentLoaders,r=t[n],l=t.main,d=e.mediaTypes[n],p=d.activeTrack(),m=d.getActiveGroup(),y=d.activePlaylistLoader,N=d.lastTrack_;if((!N||!p||N.id!==p.id)&&(d.lastGroup_=m,d.lastTrack_=p,rh(r,d),m)){if(m.isMasterPlaylist){if(!p||!N||p.id===N.id)return;var M=e.vhs.masterPlaylistController_,V=M.selectPlaylist();if(M.media()===V)return;return d.logger_("track change. Switching master audio from "+N.id+" to "+p.id),i.pause(),l.resetEverything(),void M.fastQualityChange_(V)}if("AUDIO"===n){if(!m.playlistLoader)return l.setAudio(!0),void l.resetEverything();r.setAudio(!0),l.setAudio(!1)}if(y===m.playlistLoader)return void Vg(m.playlistLoader,d);r.track&&r.track(p),r.resetEverything(),Vg(m.playlistLoader,d)}}}(q,n),e[q].getActiveGroup=function(n,e){var i=e.mediaTypes;return function(){var t=i[n].activeTrack();return t?i[n].activeGroup(t):null}}(q,n)});var m=e.AUDIO.activeGroup();if(m){var y=(m.filter(function(q){return q.default})[0]||m[0]).id;e.AUDIO.tracks[y].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(p.setAudio(!1),d.setAudio(!0)):p.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(q){return e[q].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(q){return e[q].onGroupChanging()})});var M=function(){e.AUDIO.onTrackChanged(),t.trigger({type:"usage",name:"vhs-audio-change"}),t.trigger({type:"usage",name:"hls-audio-change"})};for(var V in t.audioTracks().addEventListener("change",M),t.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",function(){t.audioTracks().removeEventListener("change",M),t.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),t.clearTracks("audio"),e.AUDIO.tracks)t.audioTracks().addTrack(e.AUDIO.tracks[V])}({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,vhs:t.vhs_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),r),t.setupFirstPlay(),!t.mediaTypes_.AUDIO.activePlaylistLoader||t.mediaTypes_.AUDIO.activePlaylistLoader.media()?t.trigger("selectedinitialmedia"):t.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){t.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){t.loadOnPlay_&&t.tech_.off("play",t.loadOnPlay_);var r=t.masterPlaylistLoader_.media();if(!r){var l;if(t.excludeUnsupportedVariants_(),t.enableLowInitialPlaylist&&(l=t.selectInitialPlaylist()),l||(l=t.selectPlaylist()),!l||!t.shouldSwitchToMedia_(l))return;if(t.initialMedia_=l,t.switchMedia_(t.initialMedia_,"initial"),"vhs-json"!==t.sourceType_||!t.initialMedia_.segments)return;r=t.initialMedia_}t.handleUpdatedMediaPlaylist(r)}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var r=t.masterPlaylistLoader_.media(),l=1.5*r.targetDuration*1e3;t.requestOptions_.timeout=hd(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?0:l,t.mainSegmentLoader_.playlist(r,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var r=t.masterPlaylistLoader_.media();"playlist-unchanged"!==r.lastExcludeReason_&&t.stuckAtPlaylistEnd_(r)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),t.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},e.handleUpdatedMediaPlaylist=function(t){this.useCueTags_&&this.updateAdCues_(t),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.updateDuration(!t.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},e.triggerPresenceUsage_=function(t,r){var l=t.mediaGroups||{},d=!0,p=Object.keys(l.AUDIO);for(var m in l.AUDIO)for(var y in l.AUDIO[m])l.AUDIO[m][y].uri||(d=!1);d&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(l.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),fa.Playlist.isAes(r)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),p.length&&Object.keys(l.AUDIO[p[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},e.shouldSwitchToMedia_=function(t){var r=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,l=this.tech_.currentTime(),d=this.bufferLowWaterLine(),p=this.bufferHighWaterLine();return function(n){var e=n.currentPlaylist,i=n.buffered,t=n.currentTime,r=n.nextPlaylist,l=n.bufferLowWaterLine,d=n.bufferHighWaterLine,p=n.duration,m=n.experimentalBufferBasedABR,y=n.log;if(!r)return Ne.log.warn("We received no playlist to switch to. Please check your stream."),!1;var N="allowing switch "+(e&&e.id||"null")+" -> "+r.id;if(!e)return y(N+" as current playlist is not set"),!0;if(r.id===e.id)return!1;var M=Boolean(Nu(i,t).length);if(!e.endList)return M||"number"!=typeof e.partTargetDuration?(y(N+" as current playlist is live"),!0):(y("not "+N+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);var V=Uo(i,t),q=m?br.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:br.MAX_BUFFER_LOW_WATER_LINE;if(p<q)return y(N+" as duration < max low water line ("+p+" < "+q+")"),!0;var j=r.attributes.BANDWIDTH,z=e.attributes.BANDWIDTH;if(j<z&&(!m||V<d)){var ve=N+" as next bandwidth < current bandwidth ("+j+" < "+z+")";return m&&(ve+=" and forwardBuffer < bufferHighWaterLine ("+V+" < "+d+")"),y(ve),!0}if((!m||j>z)&&V>=l){var _e=N+" as forwardBuffer >= bufferLowWaterLine ("+V+" >= "+l+")";return m&&(_e+=" and next bandwidth > current bandwidth ("+j+" > "+z+")"),y(_e),!0}return y("not "+N+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:l,currentPlaylist:r,nextPlaylist:t,bufferLowWaterLine:d,bufferHighWaterLine:p,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},e.setupSegmentLoaderListeners_=function(){var t=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var l=t.selectPlaylist();t.shouldSwitchToMedia_(l)&&t.switchMedia_(l,"bandwidthupdate"),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){t.error=t.mainSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){t.error=t.audioSegmentLoader_.error_,t.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){t.logger_("main segment loader ended"),t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(l){t.experimentalBufferBasedABR||(t.delegateLoaders_("all",["abort"]),t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))});var r=function(){if(!t.sourceUpdater_.hasCreatedSourceBuffers())return t.tryToCreateSourceBuffers_();var d=t.getCodecsOrExclude_();!d||t.sourceUpdater_.addOrChangeSourceBuffers(d)};this.mainSegmentLoader_.on("trackinfo",r),this.audioSegmentLoader_.on("trackinfo",r),this.mainSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){t.triggeredFmp4Usage||(t.tech_.trigger({type:"usage",name:"vhs-fmp4"}),t.tech_.trigger({type:"usage",name:"hls-fmp4"}),t.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){t.logger_("audioSegmentLoader ended"),t.onEndOfStream()})},e.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},e.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},e.smoothQualityChange_=function(t){void 0===t&&(t=this.selectPlaylist()),this.fastQualityChange_(t)},e.fastQualityChange_=function(t){var r=this;void 0===t&&(t=this.selectPlaylist()),t!==this.masterPlaylistLoader_.media()?(this.switchMedia_(t,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){r.tech_.setCurrentTime(Ne.browser.IE_VERSION||Ne.browser.IS_EDGE?r.tech_.currentTime()+.04:r.tech_.currentTime())})):this.logger_("skipping fastQualityChange because new media is same as old")},e.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var t=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0))return this.tech_.setCurrentTime(t.end(t.length-1))}},e.setupFirstPlay=function(){var t=this,r=this.masterPlaylistLoader_.media();if(!r||this.tech_.paused()||this.hasPlayed_)return!1;if(!r.endList){var l=this.seekable();if(!l.length)return!1;if(Ne.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.tech_.setCurrentTime(l.end(0)),t.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(l.end(0))}return this.hasPlayed_=!0,this.load(),!0},e.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(r){})}this.trigger("sourceopen")},e.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var t=this.inbandTextTracks_.metadataTrack_.cues;if(t&&t.length){var r=this.duration();t[t.length-1].endTime=isNaN(r)||Math.abs(r)===1/0?Number.MAX_VALUE:r}}},e.handleDurationChange_=function(){this.tech_.trigger("durationchange")},e.onEndOfStream=function(){var t=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var r=this.mainSegmentLoader_.getCurrentMediaInfo_();t=!r||r.hasVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}!t||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},e.stuckAtPlaylistEnd_=function(t){if(!this.seekable().length)return!1;var l=this.syncController_.getExpiredTime(t,this.duration());if(null===l)return!1;var d=fa.Playlist.playlistEnd(t,l),p=this.tech_.currentTime(),m=this.tech_.buffered();if(!m.length)return d-p<=oa;var y=m.end(m.length-1);return y-p<=oa&&d-y<=oa},e.blacklistCurrentPlaylist=function(t,r){void 0===t&&(t={});var l=t.playlist||this.masterPlaylistLoader_.media();if(r=r||t.blacklistDuration||this.blacklistDuration,!l)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));l.playlistErrors_++;var N,d=this.masterPlaylistLoader_.master.playlists,p=d.filter(fd),m=1===p.length&&p[0]===l;if(1===d.length&&r!==1/0)return Ne.log.warn("Problem encountered with playlist "+l.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(m);if(m){var y=!1;d.forEach(function(ve){if(ve!==l){var _e=ve.excludeUntil;void 0!==_e&&_e!==1/0&&(y=!0,delete ve.excludeUntil)}}),y&&(Ne.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}N=l.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*r,l.excludeUntil=N,t.reason&&(l.lastExcludeReason_=t.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var M=this.selectPlaylist();if(!M)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");(t.internal?this.logger_:Ne.log.warn)((t.internal?"Internal problem":"Problem")+" encountered with playlist "+l.id+"."+(t.message?" "+t.message:"")+" Switching to playlist "+M.id+"."),M.attributes.AUDIO!==l.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),M.attributes.SUBTITLES!==l.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var j=M.targetDuration/2*1e3||5e3,z="number"==typeof M.lastRequest&&Date.now()-M.lastRequest<=j;return this.switchMedia_(M,"exclude",m||z)},e.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},e.delegateLoaders_=function(t,r){var l=this,d=[],p="all"===t;(p||"main"===t)&&d.push(this.masterPlaylistLoader_);var m=[];(p||"audio"===t)&&m.push("AUDIO"),(p||"subtitle"===t)&&(m.push("CLOSED-CAPTIONS"),m.push("SUBTITLES")),m.forEach(function(y){var N=l.mediaTypes_[y]&&l.mediaTypes_[y].activePlaylistLoader;N&&d.push(N)}),["main","audio","subtitle"].forEach(function(y){var N=l[y+"SegmentLoader_"];N&&(t===y||"all"===t)&&d.push(N)}),d.forEach(function(y){return r.forEach(function(N){"function"==typeof y[N]&&y[N]()})})},e.setCurrentTime=function(t){var r=Nu(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?r&&r.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},e.duration=function(){if(!this.masterPlaylistLoader_)return 0;var t=this.masterPlaylistLoader_.media();return t?t.endList?this.mediaSource?this.mediaSource.duration:fa.Playlist.duration(t):1/0:0},e.seekable=function(){return this.seekable_},e.onSyncInfoUpdate_=function(){var t;if(this.masterPlaylistLoader_){var r=this.masterPlaylistLoader_.media();if(r){var l=this.syncController_.getExpiredTime(r,this.duration());if(null!==l){var m,y,d=this.masterPlaylistLoader_.master,p=fa.Playlist.seekable(r,l,fa.Playlist.liveEdgeDelay(d,r));0===p.length||this.mediaTypes_.AUDIO.activePlaylistLoader&&(r=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(l=this.syncController_.getExpiredTime(r,this.duration()))||0===(t=fa.Playlist.seekable(r,l,fa.Playlist.liveEdgeDelay(d,r))).length)||(this.seekable_&&this.seekable_.length&&(m=this.seekable_.end(0),y=this.seekable_.start(0)),this.seekable_=t?t.start(0)>p.end(0)||p.start(0)>t.end(0)?p:Ne.createTimeRanges([[t.start(0)>p.start(0)?t.start(0):p.start(0),t.end(0)<p.end(0)?t.end(0):p.end(0)]]):p,(!this.seekable_||!this.seekable_.length||this.seekable_.end(0)!==m||this.seekable_.start(0)!==y)&&(this.logger_("seekable updated ["+tg(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")))}}}},e.updateDuration=function(t){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,t),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(t){var r=this.seekable();if(!r.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<r.end(r.length-1))&&this.sourceUpdater_.setDuration(r.end(r.length-1))}else{var l=this.tech_.buffered(),d=fa.Playlist.duration(this.masterPlaylistLoader_.media());l.length>0&&(d=Math.max(d,l.end(l.length-1))),this.mediaSource.duration!==d&&this.sourceUpdater_.setDuration(d)}},e.dispose=function(){var t=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(r){var l=t.mediaTypes_[r].groups;for(var d in l)l[d].forEach(function(p){p.playlistLoader&&p.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},e.master=function(){return this.masterPlaylistLoader_.master},e.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},e.areMediaTypesKnown_=function(){var t=!!this.mediaTypes_.AUDIO.activePlaylistLoader,r=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),l=!t||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!r||!l)},e.getCodecsOrExclude_=function(){var t=this,r={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};r.video=r.main;var l=Vo(this.master(),this.media()),d={},p=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(r.main.hasVideo&&(d.video=l.video||r.main.videoCodec||"avc1.4d400d"),r.main.isMuxed&&(d.video+=","+(l.audio||r.main.audioCodec||bc)),(r.main.hasAudio&&!r.main.isMuxed||r.audio.hasAudio||p)&&(d.audio=l.audio||r.main.audioCodec||r.audio.audioCodec||bc,r.audio.isFmp4=r.main.hasAudio&&!r.main.isMuxed?r.main.isFmp4:r.audio.isFmp4),d.audio||d.video){var N,y={};if(["video","audio"].forEach(function(j){if(d.hasOwnProperty(j)&&!function(z,ve){return z?el(ve):Zl(ve)}(r[j].isFmp4,d[j])){var z=r[j].isFmp4?"browser":"muxer";y[z]=y[z]||[],y[z].push(d[j]),"audio"===j&&(N=z)}}),p&&N&&this.media().attributes.AUDIO){var M=this.media().attributes.AUDIO;this.master().playlists.forEach(function(j){(j.attributes&&j.attributes.AUDIO)===M&&j!==t.media()&&(j.excludeUntil=1/0)}),this.logger_("excluding audio group "+M+" as "+N+' does not support codec(s): "'+d.audio+'"')}if(!Object.keys(y).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var q=[];if(["video","audio"].forEach(function(j){var z=(vs(t.sourceUpdater_.codecs[j]||"")[0]||{}).type,ve=(vs(d[j]||"")[0]||{}).type;z&&ve&&z.toLowerCase()!==ve.toLowerCase()&&q.push('"'+t.sourceUpdater_.codecs[j]+'" -> "'+d[j]+'"')}),q.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+q.join(", ")+".",blacklistDuration:1/0,internal:!0})}return d}var V=Object.keys(y).reduce(function(j,z){return j&&(j+=", "),j+(z+' does not support codec(s): "')+y[z].join(",")+'"'},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:V,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},e.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var t=this.getCodecsOrExclude_();if(t){this.sourceUpdater_.createSourceBuffers(t);var r=[t.video,t.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(r)}}},e.excludeUnsupportedVariants_=function(){var t=this,r=this.master().playlists,l=[];Object.keys(r).forEach(function(d){var p=r[d];if(-1===l.indexOf(p.id)){l.push(p.id);var m=Vo(t.master,p),y=[];m.audio&&!Zl(m.audio)&&!el(m.audio)&&y.push("audio codec "+m.audio),m.video&&!Zl(m.video)&&!el(m.video)&&y.push("video codec "+m.video),m.text&&"stpp.ttml.im1t"===m.text&&y.push("text codec "+m.text),y.length&&(p.excludeUntil=1/0,t.logger_("excluding "+p.id+" for unsupported: "+y.join(", ")))}})},e.excludeIncompatibleVariants_=function(t){var r=this,l=[],d=this.master().playlists,p=$u(vs(t)),m=t_(p),y=p.video&&vs(p.video)[0]||null,N=p.audio&&vs(p.audio)[0]||null;Object.keys(d).forEach(function(M){var V=d[M];if(-1===l.indexOf(V.id)&&V.excludeUntil!==1/0){l.push(V.id);var q=[],j=Vo(r.masterPlaylistLoader_.master,V),z=t_(j);if(j.audio||j.video){if(z!==m&&q.push('codec count "'+z+'" !== "'+m+'"'),!r.sourceUpdater_.canChangeType()){var ve=j.video&&vs(j.video)[0]||null,_e=j.audio&&vs(j.audio)[0]||null;ve&&y&&ve.type.toLowerCase()!==y.type.toLowerCase()&&q.push('video codec "'+ve.type+'" !== "'+y.type+'"'),_e&&N&&_e.type.toLowerCase()!==N.type.toLowerCase()&&q.push('audio codec "'+_e.type+'" !== "'+N.type+'"')}q.length&&(V.excludeUntil=1/0,r.logger_("blacklisting "+V.id+": "+q.join(" && ")))}}})},e.updateAdCues_=function(t){var r=0,l=this.seekable();l.length&&(r=l.start(0)),function(n,e,i){if(void 0===i&&(i=0),n.segments)for(var r,t=i,l=0;l<n.segments.length;l++){var d=n.segments[l];if(r||(r=N1(e,t+d.duration/2)),r){if("cueIn"in d){r.endTime=t,r.adEndTime=t,t+=d.duration,r=null;continue}if(t<r.endTime){t+=d.duration;continue}r.endTime+=d.duration}else if("cueOut"in d&&((r=new(oe().VTTCue)(t,t+d.duration,d.cueOut)).adStartTime=t,r.adEndTime=t+parseFloat(d.cueOut),e.addCue(r)),"cueOutCont"in d){var p=d.cueOutCont.split("/").map(parseFloat),m=p[0],y=p[1];(r=new(oe().VTTCue)(t,t+d.duration,"")).adStartTime=t-m,r.adEndTime=r.adStartTime+y,e.addCue(r)}t+=d.duration}}(t,this.cueTagsTrack_,r)},e.goalBufferLength=function(){var t=this.tech_.currentTime(),r=br.GOAL_BUFFER_LENGTH,l=br.GOAL_BUFFER_LENGTH_RATE,d=Math.max(r,br.MAX_GOAL_BUFFER_LENGTH);return Math.min(r+t*l,d)},e.bufferLowWaterLine=function(){var t=this.tech_.currentTime(),r=br.BUFFER_LOW_WATER_LINE,l=br.BUFFER_LOW_WATER_LINE_RATE,d=Math.max(r,br.MAX_BUFFER_LOW_WATER_LINE),p=Math.max(r,br.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(r+t*l,this.experimentalBufferBasedABR?p:d)},e.bufferHighWaterLine=function(){return br.BUFFER_HIGH_WATER_LINE},n}(Ne.EventTarget),N_=function(n,e,i){var t=n.masterPlaylistController_,d=t[(n.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(t);if(e.attributes){var p=e.attributes.RESOLUTION;this.width=p&&p.width,this.height=p&&p.height,this.bandwidth=e.attributes.BANDWIDTH}this.codecs=Vo(t.master(),e),this.playlist=e,this.id=i,this.enabled=function(n,e,i){return function(t){var r=n.master.playlists[e],l=A0(r),d=fd(r);return void 0===t?d:(t?delete r.disabled:r.disabled=!0,t!==d&&!l&&(i(),n.trigger(t?"renditionenabled":"renditiondisabled")),t)}}(n.playlists,e.id,d)},O_=["seeking","seeked","pause","playing","error"],k1=function(){function s(e){var i=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Ss("PlaybackWatcher"),this.logger_("initialize");var t=function(){return i.monitorCurrentTime_()},r=function(){return i.monitorCurrentTime_()},l=function(){return i.techWaiting_()},d=function(){return i.cancelTimer_()},p=this.masterPlaylistController_,m=["main","subtitle","audio"],y={};m.forEach(function(M){y[M]={reset:function(){return i.resetSegmentDownloads_(M)},updateend:function(){return i.checkSegmentDownloads_(M)}},p[M+"SegmentLoader_"].on("appendsdone",y[M].updateend),p[M+"SegmentLoader_"].on("playlistupdate",y[M].reset),i.tech_.on(["seeked","seeking"],y[M].reset)});var N=function(V){["main","audio"].forEach(function(q){p[q+"SegmentLoader_"][V]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),N("off"))},this.clearSeekingAppendCheck_=function(){return N("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),N("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",l),this.tech_.on(O_,d),this.tech_.on("canplay",r),this.tech_.one("play",t),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",l),i.tech_.off(O_,d),i.tech_.off("canplay",r),i.tech_.off("play",t),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),m.forEach(function(M){p[M+"SegmentLoader_"].off("appendsdone",y[M].updateend),p[M+"SegmentLoader_"].off("playlistupdate",y[M].reset),i.tech_.off(["seeked","seeking"],y[M].reset)}),i.checkCurrentTimeTimeout_&&oe().clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var n=s.prototype;return n.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&oe().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=oe().setTimeout(this.monitorCurrentTime_.bind(this),250)},n.resetSegmentDownloads_=function(i){var t=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=t.buffered_()},n.checkSegmentDownloads_=function(i){var t=this.masterPlaylistController_,r=t[i+"SegmentLoader_"],l=r.buffered_(),d=function(n,e){if(n===e)return!1;if(!n&&e||!e&&n||n.length!==e.length)return!0;for(var i=0;i<n.length;i++)if(n.start(i)!==e.start(i)||n.end(i)!==e.end(i))return!0;return!1}(this[i+"Buffered_"],l);this[i+"Buffered_"]=l,d?this.resetSegmentDownloads_(i):(this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:r.playlist_&&r.playlist_.id,buffered:Ho(l)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),"subtitle"!==i&&t.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0)))},n.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var i=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===i&&(!t.length||i+oa>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},n.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},n.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var d,t=this.seekable(),r=this.tech_.currentTime();if(this.afterSeekableWindow_(t,r,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(d=t.end(t.length-1)),this.beforeSeekableWindow_(t,r)){var m=t.start(0);d=m+(m===t.end(0)?0:oa)}if(void 0!==d)return this.logger_("Trying to seek outside of seekable at time "+r+" with seekable range "+tg(t)+". Seeking to "+d+"."),this.tech_.setCurrentTime(d),!0;for(var y=this.masterPlaylistController_.sourceUpdater_,N=this.tech_.buffered(),M=y.audioBuffer?y.audioBuffered():null,V=y.videoBuffer?y.videoBuffered():null,q=this.media(),j=q.partTargetDuration?q.partTargetDuration:2*(q.targetDuration-fo),z=[M,V],ve=0;ve<z.length;ve++)if(z[ve]&&Uo(z[ve],r)<j)return!1;var Ve=Iu(N,r);return 0!==Ve.length&&(d=Ve.start(0)+oa,this.logger_("Buffered region starts ("+Ve.start(0)+")  just beyond seek point ("+r+"). Seeking to "+d+"."),this.tech_.setCurrentTime(d),!0)},n.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),t=this.tech_.buffered(),r=Nu(t,i);if(r.length&&i+3<=r.end(0))return this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region ["+r.start(0)+" -> "+r.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})}},n.techWaiting_=function(){var i=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(i,t)){var r=i.end(i.length-1);return this.logger_("Fell out of live window at time "+t+". Seeking to live point (seekable end) "+r),this.cancelTimer_(),this.tech_.setCurrentTime(r),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var l=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,d=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:l.audioBuffered(),videoBuffered:l.videoBuffered(),currentTime:t}))return this.cancelTimer_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var m=Iu(d,t);if(m.length>0){var y=m.start(0)-t;return this.logger_("Stopped at "+t+", setting timer for "+y+", seeking to "+m.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*y,t),!0}return!1},n.afterSeekableWindow_=function(i,t,r,l){if(void 0===l&&(l=!1),!i.length)return!1;var d=i.end(i.length-1)+oa;return!r.endList&&l&&(d=i.end(i.length-1)+3*r.targetDuration),t>d},n.beforeSeekableWindow_=function(i,t){return!!(i.length&&i.start(0)>0&&t<i.start(0)-this.liveRangeSafeTimeDelta)},n.videoUnderflow_=function(i){var t=i.videoBuffered,r=i.audioBuffered,l=i.currentTime;if(t){var d;if(t.length&&r.length){var p=Nu(t,l-3),m=Nu(t,l),y=Nu(r,l);y.length&&!m.length&&p.length&&(d={start:p.end(0),end:y.end(0)})}else Iu(t,l).length||(d=this.gapFromVideoUnderflow_(t,l));return!!d&&(this.logger_("Encountered a gap in video from "+d.start+" to "+d.end+". Seeking to current time "+l),!0)}},n.skipTheGap_=function(i){var t=this.tech_.buffered(),r=this.tech_.currentTime(),l=Iu(t,r);this.cancelTimer_(),0!==l.length&&r===i&&(this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",i,"nextRange start:",l.start(0)),this.tech_.setCurrentTime(l.start(0)+fo),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},n.gapFromVideoUnderflow_=function(i,t){for(var r=function(n){if(n.length<2)return Ne.createTimeRanges();for(var e=[],i=1;i<n.length;i++){var t=n.end(i-1),r=n.start(i);e.push([t,r])}return Ne.createTimeRanges(e)}(i),l=0;l<r.length;l++){var d=r.start(l),p=r.end(l);if(t-d<4&&t-d>2)return{start:d,end:p}}return null},s}(),F1={errorInterval:30,getSource:function(n){return n(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},L1=function s(n,e){var i=0,t=0,r=Ne.mergeOptions(F1,e);n.ready(function(){n.trigger({type:"usage",name:"vhs-error-reload-initialized"}),n.trigger({type:"usage",name:"hls-error-reload-initialized"})});var l=function(){t&&n.currentTime(t)},d=function(M){null!=M&&(t=n.duration()!==1/0&&n.currentTime()||0,n.one("loadedmetadata",l),n.src(M),n.trigger({type:"usage",name:"vhs-error-reload"}),n.trigger({type:"usage",name:"hls-error-reload"}),n.play())},p=function(){return Date.now()-i<1e3*r.errorInterval?(n.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void n.trigger({type:"usage",name:"hls-error-reload-canceled"})):r.getSource&&"function"==typeof r.getSource?(i=Date.now(),r.getSource.call(n,d)):void Ne.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},m=function N(){n.off("loadedmetadata",l),n.off("error",p),n.off("dispose",N)};n.on("error",p),n.on("dispose",m),n.reloadSourceOnError=function(M){m(),s(n,M)}},Ar={PlaylistLoader:ua,Playlist:Cs,utils:Hu,STANDARD_PLAYLIST_SELECTOR:Ng,INITIAL_PLAYLIST_SELECTOR:function(){var n=this,e=this.playlists.master.playlists.filter(Cs.isEnabled);return zu(e,function(t,r){return Yu(t,r)}),e.filter(function(t){return!!Vo(n.playlists.master,t).video})[0]||null},lastBandwidthSelector:Ng,movingAverageBandwidthSelector:function(n){var e=-1,i=-1;if(n<0||n>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var t=this.useDevicePixelRatio&&oe().devicePixelRatio||1;return e<0&&(e=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(e=n*this.systemBandwidth+(1-n)*e,i=this.systemBandwidth),Mg(this.playlists.master,e,parseInt(Ag(this.tech_.el(),"width"),10)*t,parseInt(Ag(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:Yu,comparePlaylistResolution:function(n,e){var i,t;return n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(i=n.attributes.RESOLUTION.width),i=i||oe().Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(t=e.attributes.RESOLUTION.width),i===(t=t||oe().Number.MAX_VALUE)&&n.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?n.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-t},xhr:R0()};Object.keys(br).forEach(function(s){Object.defineProperty(Ar,s,{get:function(){return Ne.log.warn("using Vhs."+s+" is UNSAFE be sure you know what you are doing"),br[s]},set:function(e){Ne.log.warn("using Vhs."+s+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?Ne.log.warn("value of Vhs."+s+" must be greater than or equal to 0"):br[s]=e}})});var R_="videojs-vhs",k_=function(n,e){for(var i=e.media(),t=-1,r=0;r<n.length;r++)if(n[r].id===i.id){t=r;break}n.selectedIndex_=t,n.trigger({selectedIndex:t,type:"change"})};Ar.canPlaySource=function(){return Ne.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Wg=function(){if(!oe().localStorage)return null;var n=oe().localStorage.getItem(R_);if(!n)return null;try{return JSON.parse(n)}catch(e){return null}};Ar.supportsNativeHls=function(){if(!lt()||!lt().createElement)return!1;var s=lt().createElement("video");return!!Ne.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(s.canPlayType(e))})}(),Ar.supportsNativeDash=!!(lt()&&lt().createElement&&Ne.getTech("Html5").isSupported())&&/maybe|probably/i.test(lt().createElement("video").canPlayType("application/dash+xml")),Ar.supportsTypeNatively=function(s){return"hls"===s?Ar.supportsNativeHls:"dash"===s&&Ar.supportsNativeDash},Ar.isSupported=function(){return Ne.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var oh=function(s){function n(i,t,r){var l;if(l=s.call(this,t,Ne.mergeOptions(r.hls,r.vhs))||this,r.hls&&Object.keys(r.hls).length&&Ne.log.warn("Using hls options is deprecated. Use vhs instead."),"number"==typeof r.initialBandwidth&&(l.options_.bandwidth=r.initialBandwidth),l.logger_=Ss("VhsHandler"),t.options_&&t.options_.playerId){var d=Ne(t.options_.playerId);d.hasOwnProperty("hls")||Object.defineProperty(d,"hls",{get:function(){return Ne.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"hls-player-access"}),Kt(l)},configurable:!0}),d.hasOwnProperty("vhs")||Object.defineProperty(d,"vhs",{get:function(){return Ne.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),t.trigger({type:"usage",name:"vhs-player-access"}),Kt(l)},configurable:!0}),d.hasOwnProperty("dash")||Object.defineProperty(d,"dash",{get:function(){return Ne.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Kt(l)},configurable:!0}),l.player_=d}if(l.tech_=t,l.source_=i,l.stats={},l.ignoreNextSeekingEvent_=!1,l.setOptions_(),l.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(l.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return l.on(lt(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(p){var m=lt().fullscreenElement||lt().webkitFullscreenElement||lt().mozFullScreenElement||lt().msFullscreenElement;m&&m.contains(l.tech_.el())?l.masterPlaylistController_.fastQualityChange_():l.masterPlaylistController_.checkABR_()}),l.on(l.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),l.on(l.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),l.on(l.tech_,"play",l.play),l}Et(n,s);var e=n.prototype;return e.setOptions_=function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var r=Wg();r&&r.bandwidth&&(this.options_.bandwidth=r.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),r&&r.throughput&&(this.options_.throughput=r.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=br.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===br.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(l){void 0!==t.source_[l]&&(t.options_[l]=t.source_[l])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},e.src=function(t,r){var l=this;if(t){this.setOptions_(),this.options_.src=function(n){return 0===n.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(n.substring(n.indexOf(",")+1)):n}(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Ar,this.options_.sourceType=$n(r),this.options_.seekTo=function(m){l.tech_.setCurrentTime(m)},this.options_.smoothQualityChange&&Ne.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new A_(this.options_);var d=Ne.mergeOptions({liveRangeSafeTimeDelta:oa},this.options_,{seekable:function(){return l.seekable()},media:function(){return l.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new k1(d),this.masterPlaylistController_.on("error",function(){var m=Ne.players[l.tech_.options_.playerId],y=l.masterPlaylistController_.error;"object"!=typeof y||y.code?"string"==typeof y&&(y={message:y,code:3}):y.code=3,m.error(y)});var p=this.options_.experimentalBufferBasedABR?Ar.movingAverageBandwidthSelector(.55):Ar.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):p.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Ar.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(y){this.masterPlaylistController_.selectPlaylist=y.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(y){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=y,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var y=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,N=oe().navigator.connection||oe().navigator.mozConnection||oe().navigator.webkitConnection,M=1e7;if(this.options_.useNetworkInformationApi&&N){var V=1e3*N.downlink*1e3;y=V>=M&&y>=M?Math.max(y,V):V}return y},set:function(y){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=y,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){return Math.floor(1/(1/(this.bandwidth||1)+(this.throughput>0?1/this.throughput:0)))},set:function(){Ne.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return l.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return l.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return l.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return l.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return l.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return l.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return l.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return l.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return l.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return l.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return l.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return l.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return l.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Ho(l.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return l.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return l.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return l.tech_.name_},enumerable:!0},duration:{get:function(){return l.tech_.duration()},enumerable:!0},master:{get:function(){return l.playlists.master},enumerable:!0},playerDimensions:{get:function(){return l.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Ho(l.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return l.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){l.options_.useBandwidthFromLocalStorage&&function(n){if(!oe().localStorage)return!1;var e=Wg();e=e?Ne.mergeOptions(e,n):n;try{oe().localStorage.setItem(R_,JSON.stringify(e))}catch(i){return!1}}({bandwidth:l.bandwidth,throughput:Math.round(l.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(n){n.representations=function(){var e=n.masterPlaylistController_.master(),i=Pu(e)?n.masterPlaylistController_.getAudioTrackPlaylists_():e.playlists;return i?i.filter(function(t){return!A0(t)}).map(function(t,r){return new N_(n,t,t.id)}):[]}}(l)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){l.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=oe().URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},e.createKeySessions_=function(){var t=this,r=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),function(n){var e=n.player,i=n.sourceKeySystems,t=n.audioMedia,r=n.mainPlaylists;if(!e.eme.initializeMediaKeys)return Promise.resolve();var d=function(n,e){return n.reduce(function(i,t){if(!t.contentProtection)return i;var r=e.reduce(function(l,d){var p=t.contentProtection[d];return p&&p.pssh&&(l[d]={pssh:p.pssh}),l},{});return Object.keys(r).length&&i.push(r),i},[])}(t?r.concat([t]):r,Object.keys(i)),p=[],m=[];return d.forEach(function(y){m.push(new Promise(function(N,M){e.tech_.one("keysessioncreated",N)})),p.push(new Promise(function(N,M){e.eme.initializeMediaKeys({keySystems:y},function(V){V?M(V):N()})}))}),Promise.race([Promise.all(p),Promise.race(m)])}({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:r&&r.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){t.logger_("created EME key session"),t.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(l){t.logger_("error while creating EME key session",l),t.player_.error({message:"Failed to initialize media keys for EME",code:3})})},e.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},e.setupEme_=function(){var t=this,r=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,l=function(n){var e=n.player,l=function(n,e,i){if(!n)return n;var t={};e&&e.attributes&&e.attributes.CODECS&&(t=$u(vs(e.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(t.audio=i.attributes.CODECS);var r=xo(t.video),l=xo(t.audio),d={};for(var p in n)d[p]={},l&&(d[p].audioContentType=l),r&&(d[p].videoContentType=r),e.contentProtection&&e.contentProtection[p]&&e.contentProtection[p].pssh&&(d[p].pssh=e.contentProtection[p].pssh),"string"==typeof n[p]&&(d[p].url=n[p]);return Ne.mergeOptions(n,d)}(n.sourceKeySystems,n.media,n.audioMedia);return!(!l||(e.currentSource().keySystems=l,l&&!e.eme&&(Ne.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1)))}({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:r&&r.media()});this.player_.tech_.on("keystatuschange",function(d){"output-restricted"===d.status&&t.masterPlaylistController_.blacklistCurrentPlaylist({playlist:t.masterPlaylistController_.media(),message:"DRM keystatus changed to "+d.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==Ne.browser.IE_VERSION&&l?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},e.setupQualityLevels_=function(){var t=this,r=Ne.players[this.tech_.options_.playerId];!r||!r.qualityLevels||this.qualityLevels_||(this.qualityLevels_=r.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(n,e){e.representations().forEach(function(i){n.addQualityLevel(i)}),k_(n,e.playlists)}(t.qualityLevels_,t)}),this.playlists.on("mediachange",function(){k_(t.qualityLevels_,t.playlists)}))},n.version=function(){return{"@videojs/http-streaming":"2.13.1","mux.js":"6.0.1","mpd-parser":"0.21.0","m3u8-parser":"4.7.0","aes-decrypter":"3.1.2"}},e.version=function(){return this.constructor.version()},e.canChangeType=function(){return M1.canChangeType()},e.play=function(){this.masterPlaylistController_.play()},e.setCurrentTime=function(t){this.masterPlaylistController_.setCurrentTime(t)},e.duration=function(){return this.masterPlaylistController_.duration()},e.seekable=function(){return this.masterPlaylistController_.seekable()},e.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&oe().URL.revokeObjectURL&&(oe().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),s.prototype.dispose.call(this)},e.convertToProgramTime=function(t,r){return function(n){var e=n.playlist,i=n.time,t=void 0===i?void 0:i,r=n.callback;if(!r)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===t)return r({message:"getProgramTime: playlist and time must be provided"});var l=function(n,e){if(!e||!e.segments||0===e.segments.length)return null;for(var t,i=0,r=0;r<e.segments.length&&!(n<=(i=(t=e.segments[r]).videoTimingInfo?t.videoTimingInfo.transmuxedPresentationEnd:i+t.duration));r++);var l=e.segments[e.segments.length-1];if(l.videoTimingInfo&&l.videoTimingInfo.transmuxedPresentationEnd<n)return null;if(n>i){if(n>i+.25*l.duration)return null;t=l}return{segment:t,estimatedStart:t.videoTimingInfo?t.videoTimingInfo.transmuxedPresentationStart:i-t.duration,type:t.videoTimingInfo?"accurate":"estimate"}}(t,e);if(!l)return r({message:"valid programTime was not found"});if("estimate"===l.type)return r({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:l.estimatedStart});var d={mediaSeconds:t},p=function(n,e){if(!e.dateTimeObject)return null;var l=n-(e.videoTimingInfo.transmuxedPresentationStart+e.videoTimingInfo.transmuxerPrependedSeconds);return new Date(e.dateTimeObject.getTime()+1e3*l)}(t,l.segment);return p&&(d.programDateTime=p.toISOString()),r(null,d)}({playlist:this.masterPlaylistController_.media(),time:t,callback:r})},e.seekToProgramTime=function(t,r,l,d){return void 0===l&&(l=!0),void 0===d&&(d=2),B0({programTime:t,playlist:this.masterPlaylistController_.media(),retryCount:d,pauseAfterSeek:l,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:r})},n}(Ne.getComponent("Component")),Sd={name:"videojs-http-streaming",VERSION:"2.13.1",canHandleSource:function(n,e){void 0===e&&(e={});var i=Ne.mergeOptions(Ne.options,e);return Sd.canPlayType(n.type,i)},handleSource:function(n,e,i){void 0===i&&(i={});var t=Ne.mergeOptions(Ne.options,i);return e.vhs=new oh(n,e,t),Ne.hasOwnProperty("hls")||Object.defineProperty(e,"hls",{get:function(){return Ne.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),e.vhs},configurable:!0}),e.vhs.xhr=R0(),e.vhs.src(n.src,n.type),e.vhs},canPlayType:function(n,e){void 0===e&&(e={});var i=Ne.mergeOptions(Ne.options,e),t=i.vhs,r=(t=void 0===t?{}:t).overrideNative,l=void 0===r?!Ne.browser.IS_ANY_SAFARI:r,d=i.hls,p=(d=void 0===d?{}:d).overrideNative,m=void 0!==p&&p,y=$n(n);return y&&(!Ar.supportsTypeNatively(y)||m||l)?"maybe":""}};el("avc1.4d400d,mp4a.40.2")&&Ne.getTech("Html5").registerSourceHandler(Sd,0),Ne.VhsHandler=oh,Object.defineProperty(Ne,"HlsHandler",{get:function(){return Ne.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),oh},configurable:!0}),Ne.VhsSourceHandler=Sd,Object.defineProperty(Ne,"HlsSourceHandler",{get:function(){return Ne.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Sd},configurable:!0}),Ne.Vhs=Ar,Object.defineProperty(Ne,"Hls",{get:function(){return Ne.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Ar},configurable:!0}),Ne.use||(Ne.registerComponent("Hls",Ar),Ne.registerComponent("Vhs",Ar)),Ne.options.vhs=Ne.options.vhs||{},Ne.options.hls=Ne.options.hls||{},Ne.getPlugin&&Ne.getPlugin("reloadSourceOnError")||(Ne.registerPlugin||Ne.plugin)("reloadSourceOnError",function(n){L1(this,n)});const V_=Ne,$g=["target"];let G_=(()=>{class s{constructor(){this.sources=[]}ngOnInit(){this.player=V_(this.target.nativeElement,this.options,()=>{this.player.src(this.sources)})}ngOnChanges(e){this.player&&this.player.src(this.sources)}ngOnDestroy(){this.player&&this.player.dispose()}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-video-player"]],viewQuery:function(e,i){if(1&e&&h.Gf($g,7),2&e){let t;h.iGM(t=h.CRH())&&(i.target=t.first)}},inputs:{options:"options",sources:"sources"},features:[h.TTD],decls:2,vars:0,consts:[["controls","","muted","","playsinline","","preload","none",1,"mw-100","video-js"],["target",""]],template:function(e,i){1&e&&h._UZ(0,"video",0,1)},styles:[""],encapsulation:2}),s})();const Pl=function(){return{autoplay:!0,controls:!0}};function K1(s,n){if(1&s&&(h.ynx(0),h._UZ(1,"app-video-player",5)(2,"app-download-button",6),h.BQk()),2&s){const e=h.oxw(2);h.xp6(1),h.Q6J("options",h.DdM(3,Pl))("sources",e.videoSrc),h.xp6(1),h.Q6J("movieId",e.movieId)}}function q1(s,n){1&s&&(h.TgZ(0,"div",7),h._uU(1,"Movie not found"),h.qZA())}function Xu(s,n){if(1&s&&(h.ynx(0),h.YNc(1,K1,3,4,"ng-container",2),h.YNc(2,q1,2,0,"ng-template",null,4,h.W1O),h.BQk()),2&s){const e=h.MAs(3),i=h.oxw();h.xp6(1),h.Q6J("ngIf",i.videoSrc)("ngIfElse",e)}}function LD(s,n){1&s&&h._UZ(0,"div",8)}const zg=function(){return[".."]};let BD=(()=>{class s{constructor(e,i,t){this.ref=e,this.route=i,this.movieService=t,this.loading=!0,this.videoSrc=null,this.movieId=null}ngOnInit(){this.route.paramMap.subscribe(e=>this.loadMovie(e.get("id")))}loadMovie(e){if(null===e)return this.videoSrc=null,this.movieId=null,void this.ref.detectChanges();this.movieId=e,this.movieService.getMovieSources(e).then(i=>{this.videoSrc=i,this.loading=!1,this.ref.detectChanges()}).catch(()=>{this.videoSrc=null,this.loading=!1,this.ref.detectChanges()})}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(h.sBO),h.Y36(_n.gz),h.Y36(Lr))},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-watch"]],decls:6,vars:4,consts:[[1,"m-safe-x"],[3,"routerLink"],[4,"ngIf","ngIfElse"],["loadingSpinner",""],["noMovie",""],[1,"mw-100",3,"options","sources"],[3,"movieId"],["role","alert",1,"alert","alert-danger","mt-2"],["role","status",1,"spinner-border"]],template:function(e,i){if(1&e&&(h.TgZ(0,"div",0)(1,"a",1),h._uU(2,"Back"),h.qZA(),h.YNc(3,Xu,4,2,"ng-container",2),h.YNc(4,LD,1,0,"ng-template",null,3,h.W1O),h.qZA()),2&e){const t=h.MAs(5);h.xp6(1),h.Q6J("routerLink",h.DdM(3,zg)),h.xp6(2),h.Q6J("ngIf",!i.loading)("ngIfElse",t)}},directives:[_n.yS,T.O5,G_,Z],styles:[""],changeDetection:0}),s})(),Qu=(()=>{class s{constructor(e){this.displayService=e}canActivate(){return this.displayService.requestFullscreenMobile(),!0}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(Ga))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();const j_=[{path:"overview",component:Nn,canActivate:[Qu]},{path:"watch/:id",component:BD,canActivate:[Qu]},{path:"**",redirectTo:"overview"}];let HD=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[_n.Bz.forChild(j_)],_n.Bz]}),s})(),tn=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez,HD]]}),s})();const X1=[{path:"",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-home"]],decls:2,vars:0,template:function(e,i){1&e&&(h.TgZ(0,"p"),h._uU(1,"home works!"),h.qZA())},styles:[""]}),s})(),canActivate:[Qu],pathMatch:"full"},{path:":id",component:(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-overview"]],decls:2,vars:0,template:function(e,i){1&e&&(h.TgZ(0,"p"),h._uU(1,"overview works!"),h.qZA())},styles:[""]}),s})(),canActivate:[Qu]},{path:"**",redirectTo:""}];let lh=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[_n.Bz.forChild(X1)],_n.Bz]}),s})(),Q1=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez,lh]]}),s})();const uh=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:Da,canActivate:[zr]},{path:"home",component:ja,canActivate:[ms,zr],data:{navTitle:"Home",navMobileEmoji:"home"}},{path:"movies",loadChildren:()=>tn,canActivate:[ms],data:{navTitle:"Movies",navMobileEmoji:"movie"}},{path:"comics",loadChildren:()=>Q1,canActivate:[ms],data:{navTitle:"Comics",navMobileEmoji:"comic"}},{path:"upload",loadChildren:()=>G.e("src_app_modules_upload_upload_module_ts").then(G.bind(G,4899)).then(s=>s.UploadModule),canActivate:[ms,zr],data:{navTitle:"Upload"}},{path:"downloads",component:rn,canActivate:[ms,zr],data:{navTitle:"Downloads",navEnd:!0}},{path:"profile",component:$a,canActivate:[ms,za,zr],data:{navTitle:"Profile",navEnd:!0,navMobileEmoji:"profile"}},{path:"**",redirectTo:"/home"}];let ch=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[_n.Bz.forRoot(uh,{useHash:true})],_n.Bz]}),s})();var Mi=G(9770),W_=G(7272),Cd=G(5032);const po=new Kn.y(Cd.Z);var Yg=G(6451),$_=G(4033),Zu=G(4482);const Z1={connector:()=>new Di.x};function Y_(s,n=Z1){const{connector:e}=n;return(0,Zu.e)((i,t)=>{const r=e();(0,ji.D)(s(function z_(s){return new Kn.y(n=>s.subscribe(n))}(r))).subscribe(t),t.add(i.subscribe(r))})}var K_=G(1566),Rl=G(5403);function Kg(s,n){return n?e=>(0,W_.z)(n.pipe((0,cn.q)(1),function eS(){return(0,Zu.e)((s,n)=>{s.subscribe((0,Rl.x)(n,Cd.Z))})}()),e.pipe(Kg(s))):(0,Cn.z)((e,i)=>s(e,i).pipe((0,cn.q)(1),function dh(s){return(0,pt.U)(()=>s)}(e)))}var q_=G(3532);function qg(s=0,n,e=K_.P){let i=-1;return null!=n&&((0,q_.K)(n)?e=n:i=n),new Kn.y(t=>{let r=function X_(s){return s instanceof Date&&!isNaN(s)}(s)?+s-e.now():s;r<0&&(r=0);let l=0;return e.schedule(function(){t.closed||(t.next(l++),0<=i?this.schedule(void 0,i):t.complete())},r)})}function ha(s,n=K_.z){const e=qg(s,n);return Kg(()=>e)}
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const go="Service workers are disabled or not supported by this browser";class fh{constructor(n){if(this.serviceWorker=n,n){const i=kn(n,"controllerchange").pipe((0,pt.U)(()=>n.controller)),t=(0,Mi.P)(()=>(0,jn.of)(n.controller)),r=(0,W_.z)(t,i);this.worker=r.pipe((0,xn.h)(y=>!!y)),this.registration=this.worker.pipe((0,ss.w)(()=>n.getRegistration()));const m=kn(n,"message").pipe((0,pt.U)(y=>y.data)).pipe((0,xn.h)(y=>y&&y.type)).pipe(function Dd(s){return s?n=>Y_(s)(n):n=>function J1(s,n){const e=(0,gn.m)(s)?s:()=>s;return(0,gn.m)(n)?Y_(n,{connector:e}):i=>new $_.c(i,e)}(new Di.x)(n)}());m.connect(),this.events=m}else this.worker=this.events=this.registration=function tS(s){return(0,Mi.P)(()=>(0,rs._)(new Error(s)))}(go)}postMessage(n,e){return this.worker.pipe((0,cn.q)(1),(0,gr.b)(i=>{i.postMessage(Object.assign({action:n},e))})).toPromise().then(()=>{})}postMessageWithOperation(n,e,i){const t=this.waitForOperationCompleted(i),r=this.postMessage(n,e);return Promise.all([r,t]).then(([,l])=>l)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let e;return e="string"==typeof n?i=>i.type===n:i=>n.includes(i.type),this.events.pipe((0,xn.h)(e))}nextEventOfType(n){return this.eventsOfType(n).pipe((0,cn.q)(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,xn.h)(e=>e.nonce===n),(0,cn.q)(1),(0,pt.U)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let nS=(()=>{class s{constructor(e){if(this.sw=e,this.subscriptionChanges=new Di.x,!e.isEnabled)return this.messages=po,this.notificationClicks=po,void(this.subscription=po);this.messages=this.sw.eventsOfType("PUSH").pipe((0,pt.U)(t=>t.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,pt.U)(t=>t.data)),this.pushManager=this.sw.registration.pipe((0,pt.U)(t=>t.pushManager));const i=this.pushManager.pipe((0,ss.w)(t=>t.getSubscription()));this.subscription=(0,Yg.T)(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(go));const i={userVisibleOnly:!0};let t=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(t.length));for(let l=0;l<t.length;l++)r[l]=t.charCodeAt(l);return i.applicationServerKey=r,this.pushManager.pipe((0,ss.w)(l=>l.subscribe(i)),(0,cn.q)(1)).toPromise().then(l=>(this.subscriptionChanges.next(l),l))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,cn.q)(1),(0,ss.w)(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(t=>{if(!t)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(go))}decodeBase64(e){return atob(e)}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(fh))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})(),Xg=(()=>{class s{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=po,this.available=po,this.activated=po,void(this.unrecoverable=po);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,xn.h)(i=>"VERSION_READY"===i.type),(0,pt.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(go));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(go));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(fh))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class hh{}const Qg=new h.OlP("NGSW_REGISTER_SCRIPT");function iS(s,n,e,i){return()=>{if(!(0,T.NF)(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)r=e.registrationStrategy();else{const[d,...p]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(d){case"registerImmediately":r=(0,jn.of)(null);break;case"registerWithDelay":r=Zg(+p[0]||0);break;case"registerWhenStable":r=p[0]?(0,Yg.T)(Q_(s),Zg(+p[0])):Q_(s);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}s.get(h.R0b).runOutsideAngular(()=>r.pipe((0,cn.q)(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:e.scope}).catch(d=>console.error("Service worker registration failed with:",d))))}}function Zg(s){return(0,jn.of)(null).pipe(ha(s))}function Q_(s){return s.get(h.z2F).isStable.pipe((0,xn.h)(e=>e))}function rS(s,n){return new fh((0,T.NF)(n)&&!1!==s.enabled?navigator.serviceWorker:void 0)}let jD=(()=>{class s{static register(e,i={}){return{ngModule:s,providers:[{provide:Qg,useValue:e},{provide:hh,useValue:i},{provide:fh,useFactory:rS,deps:[hh,h.Lbi]},{provide:h.ip1,useFactory:iS,deps:[h.zs3,Qg,hh,h.Lbi],multi:!0}]}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({providers:[nS,Xg]}),s})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */var sS=G(515);const{isArray:WD}=Array;function aS(s){return 1===s.length&&WD(s[0])?s[0]:s}G(9841);var J_=G(3269);function Ed(...s){const n=(0,J_.jO)(s),e=aS(s);return e.length?new Kn.y(i=>{let t=e.map(()=>[]),r=e.map(()=>!1);i.add(()=>{t=r=null});for(let l=0;!i.closed&&l<e.length;l++)(0,gi.Xf)(e[l]).subscribe((0,Rl.x)(i,d=>{if(t[l].push(d),t.every(p=>p.length)){const p=t.map(m=>m.shift());i.next(n?n(...p):p),t.some((m,y)=>!m.length&&r[y])&&i.complete()}},()=>{r[l]=!0,!t[l].length&&i.complete()}));return()=>{t=r=null}}):sS.E}function ar(s){return(0,Zu.e)((n,e)=>{(0,gi.Xf)(s).subscribe((0,Rl.x)(e,()=>e.complete(),Cd.Z)),!e.closed&&n.subscribe(e)})}G(8675);var ey=G(4671);function gh(...s){const n=(0,J_.jO)(s);return(0,Zu.e)((e,i)=>{const t=s.length,r=new Array(t);let l=s.map(()=>!1),d=!1;for(let p=0;p<t;p++)(0,gi.Xf)(s[p]).subscribe((0,Rl.x)(i,m=>{r[p]=m,!d&&!l[p]&&(l[p]=!0,(d=l.every(ey.y))&&(l=null))},Cd.Z));e.subscribe((0,Rl.x)(i,p=>{if(d){const m=[p,...r];i.next(n?n(...m):m)}}))})}Math,Math,Math;const WS=["*"],oc=["dialog"];function Em(s){return"string"==typeof s}function Ul(s){return null!=s}function lc(s){return(s||document.body).getBoundingClientRect()}const Yy={animation:!0,transitionTimerDelayMs:5},va=()=>{},{transitionTimerDelayMs:DC}=Yy,Vl=new Map,Wr=(s,n,e,i)=>{let t=i.context||{};const r=Vl.get(n);if(r)switch(i.runningTransition){case"continue":return sS.E;case"stop":s.run(()=>r.transition$.complete()),t=Object.assign(r.context,t),Vl.delete(n)}const l=e(n,i.animation,t)||va;if(!i.animation||"none"===window.getComputedStyle(n).transitionProperty)return s.run(()=>l()),(0,jn.of)(void 0).pipe(function mE(s){return n=>new Kn.y(e=>n.subscribe({next:l=>s.run(()=>e.next(l)),error:l=>s.run(()=>e.error(l)),complete:()=>s.run(()=>e.complete())}))}(s));const d=new Di.x,p=new Di.x,m=d.pipe(function wd(...s){return n=>(0,W_.z)(n,(0,jn.of)(...s))}(!0));Vl.set(n,{transition$:d,complete:()=>{p.next(),p.complete()},context:t});const y=function wm(s){const{transitionDelay:n,transitionDuration:e}=window.getComputedStyle(s);return 1e3*(parseFloat(n)+parseFloat(e))}(n);return s.runOutsideAngular(()=>{const N=kn(n,"transitionend").pipe(ar(m),(0,xn.h)(({target:V})=>V===n));(function Jg(...s){return 1===(s=aS(s)).length?(0,gi.Xf)(s[0]):new Kn.y(function ph(s){return n=>{let e=[];for(let i=0;e&&!n.closed&&i<s.length;i++)e.push((0,gi.Xf)(s[i]).subscribe((0,Rl.x)(n,t=>{if(e){for(let r=0;r<e.length;r++)r!==i&&e[r].unsubscribe();e=null}n.next(t)})))}}(s))})(qg(y+DC).pipe(ar(m)),N,p).pipe(ar(m)).subscribe(()=>{Vl.delete(n),s.run(()=>{l(),d.next(),d.complete()})})}),d.asObservable()},Ah=(s,n,e)=>{let{direction:i,maxHeight:t}=e;const{classList:r}=s;function l(){r.add("collapse"),"show"===i?r.add("show"):r.remove("show")}if(n)return t||(t=function xm(s){if("undefined"==typeof navigator)return"0px";const{classList:n}=s,e=n.contains("show");e||n.add("show"),s.style.height="";const i=s.getBoundingClientRect().height+"px";return e||n.remove("show"),i}(s),e.maxHeight=t,s.style.height="show"!==i?t:"0px",r.remove("collapse"),r.remove("collapsing"),r.remove("show"),lc(s),r.add("collapsing")),s.style.height="show"===i?t:"0px",()=>{l(),r.remove("collapsing"),s.style.height=""};l()};let uc=(()=>{class s{constructor(){this.animation=Yy.animation}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),xC=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez]]}),s})(),Im=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez]]}),s})(),Qy=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({}),s})(),tb=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez]]}),s})(),OC=(()=>{class s{constructor(e){this._ngbConfig=e}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(uc))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),PC=(()=>{class s{constructor(e,i,t){this._element=e,this._zone=t,this.collapsed=!1,this.ngbCollapseChange=new h.vpe,this.shown=new h.vpe,this.hidden=new h.vpe,this.animation=i.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:e}){e.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(e=this.collapsed){this.collapsed=!e,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(e,i){return Wr(this._zone,this._element.nativeElement,Ah,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(h.SBq),h.Y36(OC),h.Y36(h.R0b))},s.\u0275dir=h.lG2({type:s,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[h.TTD]}),s})(),RC=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({}),s})();var Ji=(()=>(function(s){s[s.Tab=9]="Tab",s[s.Enter=13]="Enter",s[s.Escape=27]="Escape",s[s.Space=32]="Space",s[s.PageUp=33]="PageUp",s[s.PageDown=34]="PageDown",s[s.End=35]="End",s[s.Home=36]="Home",s[s.ArrowLeft=37]="ArrowLeft",s[s.ArrowUp=38]="ArrowUp",s[s.ArrowRight=39]="ArrowRight",s[s.ArrowDown=40]="ArrowDown"}(Ji||(Ji={})),Ji))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const cb=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function GC(s){const n=Array.from(s.querySelectorAll(cb)).filter(e=>-1!==e.tabIndex);return[n[0],n[n.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let ZE=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez,Ci.u5]]}),s})(),Sb=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=h.lG2({type:s,selectors:[["",8,"navbar"]]}),s})(),tw=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({}),s})();class jd{constructor(n,e,i){this.nodes=n,this.viewRef=e,this.componentRef=i}}let Fx=(()=>{class s{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,cn.q)(1)).subscribe(()=>{Wr(this._zone,this._el.nativeElement,(e,i)=>{i&&lc(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Wr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(h.SBq),h.Y36(h.R0b))},s.\u0275cmp=h.Xpm({type:s,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(h.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),h.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),s})();class nw{close(n){}dismiss(n){}}class Lx{constructor(n,e,i,t){this._windowCmptRef=n,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=t,this._closed=new Di.x,this._dismissed=new Di.x,this._hidden=new Di.x,n.instance.dismissEvent.subscribe(r=>{this.dismiss(r)}),this.result=new Promise((r,l)=>{this._resolve=r,this._reject=l}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ar(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ar(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(n){this._windowCmptRef&&(this._closed.next(n),this._resolve(n),this._removeModalElements())}_dismiss(n){this._dismissed.next(n),this._reject(n),this._removeModalElements()}dismiss(n){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function SC(s){return s&&s.then}(e)?!1!==e&&this._dismiss(n):e.then(i=>{!1!==i&&this._dismiss(n)},()=>{})}else this._dismiss(n)}_removeModalElements(){const n=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,jn.of)(void 0);n.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ed(n,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Hm=(()=>(function(s){s[s.BACKDROP_CLICK=0]="BACKDROP_CLICK",s[s.ESC=1]="ESC"}(Hm||(Hm={})),Hm))();let Bx=(()=>{class s{constructor(e,i,t){this._document=e,this._elRef=i,this._zone=t,this._closed$=new Di.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new h.vpe,this.shown=new Di.x,this.hidden=new Di.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Em(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,cn.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},l=Ed(Wr(this._zone,e,()=>e.classList.remove("show"),i),Wr(this._zone,this._dialogEl.nativeElement,()=>{},i));return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){const e={animation:this.animation,runningTransition:"continue"};Ed(Wr(this._zone,this._elRef.nativeElement,(r,l)=>{l&&lc(r),r.classList.add("show")},e),Wr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{kn(e,"keydown").pipe(ar(this._closed$),(0,xn.h)(t=>t.which===Ji.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(Hm.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;kn(this._dialogEl.nativeElement,"mousedown").pipe(ar(this._closed$),(0,gr.b)(()=>i=!1),(0,ss.w)(()=>kn(e,"mouseup").pipe(ar(this._closed$),(0,cn.q)(1))),(0,xn.h)(({target:t})=>e===t)).subscribe(()=>{i=!0}),kn(e,"click").pipe(ar(this._closed$)).subscribe(({target:t})=>{e===t&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Hm.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),t=GC(e)[0];(i||t||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let t;t=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>t.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Wr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(T.K0),h.Y36(h.SBq),h.Y36(h.R0b))},s.\u0275cmp=h.Xpm({type:s,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&h.Gf(oc,7),2&e){let t;h.iGM(t=h.CRH())&&(i._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(h.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),h.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),h.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:WS,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(h.F$t(),h.TgZ(0,"div",0,1)(2,"div",2),h.Hsn(3),h.qZA()()),2&e&&h.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),s})(),Hx=(()=>{class s{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,t=i.style,{overflow:r,paddingRight:l}=t;if(e>0){const d=parseFloat(window.getComputedStyle(i).paddingRight);t.paddingRight=`${d+e}px`}return t.overflow="hidden",()=>{e>0&&(t.paddingRight=l),t.overflow=r}}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(T.K0))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Ux=(()=>{class s{constructor(e,i,t,r,l,d){this._applicationRef=e,this._injector=i,this._document=t,this._scrollBar=r,this._rendererFactory=l,this._ngZone=d,this._activeWindowCmptHasChanged=new Di.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new h.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const p=this._windowCmpts[this._windowCmpts.length-1];((s,n,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=kn(n,"focusin").pipe(ar(e),(0,pt.U)(r=>r.target));kn(n,"keydown").pipe(ar(e),(0,xn.h)(r=>r.which===Ji.Tab),gh(t)).subscribe(([r,l])=>{const[d,p]=GC(n);(l===d||l===n)&&r.shiftKey&&(p.focus(),r.preventDefault()),l===p&&!r.shiftKey&&(d.focus(),r.preventDefault())}),i&&kn(n,"click").pipe(ar(e),gh(t),(0,pt.U)(r=>r[1])).subscribe(r=>r.focus())})})(0,p.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(p.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,t,r){const l=r.container instanceof HTMLElement?r.container:Ul(r.container)?this._document.querySelector(r.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const p=new nw,m=this._getContentRef(e,r.injector||i,t,p,r);let y=!1!==r.backdrop?this._attachBackdrop(e,l):void 0,N=this._attachWindowComponent(e,l,m),M=new Lx(N,m,y,r.beforeDismiss);return this._registerModalRef(M),this._registerWindowCmpt(N),M.hidden.pipe((0,cn.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),p.close=V=>{M.close(V)},p.dismiss=V=>{M.dismiss(V)},this._applyWindowOptions(N.instance,r),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),y&&y.instance&&(this._applyBackdropOptions(y.instance,r),y.changeDetectorRef.detectChanges()),N.changeDetectorRef.detectChanges(),M}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let r=e.resolveComponentFactory(Fx).create(this._injector);return this._applicationRef.attachView(r.hostView),i.appendChild(r.location.nativeElement),r}_attachWindowComponent(e,i,t){let l=e.resolveComponentFactory(Bx).create(this._injector,t.nodes);return this._applicationRef.attachView(l.hostView),i.appendChild(l.location.nativeElement),l}_applyWindowOptions(e,i){this._windowAttributes.forEach(t=>{Ul(i[t])&&(e[t]=i[t])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(t=>{Ul(i[t])&&(e[t]=i[t])})}_getContentRef(e,i,t,r,l){return t?t instanceof h.Rgc?this._createFromTemplateRef(t,r):Em(t)?this._createFromString(t):this._createFromComponent(e,i,t,r,l):new jd([])}_createFromTemplateRef(e,i){const r=e.createEmbeddedView({$implicit:i,close(l){i.close(l)},dismiss(l){i.dismiss(l)}});return this._applicationRef.attachView(r),new jd([r.rootNodes],r)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new jd([[i]])}_createFromComponent(e,i,t,r,l){const d=e.resolveComponentFactory(t),p=h.zs3.create({providers:[{provide:nw,useValue:r}],parent:i}),m=d.create(p),y=m.location.nativeElement;return l.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new jd([[y]],m.hostView,m)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(t=>{t!==e&&"SCRIPT"!==t.nodeName&&(this._ariaHiddenValues.set(t,t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const t=this._modalRefs.indexOf(e);t>-1&&(this._modalRefs.splice(t,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(h.z2F),h.LFG(h.zs3),h.LFG(T.K0),h.LFG(Hx),h.LFG(h.FYo),h.LFG(h.R0b))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),Vx=(()=>{class s{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(uc))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),iw=(()=>{class s{constructor(e,i,t,r){this._moduleCFR=e,this._injector=i,this._modalStack=t,this._config=r}open(e,i={}){const t=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,t)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(h._Vd),h.LFG(h.zs3),h.LFG(Ux),h.LFG(Vx))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),rw=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({providers:[iw]}),s})(),Gx=(()=>{class s{constructor(e){this._ngbConfig=e,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(uc))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const sw=s=>Ul(s)&&""!==s;let jx=0,aw=(()=>{class s{constructor(e){this.templateRef=e}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(h.Rgc))},s.\u0275dir=h.lG2({type:s,selectors:[["ng-template","ngbNavContent",""]]}),s})(),YC=(()=>{class s{constructor(e,i){this.elementRef=i,this.disabled=!1,this.shown=new h.vpe,this.hidden=new h.vpe,this._nav=e}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Ul(this.domId)||(this.domId="ngb-nav-"+jx++)}get active(){return this._nav.activeId===this.id}get id(){return sw(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Ul(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return s.\u0275fac=function(e){return new(e||s)(h.Y36((0,h.Gpc)(()=>Eb)),h.Y36(h.SBq))},s.\u0275dir=h.lG2({type:s,selectors:[["","ngbNavItem",""]],contentQueries:function(e,i,t){if(1&e&&h.Suo(t,aw,4),2&e){let r;h.iGM(r=h.CRH())&&(i.contentTpls=r)}},hostVars:2,hostBindings:function(e,i){2&e&&h.ekj("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),s})(),Eb=(()=>{class s{constructor(e,i,t,r){this.role=e,this._cd=t,this._document=r,this.activeIdChange=new h.vpe,this.shown=new h.vpe,this.hidden=new h.vpe,this.destroy$=new Di.x,this.navItemChange$=new Di.x,this.navChange=new h.vpe,this.animation=i.animation,this.destroyOnHide=i.destroyOnHide,this.orientation=i.orientation,this.roles=i.roles,this.keyboard=i.keyboard}click(e){e.disabled||this._updateActiveId(e.id)}onKeyDown(e){if("tablist"!==this.roles||!this.keyboard)return;const i=e.which,t=this.links.filter(d=>!d.navItem.disabled),{length:r}=t;let l=-1;if(t.forEach((d,p)=>{d.elRef.nativeElement===this._document.activeElement&&(l=p)}),r){switch(i){case Ji.ArrowLeft:if("vertical"===this.orientation)return;l=(l-1+r)%r;break;case Ji.ArrowRight:if("vertical"===this.orientation)return;l=(l+1)%r;break;case Ji.ArrowDown:if("horizontal"===this.orientation)return;l=(l+1)%r;break;case Ji.ArrowUp:if("horizontal"===this.orientation)return;l=(l-1+r)%r;break;case Ji.Home:l=0;break;case Ji.End:l=r-1}"changeWithArrows"===this.keyboard&&this.select(t[l].navItem.id),t[l].elRef.nativeElement.focus(),e.preventDefault()}}select(e){this._updateActiveId(e,!1)}ngAfterContentInit(){if(!Ul(this.activeId)){const e=this.items.first?this.items.first.id:null;sw(e)&&(this._updateActiveId(e,!1),this._cd.detectChanges())}this.items.changes.pipe(ar(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:e}){e&&!e.firstChange&&this._notifyItemChanged(e.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(e,i=!0){if(this.activeId!==e){let t=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:()=>{t=!0}}),t||(this.activeId=e,this.activeIdChange.emit(e),this._notifyItemChanged(e))}}_notifyItemChanged(e){this.navItemChange$.next(this._getItemById(e))}_getItemById(e){return this.items&&this.items.find(i=>i.id===e)||null}}return s.\u0275fac=function(e){return new(e||s)(h.$8M("role"),h.Y36(Gx),h.Y36(h.sBO),h.Y36(T.K0))},s.\u0275dir=h.lG2({type:s,selectors:[["","ngbNav",""]],contentQueries:function(e,i,t){if(1&e&&(h.Suo(t,YC,4),h.Suo(t,ow,5)),2&e){let r;h.iGM(r=h.CRH())&&(i.items=r),h.iGM(r=h.CRH())&&(i.links=r)}},hostVars:6,hostBindings:function(e,i){1&e&&h.NdJ("keydown.arrowLeft",function(r){return i.onKeyDown(r)})("keydown.arrowRight",function(r){return i.onKeyDown(r)})("keydown.arrowDown",function(r){return i.onKeyDown(r)})("keydown.arrowUp",function(r){return i.onKeyDown(r)})("keydown.Home",function(r){return i.onKeyDown(r)})("keydown.End",function(r){return i.onKeyDown(r)}),2&e&&(h.uIk("aria-orientation","vertical"===i.orientation&&"tablist"===i.roles?"vertical":void 0)("role",i.role?i.role:i.roles?"tablist":void 0),h.ekj("nav",!0)("flex-column","vertical"===i.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[h.TTD]}),s})(),ow=(()=>{class s{constructor(e,i,t,r){this.role=e,this.navItem=i,this.nav=t,this.elRef=r}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return s.\u0275fac=function(e){return new(e||s)(h.$8M("role"),h.Y36(YC),h.Y36(Eb),h.Y36(h.SBq))},s.\u0275dir=h.lG2({type:s,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(e,i){1&e&&h.NdJ("click",function(r){return i.nav.click(i.navItem),r.preventDefault()}),2&e&&(h.Ikx("id",i.navItem.domId),h.uIk("role",i.role?i.role:i.nav.roles?"tab":void 0)("tabindex",i.navItem.disabled?-1:void 0)("aria-controls",i.navItem.isPanelInDom()?i.navItem.panelDomId:null)("aria-selected",i.navItem.active)("aria-disabled",i.navItem.disabled),h.ekj("nav-link",!0)("nav-item",i.hasNavItemClass())("active",i.navItem.active)("disabled",i.navItem.disabled))}}),s})(),lw=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez]]}),s})(),mw=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez]]}),s})(),_w=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez]]}),s})(),yw=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez]]}),s})(),bw=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez]]}),s})(),Tw=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez]]}),s})(),Sw=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez]]}),s})(),Cw=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({}),s})();new h.OlP("live announcer delay",{providedIn:"root",factory:function eA(){return 100}});let Dw=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[[T.ez]]}),s})(),Ew=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({}),s})();const tA=[xC,Im,Qy,tb,RC,ZE,tw,rw,lw,Ew,mw,_w,yw,bw,Tw,Sw,Cw,Dw];let nA=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s}),s.\u0275inj=h.cJS({imports:[tA,xC,Im,Qy,tb,RC,ZE,tw,rw,lw,Ew,mw,_w,yw,bw,Tw,Sw,Cw,Dw]}),s})();function iA(s,n){if(1&s&&(h.TgZ(0,"li",9)(1,"a",10),h._uU(2),h.qZA()()),2&s){const e=n.$implicit;h.xp6(1),h.Q6J("routerLink",e.path),h.xp6(1),h.Oqu(e.title)}}function rA(s,n){if(1&s&&(h.TgZ(0,"li",9)(1,"a",10),h._uU(2),h.qZA()()),2&s){const e=n.$implicit;h.xp6(1),h.Q6J("routerLink",e.path),h.xp6(1),h.Oqu(e.title)}}function sA(s,n){1&s&&h._UZ(0,"span",13)}function aA(s,n){if(1&s){const e=h.EpF();h.TgZ(0,"button",11),h.NdJ("click",function(){return h.CHM(e),h.oxw().onLogout.next()}),h.YNc(1,sA,1,0,"span",12),h._uU(2," Logout "),h.qZA()}if(2&s){const e=h.oxw();h.Q6J("disabled",e.logoutLoading),h.xp6(1),h.Q6J("ngIf",e.logoutLoading)}}function oA(s,n){if(1&s){const e=h.EpF();h.TgZ(0,"button",11),h.NdJ("click",function(){return h.CHM(e),h.oxw().onGoOnline.next()}),h._uU(1," Go Online "),h.qZA()}if(2&s){const e=h.oxw();h.Q6J("disabled",!e.syncService.isVoluntaryOffline())}}let lA=(()=>{class s{constructor(e){this.syncService=e,this.isCollapsed=!0,this.logoutLoading=!1,this.navStartRoutes=[],this.navEndRoutes=[],this.onLogout=new h.vpe,this.onGoOnline=new h.vpe}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(ir))},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-navbar-desktop"]],inputs:{logoutLoading:"logoutLoading",navStartRoutes:"navStartRoutes",navEndRoutes:"navEndRoutes"},outputs:{onLogout:"onLogout",onGoOnline:"onGoOnline"},decls:12,vars:6,consts:[["ngbNav","",1,"navbar","navbar-expand-lg","px-3","py-2","navbar-dark","bg-primary"],[1,"navbar","w-100","h-100","m-safe-t","m-safe-x"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","ms-auto","btn",3,"click"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","py-2",3,"ngbCollapse"],[1,"navbar-nav","me-auto","align-items-center"],["class","nav-item",4,"ngFor","ngForOf"],[1,"navbar-nav","align-items-center"],["class","btn btn-secondary",3,"disabled","click",4,"ngIf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"btn","btn-secondary",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,i){1&e&&(h.TgZ(0,"nav",0)(1,"div",1),h._UZ(2,"app-logo"),h.TgZ(3,"button",2),h.NdJ("click",function(){return i.isCollapsed=!i.isCollapsed}),h._UZ(4,"span",3),h.qZA(),h.TgZ(5,"div",4)(6,"ul",5),h.YNc(7,iA,3,2,"li",6),h.qZA(),h.TgZ(8,"ul",7),h.YNc(9,rA,3,2,"li",6),h.YNc(10,aA,3,2,"button",8),h.YNc(11,oA,2,1,"button",8),h.qZA()()()()),2&e&&(h.xp6(3),h.uIk("aria-expanded",!i.isCollapsed),h.xp6(2),h.Q6J("ngbCollapse",i.isCollapsed),h.xp6(2),h.Q6J("ngForOf",i.navStartRoutes),h.xp6(2),h.Q6J("ngForOf",i.navEndRoutes),h.xp6(1),h.Q6J("ngIf",i.syncService.isOnline()),h.xp6(1),h.Q6J("ngIf",!i.syncService.isOnline()))},directives:[Sb,Eb,Sa,PC,T.sg,_n.yS,_n.Od,T.O5],styles:[""]}),s})();const uA=["modalContent"];function cA(s,n){if(1&s){const e=h.EpF();h.TgZ(0,"button",7),h.NdJ("click",function(){const r=h.CHM(e).$implicit;return h.oxw().$implicit.close(r.result)}),h.qZA()}if(2&s){const e=n.$implicit;h.Tol(e.class),h.Q6J("innerHTML",e.innerHtml,h.oJD)}}function dA(s,n){if(1&s){const e=h.EpF();h.TgZ(0,"div",1)(1,"h4",2),h._uU(2),h.qZA(),h.TgZ(3,"button",3),h.NdJ("click",function(){return h.CHM(e).$implicit.dismiss("Cross click")}),h.qZA()(),h._UZ(4,"div",4),h.TgZ(5,"div",5),h.YNc(6,cA,1,3,"button",6),h.qZA()}if(2&s){const e=h.oxw();h.xp6(2),h.Oqu(e._title),h.xp6(2),h.Q6J("innerHTML",e._bodyHtml,h.oJD),h.xp6(2),h.Q6J("ngForOf",e._buttons)}}let fA=(()=>{class s{constructor(e){this.modalService=e,this._bodyHtml="",this._title="",this._buttons=[],this.onClose=new h.vpe}ngOnInit(){}open(e,i="Modal Title",t){return this._bodyHtml=e,this._title=i,this._buttons=t,this.modalService.open(this.modalContent,{ariaLabelledBy:"modal-basic-title"}).result}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(iw))},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-modal"]],viewQuery:function(e,i){if(1&e&&h.Gf(uA,5),2&e){let t;h.iGM(t=h.CRH())&&(i.modalContent=t.first)}},decls:2,vars:0,consts:[["modalContent",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer"],["type","button",3,"class","innerHTML","click",4,"ngFor","ngForOf"],["type","button",3,"innerHTML","click"]],template:function(e,i){1&e&&h.YNc(0,dA,7,3,"ng-template",null,0,h.W1O)},directives:[T.sg],styles:[""],changeDetection:0}),s})();const hA=function(s){return[s]};function pA(s,n){if(1&s&&(h.TgZ(0,"li",4),h._UZ(1,"a",5),h.qZA()),2&s){const e=n.$implicit;h.xp6(1),h.Q6J("ngClass",h.VKq(2,hA,"emoji-"+e.emoji))("routerLink",e.path)}}let gA=(()=>{class s{constructor(){this.navMobileRoutes=[]}ngOnInit(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-navbar-mobile"]],inputs:{navMobileRoutes:"navMobileRoutes"},decls:4,vars:1,consts:[[1,"fixed-bottom","navbar","navbar-expand","px-3","py-2","navbar-dark","bg-primary"],[1,"navbar","w-100","h-100","m-safe-b","m-safe-x"],[1,"navbar-nav","w-100","align-items-center","justify-content-around"],["class","nav-item",4,"ngFor","ngForOf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","navbar-emoji",3,"ngClass","routerLink"]],template:function(e,i){1&e&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"ul",2),h.YNc(3,pA,2,4,"li",3),h.qZA()()()),2&e&&(h.xp6(3),h.Q6J("ngForOf",i.navMobileRoutes))},directives:[Sb,T.sg,_n.yS,_n.Od,T.mk],styles:[""]}),s})();const mA=["modal"];function vA(s,n){if(1&s){const e=h.EpF();h.TgZ(0,"app-navbar-desktop",3),h.NdJ("onLogout",function(){return h.CHM(e),h.oxw().logout()})("onGoOnline",function(){return h.CHM(e),h.oxw().goOnline()}),h.qZA()}if(2&s){const e=h.oxw();h.Q6J("navStartRoutes",e.navStartRoutes)("navEndRoutes",e.navEndRoutes)("logoutLoading",e.logoutLoading)}}function _A(s,n){if(1&s&&h._UZ(0,"app-navbar-mobile",4),2&s){const e=h.oxw();h.Q6J("navMobileRoutes",e.navMobileRoutes)}}let ww,yA=(()=>{class s{constructor(e,i,t,r,l){this.authService=e,this.syncService=i,this.storageService=t,this.router=r,this.swUpdate=l,this.title="syncwatch-frontend",this.logoutLoading=!1,this.reloadNavRoutes()}reloadNavRoutes(){this.navStartRoutes=this.router.config.filter(e=>e.data&&e.data.navTitle&&!e.data.navEnd).map(e=>({path:"/"+e.path,title:""+e.data.navTitle})),this.navEndRoutes=this.router.config.filter(e=>e.data&&e.data.navTitle&&e.data.navEnd).map(e=>({path:"/"+e.path,title:""+e.data.navTitle})),this.navMobileRoutes=this.router.config.filter(e=>e.data&&e.data.navMobileEmoji).map(e=>({path:"/"+e.path,emoji:""+e.data.navMobileEmoji}))}ngOnInit(){}ngAfterViewInit(){this.swUpdate.unrecoverable.subscribe(e=>{this.modal.open(`An error occurred that we cannot recover from:</br>\n                            ${e.reason}</br>Please reload the page.`,"An error occured",[{class:"btn btn-secondary",innerHtml:"Reload",result:"reload"}]).then(i=>{"reload"==i&&window.location.reload()})}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.pipe((0,xn.h)(e=>"VERSION_READY"===e.type),(0,pt.U)(e=>{console.info(`updating version=[${e.currentVersion} to latestVersion=[${e.latestVersion}]`),this.modal.open(`Please update from version=[${e.currentVersion} to latestVersion=[${e.latestVersion}]`,"Update available",[{class:"btn btn-secondary",innerHtml:"Reload",result:"reload"}]).then(i=>{"reload"==i&&window.location.reload()})})),this.storageService.tryPersistWithoutPromtingUser().then(e=>{"prompt"==e&&this.modal.open("We want to store persistant data ok!","Store data",[{class:"btn btn-secondary",innerHtml:"Grant",result:"grant"}]).then(i=>{"grant"==i&&this.storageService.persist()})})}unload(){this.authService.unload()}goOnline(){this.syncService.setVoluntaryOffline(!1),this.router.navigate(["login"])}logout(){this.logoutLoading=!0,this.authService.logout().pipe((0,is.K)(e=>(this.router.navigate(["login"]),this.logoutLoading=!1,(0,rs._)(()=>e)))).subscribe(()=>{this.logoutLoading=!1,this.router.navigate(["login"])})}}return s.\u0275fac=function(e){return new(e||s)(h.Y36(Ei),h.Y36(ir),h.Y36(Fn),h.Y36(_n.F0),h.Y36(Xg))},s.\u0275cmp=h.Xpm({type:s,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&h.Gf(mA,5),2&e){let t;h.iGM(t=h.CRH())&&(i.modal=t.first)}},hostBindings:function(e,i){1&e&&h.NdJ("beforeunload",function(r){return i.unload(r)},!1,h.Jf7)},decls:6,vars:2,consts:[["class","d-none d-sm-block",3,"navStartRoutes","navEndRoutes","logoutLoading","onLogout","onGoOnline",4,"ngIf"],["modal",""],["class","d-block d-sm-none",3,"navMobileRoutes",4,"ngIf"],[1,"d-none","d-sm-block",3,"navStartRoutes","navEndRoutes","logoutLoading","onLogout","onGoOnline"],[1,"d-block","d-sm-none",3,"navMobileRoutes"]],template:function(e,i){1&e&&(h.YNc(0,vA,1,3,"app-navbar-desktop",0),h._UZ(1,"app-modal",null,1),h.TgZ(3,"div"),h._UZ(4,"router-outlet"),h.qZA(),h.YNc(5,_A,1,1,"app-navbar-mobile",2)),2&e&&(h.Q6J("ngIf",i.authService.isLoggedIn()),h.xp6(5),h.Q6J("ngIf",i.authService.isLoggedIn()))},directives:[T.O5,lA,fA,_n.lC,gA],styles:[""],changeDetection:0}),s})(),bA=(()=>{class s{constructor(){this._loggedIn=!1}login(e,i,t){return(0,jn.of)({msg:"success",expires:0,session_token:"123"}).pipe(ha(500),(0,gr.b)(()=>{this._loggedIn=!0}))}logout(){return(0,jn.of)({msg:"success"}).pipe(ha(500),(0,gr.b)(()=>{this._loggedIn=!1}))}isLoggedIn(){return this._loggedIn}getSessionToken(){return"123"}unload(){}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})(),TA=(()=>{class s{constructor(){this._sessions=[{id:1,device_info:"My Device",is_current:!0},{id:2,device_info:"Your Device",is_current:!1}]}sessions(){return(0,jn.of)(this._sessions).pipe(ha(500))}deleteSessions(){return(0,jn.of)({msg:"success"}).pipe(ha(500),(0,gr.b)(()=>this._sessions=[]))}deleteSessionById(e,i){return(0,jn.of)({msg:"success"}).pipe(ha(500),(0,gr.b)(()=>this._sessions=this._sessions.filter(t=>t.id!=e)))}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})(),SA=(()=>{class s{constructor(e,i){this.authService=e,this.router=i}intercept(e,i){return i.handle(e).pipe((0,is.K)(t=>(401==t.status&&(this.authService.clearStorage(),this.router.navigate(["login"])),(0,rs._)(()=>t))))}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(Ei),h.LFG(_n.F0))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})(),CA=(()=>{class s{constructor(e){this.authService=e}canActivate(){return!!this.authService.isLoggedIn()||this.authService.login("test","test",!1).pipe((0,pt.U)(()=>!0))}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(Ei))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})(),DA=(()=>{class s{constructor(e,i){this.http=e,this.authService=i,this._movies={1:{title:"Video",id:"1",hash:"123",mime_type:"video/webm",downloaded_length:0,file_size:1e7,content_length:1e7,thumbnail_id:"123",corrupt:!1},2:{title:"Bibeo",id:"2",hash:"1234",mime_type:"video/webm",downloaded_length:1e7,file_size:1e7,content_length:1e7,thumbnail_id:"123",corrupt:!1}},this.targetChunkRequestTime=1e3,this.downloadChunkSize=5e5,this.evaluatingChunkSize=!1,this.downloadSpeed=new ai.X(0),this.movieDownloads={},this.stopDownloads={}}_getMovieStreamUrl(e){return`${Gn.MOVIE_STREAM_URL}?id=${e}&token=${this.authService.getSessionToken()}`}_getThumbnailUrl(e){return`${Gn.THUMBNAIL_URL}?id=${e}&token=${this.authService.getSessionToken()}`}getMovieById(e){var i=this;return on(function*(){return i._movies[e]})()}getMovies(){return(0,jn.of)(Object.values(this._movies))}_getMovieDownloadProgress(e){return e in this.movieDownloads||(this.movieDownloads[e]=new ai.X({downloaded:this._movies[e].downloaded_length/this._movies[e].content_length,downloading:!1,deleting:!1})),this.movieDownloads[e]}getMovieDownloadProgress(e){return this._getMovieDownloadProgress(e)}deleteMovieDownload(e){var i=this;return on(function*(){const t=yield i.getMovieById(e);if(void 0===t)return;const r=i._getMovieDownloadProgress(t.id),l=yield yn(r);l.deleting||l.downloading||(r.next({deleting:!0,downloading:!1,downloaded:l.downloaded}),setTimeout(()=>{t.downloaded_length=0,r.next({deleting:!1,downloading:!1,downloaded:0})},1e3))})()}triggerMovieDownload(e){var i=this;return on(function*(){const t=yield i.getMovieById(e);if(void 0===t)return;const r=i._getMovieDownloadProgress(t.id),l=yield yn(r);if(!l.deleting){if(l.downloading)return void(t.id in i.stopDownloads||(i.stopDownloads[t.id]=!0,r.next({downloaded:l.downloaded,downloading:!1,deleting:l.deleting})));t.thumbnail_id&&0===t.downloaded_length&&(r.next({downloaded:0,downloading:!0,deleting:!1}),i._downloadThumbnail(t.thumbnail_id)),i._downloadMovieChunk(t,r)}})()}_downloadMovieChunk(e,i){if(e.content_length&&e.downloaded_length>=e.content_length)return void i.next({downloaded:1,downloading:!1,deleting:!1});if(e.id in this.stopDownloads)return yn(i).then(r=>{i.next({downloaded:r.downloaded,downloading:!1,deleting:r.deleting})}),void delete this.stopDownloads[e.id];let t;this.evaluatingChunkSize||(this.evaluatingChunkSize=!0,t=Date.now()),setTimeout(()=>{if(void 0!==t){const r=Date.now()-t,l=Math.min(1.5,Math.max(.75,this.targetChunkRequestTime/Math.max(1,r)));this.downloadChunkSize=Math.min(Number.MAX_SAFE_INTEGER,Math.floor(this.downloadChunkSize*l)),this.downloadSpeed.next(1e3*this.downloadChunkSize/this.targetChunkRequestTime),this.evaluatingChunkSize=!1}e.downloaded_length+=this.downloadChunkSize,i.next({downloaded:e.downloaded_length/e.content_length,downloading:!0,deleting:!1}),this._downloadMovieChunk(e,i)},this.targetChunkRequestTime)}getMovieSources(e){var i=this;return on(function*(){const t=yield i.getMovieById(e);return void 0===t?[]:[{src:i._getMovieStreamUrl(e),type:t.mime_type}]})()}_downloadThumbnail(e){}getMovieThumbnailSource(e){var i=this;return on(function*(){return null===e?"/assets/default-thumbnail.svg":i._getThumbnailUrl(e)})()}}return s.\u0275fac=function(e){return new(e||s)(h.LFG(gs.eN),h.LFG(Ei))},s.\u0275prov=h.Yz7({token:s,factory:s.\u0275fac}),s})();!function(){const n=Worker;Worker=class{constructor(t,r){this.stringUrl=t,this.options=r}},ww=new Worker(G.tu(new URL(G.p+G.u("src_app_shared_worker_service_worker_ts"),G.b))).stringUrl,Worker=n}();const xw={enabled:!0,serviceWorkerUrl:ww};let EA=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=h.oAB({type:s,bootstrap:[yA]}),s.\u0275inj=h.cJS({providers:[{provide:gs.TP,useClass:SA,multi:!0},Ga,Qu,zr,za,ir,Fn,{provide:Lr,useClass:DA},{provide:Ei,useClass:bA},{provide:Ns,useClass:TA},{provide:ms,useClass:CA}],imports:[[wn,ch,Ci.u5,Ci.UX,gs.JF,nA,jD.register(xw.serviceWorkerUrl,{enabled:xw.enabled,registrationStrategy:"registerImmediately"})]]}),s})();On().bootstrapModule(EA).catch(s=>console.error(s))},3992:(gt,Pe,G)=>{"use strict";var T=G(9226);gt.exports=function(me,Oe){return void 0===Oe&&(Oe=!1),function(Be,ke,Re){if(Be)me(Be);else if(ke.statusCode>=400&&ke.statusCode<=599){var xe=Re;if(Oe)if(T.TextDecoder){var Ae=function se(Ce){return void 0===Ce&&(Ce=""),Ce.toLowerCase().split(";").reduce(function(me,Oe){var Be=Oe.split("="),Re=Be[1];return"charset"===Be[0].trim()?Re.trim():me},"utf-8")}(ke.headers&&ke.headers["content-type"]);try{xe=new TextDecoder(Ae).decode(Re)}catch(Ee){}}else xe=String.fromCharCode.apply(null,new Uint8Array(Re));me({cause:xe})}else me(null,Re)}}},745:(gt,Pe,G)=>{"use strict";var T=G(9226),h=G(7154),se=G(2703);function Be(Ee,Ue,Fe){var vt=Ee;return se(Ue)?(Fe=Ue,"string"==typeof Ee&&(vt={uri:Ee})):vt=h({},Ue,{uri:Ee}),vt.callback=Fe,vt}function ke(Ee,Ue,Fe){return Re(Ue=Be(Ee,Ue,Fe))}function Re(Ee){if(void 0===Ee.callback)throw new Error("callback argument missing");var Ue=!1,Fe=function(Se,fe,He){Ue||(Ue=!0,Ee.callback(Se,fe,He))};function wt(){var ce=void 0;if(ce=ut.response?ut.response:ut.responseText||function xe(Ee){try{if("document"===Ee.responseType)return Ee.responseXML;if(""===Ee.responseType&&(!Ee.responseXML||"parsererror"!==Ee.responseXML.documentElement.nodeName))return Ee.responseXML}catch(Fe){}return null}(ut),ne)try{ce=JSON.parse(ce)}catch(Se){}return ce}function Me(ce){return clearTimeout(J),ce instanceof Error||(ce=new Error(""+(ce||"Unknown XMLHttpRequest Error"))),ce.statusCode=0,Fe(ce,ue)}function Tt(){if(!rt){var ce;clearTimeout(J);var Se=ue,fe=null;return 0!==(ce=Ee.useXDR&&void 0===ut.status?200:1223===ut.status?204:ut.status)?(Se={body:wt(),statusCode:ce,method:Je,headers:{},url:we,rawRequest:ut},ut.getAllResponseHeaders&&(Se.headers=function(Ue){var Fe={};return Ue&&Ue.trim().split("\n").forEach(function(vt){var wt=vt.indexOf(":"),Me=vt.slice(0,wt).trim().toLowerCase(),Tt=vt.slice(wt+1).trim();void 0===Fe[Me]?Fe[Me]=Tt:Array.isArray(Fe[Me])?Fe[Me].push(Tt):Fe[Me]=[Fe[Me],Tt]}),Fe}(ut.getAllResponseHeaders()))):fe=new Error("Internal XMLHttpRequest Error"),Fe(fe,Se,Se.body)}}var ut=Ee.xhr||null;ut||(ut=Ee.cors||Ee.useXDR?new ke.XDomainRequest:new ke.XMLHttpRequest);var nt,rt,J,we=ut.url=Ee.uri||Ee.url,Je=ut.method=Ee.method||"GET",St=Ee.body||Ee.data,bt=ut.headers=Ee.headers||{},K=!!Ee.sync,ne=!1,ue={body:void 0,headers:{},statusCode:0,method:Je,url:we,rawRequest:ut};if("json"in Ee&&!1!==Ee.json&&(ne=!0,bt.accept||bt.Accept||(bt.Accept="application/json"),"GET"!==Je&&"HEAD"!==Je&&(bt["content-type"]||bt["Content-Type"]||(bt["Content-Type"]="application/json"),St=JSON.stringify(!0===Ee.json?St:Ee.json))),ut.onreadystatechange=function vt(){4===ut.readyState&&setTimeout(Tt,0)},ut.onload=Tt,ut.onerror=Me,ut.onprogress=function(){},ut.onabort=function(){rt=!0},ut.ontimeout=Me,ut.open(Je,we,!K,Ee.username,Ee.password),K||(ut.withCredentials=!!Ee.withCredentials),!K&&Ee.timeout>0&&(J=setTimeout(function(){if(!rt){rt=!0,ut.abort("timeout");var ce=new Error("XMLHttpRequest timeout");ce.code="ETIMEDOUT",Me(ce)}},Ee.timeout)),ut.setRequestHeader)for(nt in bt)bt.hasOwnProperty(nt)&&ut.setRequestHeader(nt,bt[nt]);else if(Ee.headers&&!function Oe(Ee){for(var Ue in Ee)if(Ee.hasOwnProperty(Ue))return!1;return!0}(Ee.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in Ee&&(ut.responseType=Ee.responseType),"beforeSend"in Ee&&"function"==typeof Ee.beforeSend&&Ee.beforeSend(ut),ut.send(St||null),ut}ke.httpHandler=G(3992),gt.exports=ke,gt.exports.default=ke,ke.XMLHttpRequest=T.XMLHttpRequest||function Ae(){},ke.XDomainRequest="withCredentials"in new ke.XMLHttpRequest?ke.XMLHttpRequest:T.XDomainRequest,function me(Ee,Ue){for(var Fe=0;Fe<Ee.length;Fe++)Ue(Ee[Fe])}(["get","put","post","patch","head","delete"],function(Ee){ke["delete"===Ee?"del":Ee]=function(Ue,Fe,vt){return(Fe=Be(Ue,Fe,vt)).method=Ee.toUpperCase(),Re(Fe)}})},9401:(gt,Pe)=>{"use strict";function G(se,Ce){return void 0===Ce&&(Ce=Object),Ce&&"function"==typeof Ce.freeze?Ce.freeze(se):se}var T=G({HTML:"text/html",isHTML:function(se){return se===T.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),h=G({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(se){return se===h.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Pe.freeze=G,Pe.MIME_TYPE=T,Pe.NAMESPACE=h},1991:(gt,Pe,G)=>{var h=G(9401),se=G(6853),Ce=G(4436),me=G(8702),Oe=se.DOMImplementation,Be=h.NAMESPACE,ke=me.ParseError,Re=me.XMLReader;function xe(Me){this.options=Me||{locator:{}}}function Ee(){this.cdata=!1}function Ue(Me,Tt){Tt.lineNumber=Me.lineNumber,Tt.columnNumber=Me.columnNumber}function Fe(Me){if(Me)return"\n@"+(Me.systemId||"")+"#[line:"+Me.lineNumber+",col:"+Me.columnNumber+"]"}function vt(Me,Tt,ut){return"string"==typeof Me?Me.substr(Tt,ut):Me.length>=Tt+ut||Tt?new java.lang.String(Me,Tt,ut)+"":Me}function wt(Me,Tt){Me.currentElement?Me.currentElement.appendChild(Tt):Me.doc.appendChild(Tt)}xe.prototype.parseFromString=function(Me,Tt){var ut=this.options,nt=new Re,rt=ut.domBuilder||new Ee,we=ut.errorHandler,Je=ut.locator,St=ut.xmlns||{},bt=/\/x?html?$/.test(Tt),K=bt?Ce.HTML_ENTITIES:Ce.XML_ENTITIES;return Je&&rt.setDocumentLocator(Je),nt.errorHandler=function Ae(Me,Tt,ut){if(!Me){if(Tt instanceof Ee)return Tt;Me=Tt}var nt={},rt=Me instanceof Function;function we(Je){var St=Me[Je];!St&&rt&&(St=2==Me.length?function(bt){Me(Je,bt)}:Me),nt[Je]=St&&function(bt){St("[xmldom "+Je+"]\t"+bt+Fe(ut))}||function(){}}return ut=ut||{},we("warning"),we("error"),we("fatalError"),nt}(we,rt,Je),nt.domBuilder=ut.domBuilder||rt,bt&&(St[""]=Be.HTML),St.xml=St.xml||Be.XML,Me&&"string"==typeof Me?nt.parse(Me,St,K):nt.errorHandler.error("invalid doc source"),rt.doc},Ee.prototype={startDocument:function(){this.doc=(new Oe).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(Me,Tt,ut,nt){var rt=this.doc,we=rt.createElementNS(Me,ut||Tt),Je=nt.length;wt(this,we),this.currentElement=we,this.locator&&Ue(this.locator,we);for(var St=0;St<Je;St++){Me=nt.getURI(St);var bt=nt.getValue(St),K=(ut=nt.getQName(St),rt.createAttributeNS(Me,ut));this.locator&&Ue(nt.getLocator(St),K),K.value=K.nodeValue=bt,we.setAttributeNode(K)}},endElement:function(Me,Tt,ut){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(Me,Tt){},endPrefixMapping:function(Me){},processingInstruction:function(Me,Tt){var ut=this.doc.createProcessingInstruction(Me,Tt);this.locator&&Ue(this.locator,ut),wt(this,ut)},ignorableWhitespace:function(Me,Tt,ut){},characters:function(Me,Tt,ut){if(Me=vt.apply(this,arguments)){if(this.cdata)var nt=this.doc.createCDATASection(Me);else nt=this.doc.createTextNode(Me);this.currentElement?this.currentElement.appendChild(nt):/^\s*$/.test(Me)&&this.doc.appendChild(nt),this.locator&&Ue(this.locator,nt)}},skippedEntity:function(Me){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(Me){(this.locator=Me)&&(Me.lineNumber=0)},comment:function(Me,Tt,ut){Me=vt.apply(this,arguments);var nt=this.doc.createComment(Me);this.locator&&Ue(this.locator,nt),wt(this,nt)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(Me,Tt,ut){var nt=this.doc.implementation;if(nt&&nt.createDocumentType){var rt=nt.createDocumentType(Me,Tt,ut);this.locator&&Ue(this.locator,rt),wt(this,rt),this.doc.doctype=rt}},warning:function(Me){console.warn("[xmldom warning]\t"+Me,Fe(this.locator))},error:function(Me){console.error("[xmldom error]\t"+Me,Fe(this.locator))},fatalError:function(Me){throw new ke(Me,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(Me){Ee.prototype[Me]=function(){return null}}),Pe.DOMParser=xe},6853:(gt,Pe,G)=>{var h=G(9401).NAMESPACE;function se(te){return""!==te}function me(te,ee){return te.hasOwnProperty(ee)||(te[ee]=!0),te}function Oe(te){if(!te)return[];var ee=function Ce(te){return te?te.split(/[\t\n\f\r ]+/).filter(se):[]}(te);return Object.keys(ee.reduce(me,{}))}function ke(te,ee){for(var ye in te)ee[ye]=te[ye]}function Re(te,ee){var ye=te.prototype;if(!(ye instanceof ee)){let yt=function(){};yt.prototype=ee.prototype,yt=new yt,ke(ye,yt),te.prototype=ye=yt}ye.constructor!=te&&("function"!=typeof te&&console.error("unknown Class:"+te),ye.constructor=te)}var xe={},Ae=xe.ELEMENT_NODE=1,Ee=xe.ATTRIBUTE_NODE=2,Ue=xe.TEXT_NODE=3,Fe=xe.CDATA_SECTION_NODE=4,vt=xe.ENTITY_REFERENCE_NODE=5,wt=xe.ENTITY_NODE=6,Me=xe.PROCESSING_INSTRUCTION_NODE=7,Tt=xe.COMMENT_NODE=8,ut=xe.DOCUMENT_NODE=9,nt=xe.DOCUMENT_TYPE_NODE=10,rt=xe.DOCUMENT_FRAGMENT_NODE=11,we=xe.NOTATION_NODE=12,Je={},St={},ne=(Je.INDEX_SIZE_ERR=(St[1]="Index size error",1),Je.DOMSTRING_SIZE_ERR=(St[2]="DOMString size error",2),Je.HIERARCHY_REQUEST_ERR=(St[3]="Hierarchy request error",3)),fe=(Je.WRONG_DOCUMENT_ERR=(St[4]="Wrong document",4),Je.INVALID_CHARACTER_ERR=(St[5]="Invalid character",5),Je.NO_DATA_ALLOWED_ERR=(St[6]="No data allowed",6),Je.NO_MODIFICATION_ALLOWED_ERR=(St[7]="No modification allowed",7),Je.NOT_FOUND_ERR=(St[8]="Not found",8)),We=(Je.NOT_SUPPORTED_ERR=(St[9]="Not supported",9),Je.INUSE_ATTRIBUTE_ERR=(St[10]="Attribute in use",10));function Gt(te,ee){if(ee instanceof Error)var ye=ee;else ye=this,Error.call(this,St[te]),this.message=St[te],Error.captureStackTrace&&Error.captureStackTrace(this,Gt);return ye.code=te,ee&&(this.message=this.message+": "+ee),ye}function kt(){}function Nt(te,ee){this._node=te,this._refresh=ee,Zn(this)}function Zn(te){var ee=te._node._inc||te._node.ownerDocument._inc;if(te._inc!=ee){var ye=te._refresh(te._node);Hi(te,"length",ye.length),ke(ye,te),te._inc=ee}}function Sn(){}function zn(te,ee){for(var ye=te.length;ye--;)if(te[ye]===ee)return ye}function mn(te,ee,ye,Ke){if(Ke?ee[zn(ee,Ke)]=ye:ee[ee.length++]=ye,te){ye.ownerElement=te;var yt=te.ownerDocument;yt&&(Ke&&Sr(yt,te,Ke),function si(te,ee,ye){te&&te._inc++,ye.namespaceURI===h.XMLNS&&(ee._nsMap[ye.prefix?ye.localName:""]=ye.value)}(yt,te,ye))}}function Bi(te,ee,ye){var Ke=zn(ee,ye);if(!(Ke>=0))throw Gt(fe,new Error(te.tagName+"@"+ye));for(var yt=ee.length-1;Ke<yt;)ee[Ke]=ee[++Ke];if(ee.length=yt,te){var un=te.ownerDocument;un&&(Sr(un,te,ye),ye.ownerElement=null)}}function yi(){}function On(){}function Tr(te){return("<"==te?"&lt;":">"==te&&"&gt;")||"&"==te&&"&amp;"||'"'==te&&"&quot;"||"&#"+te.charCodeAt()+";"}function wn(te,ee){if(ee(te))return!0;if(te=te.firstChild)do{if(wn(te,ee))return!0}while(te=te.nextSibling)}function tr(){}function Sr(te,ee,ye,Ke){te&&te._inc++,ye.namespaceURI===h.XMLNS&&delete ee._nsMap[ye.prefix?ye.localName:""]}function Ht(te,ee,ye){if(te&&te._inc){te._inc++;var Ke=ee.childNodes;if(ye)Ke[Ke.length++]=ye;else{for(var yt=ee.firstChild,un=0;yt;)Ke[un++]=yt,yt=yt.nextSibling;Ke.length=un}}}function Pn(te,ee){var ye=ee.previousSibling,Ke=ee.nextSibling;return ye?ye.nextSibling=Ke:te.firstChild=Ke,Ke?Ke.previousSibling=ye:te.lastChild=ye,Ht(te.ownerDocument,te),ee}function Ki(te,ee,ye){var Ke=ee.parentNode;if(Ke&&Ke.removeChild(ee),ee.nodeType===rt){var yt=ee.firstChild;if(null==yt)return ee;var un=ee.lastChild}else yt=un=ee;var ci=ye?ye.previousSibling:te.lastChild;yt.previousSibling=ci,un.nextSibling=ye,ci?ci.nextSibling=yt:te.firstChild=yt,null==ye?te.lastChild=un:ye.previousSibling=un;do{yt.parentNode=te}while(yt!==un&&(yt=yt.nextSibling));return Ht(te.ownerDocument||te,te),ee.nodeType==rt&&(ee.firstChild=ee.lastChild=null),ee}function qe(){this._nsMap={}}function De(){}function be(){}function ft(){}function Xe(){}function dt(){}function xt(){}function Vn(){}function hn(){}function qt(){}function Yn(){}function ui(){}function ur(){}function Xt(te,ee){var ye=[],Ke=9==this.nodeType&&this.documentElement||this,yt=Ke.prefix,un=Ke.namespaceURI;if(un&&null==yt&&null==(yt=Ke.lookupPrefix(un)))var ci=[{namespace:un,prefix:null}];return Nr(this,ye,te,ee,ci),ye.join("")}function en(te,ee,ye){var Ke=te.prefix||"",yt=te.namespaceURI;if(!yt||"xml"===Ke&&yt===h.XML||yt===h.XMLNS)return!1;for(var un=ye.length;un--;){var ci=ye[un];if(ci.prefix===Ke)return ci.namespace!==yt}return!0}function pn(te,ee,ye){te.push(" ",ee,'="',ye.replace(/[<&"]/g,Tr),'"')}function Nr(te,ee,ye,Ke,yt){if(yt||(yt=[]),Ke){if(!(te=Ke(te)))return;if("string"==typeof te)return void ee.push(te)}switch(te.nodeType){case Ae:var un=te.attributes,ci=un.length,gn=te.firstChild,_n=te.tagName,Ui=_n;if(!(ye=h.isHTML(te.namespaceURI)||ye)&&!te.prefix&&te.namespaceURI){for(var Gn,Jn=0;Jn<un.length;Jn++)if("xmlns"===un.item(Jn).name){Gn=un.item(Jn).value;break}if(!Gn)for(var Ir=yt.length-1;Ir>=0;Ir--)if(""===(on=yt[Ir]).prefix&&on.namespace===te.namespaceURI){Gn=on.namespace;break}if(Gn!==te.namespaceURI)for(Ir=yt.length-1;Ir>=0;Ir--){var on;if((on=yt[Ir]).namespace===te.namespaceURI){on.prefix&&(Ui=on.prefix+":"+_n);break}}}ee.push("<",Ui);for(var gi=0;gi<ci;gi++)"xmlns"==(Kn=un.item(gi)).prefix?yt.push({prefix:Kn.localName,namespace:Kn.value}):"xmlns"==Kn.nodeName&&yt.push({prefix:"",namespace:Kn.value});for(gi=0;gi<ci;gi++){var Kn,Cn,Vi;en(Kn=un.item(gi),0,yt)&&(pn(ee,(Cn=Kn.prefix||"")?"xmlns:"+Cn:"xmlns",Vi=Kn.namespaceURI),yt.push({prefix:Cn,namespace:Vi})),Nr(Kn,ee,ye,Ke,yt)}if(_n===Ui&&en(te,0,yt)&&(pn(ee,(Cn=te.prefix||"")?"xmlns:"+Cn:"xmlns",Vi=te.namespaceURI),yt.push({prefix:Cn,namespace:Vi})),gn||ye&&!/^(?:meta|link|img|br|hr|input)$/i.test(_n)){if(ee.push(">"),ye&&/^script$/i.test(_n))for(;gn;)gn.data?ee.push(gn.data):Nr(gn,ee,ye,Ke,yt.slice()),gn=gn.nextSibling;else for(;gn;)Nr(gn,ee,ye,Ke,yt.slice()),gn=gn.nextSibling;ee.push("</",Ui,">")}else ee.push("/>");return;case ut:case rt:for(gn=te.firstChild;gn;)Nr(gn,ee,ye,Ke,yt.slice()),gn=gn.nextSibling;return;case Ee:return pn(ee,te.name,te.value);case Ue:return ee.push(te.data.replace(/[<&]/g,Tr).replace(/]]>/g,"]]&gt;"));case Fe:return ee.push("<![CDATA[",te.data,"]]>");case Tt:return ee.push("\x3c!--",te.data,"--\x3e");case nt:var bi=te.publicId,nr=te.systemId;if(ee.push("<!DOCTYPE ",te.name),bi)ee.push(" PUBLIC ",bi),nr&&"."!=nr&&ee.push(" ",nr),ee.push(">");else if(nr&&"."!=nr)ee.push(" SYSTEM ",nr,">");else{var hs=te.internalSubset;hs&&ee.push(" [",hs,"]"),ee.push(">")}return;case Me:return ee.push("<?",te.target," ",te.data,"?>");case vt:return ee.push("&",te.nodeName,";");default:ee.push("??",te.nodeName)}}function Rn(te,ee,ye){var Ke;switch(ee.nodeType){case Ae:(Ke=ee.cloneNode(!1)).ownerDocument=te;case rt:break;case Ee:ye=!0}if(Ke||(Ke=ee.cloneNode(!1)),Ke.ownerDocument=te,Ke.parentNode=null,ye)for(var yt=ee.firstChild;yt;)Ke.appendChild(Rn(te,yt,ye)),yt=yt.nextSibling;return Ke}function vn(te,ee,ye){var Ke=new ee.constructor;for(var yt in ee){var un=ee[yt];"object"!=typeof un&&un!=Ke[yt]&&(Ke[yt]=un)}switch(ee.childNodes&&(Ke.childNodes=new kt),Ke.ownerDocument=te,Ke.nodeType){case Ae:var ci=ee.attributes,_n=Ke.attributes=new Sn,Ui=ci.length;_n._ownerElement=Ke;for(var Gn=0;Gn<Ui;Gn++)Ke.setAttributeNode(vn(te,ci.item(Gn),!0));break;case Ee:ye=!0}if(ye)for(var Jn=ee.firstChild;Jn;)Ke.appendChild(vn(te,Jn,ye)),Jn=Jn.nextSibling;return Ke}function Hi(te,ee,ye){te[ee]=ye}Je.INVALID_STATE_ERR=(St[11]="Invalid state",11),Je.SYNTAX_ERR=(St[12]="Syntax error",12),Je.INVALID_MODIFICATION_ERR=(St[13]="Invalid modification",13),Je.NAMESPACE_ERR=(St[14]="Invalid namespace",14),Je.INVALID_ACCESS_ERR=(St[15]="Invalid access",15),Gt.prototype=Error.prototype,ke(Je,Gt),kt.prototype={length:0,item:function(te){return this[te]||null},toString:function(te,ee){for(var ye=[],Ke=0;Ke<this.length;Ke++)Nr(this[Ke],ye,te,ee);return ye.join("")}},Nt.prototype.item=function(te){return Zn(this),this[te]},Re(Nt,kt),Sn.prototype={length:0,item:kt.prototype.item,getNamedItem:function(te){for(var ee=this.length;ee--;){var ye=this[ee];if(ye.nodeName==te)return ye}},setNamedItem:function(te){var ee=te.ownerElement;if(ee&&ee!=this._ownerElement)throw new Gt(We);var ye=this.getNamedItem(te.nodeName);return mn(this._ownerElement,this,te,ye),ye},setNamedItemNS:function(te){var ye,ee=te.ownerElement;if(ee&&ee!=this._ownerElement)throw new Gt(We);return ye=this.getNamedItemNS(te.namespaceURI,te.localName),mn(this._ownerElement,this,te,ye),ye},removeNamedItem:function(te){var ee=this.getNamedItem(te);return Bi(this._ownerElement,this,ee),ee},removeNamedItemNS:function(te,ee){var ye=this.getNamedItemNS(te,ee);return Bi(this._ownerElement,this,ye),ye},getNamedItemNS:function(te,ee){for(var ye=this.length;ye--;){var Ke=this[ye];if(Ke.localName==ee&&Ke.namespaceURI==te)return Ke}return null}},yi.prototype={hasFeature:function(te,ee){return!0},createDocument:function(te,ee,ye){var Ke=new tr;if(Ke.implementation=this,Ke.childNodes=new kt,Ke.doctype=ye||null,ye&&Ke.appendChild(ye),ee){var yt=Ke.createElementNS(te,ee);Ke.appendChild(yt)}return Ke},createDocumentType:function(te,ee,ye){var Ke=new xt;return Ke.name=te,Ke.nodeName=te,Ke.publicId=ee||"",Ke.systemId=ye||"",Ke}},On.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(te,ee){return Ki(this,te,ee)},replaceChild:function(te,ee){this.insertBefore(te,ee),ee&&this.removeChild(ee)},removeChild:function(te){return Pn(this,te)},appendChild:function(te){return this.insertBefore(te,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(te){return vn(this.ownerDocument||this,this,te)},normalize:function(){for(var te=this.firstChild;te;){var ee=te.nextSibling;ee&&ee.nodeType==Ue&&te.nodeType==Ue?(this.removeChild(ee),te.appendData(ee.data)):(te.normalize(),te=ee)}},isSupported:function(te,ee){return this.ownerDocument.implementation.hasFeature(te,ee)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(te){for(var ee=this;ee;){var ye=ee._nsMap;if(ye)for(var Ke in ye)if(ye[Ke]==te)return Ke;ee=ee.nodeType==Ee?ee.ownerDocument:ee.parentNode}return null},lookupNamespaceURI:function(te){for(var ee=this;ee;){var ye=ee._nsMap;if(ye&&te in ye)return ye[te];ee=ee.nodeType==Ee?ee.ownerDocument:ee.parentNode}return null},isDefaultNamespace:function(te){return null==this.lookupPrefix(te)}},ke(xe,On),ke(xe,On.prototype),tr.prototype={nodeName:"#document",nodeType:ut,doctype:null,documentElement:null,_inc:1,insertBefore:function(te,ee){if(te.nodeType==rt){for(var ye=te.firstChild;ye;){var Ke=ye.nextSibling;this.insertBefore(ye,ee),ye=Ke}return te}return null==this.documentElement&&te.nodeType==Ae&&(this.documentElement=te),Ki(this,te,ee),te.ownerDocument=this,te},removeChild:function(te){return this.documentElement==te&&(this.documentElement=null),Pn(this,te)},importNode:function(te,ee){return Rn(this,te,ee)},getElementById:function(te){var ee=null;return wn(this.documentElement,function(ye){if(ye.nodeType==Ae&&ye.getAttribute("id")==te)return ee=ye,!0}),ee},getElementsByClassName:function(te){var ee=Oe(te);return new Nt(this,function(ye){var Ke=[];return ee.length>0&&wn(ye.documentElement,function(yt){if(yt!==ye&&yt.nodeType===Ae){var un=yt.getAttribute("class");if(un){var ci=te===un;if(!ci){var _n=Oe(un);ci=ee.every(function Be(te){return function(ee){return te&&-1!==te.indexOf(ee)}}(_n))}ci&&Ke.push(yt)}}}),Ke})},createElement:function(te){var ee=new qe;return ee.ownerDocument=this,ee.nodeName=te,ee.tagName=te,ee.localName=te,ee.childNodes=new kt,(ee.attributes=new Sn)._ownerElement=ee,ee},createDocumentFragment:function(){var te=new Yn;return te.ownerDocument=this,te.childNodes=new kt,te},createTextNode:function(te){var ee=new ft;return ee.ownerDocument=this,ee.appendData(te),ee},createComment:function(te){var ee=new Xe;return ee.ownerDocument=this,ee.appendData(te),ee},createCDATASection:function(te){var ee=new dt;return ee.ownerDocument=this,ee.appendData(te),ee},createProcessingInstruction:function(te,ee){var ye=new ui;return ye.ownerDocument=this,ye.tagName=ye.target=te,ye.nodeValue=ye.data=ee,ye},createAttribute:function(te){var ee=new De;return ee.ownerDocument=this,ee.name=te,ee.nodeName=te,ee.localName=te,ee.specified=!0,ee},createEntityReference:function(te){var ee=new qt;return ee.ownerDocument=this,ee.nodeName=te,ee},createElementNS:function(te,ee){var ye=new qe,Ke=ee.split(":"),yt=ye.attributes=new Sn;return ye.childNodes=new kt,ye.ownerDocument=this,ye.nodeName=ee,ye.tagName=ee,ye.namespaceURI=te,2==Ke.length?(ye.prefix=Ke[0],ye.localName=Ke[1]):ye.localName=ee,yt._ownerElement=ye,ye},createAttributeNS:function(te,ee){var ye=new De,Ke=ee.split(":");return ye.ownerDocument=this,ye.nodeName=ee,ye.name=ee,ye.namespaceURI=te,ye.specified=!0,2==Ke.length?(ye.prefix=Ke[0],ye.localName=Ke[1]):ye.localName=ee,ye}},Re(tr,On),tr.prototype.getElementsByTagName=(qe.prototype={nodeType:Ae,hasAttribute:function(te){return null!=this.getAttributeNode(te)},getAttribute:function(te){var ee=this.getAttributeNode(te);return ee&&ee.value||""},getAttributeNode:function(te){return this.attributes.getNamedItem(te)},setAttribute:function(te,ee){var ye=this.ownerDocument.createAttribute(te);ye.value=ye.nodeValue=""+ee,this.setAttributeNode(ye)},removeAttribute:function(te){var ee=this.getAttributeNode(te);ee&&this.removeAttributeNode(ee)},appendChild:function(te){return te.nodeType===rt?this.insertBefore(te,null):function Ft(te,ee){var ye=ee.parentNode;if(ye){var Ke=te.lastChild;ye.removeChild(ee),Ke=te.lastChild}return Ke=te.lastChild,ee.parentNode=te,ee.previousSibling=Ke,ee.nextSibling=null,Ke?Ke.nextSibling=ee:te.firstChild=ee,te.lastChild=ee,Ht(te.ownerDocument,te,ee),ee}(this,te)},setAttributeNode:function(te){return this.attributes.setNamedItem(te)},setAttributeNodeNS:function(te){return this.attributes.setNamedItemNS(te)},removeAttributeNode:function(te){return this.attributes.removeNamedItem(te.nodeName)},removeAttributeNS:function(te,ee){var ye=this.getAttributeNodeNS(te,ee);ye&&this.removeAttributeNode(ye)},hasAttributeNS:function(te,ee){return null!=this.getAttributeNodeNS(te,ee)},getAttributeNS:function(te,ee){var ye=this.getAttributeNodeNS(te,ee);return ye&&ye.value||""},setAttributeNS:function(te,ee,ye){var Ke=this.ownerDocument.createAttributeNS(te,ee);Ke.value=Ke.nodeValue=""+ye,this.setAttributeNode(Ke)},getAttributeNodeNS:function(te,ee){return this.attributes.getNamedItemNS(te,ee)},getElementsByTagName:function(te){return new Nt(this,function(ee){var ye=[];return wn(ee,function(Ke){Ke!==ee&&Ke.nodeType==Ae&&("*"===te||Ke.tagName==te)&&ye.push(Ke)}),ye})},getElementsByTagNameNS:function(te,ee){return new Nt(this,function(ye){var Ke=[];return wn(ye,function(yt){yt!==ye&&yt.nodeType===Ae&&("*"===te||yt.namespaceURI===te)&&("*"===ee||yt.localName==ee)&&Ke.push(yt)}),Ke})}}).getElementsByTagName,tr.prototype.getElementsByTagNameNS=qe.prototype.getElementsByTagNameNS,Re(qe,On),De.prototype.nodeType=Ee,Re(De,On),be.prototype={data:"",substringData:function(te,ee){return this.data.substring(te,te+ee)},appendData:function(te){this.nodeValue=this.data=te=this.data+te,this.length=te.length},insertData:function(te,ee){this.replaceData(te,0,ee)},appendChild:function(te){throw new Error(St[ne])},deleteData:function(te,ee){this.replaceData(te,ee,"")},replaceData:function(te,ee,ye){var Ke=this.data.substring(0,te),yt=this.data.substring(te+ee);this.nodeValue=this.data=ye=Ke+ye+yt,this.length=ye.length}},Re(be,On),ft.prototype={nodeName:"#text",nodeType:Ue,splitText:function(te){var ee=this.data,ye=ee.substring(te);ee=ee.substring(0,te),this.data=this.nodeValue=ee,this.length=ee.length;var Ke=this.ownerDocument.createTextNode(ye);return this.parentNode&&this.parentNode.insertBefore(Ke,this.nextSibling),Ke}},Re(ft,be),Xe.prototype={nodeName:"#comment",nodeType:Tt},Re(Xe,be),dt.prototype={nodeName:"#cdata-section",nodeType:Fe},Re(dt,be),xt.prototype.nodeType=nt,Re(xt,On),Vn.prototype.nodeType=we,Re(Vn,On),hn.prototype.nodeType=wt,Re(hn,On),qt.prototype.nodeType=vt,Re(qt,On),Yn.prototype.nodeName="#document-fragment",Yn.prototype.nodeType=rt,Re(Yn,On),ui.prototype.nodeType=Me,Re(ui,On),ur.prototype.serializeToString=function(te,ee,ye){return Xt.call(te,ee,ye)},On.prototype.toString=Xt;try{if(Object.defineProperty){let te=function(ee){switch(ee.nodeType){case Ae:case rt:var ye=[];for(ee=ee.firstChild;ee;)7!==ee.nodeType&&8!==ee.nodeType&&ye.push(te(ee)),ee=ee.nextSibling;return ye.join("");default:return ee.nodeValue}};Object.defineProperty(Nt.prototype,"length",{get:function(){return Zn(this),this.$$length}}),Object.defineProperty(On.prototype,"textContent",{get:function(){return te(this)},set:function(ee){switch(this.nodeType){case Ae:case rt:for(;this.firstChild;)this.removeChild(this.firstChild);(ee||String(ee))&&this.appendChild(this.ownerDocument.createTextNode(ee));break;default:this.data=ee,this.value=ee,this.nodeValue=ee}}}),Hi=function(ee,ye,Ke){ee["$$"+ye]=Ke}}}catch(te){}Pe.DocumentType=xt,Pe.DOMException=Gt,Pe.DOMImplementation=yi,Pe.Element=qe,Pe.Node=On,Pe.NodeList=kt,Pe.XMLSerializer=ur},4436:(gt,Pe,G)=>{var T=G(9401).freeze;Pe.XML_ENTITIES=T({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),Pe.HTML_ENTITIES=T({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),Pe.entityMap=Pe.HTML_ENTITIES},978:(gt,Pe,G)=>{G(6853);Pe.DOMParser=G(1991).DOMParser},8702:(gt,Pe,G)=>{var T=G(9401).NAMESPACE,h=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,se=new RegExp("[\\-\\.0-9"+h.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Ce=new RegExp("^"+h.source+se.source+"*(?::"+h.source+se.source+"*)?$");function Ue(K,ne){this.message=K,this.locator=ne,Error.captureStackTrace&&Error.captureStackTrace(this,Ue)}function Fe(){}function wt(K,ne){return ne.lineNumber=K.lineNumber,ne.columnNumber=K.columnNumber,ne}function Me(K,ne,J,ue,ce,Se){function fe(Qt,Gt,kt){J.attributeNames.hasOwnProperty(Qt)&&Se.fatalError("Attribute "+Qt+" redefined"),J.addValue(Qt,Gt,kt)}for(var He,st=++ne,at=0;;){var $e=K.charAt(st);switch($e){case"=":if(1===at)He=K.slice(ne,st),at=3;else{if(2!==at)throw new Error("attribute equal must after attrName");at=3}break;case"'":case'"':if(3===at||1===at){if(1===at&&(Se.warning('attribute value must after "="'),He=K.slice(ne,st)),!((st=K.indexOf($e,ne=st+1))>0))throw new Error("attribute value no end '"+$e+"' match");fe(He,We=K.slice(ne,st).replace(/&#?\w+;/g,ce),ne-1),at=5}else{if(4!=at)throw new Error('attribute value must after "="');fe(He,We=K.slice(ne,st).replace(/&#?\w+;/g,ce),ne),Se.warning('attribute "'+He+'" missed start quot('+$e+")!!"),ne=st+1,at=5}break;case"/":switch(at){case 0:J.setTagName(K.slice(ne,st));case 5:case 6:case 7:at=7,J.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Se.error("unexpected end of input"),0==at&&J.setTagName(K.slice(ne,st)),st;case">":switch(at){case 0:J.setTagName(K.slice(ne,st));case 5:case 6:case 7:break;case 4:case 1:"/"===(We=K.slice(ne,st)).slice(-1)&&(J.closed=!0,We=We.slice(0,-1));case 2:2===at&&(We=He),4==at?(Se.warning('attribute "'+We+'" missed quot(")!'),fe(He,We.replace(/&#?\w+;/g,ce),ne)):((!T.isHTML(ue[""])||!We.match(/^(?:disabled|checked|selected)$/i))&&Se.warning('attribute "'+We+'" missed value!! "'+We+'" instead!!'),fe(We,We,ne));break;case 3:throw new Error("attribute value missed!!")}return st;case"\x80":$e=" ";default:if($e<=" ")switch(at){case 0:J.setTagName(K.slice(ne,st)),at=6;break;case 1:He=K.slice(ne,st),at=2;break;case 4:var We=K.slice(ne,st).replace(/&#?\w+;/g,ce);Se.warning('attribute "'+We+'" missed quot(")!!'),fe(He,We,ne);case 5:at=6}else switch(at){case 2:(!T.isHTML(ue[""])||!He.match(/^(?:disabled|checked|selected)$/i))&&Se.warning('attribute "'+He+'" missed value!! "'+He+'" instead2!!'),fe(He,He,ne),ne=st,at=1;break;case 5:Se.warning('attribute space is required"'+He+'"!!');case 6:at=1,ne=st;break;case 3:at=4,ne=st;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}st++}}function Tt(K,ne,J){for(var ue=K.tagName,ce=null,$e=K.length;$e--;){var Se=K[$e],fe=Se.qName,He=Se.value;if((Mt=fe.indexOf(":"))>0)var We=Se.prefix=fe.slice(0,Mt),st=fe.slice(Mt+1),at="xmlns"===We&&st;else st=fe,We=null,at="xmlns"===fe&&"";Se.localName=st,!1!==at&&(null==ce&&(ce={},rt(J,J={})),J[at]=ce[at]=He,Se.uri=T.XMLNS,ne.startPrefixMapping(at,He))}for($e=K.length;$e--;)(We=(Se=K[$e]).prefix)&&("xml"===We&&(Se.uri=T.XML),"xmlns"!==We&&(Se.uri=J[We||""]));var Mt;(Mt=ue.indexOf(":"))>0?(We=K.prefix=ue.slice(0,Mt),st=K.localName=ue.slice(Mt+1)):(We=null,st=K.localName=ue);var Qt=K.uri=J[We||""];if(ne.startElement(Qt,st,ue,K),!K.closed)return K.currentNSMap=J,K.localNSMap=ce,!0;if(ne.endElement(Qt,st,ue),ce)for(We in ce)ne.endPrefixMapping(We)}function ut(K,ne,J,ue,ce){if(/^(?:script|textarea)$/i.test(J)){var Se=K.indexOf("</"+J+">",ne),fe=K.substring(ne+1,Se);if(/[&<]/.test(fe))return/^script$/i.test(J)?(ce.characters(fe,0,fe.length),Se):(fe=fe.replace(/&#?\w+;/g,ue),ce.characters(fe,0,fe.length),Se)}return ne+1}function nt(K,ne,J,ue){var ce=ue[J];return null==ce&&((ce=K.lastIndexOf("</"+J+">"))<ne&&(ce=K.lastIndexOf("</"+J)),ue[J]=ce),ce<ne}function rt(K,ne){for(var J in K)ne[J]=K[J]}function we(K,ne,J,ue){if("-"===K.charAt(ne+2))return"-"===K.charAt(ne+3)?(Se=K.indexOf("--\x3e",ne+4))>ne?(J.comment(K,ne+4,Se-ne-4),Se+3):(ue.error("Unclosed comment"),-1):-1;if("CDATA["==K.substr(ne+3,6)){var Se=K.indexOf("]]>",ne+9);return J.startCDATA(),J.characters(K,ne+9,Se-ne-9),J.endCDATA(),Se+3}var fe=function bt(K,ne){var J,ue=[],ce=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(ce.lastIndex=ne,ce.exec(K);J=ce.exec(K);)if(ue.push(J),J[1])return ue}(K,ne),He=fe.length;if(He>1&&/!doctype/i.test(fe[0][0])){var We=fe[1][0],st=!1,at=!1;He>3&&(/^public$/i.test(fe[2][0])?(st=fe[3][0],at=He>4&&fe[4][0]):/^system$/i.test(fe[2][0])&&(at=fe[3][0]));var $e=fe[He-1];return J.startDTD(We,st,at),J.endDTD(),$e.index+$e[0].length}return-1}function Je(K,ne,J){var ue=K.indexOf("?>",ne);if(ue){var ce=K.substring(ne,ue).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return ce?(J.processingInstruction(ce[1],ce[2]),ue+2):-1}return-1}function St(){this.attributeNames={}}(Ue.prototype=new Error).name=Ue.name,Fe.prototype={parse:function(K,ne,J){var ue=this.domBuilder;ue.startDocument(),rt(ne,ne={}),function vt(K,ne,J,ue,ce){function fe(Ft){var qe=Ft.slice(1,-1);return qe in J?J[qe]:"#"===qe.charAt(0)?function Se(Ft){return Ft>65535?(Ft-=65536,String.fromCharCode(55296+(Ft>>10),56320+(1023&Ft))):String.fromCharCode(Ft)}(parseInt(qe.substr(1).replace("x","0x"))):(ce.error("entity not found:"+Ft),Ft)}function He(Ft){if(Ft>kt){var qe=K.substring(kt,Ft).replace(/&#?\w+;/g,fe);Mt&&We(kt),ue.characters(qe,0,Ft-kt),kt=Ft}}function We(Ft,qe){for(;Ft>=at&&(qe=$e.exec(K));)at=(st=qe.index)+qe[0].length,Mt.lineNumber++;Mt.columnNumber=Ft-st+1}for(var st=0,at=0,$e=/.*(?:\r\n?|\n)|.*$/g,Mt=ue.locator,Qt=[{currentNSMap:ne}],Gt={},kt=0;;){try{var Nt=K.indexOf("<",kt);if(Nt<0){if(!K.substr(kt).match(/^\s*$/)){var Zn=ue.doc,Sn=Zn.createTextNode(K.substr(kt));Zn.appendChild(Sn),ue.currentElement=Sn}return}switch(Nt>kt&&He(Nt),K.charAt(Nt+1)){case"/":var si=K.indexOf(">",Nt+3),zn=K.substring(Nt+2,si).replace(/[ \t\n\r]+$/g,""),mn=Qt.pop();si<0?(zn=K.substring(Nt+2).replace(/[\s<].*/,""),ce.error("end tag name: "+zn+" is not complete:"+mn.tagName),si=Nt+1+zn.length):zn.match(/\s</)&&(zn=zn.replace(/[\s<].*/,""),ce.error("end tag name: "+zn+" maybe not complete"),si=Nt+1+zn.length);var Bi=mn.localNSMap,yi=mn.tagName==zn;if(yi||mn.tagName&&mn.tagName.toLowerCase()==zn.toLowerCase()){if(ue.endElement(mn.uri,mn.localName,zn),Bi)for(var Tr in Bi)ue.endPrefixMapping(Tr);yi||ce.fatalError("end tag name: "+zn+" is not match the current start tagName:"+mn.tagName)}else Qt.push(mn);si++;break;case"?":Mt&&We(Nt),si=Je(K,Nt,ue);break;case"!":Mt&&We(Nt),si=we(K,Nt,ue,ce);break;default:Mt&&We(Nt);var wn=new St,tr=Qt[Qt.length-1].currentNSMap,Sr=(si=Me(K,Nt,wn,tr,fe,ce),wn.length);if(!wn.closed&&nt(K,si,wn.tagName,Gt)&&(wn.closed=!0,J.nbsp||ce.warning("unclosed xml attribute")),Mt&&Sr){for(var Ht=wt(Mt,{}),Pn=0;Pn<Sr;Pn++){var Ki=wn[Pn];We(Ki.offset),Ki.locator=wt(Mt,{})}ue.locator=Ht,Tt(wn,ue,tr)&&Qt.push(wn),ue.locator=Mt}else Tt(wn,ue,tr)&&Qt.push(wn);T.isHTML(wn.uri)&&!wn.closed?si=ut(K,si,wn.tagName,fe,ue):si++}}catch(Ft){if(Ft instanceof Ue)throw Ft;ce.error("element parse error: "+Ft),si=-1}si>kt?kt=si:He(Math.max(Nt,kt)+1)}}(K,ne,J,ue,this.errorHandler),ue.endDocument()}},St.prototype={setTagName:function(K){if(!Ce.test(K))throw new Error("invalid tagName:"+K);this.tagName=K},addValue:function(K,ne,J){if(!Ce.test(K))throw new Error("invalid attribute:"+K);this.attributeNames[K]=this.length,this[this.length++]={qName:K,value:ne,offset:J}},length:0,getLocalName:function(K){return this[K].localName},getLocator:function(K){return this[K].locator},getQName:function(K){return this[K].qName},getURI:function(K){return this[K].uri},getValue:function(K){return this[K].value}},Pe.XMLReader=Fe,Pe.ParseError=Ue},1421:(gt,Pe,G)=>{var se,T="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},h=G(5893);"undefined"!=typeof document?se=document:(se=T["__GLOBAL_DOCUMENT_CACHE@4"])||(se=T["__GLOBAL_DOCUMENT_CACHE@4"]=h),gt.exports=se},9226:gt=>{var Pe;Pe="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},gt.exports=Pe},2703:gt=>{gt.exports=function G(T){if(!T)return!1;var h=Pe.call(T);return"[object Function]"===h||"function"==typeof T&&"[object RegExp]"!==h||"undefined"!=typeof window&&(T===window.setTimeout||T===window.alert||T===window.confirm||T===window.prompt)};var Pe=Object.prototype.toString},1234:(gt,Pe)=>{function G(Oe){if(Oe&&"object"==typeof Oe){var Be=Oe.which||Oe.keyCode||Oe.charCode;Be&&(Oe=Be)}if("number"==typeof Oe)return Ce[Oe];var Re,ke=String(Oe);return(Re=T[ke.toLowerCase()])?Re:(Re=h[ke.toLowerCase()])||(1===ke.length?ke.charCodeAt(0):void 0)}G.isEventKey=function(Be,ke){if(Be&&"object"==typeof Be){var Re=Be.which||Be.keyCode||Be.charCode;if(null==Re)return!1;if("string"==typeof ke){var xe;if(xe=T[ke.toLowerCase()])return xe===Re;if(xe=h[ke.toLowerCase()])return xe===Re}else if("number"==typeof ke)return ke===Re;return!1}};var T=(Pe=gt.exports=G).code=Pe.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},h=Pe.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
       * Programatically add the following
       */for(se=97;se<123;se++)T[String.fromCharCode(se)]=se-32;for(var se=48;se<58;se++)T[se-48]=se;for(se=1;se<13;se++)T["f"+se]=se+111;for(se=0;se<10;se++)T["numpad "+se]=se+96;var Ce=Pe.names=Pe.title={};for(se in T)Ce[T[se]]=se;for(var me in h)T[me]=h[me]},7459:(gt,Pe,G)=>{var T=G(3357).getUint64;gt.exports=function(se){var Ce=new DataView(se.buffer,se.byteOffset,se.byteLength),me={version:se[0],flags:new Uint8Array(se.subarray(1,4)),references:[],referenceId:Ce.getUint32(4),timescale:Ce.getUint32(8)},Oe=12;0===me.version?(me.earliestPresentationTime=Ce.getUint32(Oe),me.firstOffset=Ce.getUint32(Oe+4),Oe+=8):(me.earliestPresentationTime=T(se.subarray(Oe)),me.firstOffset=T(se.subarray(Oe+8)),Oe+=16);var Be=Ce.getUint16(Oe+=2);for(Oe+=2;Be>0;Oe+=12,Be--)me.references.push({referenceType:(128&se[Oe])>>>7,referencedSize:2147483647&Ce.getUint32(Oe),subsegmentDuration:Ce.getUint32(Oe+4),startsWithSap:!!(128&se[Oe+8]),sapType:(112&se[Oe+8])>>>4,sapDeltaTime:268435455&Ce.getUint32(Oe+8)});return me}},6277:gt=>{var G,T,h,se,Ce,me,Oe;Ce=function(Be,ke){return G(se(Be,ke))},me=function(Be,ke){return T(h(Be),ke)},Oe=function(Be,ke,Re){return h(Re?Be:Be-ke)},gt.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:G=function(Be){return 9e4*Be},secondsToAudioTs:T=function(Be,ke){return Be*ke},videoTsToSeconds:h=function(Be){return Be/9e4},audioTsToSeconds:se=function(Be,ke){return Be/ke},audioTsToVideoTs:Ce,videoTsToAudioTs:me,metadataTsToSeconds:Oe}},3357:gt=>{var Pe=Math.pow(2,32);gt.exports={getUint64:function(T){var se,h=new DataView(T.buffer,T.byteOffset,T.byteLength);return h.getBigUint64?(se=h.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(se):se:h.getUint32(0)*Pe+h.getUint32(4)},MAX_UINT32:Pe}},1135:(gt,Pe,G)=>{"use strict";G.d(Pe,{X:()=>h});var T=G(7579);class h extends T.x{constructor(Ce){super(),this._value=Ce}get value(){return this.getValue()}_subscribe(Ce){const me=super._subscribe(Ce);return!me.closed&&Ce.next(this._value),me}getValue(){const{hasError:Ce,thrownError:me,_value:Oe}=this;if(Ce)throw me;return this._throwIfClosed(),Oe}next(Ce){super.next(this._value=Ce)}}},8306:(gt,Pe,G)=>{"use strict";G.d(Pe,{y:()=>xe});var T=G(930),h=G(727),se=G(8822),Ce=G(4671);var Be=G(2416),ke=G(576),Re=G(2806);let xe=(()=>{class Fe{constructor(wt){wt&&(this._subscribe=wt)}lift(wt){const Me=new Fe;return Me.source=this,Me.operator=wt,Me}subscribe(wt,Me,Tt){const ut=function Ue(Fe){return Fe&&Fe instanceof T.Lv||function Ee(Fe){return Fe&&(0,ke.m)(Fe.next)&&(0,ke.m)(Fe.error)&&(0,ke.m)(Fe.complete)}(Fe)&&(0,h.Nn)(Fe)}(wt)?wt:new T.Hp(wt,Me,Tt);return(0,Re.x)(()=>{const{operator:nt,source:rt}=this;ut.add(nt?nt.call(ut,rt):rt?this._subscribe(ut):this._trySubscribe(ut))}),ut}_trySubscribe(wt){try{return this._subscribe(wt)}catch(Me){wt.error(Me)}}forEach(wt,Me){return new(Me=Ae(Me))((Tt,ut)=>{const nt=new T.Hp({next:rt=>{try{wt(rt)}catch(we){ut(we),nt.unsubscribe()}},error:ut,complete:Tt});this.subscribe(nt)})}_subscribe(wt){var Me;return null===(Me=this.source)||void 0===Me?void 0:Me.subscribe(wt)}[se.L](){return this}pipe(...wt){return function Oe(Fe){return 0===Fe.length?Ce.y:1===Fe.length?Fe[0]:function(wt){return Fe.reduce((Me,Tt)=>Tt(Me),wt)}}(wt)(this)}toPromise(wt){return new(wt=Ae(wt))((Me,Tt)=>{let ut;this.subscribe(nt=>ut=nt,nt=>Tt(nt),()=>Me(ut))})}}return Fe.create=vt=>new Fe(vt),Fe})();function Ae(Fe){var vt;return null!==(vt=null!=Fe?Fe:Be.v.Promise)&&void 0!==vt?vt:Promise}},7579:(gt,Pe,G)=>{"use strict";G.d(Pe,{x:()=>Be});var T=G(8306),h=G(727);const Ce=(0,G(3888).d)(Re=>function(){Re(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=G(8737),Oe=G(2806);let Be=(()=>{class Re extends T.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Ae){const Ee=new ke(this,this);return Ee.operator=Ae,Ee}_throwIfClosed(){if(this.closed)throw new Ce}next(Ae){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Ee of this.currentObservers)Ee.next(Ae)}})}error(Ae){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Ae;const{observers:Ee}=this;for(;Ee.length;)Ee.shift().error(Ae)}})}complete(){(0,Oe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Ae}=this;for(;Ae.length;)Ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Ae;return(null===(Ae=this.observers)||void 0===Ae?void 0:Ae.length)>0}_trySubscribe(Ae){return this._throwIfClosed(),super._trySubscribe(Ae)}_subscribe(Ae){return this._throwIfClosed(),this._checkFinalizedStatuses(Ae),this._innerSubscribe(Ae)}_innerSubscribe(Ae){const{hasError:Ee,isStopped:Ue,observers:Fe}=this;return Ee||Ue?h.Lc:(this.currentObservers=null,Fe.push(Ae),new h.w0(()=>{this.currentObservers=null,(0,me.P)(Fe,Ae)}))}_checkFinalizedStatuses(Ae){const{hasError:Ee,thrownError:Ue,isStopped:Fe}=this;Ee?Ae.error(Ue):Fe&&Ae.complete()}asObservable(){const Ae=new T.y;return Ae.source=this,Ae}}return Re.create=(xe,Ae)=>new ke(xe,Ae),Re})();class ke extends Be{constructor(xe,Ae){super(),this.destination=xe,this.source=Ae}next(xe){var Ae,Ee;null===(Ee=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.next)||void 0===Ee||Ee.call(Ae,xe)}error(xe){var Ae,Ee;null===(Ee=null===(Ae=this.destination)||void 0===Ae?void 0:Ae.error)||void 0===Ee||Ee.call(Ae,xe)}complete(){var xe,Ae;null===(Ae=null===(xe=this.destination)||void 0===xe?void 0:xe.complete)||void 0===Ae||Ae.call(xe)}_subscribe(xe){var Ae,Ee;return null!==(Ee=null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(xe))&&void 0!==Ee?Ee:h.Lc}}},930:(gt,Pe,G)=>{"use strict";G.d(Pe,{Hp:()=>wt,Lv:()=>Ee});var T=G(576),h=G(727),se=G(2416),Ce=G(7849),me=G(5032);const Oe=Re("C",void 0,void 0);function Re(rt,we,Je){return{kind:rt,value:we,error:Je}}var xe=G(3410),Ae=G(2806);class Ee extends h.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,h.Nn)(we)&&we.add(this)):this.destination=nt}static create(we,Je,St){return new wt(we,Je,St)}next(we){this.isStopped?ut(function ke(rt){return Re("N",rt,void 0)}(we),this):this._next(we)}error(we){this.isStopped?ut(function Be(rt){return Re("E",void 0,rt)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?ut(Oe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ue=Function.prototype.bind;function Fe(rt,we){return Ue.call(rt,we)}class vt{constructor(we){this.partialObserver=we}next(we){const{partialObserver:Je}=this;if(Je.next)try{Je.next(we)}catch(St){Me(St)}}error(we){const{partialObserver:Je}=this;if(Je.error)try{Je.error(we)}catch(St){Me(St)}else Me(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(Je){Me(Je)}}}class wt extends Ee{constructor(we,Je,St){let bt;if(super(),(0,T.m)(we)||!we)bt={next:null!=we?we:void 0,error:null!=Je?Je:void 0,complete:null!=St?St:void 0};else{let K;this&&se.v.useDeprecatedNextContext?(K=Object.create(we),K.unsubscribe=()=>this.unsubscribe(),bt={next:we.next&&Fe(we.next,K),error:we.error&&Fe(we.error,K),complete:we.complete&&Fe(we.complete,K)}):bt=we}this.destination=new vt(bt)}}function Me(rt){se.v.useDeprecatedSynchronousErrorHandling?(0,Ae.O)(rt):(0,Ce.h)(rt)}function ut(rt,we){const{onStoppedNotification:Je}=se.v;Je&&xe.z.setTimeout(()=>Je(rt,we))}const nt={closed:!0,next:me.Z,error:function Tt(rt){throw rt},complete:me.Z}},727:(gt,Pe,G)=>{"use strict";G.d(Pe,{Lc:()=>Oe,w0:()=>me,Nn:()=>Be});var T=G(576);const se=(0,G(3888).d)(Re=>function(Ae){Re(this),this.message=Ae?`${Ae.length} errors occurred during unsubscription:\n${Ae.map((Ee,Ue)=>`${Ue+1}) ${Ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Ae});var Ce=G(8737);class me{constructor(xe){this.initialTeardown=xe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let xe;if(!this.closed){this.closed=!0;const{_parentage:Ae}=this;if(Ae)if(this._parentage=null,Array.isArray(Ae))for(const Fe of Ae)Fe.remove(this);else Ae.remove(this);const{initialTeardown:Ee}=this;if((0,T.m)(Ee))try{Ee()}catch(Fe){xe=Fe instanceof se?Fe.errors:[Fe]}const{_finalizers:Ue}=this;if(Ue){this._finalizers=null;for(const Fe of Ue)try{ke(Fe)}catch(vt){xe=null!=xe?xe:[],vt instanceof se?xe=[...xe,...vt.errors]:xe.push(vt)}}if(xe)throw new se(xe)}}add(xe){var Ae;if(xe&&xe!==this)if(this.closed)ke(xe);else{if(xe instanceof me){if(xe.closed||xe._hasParent(this))return;xe._addParent(this)}(this._finalizers=null!==(Ae=this._finalizers)&&void 0!==Ae?Ae:[]).push(xe)}}_hasParent(xe){const{_parentage:Ae}=this;return Ae===xe||Array.isArray(Ae)&&Ae.includes(xe)}_addParent(xe){const{_parentage:Ae}=this;this._parentage=Array.isArray(Ae)?(Ae.push(xe),Ae):Ae?[Ae,xe]:xe}_removeParent(xe){const{_parentage:Ae}=this;Ae===xe?this._parentage=null:Array.isArray(Ae)&&(0,Ce.P)(Ae,xe)}remove(xe){const{_finalizers:Ae}=this;Ae&&(0,Ce.P)(Ae,xe),xe instanceof me&&xe._removeParent(this)}}me.EMPTY=(()=>{const Re=new me;return Re.closed=!0,Re})();const Oe=me.EMPTY;function Be(Re){return Re instanceof me||Re&&"closed"in Re&&(0,T.m)(Re.remove)&&(0,T.m)(Re.add)&&(0,T.m)(Re.unsubscribe)}function ke(Re){(0,T.m)(Re)?Re():Re.unsubscribe()}},2416:(gt,Pe,G)=>{"use strict";G.d(Pe,{v:()=>T});const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(gt,Pe,G)=>{"use strict";G.d(Pe,{c:()=>Oe});var T=G(8306),h=G(727),se=G(8343),Ce=G(5403),me=G(4482);class Oe extends T.y{constructor(ke,Re){super(),this.source=ke,this.subjectFactory=Re,this._subject=null,this._refCount=0,this._connection=null,(0,me.A)(ke)&&(this.lift=ke.lift)}_subscribe(ke){return this.getSubject().subscribe(ke)}getSubject(){const ke=this._subject;return(!ke||ke.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ke}=this;this._subject=this._connection=null,null==ke||ke.unsubscribe()}connect(){let ke=this._connection;if(!ke){ke=this._connection=new h.w0;const Re=this.getSubject();ke.add(this.source.subscribe((0,Ce.x)(Re,void 0,()=>{this._teardown(),Re.complete()},xe=>{this._teardown(),Re.error(xe)},()=>this._teardown()))),ke.closed&&(this._connection=null,ke=h.w0.EMPTY)}return ke}refCount(){return(0,se.x)()(this)}}},9841:(gt,Pe,G)=>{"use strict";G.d(Pe,{a:()=>xe});var T=G(8306),h=G(4742),se=G(2076),Ce=G(4671),me=G(3268),Oe=G(3269),Be=G(1810),ke=G(5403),Re=G(9672);function xe(...Ue){const Fe=(0,Oe.yG)(Ue),vt=(0,Oe.jO)(Ue),{args:wt,keys:Me}=(0,h.D)(Ue);if(0===wt.length)return(0,se.D)([],Fe);const Tt=new T.y(function Ae(Ue,Fe,vt=Ce.y){return wt=>{Ee(Fe,()=>{const{length:Me}=Ue,Tt=new Array(Me);let ut=Me,nt=Me;for(let rt=0;rt<Me;rt++)Ee(Fe,()=>{const we=(0,se.D)(Ue[rt],Fe);let Je=!1;we.subscribe((0,ke.x)(wt,St=>{Tt[rt]=St,Je||(Je=!0,nt--),nt||wt.next(vt(Tt.slice()))},()=>{--ut||wt.complete()}))},wt)},wt)}}(wt,Fe,Me?ut=>(0,Be.n)(Me,ut):Ce.y));return vt?Tt.pipe((0,me.Z)(vt)):Tt}function Ee(Ue,Fe,vt){Ue?(0,Re.f)(vt,Ue,Fe):Fe()}},7272:(gt,Pe,G)=>{"use strict";G.d(Pe,{z:()=>me});var T=G(8189),se=G(3269),Ce=G(2076);function me(...Oe){return function h(){return(0,T.J)(1)}()((0,Ce.D)(Oe,(0,se.yG)(Oe)))}},9770:(gt,Pe,G)=>{"use strict";G.d(Pe,{P:()=>se});var T=G(8306),h=G(8421);function se(Ce){return new T.y(me=>{(0,h.Xf)(Ce()).subscribe(me)})}},515:(gt,Pe,G)=>{"use strict";G.d(Pe,{E:()=>h});const h=new(G(8306).y)(me=>me.complete())},2076:(gt,Pe,G)=>{"use strict";G.d(Pe,{D:()=>St});var T=G(8421),h=G(9672),se=G(4482),Ce=G(5403);function me(bt,K=0){return(0,se.e)((ne,J)=>{ne.subscribe((0,Ce.x)(J,ue=>(0,h.f)(J,bt,()=>J.next(ue),K),()=>(0,h.f)(J,bt,()=>J.complete(),K),ue=>(0,h.f)(J,bt,()=>J.error(ue),K)))})}function Oe(bt,K=0){return(0,se.e)((ne,J)=>{J.add(bt.schedule(()=>ne.subscribe(J),K))})}var Re=G(8306),Ae=G(2202),Ee=G(576);function Fe(bt,K){if(!bt)throw new Error("Iterable cannot be null");return new Re.y(ne=>{(0,h.f)(ne,K,()=>{const J=bt[Symbol.asyncIterator]();(0,h.f)(ne,K,()=>{J.next().then(ue=>{ue.done?ne.complete():ne.next(ue.value)})},0,!0)})})}var vt=G(3670),wt=G(8239),Me=G(1144),Tt=G(6495),ut=G(2206),nt=G(4532),rt=G(3260);function St(bt,K){return K?function Je(bt,K){if(null!=bt){if((0,vt.c)(bt))return function Be(bt,K){return(0,T.Xf)(bt).pipe(Oe(K),me(K))}(bt,K);if((0,Me.z)(bt))return function xe(bt,K){return new Re.y(ne=>{let J=0;return K.schedule(function(){J===bt.length?ne.complete():(ne.next(bt[J++]),ne.closed||this.schedule())})})}(bt,K);if((0,wt.t)(bt))return function ke(bt,K){return(0,T.Xf)(bt).pipe(Oe(K),me(K))}(bt,K);if((0,ut.D)(bt))return Fe(bt,K);if((0,Tt.T)(bt))return function Ue(bt,K){return new Re.y(ne=>{let J;return(0,h.f)(ne,K,()=>{J=bt[Ae.h](),(0,h.f)(ne,K,()=>{let ue,ce;try{({value:ue,done:ce}=J.next())}catch(Se){return void ne.error(Se)}ce?ne.complete():ne.next(ue)},0,!0)}),()=>(0,Ee.m)(null==J?void 0:J.return)&&J.return()})}(bt,K);if((0,rt.L)(bt))return function we(bt,K){return Fe((0,rt.Q)(bt),K)}(bt,K)}throw(0,nt.z)(bt)}(bt,K):(0,T.Xf)(bt)}},8421:(gt,Pe,G)=>{"use strict";G.d(Pe,{Xf:()=>Ue});var T=G(655),h=G(1144),se=G(8239),Ce=G(8306),me=G(3670),Oe=G(2206),Be=G(4532),ke=G(6495),Re=G(3260),xe=G(576),Ae=G(7849),Ee=G(8822);function Ue(rt){if(rt instanceof Ce.y)return rt;if(null!=rt){if((0,me.c)(rt))return function Fe(rt){return new Ce.y(we=>{const Je=rt[Ee.L]();if((0,xe.m)(Je.subscribe))return Je.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(rt);if((0,h.z)(rt))return function vt(rt){return new Ce.y(we=>{for(let Je=0;Je<rt.length&&!we.closed;Je++)we.next(rt[Je]);we.complete()})}(rt);if((0,se.t)(rt))return function wt(rt){return new Ce.y(we=>{rt.then(Je=>{we.closed||(we.next(Je),we.complete())},Je=>we.error(Je)).then(null,Ae.h)})}(rt);if((0,Oe.D)(rt))return Tt(rt);if((0,ke.T)(rt))return function Me(rt){return new Ce.y(we=>{for(const Je of rt)if(we.next(Je),we.closed)return;we.complete()})}(rt);if((0,Re.L)(rt))return function ut(rt){return Tt((0,Re.Q)(rt))}(rt)}throw(0,Be.z)(rt)}function Tt(rt){return new Ce.y(we=>{(function nt(rt,we){var Je,St,bt,K;return(0,T.mG)(this,void 0,void 0,function*(){try{for(Je=(0,T.KL)(rt);!(St=yield Je.next()).done;)if(we.next(St.value),we.closed)return}catch(ne){bt={error:ne}}finally{try{St&&!St.done&&(K=Je.return)&&(yield K.call(Je))}finally{if(bt)throw bt.error}}we.complete()})})(rt,we).catch(Je=>we.error(Je))})}},6451:(gt,Pe,G)=>{"use strict";G.d(Pe,{T:()=>Oe});var T=G(8189),h=G(8421),se=G(515),Ce=G(3269),me=G(2076);function Oe(...Be){const ke=(0,Ce.yG)(Be),Re=(0,Ce._6)(Be,1/0),xe=Be;return xe.length?1===xe.length?(0,h.Xf)(xe[0]):(0,T.J)(Re)((0,me.D)(xe,ke)):se.E}},9646:(gt,Pe,G)=>{"use strict";G.d(Pe,{of:()=>se});var T=G(3269),h=G(2076);function se(...Ce){const me=(0,T.yG)(Ce);return(0,h.D)(Ce,me)}},2843:(gt,Pe,G)=>{"use strict";G.d(Pe,{_:()=>se});var T=G(8306),h=G(576);function se(Ce,me){const Oe=(0,h.m)(Ce)?Ce:()=>Ce,Be=ke=>ke.error(Oe());return new T.y(me?ke=>me.schedule(Be,0,ke):Be)}},5403:(gt,Pe,G)=>{"use strict";G.d(Pe,{x:()=>h});var T=G(930);function h(Ce,me,Oe,Be,ke){return new se(Ce,me,Oe,Be,ke)}class se extends T.Lv{constructor(me,Oe,Be,ke,Re,xe){super(me),this.onFinalize=Re,this.shouldUnsubscribe=xe,this._next=Oe?function(Ae){try{Oe(Ae)}catch(Ee){me.error(Ee)}}:super._next,this._error=ke?function(Ae){try{ke(Ae)}catch(Ee){me.error(Ee)}finally{this.unsubscribe()}}:super._error,this._complete=Be?function(){try{Be()}catch(Ae){me.error(Ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Oe}=this;super.unsubscribe(),!Oe&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},262:(gt,Pe,G)=>{"use strict";G.d(Pe,{K:()=>Ce});var T=G(8421),h=G(5403),se=G(4482);function Ce(me){return(0,se.e)((Oe,Be)=>{let xe,ke=null,Re=!1;ke=Oe.subscribe((0,h.x)(Be,void 0,void 0,Ae=>{xe=(0,T.Xf)(me(Ae,Ce(me)(Oe))),ke?(ke.unsubscribe(),ke=null,xe.subscribe(Be)):Re=!0})),Re&&(ke.unsubscribe(),ke=null,xe.subscribe(Be))})}},4351:(gt,Pe,G)=>{"use strict";G.d(Pe,{b:()=>se});var T=G(5577),h=G(576);function se(Ce,me){return(0,h.m)(me)?(0,T.z)(Ce,me,1):(0,T.z)(Ce,1)}},9300:(gt,Pe,G)=>{"use strict";G.d(Pe,{h:()=>se});var T=G(4482),h=G(5403);function se(Ce,me){return(0,T.e)((Oe,Be)=>{let ke=0;Oe.subscribe((0,h.x)(Be,Re=>Ce.call(me,Re,ke++)&&Be.next(Re)))})}},4004:(gt,Pe,G)=>{"use strict";G.d(Pe,{U:()=>se});var T=G(4482),h=G(5403);function se(Ce,me){return(0,T.e)((Oe,Be)=>{let ke=0;Oe.subscribe((0,h.x)(Be,Re=>{Be.next(Ce.call(me,Re,ke++))}))})}},8189:(gt,Pe,G)=>{"use strict";G.d(Pe,{J:()=>se});var T=G(5577),h=G(4671);function se(Ce=1/0){return(0,T.z)(h.y,Ce)}},5577:(gt,Pe,G)=>{"use strict";G.d(Pe,{z:()=>ke});var T=G(4004),h=G(8421),se=G(4482),Ce=G(9672),me=G(5403),Be=G(576);function ke(Re,xe,Ae=1/0){return(0,Be.m)(xe)?ke((Ee,Ue)=>(0,T.U)((Fe,vt)=>xe(Ee,Fe,Ue,vt))((0,h.Xf)(Re(Ee,Ue))),Ae):("number"==typeof xe&&(Ae=xe),(0,se.e)((Ee,Ue)=>function Oe(Re,xe,Ae,Ee,Ue,Fe,vt,wt){const Me=[];let Tt=0,ut=0,nt=!1;const rt=()=>{nt&&!Me.length&&!Tt&&xe.complete()},we=St=>Tt<Ee?Je(St):Me.push(St),Je=St=>{Fe&&xe.next(St),Tt++;let bt=!1;(0,h.Xf)(Ae(St,ut++)).subscribe((0,me.x)(xe,K=>{null==Ue||Ue(K),Fe?we(K):xe.next(K)},()=>{bt=!0},void 0,()=>{if(bt)try{for(Tt--;Me.length&&Tt<Ee;){const K=Me.shift();vt?(0,Ce.f)(xe,vt,()=>Je(K)):Je(K)}rt()}catch(K){xe.error(K)}}))};return Re.subscribe((0,me.x)(xe,we,()=>{nt=!0,rt()})),()=>{null==wt||wt()}}(Ee,Ue,Re,Ae)))}},8343:(gt,Pe,G)=>{"use strict";G.d(Pe,{x:()=>se});var T=G(4482),h=G(5403);function se(){return(0,T.e)((Ce,me)=>{let Oe=null;Ce._refCount++;const Be=(0,h.x)(me,void 0,void 0,void 0,()=>{if(!Ce||Ce._refCount<=0||0<--Ce._refCount)return void(Oe=null);const ke=Ce._connection,Re=Oe;Oe=null,ke&&(!Re||ke===Re)&&ke.unsubscribe(),me.unsubscribe()});Ce.subscribe(Be),Be.closed||(Oe=Ce.connect())})}},8675:(gt,Pe,G)=>{"use strict";G.d(Pe,{O:()=>Ce});var T=G(7272),h=G(3269),se=G(4482);function Ce(...me){const Oe=(0,h.yG)(me);return(0,se.e)((Be,ke)=>{(Oe?(0,T.z)(me,Be,Oe):(0,T.z)(me,Be)).subscribe(ke)})}},3900:(gt,Pe,G)=>{"use strict";G.d(Pe,{w:()=>Ce});var T=G(8421),h=G(4482),se=G(5403);function Ce(me,Oe){return(0,h.e)((Be,ke)=>{let Re=null,xe=0,Ae=!1;const Ee=()=>Ae&&!Re&&ke.complete();Be.subscribe((0,se.x)(ke,Ue=>{null==Re||Re.unsubscribe();let Fe=0;const vt=xe++;(0,T.Xf)(me(Ue,vt)).subscribe(Re=(0,se.x)(ke,wt=>ke.next(Oe?Oe(Ue,wt,vt,Fe++):wt),()=>{Re=null,Ee()}))},()=>{Ae=!0,Ee()}))})}},5698:(gt,Pe,G)=>{"use strict";G.d(Pe,{q:()=>Ce});var T=G(515),h=G(4482),se=G(5403);function Ce(me){return me<=0?()=>T.E:(0,h.e)((Oe,Be)=>{let ke=0;Oe.subscribe((0,se.x)(Be,Re=>{++ke<=me&&(Be.next(Re),me<=ke&&Be.complete())}))})}},8505:(gt,Pe,G)=>{"use strict";G.d(Pe,{b:()=>me});var T=G(576),h=G(4482),se=G(5403),Ce=G(4671);function me(Oe,Be,ke){const Re=(0,T.m)(Oe)||Be||ke?{next:Oe,error:Be,complete:ke}:Oe;return Re?(0,h.e)((xe,Ae)=>{var Ee;null===(Ee=Re.subscribe)||void 0===Ee||Ee.call(Re);let Ue=!0;xe.subscribe((0,se.x)(Ae,Fe=>{var vt;null===(vt=Re.next)||void 0===vt||vt.call(Re,Fe),Ae.next(Fe)},()=>{var Fe;Ue=!1,null===(Fe=Re.complete)||void 0===Fe||Fe.call(Re),Ae.complete()},Fe=>{var vt;Ue=!1,null===(vt=Re.error)||void 0===vt||vt.call(Re,Fe),Ae.error(Fe)},()=>{var Fe,vt;Ue&&(null===(Fe=Re.unsubscribe)||void 0===Fe||Fe.call(Re)),null===(vt=Re.finalize)||void 0===vt||vt.call(Re)}))}):Ce.y}},1566:(gt,Pe,G)=>{"use strict";G.d(Pe,{P:()=>xe,z:()=>Re});var T=G(727);class h extends T.w0{constructor(Ee,Ue){super()}schedule(Ee,Ue=0){return this}}const se={setInterval(Ae,Ee,...Ue){const{delegate:Fe}=se;return(null==Fe?void 0:Fe.setInterval)?Fe.setInterval(Ae,Ee,...Ue):setInterval(Ae,Ee,...Ue)},clearInterval(Ae){const{delegate:Ee}=se;return((null==Ee?void 0:Ee.clearInterval)||clearInterval)(Ae)},delegate:void 0};var Ce=G(8737);const Oe={now:()=>(Oe.delegate||Date).now(),delegate:void 0};class Be{constructor(Ee,Ue=Be.now){this.schedulerActionCtor=Ee,this.now=Ue}schedule(Ee,Ue=0,Fe){return new this.schedulerActionCtor(this,Ee).schedule(Fe,Ue)}}Be.now=Oe.now;const Re=new class ke extends Be{constructor(Ee,Ue=Be.now){super(Ee,Ue),this.actions=[],this._active=!1,this._scheduled=void 0}flush(Ee){const{actions:Ue}=this;if(this._active)return void Ue.push(Ee);let Fe;this._active=!0;do{if(Fe=Ee.execute(Ee.state,Ee.delay))break}while(Ee=Ue.shift());if(this._active=!1,Fe){for(;Ee=Ue.shift();)Ee.unsubscribe();throw Fe}}}(class me extends h{constructor(Ee,Ue){super(Ee,Ue),this.scheduler=Ee,this.work=Ue,this.pending=!1}schedule(Ee,Ue=0){if(this.closed)return this;this.state=Ee;const Fe=this.id,vt=this.scheduler;return null!=Fe&&(this.id=this.recycleAsyncId(vt,Fe,Ue)),this.pending=!0,this.delay=Ue,this.id=this.id||this.requestAsyncId(vt,this.id,Ue),this}requestAsyncId(Ee,Ue,Fe=0){return se.setInterval(Ee.flush.bind(Ee,this),Fe)}recycleAsyncId(Ee,Ue,Fe=0){if(null!=Fe&&this.delay===Fe&&!1===this.pending)return Ue;se.clearInterval(Ue)}execute(Ee,Ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Fe=this._execute(Ee,Ue);if(Fe)return Fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,Ue){let vt,Fe=!1;try{this.work(Ee)}catch(wt){Fe=!0,vt=wt||new Error("Scheduled action threw falsy error")}if(Fe)return this.unsubscribe(),vt}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:Ue}=this,{actions:Fe}=Ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ce.P)(Fe,this),null!=Ee&&(this.id=this.recycleAsyncId(Ue,Ee,null)),this.delay=null,super.unsubscribe()}}}),xe=Re},3410:(gt,Pe,G)=>{"use strict";G.d(Pe,{z:()=>T});const T={setTimeout(h,se,...Ce){const{delegate:me}=T;return(null==me?void 0:me.setTimeout)?me.setTimeout(h,se,...Ce):setTimeout(h,se,...Ce)},clearTimeout(h){const{delegate:se}=T;return((null==se?void 0:se.clearTimeout)||clearTimeout)(h)},delegate:void 0}},2202:(gt,Pe,G)=>{"use strict";G.d(Pe,{h:()=>h});const h=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(gt,Pe,G)=>{"use strict";G.d(Pe,{L:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(gt,Pe,G)=>{"use strict";G.d(Pe,{K:()=>h});const h=(0,G(3888).d)(se=>function(){se(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(gt,Pe,G)=>{"use strict";G.d(Pe,{_6:()=>Oe,jO:()=>Ce,yG:()=>me});var T=G(576),h=G(3532);function se(Be){return Be[Be.length-1]}function Ce(Be){return(0,T.m)(se(Be))?Be.pop():void 0}function me(Be){return(0,h.K)(se(Be))?Be.pop():void 0}function Oe(Be,ke){return"number"==typeof se(Be)?Be.pop():ke}},4742:(gt,Pe,G)=>{"use strict";G.d(Pe,{D:()=>me});const{isArray:T}=Array,{getPrototypeOf:h,prototype:se,keys:Ce}=Object;function me(Be){if(1===Be.length){const ke=Be[0];if(T(ke))return{args:ke,keys:null};if(function Oe(Be){return Be&&"object"==typeof Be&&h(Be)===se}(ke)){const Re=Ce(ke);return{args:Re.map(xe=>ke[xe]),keys:Re}}}return{args:Be,keys:null}}},8737:(gt,Pe,G)=>{"use strict";function T(h,se){if(h){const Ce=h.indexOf(se);0<=Ce&&h.splice(Ce,1)}}G.d(Pe,{P:()=>T})},3888:(gt,Pe,G)=>{"use strict";function T(h){const Ce=h(me=>{Error.call(me),me.stack=(new Error).stack});return Ce.prototype=Object.create(Error.prototype),Ce.prototype.constructor=Ce,Ce}G.d(Pe,{d:()=>T})},1810:(gt,Pe,G)=>{"use strict";function T(h,se){return h.reduce((Ce,me,Oe)=>(Ce[me]=se[Oe],Ce),{})}G.d(Pe,{n:()=>T})},2806:(gt,Pe,G)=>{"use strict";G.d(Pe,{O:()=>Ce,x:()=>se});var T=G(2416);let h=null;function se(me){if(T.v.useDeprecatedSynchronousErrorHandling){const Oe=!h;if(Oe&&(h={errorThrown:!1,error:null}),me(),Oe){const{errorThrown:Be,error:ke}=h;if(h=null,Be)throw ke}}else me()}function Ce(me){T.v.useDeprecatedSynchronousErrorHandling&&h&&(h.errorThrown=!0,h.error=me)}},9672:(gt,Pe,G)=>{"use strict";function T(h,se,Ce,me=0,Oe=!1){const Be=se.schedule(function(){Ce(),Oe?h.add(this.schedule(null,me)):this.unsubscribe()},me);if(h.add(Be),!Oe)return Be}G.d(Pe,{f:()=>T})},4671:(gt,Pe,G)=>{"use strict";function T(h){return h}G.d(Pe,{y:()=>T})},1144:(gt,Pe,G)=>{"use strict";G.d(Pe,{z:()=>T});const T=h=>h&&"number"==typeof h.length&&"function"!=typeof h},2206:(gt,Pe,G)=>{"use strict";G.d(Pe,{D:()=>h});var T=G(576);function h(se){return Symbol.asyncIterator&&(0,T.m)(null==se?void 0:se[Symbol.asyncIterator])}},576:(gt,Pe,G)=>{"use strict";function T(h){return"function"==typeof h}G.d(Pe,{m:()=>T})},3670:(gt,Pe,G)=>{"use strict";G.d(Pe,{c:()=>se});var T=G(8822),h=G(576);function se(Ce){return(0,h.m)(Ce[T.L])}},6495:(gt,Pe,G)=>{"use strict";G.d(Pe,{T:()=>se});var T=G(2202),h=G(576);function se(Ce){return(0,h.m)(null==Ce?void 0:Ce[T.h])}},8239:(gt,Pe,G)=>{"use strict";G.d(Pe,{t:()=>h});var T=G(576);function h(se){return(0,T.m)(null==se?void 0:se.then)}},3260:(gt,Pe,G)=>{"use strict";G.d(Pe,{L:()=>Ce,Q:()=>se});var T=G(655),h=G(576);function se(me){return(0,T.FC)(this,arguments,function*(){const Be=me.getReader();try{for(;;){const{value:ke,done:Re}=yield(0,T.qq)(Be.read());if(Re)return yield(0,T.qq)(void 0);yield yield(0,T.qq)(ke)}}finally{Be.releaseLock()}})}function Ce(me){return(0,h.m)(null==me?void 0:me.getReader)}},3532:(gt,Pe,G)=>{"use strict";G.d(Pe,{K:()=>h});var T=G(576);function h(se){return se&&(0,T.m)(se.schedule)}},4482:(gt,Pe,G)=>{"use strict";G.d(Pe,{A:()=>h,e:()=>se});var T=G(576);function h(Ce){return(0,T.m)(null==Ce?void 0:Ce.lift)}function se(Ce){return me=>{if(h(me))return me.lift(function(Oe){try{return Ce(Oe,this)}catch(Be){this.error(Be)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(gt,Pe,G)=>{"use strict";G.d(Pe,{Z:()=>Ce});var T=G(4004);const{isArray:h}=Array;function Ce(me){return(0,T.U)(Oe=>function se(me,Oe){return h(Oe)?me(...Oe):me(Oe)}(me,Oe))}},5032:(gt,Pe,G)=>{"use strict";function T(){}G.d(Pe,{Z:()=>T})},7849:(gt,Pe,G)=>{"use strict";G.d(Pe,{h:()=>se});var T=G(2416),h=G(3410);function se(Ce){h.z.setTimeout(()=>{const{onUnhandledError:me}=T.v;if(!me)throw Ce;me(Ce)})}},4532:(gt,Pe,G)=>{"use strict";function T(h){return new TypeError(`You provided ${null!==h&&"object"==typeof h?"an invalid object":`'${h}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}G.d(Pe,{z:()=>T})},8099:gt=>{gt.exports=function Pe(G,T){var h,se=null;try{h=JSON.parse(G,T)}catch(Ce){se=Ce}return[se,h]}},3871:function(gt){var G,T,h,se,Ce;G=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,T=/^(?=([^\/?#]*))\1([^]*)$/,h=/(?:\/|^)\.(?=\/)/g,se=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,gt.exports=Ce={buildAbsoluteURL:function(me,Oe,Be){if(Be=Be||{},me=me.trim(),!(Oe=Oe.trim())){if(!Be.alwaysNormalize)return me;var ke=Ce.parseURL(me);if(!ke)throw new Error("Error trying to parse base URL.");return ke.path=Ce.normalizePath(ke.path),Ce.buildURLFromParts(ke)}var Re=Ce.parseURL(Oe);if(!Re)throw new Error("Error trying to parse relative URL.");if(Re.scheme)return Be.alwaysNormalize?(Re.path=Ce.normalizePath(Re.path),Ce.buildURLFromParts(Re)):Oe;var xe=Ce.parseURL(me);if(!xe)throw new Error("Error trying to parse base URL.");if(!xe.netLoc&&xe.path&&"/"!==xe.path[0]){var Ae=T.exec(xe.path);xe.netLoc=Ae[1],xe.path=Ae[2]}xe.netLoc&&!xe.path&&(xe.path="/");var Ee={scheme:xe.scheme,netLoc:Re.netLoc,path:null,params:Re.params,query:Re.query,fragment:Re.fragment};if(!Re.netLoc&&(Ee.netLoc=xe.netLoc,"/"!==Re.path[0]))if(Re.path){var Ue=xe.path,Fe=Ue.substring(0,Ue.lastIndexOf("/")+1)+Re.path;Ee.path=Ce.normalizePath(Fe)}else Ee.path=xe.path,Re.params||(Ee.params=xe.params,Re.query||(Ee.query=xe.query));return null===Ee.path&&(Ee.path=Be.alwaysNormalize?Ce.normalizePath(Re.path):Re.path),Ce.buildURLFromParts(Ee)},parseURL:function(me){var Oe=G.exec(me);return Oe?{scheme:Oe[1]||"",netLoc:Oe[2]||"",path:Oe[3]||"",params:Oe[4]||"",query:Oe[5]||"",fragment:Oe[6]||""}:null},normalizePath:function(me){for(me=me.split("").reverse().join("").replace(h,"");me.length!==(me=me.replace(se,"")).length;);return me.split("").reverse().join("")},buildURLFromParts:function(me){return me.scheme+me.netLoc+me.path+me.params+me.query+me.fragment}}},3629:(gt,Pe,G)=>{var T=G(9226),h=gt.exports={WebVTT:G(8318),VTTCue:G(5713),VTTRegion:G(3872)};T.vttjs=h,T.WebVTT=h.WebVTT;var se=h.VTTCue,Ce=h.VTTRegion,me=T.VTTCue,Oe=T.VTTRegion;h.shim=function(){T.VTTCue=se,T.VTTRegion=Ce},h.restore=function(){T.VTTCue=me,T.VTTRegion=Oe},T.VTTCue||h.shim()},8318:(gt,Pe,G)=>{var T=G(1421),h=Object.create||function(){function K(){}return function(ne){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return K.prototype=ne,new K}}();function se(K,ne){this.name="ParsingError",this.code=K.code,this.message=ne||K.message}function Ce(K){function ne(ue,ce,Se,fe){return 3600*(0|ue)+60*(0|ce)+(0|Se)+(0|fe)/1e3}var J=K.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return J?J[3]?ne(J[1],J[2],J[3].replace(":",""),J[4]):J[1]>59?ne(J[1],J[2],0,J[4]):ne(0,J[1],J[2],J[4]):null}function me(){this.values=h(null)}function Oe(K,ne,J,ue){var ce=ue?K.split(ue):[K];for(var Se in ce)if("string"==typeof ce[Se]){var fe=ce[Se].split(J);2===fe.length&&ne(fe[0],fe[1])}}function Be(K,ne,J){var ue=K;function ce(){var He=Ce(K);if(null===He)throw new se(se.Errors.BadTimeStamp,"Malformed timestamp: "+ue);return K=K.replace(/^[^\sa-zA-Z-]+/,""),He}function fe(){K=K.replace(/^\s+/,"")}if(fe(),ne.startTime=ce(),fe(),"--\x3e"!==K.substr(0,3))throw new se(se.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+ue);K=K.substr(3),fe(),ne.endTime=ce(),fe(),function Se(He,We){var st=new me;Oe(He,function(at,$e){switch(at){case"region":for(var Mt=J.length-1;Mt>=0;Mt--)if(J[Mt].id===$e){st.set(at,J[Mt].region);break}break;case"vertical":st.alt(at,$e,["rl","lr"]);break;case"line":var Qt=$e.split(","),Gt=Qt[0];st.integer(at,Gt),st.percent(at,Gt)&&st.set("snapToLines",!1),st.alt(at,Gt,["auto"]),2===Qt.length&&st.alt("lineAlign",Qt[1],["start","center","end"]);break;case"position":Qt=$e.split(","),st.percent(at,Qt[0]),2===Qt.length&&st.alt("positionAlign",Qt[1],["start","center","end"]);break;case"size":st.percent(at,$e);break;case"align":st.alt(at,$e,["start","center","end","left","right"])}},/:/,/\s/),We.region=st.get("region",null),We.vertical=st.get("vertical","");try{We.line=st.get("line","auto")}catch(at){}We.lineAlign=st.get("lineAlign","start"),We.snapToLines=st.get("snapToLines",!0),We.size=st.get("size",100);try{We.align=st.get("align","center")}catch(at){We.align=st.get("align","middle")}try{We.position=st.get("position","auto")}catch(at){We.position=st.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},We.align)}We.positionAlign=st.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},We.align)}(K,ne)}(se.prototype=h(Error.prototype)).constructor=se,se.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},me.prototype={set:function(K,ne){!this.get(K)&&""!==ne&&(this.values[K]=ne)},get:function(K,ne,J){return J?this.has(K)?this.values[K]:ne[J]:this.has(K)?this.values[K]:ne},has:function(K){return K in this.values},alt:function(K,ne,J){for(var ue=0;ue<J.length;++ue)if(ne===J[ue]){this.set(K,ne);break}},integer:function(K,ne){/^-?\d+$/.test(ne)&&this.set(K,parseInt(ne,10))},percent:function(K,ne){return!!(ne.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(ne=parseFloat(ne),ne>=0&&ne<=100))&&(this.set(K,ne),!0)}};var ke=T.createElement&&T.createElement("textarea"),Re={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},xe={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Ae={v:"title",lang:"lang"},Ee={rt:"ruby"};function Ue(K,ne){function J(){if(!ne)return null;var kt=ne.match(/^([^<]*)(<[^>]*>?)?/);return function Gt(Nt){return ne=ne.substr(Nt.length),Nt}(kt[1]?kt[1]:kt[2])}function ue(Gt){return ke.innerHTML=Gt,Gt=ke.textContent,ke.textContent="",Gt}function Se(Gt,kt){var Nt=Re[Gt];if(!Nt)return null;var Zn=K.document.createElement(Nt),Sn=Ae[Gt];return Sn&&kt&&(Zn[Sn]=kt.trim()),Zn}for(var We,fe=K.document.createElement("div"),He=fe,st=[];null!==(We=J());)if("<"!==We[0])He.appendChild(K.document.createTextNode(ue(We)));else{if("/"===We[1]){st.length&&st[st.length-1]===We.substr(2).replace(">","")&&(st.pop(),He=He.parentNode);continue}var $e,at=Ce(We.substr(1,We.length-2));if(at){$e=K.document.createProcessingInstruction("timestamp",at),He.appendChild($e);continue}var Mt=We.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!Mt||!($e=Se(Mt[1],Mt[3]))||Ee[(kt=$e).localName]&&Ee[kt.localName]!==He.localName)continue;if(Mt[2]){var Qt=Mt[2].split(".");Qt.forEach(function(Gt){var kt=/^bg_/.test(Gt),Nt=kt?Gt.slice(3):Gt;xe.hasOwnProperty(Nt)&&($e.style[kt?"background-color":"color"]=xe[Nt])}),$e.className=Qt.join(" ")}st.push(Mt[1]),He.appendChild($e),He=$e}var kt;return fe}var Fe=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function vt(K){for(var ne=0;ne<Fe.length;ne++){var J=Fe[ne];if(K>=J[0]&&K<=J[1])return!0}return!1}function wt(K){var ne=[],J="";if(!K||!K.childNodes)return"ltr";function ce(He,We){for(var st=We.childNodes.length-1;st>=0;st--)He.push(We.childNodes[st])}function Se(He){if(!He||!He.length)return null;var We=He.pop(),st=We.textContent||We.innerText;if(st){var at=st.match(/^.*(\n|\r)/);return at?(He.length=0,at[0]):st}return"ruby"===We.tagName?Se(He):We.childNodes?(ce(He,We),Se(He)):void 0}for(ce(ne,K);J=Se(ne);)for(var fe=0;fe<J.length;fe++)if(vt(J.charCodeAt(fe)))return"rtl";return"ltr"}function Tt(){}function ut(K,ne,J){Tt.call(this),this.cue=ne,this.cueDiv=Ue(K,ne.text);var ue={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===ne.vertical?"horizontal-tb":"lr"===ne.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(ue,this.cueDiv),this.div=K.document.createElement("div"),ue={direction:wt(this.cueDiv),writingMode:""===ne.vertical?"horizontal-tb":"lr"===ne.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===ne.align?"center":ne.align,font:J.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(ue),this.div.appendChild(this.cueDiv);var ce=0;switch(ne.positionAlign){case"start":ce=ne.position;break;case"center":ce=ne.position-ne.size/2;break;case"end":ce=ne.position-ne.size}this.applyStyles(""===ne.vertical?{left:this.formatStyle(ce,"%"),width:this.formatStyle(ne.size,"%")}:{top:this.formatStyle(ce,"%"),height:this.formatStyle(ne.size,"%")}),this.move=function(Se){this.applyStyles({top:this.formatStyle(Se.top,"px"),bottom:this.formatStyle(Se.bottom,"px"),left:this.formatStyle(Se.left,"px"),right:this.formatStyle(Se.right,"px"),height:this.formatStyle(Se.height,"px"),width:this.formatStyle(Se.width,"px")})}}function nt(K){var ne,J,ue,ce;if(K.div){J=K.div.offsetHeight,ue=K.div.offsetWidth,ce=K.div.offsetTop;var Se=(Se=K.div.childNodes)&&(Se=Se[0])&&Se.getClientRects&&Se.getClientRects();K=K.div.getBoundingClientRect(),ne=Se?Math.max(Se[0]&&Se[0].height||0,K.height/Se.length):0}this.left=K.left,this.right=K.right,this.top=K.top||ce,this.height=K.height||J,this.bottom=K.bottom||ce+(K.height||J),this.width=K.width||ue,this.lineHeight=void 0!==ne?ne:K.lineHeight}function rt(K,ne,J,ue){var Se=new nt(ne),fe=ne.cue,He=function Me(K){if("number"==typeof K.line&&(K.snapToLines||K.line>=0&&K.line<=100))return K.line;if(!K.track||!K.track.textTrackList||!K.track.textTrackList.mediaElement)return-1;for(var ne=K.track,J=ne.textTrackList,ue=0,ce=0;ce<J.length&&J[ce]!==ne;ce++)"showing"===J[ce].mode&&ue++;return-1*++ue}(fe),We=[];if(fe.snapToLines){var st;switch(fe.vertical){case"":We=["+y","-y"],st="height";break;case"rl":We=["+x","-x"],st="width";break;case"lr":We=["-x","+x"],st="width"}var at=Se.lineHeight,$e=at*Math.round(He),Mt=J[st]+at,Qt=We[0];Math.abs($e)>Mt&&($e=$e<0?-1:1,$e*=Math.ceil(Mt/at)*at),He<0&&($e+=""===fe.vertical?J.height:J.width,We=We.reverse()),Se.move(Qt,$e)}else{var Gt=Se.lineHeight/J.height*100;switch(fe.lineAlign){case"center":He-=Gt/2;break;case"end":He-=Gt}switch(fe.vertical){case"":ne.applyStyles({top:ne.formatStyle(He,"%")});break;case"rl":ne.applyStyles({left:ne.formatStyle(He,"%")});break;case"lr":ne.applyStyles({right:ne.formatStyle(He,"%")})}We=["+y","-x","+x","-y"],Se=new nt(ne)}var kt=function ce(Nt,Zn){for(var Sn,zn=new nt(Nt),mn=1,Bi=0;Bi<Zn.length;Bi++){for(;Nt.overlapsOppositeAxis(J,Zn[Bi])||Nt.within(J)&&Nt.overlapsAny(ue);)Nt.move(Zn[Bi]);if(Nt.within(J))return Nt;var yi=Nt.intersectPercentage(J);mn>yi&&(Sn=new nt(Nt),mn=yi),Nt=new nt(zn)}return Sn||zn}(Se,We);ne.move(kt.toCSSCompatValues(J))}function we(){}Tt.prototype.applyStyles=function(K,ne){for(var J in ne=ne||this.div,K)K.hasOwnProperty(J)&&(ne.style[J]=K[J])},Tt.prototype.formatStyle=function(K,ne){return 0===K?0:K+ne},(ut.prototype=h(Tt.prototype)).constructor=ut,nt.prototype.move=function(K,ne){switch(ne=void 0!==ne?ne:this.lineHeight,K){case"+x":this.left+=ne,this.right+=ne;break;case"-x":this.left-=ne,this.right-=ne;break;case"+y":this.top+=ne,this.bottom+=ne;break;case"-y":this.top-=ne,this.bottom-=ne}},nt.prototype.overlaps=function(K){return this.left<K.right&&this.right>K.left&&this.top<K.bottom&&this.bottom>K.top},nt.prototype.overlapsAny=function(K){for(var ne=0;ne<K.length;ne++)if(this.overlaps(K[ne]))return!0;return!1},nt.prototype.within=function(K){return this.top>=K.top&&this.bottom<=K.bottom&&this.left>=K.left&&this.right<=K.right},nt.prototype.overlapsOppositeAxis=function(K,ne){switch(ne){case"+x":return this.left<K.left;case"-x":return this.right>K.right;case"+y":return this.top<K.top;case"-y":return this.bottom>K.bottom}},nt.prototype.intersectPercentage=function(K){return Math.max(0,Math.min(this.right,K.right)-Math.max(this.left,K.left))*Math.max(0,Math.min(this.bottom,K.bottom)-Math.max(this.top,K.top))/(this.height*this.width)},nt.prototype.toCSSCompatValues=function(K){return{top:this.top-K.top,bottom:K.bottom-this.bottom,left:this.left-K.left,right:K.right-this.right,height:this.height,width:this.width}},nt.getSimpleBoxPosition=function(K){var ne=K.div?K.div.offsetHeight:K.tagName?K.offsetHeight:0,J=K.div?K.div.offsetWidth:K.tagName?K.offsetWidth:0,ue=K.div?K.div.offsetTop:K.tagName?K.offsetTop:0;return{left:(K=K.div?K.div.getBoundingClientRect():K.tagName?K.getBoundingClientRect():K).left,right:K.right,top:K.top||ue,height:K.height||ne,bottom:K.bottom||ue+(K.height||ne),width:K.width||J}},we.StringDecoder=function(){return{decode:function(K){if(!K)return"";if("string"!=typeof K)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(K))}}},we.convertCueToDOMTree=function(K,ne){return K&&ne?Ue(K,ne):null},we.processCues=function(K,ne,J){if(!K||!ne||!J)return null;for(;J.firstChild;)J.removeChild(J.firstChild);var ue=K.document.createElement("div");if(ue.style.position="absolute",ue.style.left="0",ue.style.right="0",ue.style.top="0",ue.style.bottom="0",ue.style.margin="1.5%",J.appendChild(ue),function ce(at){for(var $e=0;$e<at.length;$e++)if(at[$e].hasBeenReset||!at[$e].displayState)return!0;return!1}(ne)){var fe=[],He=nt.getSimpleBoxPosition(ue),st={font:Math.round(.05*He.height*100)/100+"px sans-serif"};!function(){for(var at,$e,Mt=0;Mt<ne.length;Mt++)at=new ut(K,$e=ne[Mt],st),ue.appendChild(at.div),rt(0,at,He,fe),$e.displayState=at.div,fe.push(nt.getSimpleBoxPosition(at))}()}else for(var Se=0;Se<ne.length;Se++)ue.appendChild(ne[Se].displayState)},(we.Parser=function(K,ne,J){J||(J=ne,ne={}),ne||(ne={}),this.window=K,this.vttjs=ne,this.state="INITIAL",this.buffer="",this.decoder=J||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(K){if(!(K instanceof se))throw K;this.onparsingerror&&this.onparsingerror(K)},parse:function(K){var at,ne=this;function J(){for(var at=ne.buffer,$e=0;$e<at.length&&"\r"!==at[$e]&&"\n"!==at[$e];)++$e;var Mt=at.substr(0,$e);return"\r"===at[$e]&&++$e,"\n"===at[$e]&&++$e,ne.buffer=at.substr($e),Mt}K&&(ne.buffer+=ne.decoder.decode(K,{stream:!0}));try{var fe;if("INITIAL"===ne.state){if(!/\r\n|\n/.test(ne.buffer))return this;var He=(fe=J()).match(/^WEBVTT([ \t].*)?$/);if(!He||!He[0])throw new se(se.Errors.BadSignature);ne.state="HEADER"}for(var We=!1;ne.buffer;){if(!/\r\n|\n/.test(ne.buffer))return this;switch(We?We=!1:fe=J(),ne.state){case"HEADER":/:/.test(fe)?(at=fe).match(/X-TIMESTAMP-MAP/)?Oe(at,function($e,Mt){"X-TIMESTAMP-MAP"===$e&&function ce(at){var $e=new me;Oe(at,function(Mt,Qt){switch(Mt){case"MPEGT":$e.integer(Mt+"S",Qt);break;case"LOCA":$e.set(Mt+"L",Ce(Qt))}},/[^\d]:/,/,/),ne.ontimestampmap&&ne.ontimestampmap({MPEGTS:$e.get("MPEGTS"),LOCAL:$e.get("LOCAL")})}(Mt)},/=/):Oe(at,function($e,Mt){"Region"===$e&&function ue(at){var $e=new me;if(Oe(at,function(Qt,Gt){switch(Qt){case"id":$e.set(Qt,Gt);break;case"width":$e.percent(Qt,Gt);break;case"lines":$e.integer(Qt,Gt);break;case"regionanchor":case"viewportanchor":var kt=Gt.split(",");if(2!==kt.length)break;var Nt=new me;if(Nt.percent("x",kt[0]),Nt.percent("y",kt[1]),!Nt.has("x")||!Nt.has("y"))break;$e.set(Qt+"X",Nt.get("x")),$e.set(Qt+"Y",Nt.get("y"));break;case"scroll":$e.alt(Qt,Gt,["up"])}},/=/,/\s/),$e.has("id")){var Mt=new(ne.vttjs.VTTRegion||ne.window.VTTRegion);Mt.width=$e.get("width",100),Mt.lines=$e.get("lines",3),Mt.regionAnchorX=$e.get("regionanchorX",0),Mt.regionAnchorY=$e.get("regionanchorY",100),Mt.viewportAnchorX=$e.get("viewportanchorX",0),Mt.viewportAnchorY=$e.get("viewportanchorY",100),Mt.scroll=$e.get("scroll",""),ne.onregion&&ne.onregion(Mt),ne.regionList.push({id:$e.get("id"),region:Mt})}}(Mt)},/:/):fe||(ne.state="ID");continue;case"NOTE":fe||(ne.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(fe)){ne.state="NOTE";break}if(!fe)continue;ne.cue=new(ne.vttjs.VTTCue||ne.window.VTTCue)(0,0,"");try{ne.cue.align="center"}catch(at){ne.cue.align="middle"}if(ne.state="CUE",-1===fe.indexOf("--\x3e")){ne.cue.id=fe;continue}case"CUE":try{Be(fe,ne.cue,ne.regionList)}catch(at){ne.reportOrThrowError(at),ne.cue=null,ne.state="BADCUE";continue}ne.state="CUETEXT";continue;case"CUETEXT":var st=-1!==fe.indexOf("--\x3e");if(!fe||st&&(We=!0)){ne.oncue&&ne.oncue(ne.cue),ne.cue=null,ne.state="ID";continue}ne.cue.text&&(ne.cue.text+="\n"),ne.cue.text+=fe.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":fe||(ne.state="ID");continue}}}catch(at){ne.reportOrThrowError(at),"CUETEXT"===ne.state&&ne.cue&&ne.oncue&&ne.oncue(ne.cue),ne.cue=null,ne.state="INITIAL"===ne.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var K=this;try{if(K.buffer+=K.decoder.decode(),(K.cue||"HEADER"===K.state)&&(K.buffer+="\n\n",K.parse()),"INITIAL"===K.state)throw new se(se.Errors.BadSignature)}catch(ne){K.reportOrThrowError(ne)}return K.onflush&&K.onflush(),this}},gt.exports=we},5713:gt=>{var G={"":1,lr:1,rl:1},T={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function se(me){return"string"==typeof me&&!!T[me.toLowerCase()]&&me.toLowerCase()}function Ce(me,Oe,Be){this.hasBeenReset=!1;var ke="",Re=!1,xe=me,Ae=Oe,Ee=Be,Ue=null,Fe="",vt=!0,wt="auto",Me="start",Tt="auto",ut="auto",nt=100,rt="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return ke},set:function(we){ke=""+we}},pauseOnExit:{enumerable:!0,get:function(){return Re},set:function(we){Re=!!we}},startTime:{enumerable:!0,get:function(){return xe},set:function(we){if("number"!=typeof we)throw new TypeError("Start time must be set to a number.");xe=we,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return Ae},set:function(we){if("number"!=typeof we)throw new TypeError("End time must be set to a number.");Ae=we,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return Ee},set:function(we){Ee=""+we,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return Ue},set:function(we){Ue=we,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return Fe},set:function(we){var Je=function h(me){return"string"==typeof me&&!!G[me.toLowerCase()]&&me.toLowerCase()}(we);if(!1===Je)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");Fe=Je,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return vt},set:function(we){vt=!!we,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return wt},set:function(we){if("number"!=typeof we&&"auto"!==we)throw new SyntaxError("Line: an invalid number or illegal string was specified.");wt=we,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return Me},set:function(we){var Je=se(we);Je?(Me=Je,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return Tt},set:function(we){if(we<0||we>100)throw new Error("Position must be between 0 and 100.");Tt=we,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return ut},set:function(we){var Je=se(we);Je?(ut=Je,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return nt},set:function(we){if(we<0||we>100)throw new Error("Size must be between 0 and 100.");nt=we,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return rt},set:function(we){var Je=se(we);if(!Je)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");rt=Je,this.hasBeenReset=!0}}}),this.displayState=void 0}Ce.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},gt.exports=Ce},3872:gt=>{var Pe={"":!0,up:!0};function T(se){return"number"==typeof se&&se>=0&&se<=100}gt.exports=function h(){var se=100,Ce=3,me=0,Oe=100,Be=0,ke=100,Re="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return se},set:function(xe){if(!T(xe))throw new Error("Width must be between 0 and 100.");se=xe}},lines:{enumerable:!0,get:function(){return Ce},set:function(xe){if("number"!=typeof xe)throw new TypeError("Lines must be set to a number.");Ce=xe}},regionAnchorY:{enumerable:!0,get:function(){return Oe},set:function(xe){if(!T(xe))throw new Error("RegionAnchorX must be between 0 and 100.");Oe=xe}},regionAnchorX:{enumerable:!0,get:function(){return me},set:function(xe){if(!T(xe))throw new Error("RegionAnchorY must be between 0 and 100.");me=xe}},viewportAnchorY:{enumerable:!0,get:function(){return ke},set:function(xe){if(!T(xe))throw new Error("ViewportAnchorY must be between 0 and 100.");ke=xe}},viewportAnchorX:{enumerable:!0,get:function(){return Be},set:function(xe){if(!T(xe))throw new Error("ViewportAnchorX must be between 0 and 100.");Be=xe}},scroll:{enumerable:!0,get:function(){return Re},set:function(xe){var Ae=function G(se){return"string"==typeof se&&!!Pe[se.toLowerCase()]&&se.toLowerCase()}(xe);!1===Ae?console.warn("Scroll: an invalid or illegal string was specified."):Re=Ae}}})}},7154:gt=>{function Pe(){return gt.exports=Pe=Object.assign||function(G){for(var T=1;T<arguments.length;T++){var h=arguments[T];for(var se in h)Object.prototype.hasOwnProperty.call(h,se)&&(G[se]=h[se])}return G},gt.exports.__esModule=!0,gt.exports.default=gt.exports,Pe.apply(this,arguments)}gt.exports=Pe,gt.exports.__esModule=!0,gt.exports.default=gt.exports},655:(gt,Pe,G)=>{"use strict";function ke(J,ue,ce,Se){return new(ce||(ce=Promise))(function(He,We){function st(Mt){try{$e(Se.next(Mt))}catch(Qt){We(Qt)}}function at(Mt){try{$e(Se.throw(Mt))}catch(Qt){We(Qt)}}function $e(Mt){Mt.done?He(Mt.value):function fe(He){return He instanceof ce?He:new ce(function(We){We(He)})}(Mt.value).then(st,at)}$e((Se=Se.apply(J,ue||[])).next())})}function Me(J){return this instanceof Me?(this.v=J,this):new Me(J)}function Tt(J,ue,ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var fe,Se=ce.apply(J,ue||[]),He=[];return fe={},We("next"),We("throw"),We("return"),fe[Symbol.asyncIterator]=function(){return this},fe;function We(Gt){Se[Gt]&&(fe[Gt]=function(kt){return new Promise(function(Nt,Zn){He.push([Gt,kt,Nt,Zn])>1||st(Gt,kt)})})}function st(Gt,kt){try{!function at(Gt){Gt.value instanceof Me?Promise.resolve(Gt.value.v).then($e,Mt):Qt(He[0][2],Gt)}(Se[Gt](kt))}catch(Nt){Qt(He[0][3],Nt)}}function $e(Gt){st("next",Gt)}function Mt(Gt){st("throw",Gt)}function Qt(Gt,kt){Gt(kt),He.shift(),He.length&&st(He[0][0],He[0][1])}}function nt(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ce,ue=J[Symbol.asyncIterator];return ue?ue.call(J):(J=function Ee(J){var ue="function"==typeof Symbol&&Symbol.iterator,ce=ue&&J[ue],Se=0;if(ce)return ce.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&Se>=J.length&&(J=void 0),{value:J&&J[Se++],done:!J}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ce={},Se("next"),Se("throw"),Se("return"),ce[Symbol.asyncIterator]=function(){return this},ce);function Se(He){ce[He]=J[He]&&function(We){return new Promise(function(st,at){!function fe(He,We,st,at){Promise.resolve(at).then(function($e){He({value:$e,done:st})},We)}(st,at,(We=J[He](We)).done,We.value)})}}}G.d(Pe,{FC:()=>Tt,KL:()=>nt,mG:()=>ke,qq:()=>Me})},5893:()=>{},9808:(gt,Pe,G)=>{"use strict";G.d(Pe,{Do:()=>rt,EM:()=>ji,HT:()=>me,JF:()=>Xo,K0:()=>Be,Mx:()=>jn,NF:()=>$a,O5:()=>fr,Ov:()=>wo,S$:()=>Me,Ts:()=>Di,V_:()=>xe,Ye:()=>we,b0:()=>nt,bD:()=>Fr,ez:()=>Yo,lw:()=>ke,mk:()=>Fn,mr:()=>ut,q:()=>se,sg:()=>rn,tP:()=>ps,w_:()=>Oe});var T=G(4893);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let h=null;function se(){return h}function me(k){h||(h=k)}class Oe{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Be=new T.OlP("DocumentToken");
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let ke=(()=>{class k{historyGo(F){throw new Error("Not implemented")}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275prov=T.Yz7({token:k,factory:function(){return function Re(){return(0,T.LFG)(Ae)}()},providedIn:"platform"}),k})();const xe=new T.OlP("Location Initialized");let Ae=(()=>{class k extends ke{constructor(F){super(),this._doc=F,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return se().getBaseHref(this._doc)}onPopState(F){const Z=se().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",F,!1),()=>Z.removeEventListener("popstate",F)}onHashChange(F){const Z=se().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",F,!1),()=>Z.removeEventListener("hashchange",F)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(F){this.location.pathname=F}pushState(F,Z,de){Ee()?this._history.pushState(F,Z,de):this.location.hash=de}replaceState(F,Z,de){Ee()?this._history.replaceState(F,Z,de):this.location.hash=de}forward(){this._history.forward()}back(){this._history.back()}historyGo(F=0){this._history.go(F)}getState(){return this._history.state}}return k.\u0275fac=function(F){return new(F||k)(T.LFG(Be))},k.\u0275prov=T.Yz7({token:k,factory:function(){return function Ue(){return new Ae((0,T.LFG)(Be))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */()},providedIn:"platform"}),k})();function Ee(){return!!window.history.pushState}function Fe(k,Y){if(0==k.length)return Y;if(0==Y.length)return k;let F=0;return k.endsWith("/")&&F++,Y.startsWith("/")&&F++,2==F?k+Y.substring(1):1==F?k+Y:k+"/"+Y}function vt(k){const Y=k.match(/#|\?|$/),F=Y&&Y.index||k.length;return k.slice(0,F-("/"===k[F-1]?1:0))+k.slice(F)}function wt(k){return k&&"?"!==k[0]?"?"+k:k}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Me=(()=>{class k{historyGo(F){throw new Error("Not implemented")}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275prov=T.Yz7({token:k,factory:function(){return function Tt(k){const Y=(0,T.LFG)(Be).location;return new nt((0,T.LFG)(ke),Y&&Y.origin||"")}()},providedIn:"root"}),k})();const ut=new T.OlP("appBaseHref");let nt=(()=>{class k extends Me{constructor(F,Z){if(super(),this._platformLocation=F,this._removeListenerFns=[],null==Z&&(Z=this._platformLocation.getBaseHrefFromDOM()),null==Z)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Z}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}prepareExternalUrl(F){return Fe(this._baseHref,F)}path(F=!1){const Z=this._platformLocation.pathname+wt(this._platformLocation.search),de=this._platformLocation.hash;return de&&F?`${Z}${de}`:Z}pushState(F,Z,de,Ye){const mt=this.prepareExternalUrl(de+wt(Ye));this._platformLocation.pushState(F,Z,mt)}replaceState(F,Z,de,Ye){const mt=this.prepareExternalUrl(de+wt(Ye));this._platformLocation.replaceState(F,Z,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var Z,de;null===(de=(Z=this._platformLocation).historyGo)||void 0===de||de.call(Z,F)}}return k.\u0275fac=function(F){return new(F||k)(T.LFG(ke),T.LFG(ut,8))},k.\u0275prov=T.Yz7({token:k,factory:k.\u0275fac}),k})(),rt=(()=>{class k extends Me{constructor(F,Z){super(),this._platformLocation=F,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(F){this._removeListenerFns.push(this._platformLocation.onPopState(F),this._platformLocation.onHashChange(F))}getBaseHref(){return this._baseHref}path(F=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(F){const Z=Fe(this._baseHref,F);return Z.length>0?"#"+Z:Z}pushState(F,Z,de,Ye){let mt=this.prepareExternalUrl(de+wt(Ye));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.pushState(F,Z,mt)}replaceState(F,Z,de,Ye){let mt=this.prepareExternalUrl(de+wt(Ye));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.replaceState(F,Z,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(F=0){var Z,de;null===(de=(Z=this._platformLocation).historyGo)||void 0===de||de.call(Z,F)}}return k.\u0275fac=function(F){return new(F||k)(T.LFG(ke),T.LFG(ut,8))},k.\u0275prov=T.Yz7({token:k,factory:k.\u0275fac}),k})(),we=(()=>{class k{constructor(F,Z){this._subject=new T.vpe,this._urlChangeListeners=[],this._platformStrategy=F;const de=this._platformStrategy.getBaseHref();this._platformLocation=Z,this._baseHref=vt(bt(de)),this._platformStrategy.onPopState(Ye=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ye.state,type:Ye.type})})}path(F=!1){return this.normalize(this._platformStrategy.path(F))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(F,Z=""){return this.path()==this.normalize(F+wt(Z))}normalize(F){return k.stripTrailingSlash(function St(k,Y){return k&&Y.startsWith(k)?Y.substring(k.length):Y}(this._baseHref,bt(F)))}prepareExternalUrl(F){return F&&"/"!==F[0]&&(F="/"+F),this._platformStrategy.prepareExternalUrl(F)}go(F,Z="",de=null){this._platformStrategy.pushState(de,"",F,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+wt(Z)),de)}replaceState(F,Z="",de=null){this._platformStrategy.replaceState(de,"",F,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(F+wt(Z)),de)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(F=0){var Z,de;null===(de=(Z=this._platformStrategy).historyGo)||void 0===de||de.call(Z,F)}onUrlChange(F){this._urlChangeListeners.push(F),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)}))}_notifyUrlChangeListeners(F="",Z){this._urlChangeListeners.forEach(de=>de(F,Z))}subscribe(F,Z,de){return this._subject.subscribe({next:F,error:Z,complete:de})}}return k.normalizeQueryParams=wt,k.joinWithSlash=Fe,k.stripTrailingSlash=vt,k.\u0275fac=function(F){return new(F||k)(T.LFG(Me),T.LFG(ke))},k.\u0275prov=T.Yz7({token:k,factory:function(){return function Je(){return new we((0,T.LFG)(Me),(0,T.LFG)(ke))}()},providedIn:"root"}),k})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function bt(k){return k.replace(/\/index.html$/,"")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function jn(k,Y){Y=encodeURIComponent(Y);for(const F of k.split(";")){const Z=F.indexOf("="),[de,Ye]=-1==Z?[F,""]:[F.slice(0,Z),F.slice(Z+1)];if(de.trim()===Y)return decodeURIComponent(Ye)}return null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Fn=(()=>{class k{constructor(F,Z,de,Ye){this._iterableDiffers=F,this._keyValueDiffers=Z,this._ngEl=de,this._renderer=Ye,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(F){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof F?F.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(F){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof F?F.split(/\s+/):F,this._rawClass&&((0,T.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const F=this._iterableDiffer.diff(this._rawClass);F&&this._applyIterableChanges(F)}else if(this._keyValueDiffer){const F=this._keyValueDiffer.diff(this._rawClass);F&&this._applyKeyValueChanges(F)}}_applyKeyValueChanges(F){F.forEachAddedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),F.forEachChangedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),F.forEachRemovedItem(Z=>{Z.previousValue&&this._toggleClass(Z.key,!1)})}_applyIterableChanges(F){F.forEachAddedItem(Z=>{if("string"!=typeof Z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,T.AaK)(Z.item)}`);this._toggleClass(Z.item,!0)}),F.forEachRemovedItem(Z=>this._toggleClass(Z.item,!1))}_applyClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(Z=>this._toggleClass(Z,!0)):Object.keys(F).forEach(Z=>this._toggleClass(Z,!!F[Z])))}_removeClasses(F){F&&(Array.isArray(F)||F instanceof Set?F.forEach(Z=>this._toggleClass(Z,!1)):Object.keys(F).forEach(Z=>this._toggleClass(Z,!1)))}_toggleClass(F,Z){(F=F.trim())&&F.split(/\s+/g).forEach(de=>{Z?this._renderer.addClass(this._ngEl.nativeElement,de):this._renderer.removeClass(this._ngEl.nativeElement,de)})}}return k.\u0275fac=function(F){return new(F||k)(T.Y36(T.ZZ4),T.Y36(T.aQg),T.Y36(T.SBq),T.Y36(T.Qsj))},k.\u0275dir=T.lG2({type:k,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),k})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class ns{constructor(Y,F,Z,de){this.$implicit=Y,this.ngForOf=F,this.index=Z,this.count=de}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rn=(()=>{class k{constructor(F,Z,de){this._viewContainer=F,this._template=Z,this._differs=de,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(F){this._ngForOf=F,this._ngForOfDirty=!0}set ngForTrackBy(F){this._trackByFn=F}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(F){F&&(this._template=F)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const F=this._ngForOf;!this._differ&&F&&(this._differ=this._differs.find(F).create(this.ngForTrackBy))}if(this._differ){const F=this._differ.diff(this._ngForOf);F&&this._applyChanges(F)}}_applyChanges(F){const Z=this._viewContainer;F.forEachOperation((de,Ye,mt)=>{if(null==de.previousIndex)Z.createEmbeddedView(this._template,new ns(de.item,this._ngForOf,-1,-1),null===mt?void 0:mt);else if(null==mt)Z.remove(null===Ye?void 0:Ye);else if(null!==Ye){const Ot=Z.get(Ye);Z.move(Ot,mt),Gi(Ot,de)}});for(let de=0,Ye=Z.length;de<Ye;de++){const Ot=Z.get(de).context;Ot.index=de,Ot.count=Ye,Ot.ngForOf=this._ngForOf}F.forEachIdentityChange(de=>{Gi(Z.get(de.currentIndex),de)})}static ngTemplateContextGuard(F,Z){return!0}}return k.\u0275fac=function(F){return new(F||k)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36(T.ZZ4))},k.\u0275dir=T.lG2({type:k,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),k})();function Gi(k,Y){k.context.$implicit=Y.item}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let fr=(()=>{class k{constructor(F,Z){this._viewContainer=F,this._context=new hr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(F){this._context.$implicit=this._context.ngIf=F,this._updateView()}set ngIfThen(F){qn("ngIfThen",F),this._thenTemplateRef=F,this._thenViewRef=null,this._updateView()}set ngIfElse(F){qn("ngIfElse",F),this._elseTemplateRef=F,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(F,Z){return!0}}return k.\u0275fac=function(F){return new(F||k)(T.Y36(T.s_b),T.Y36(T.Rgc))},k.\u0275dir=T.lG2({type:k,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),k})();class hr{constructor(){this.$implicit=null,this.ngIf=null}}function qn(k,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${k} must be a TemplateRef, but received '${(0,T.AaK)(Y)}'.`)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let ps=(()=>{class k{constructor(F){this._viewContainerRef=F,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(F){if(F.ngTemplateOutlet){const Z=this._viewContainerRef;this._viewRef&&Z.remove(Z.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Z.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&F.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return k.\u0275fac=function(F){return new(F||k)(T.Y36(T.s_b))},k.\u0275dir=T.lG2({type:k,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[T.TTD]}),k})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class pr{createSubscription(Y,F){return Y.subscribe({next:F,error:Z=>{throw Z}})}dispose(Y){Y.unsubscribe()}onDestroy(Y){Y.unsubscribe()}}class kr{createSubscription(Y,F){return Y.then(F,Z=>{throw Z})}dispose(Y){}onDestroy(Y){}}const ya=new kr,ba=new pr;let wo=(()=>{class k{constructor(F){this._ref=F,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(F){return this._obj?F!==this._obj?(this._dispose(),this.transform(F)):this._latestValue:(F&&this._subscribe(F),this._latestValue)}_subscribe(F){this._obj=F,this._strategy=this._selectStrategy(F),this._subscription=this._strategy.createSubscription(F,Z=>this._updateLatestValue(F,Z))}_selectStrategy(F){if((0,T.QGY)(F))return ya;if((0,T.F4k)(F))return ba;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
throw function Wn(k,Y){return new T.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(F,Z){F===this._obj&&(this._latestValue=Z,this._ref.markForCheck())}}return k.\u0275fac=function(F){return new(F||k)(T.Y36(T.sBO,16))},k.\u0275pipe=T.Yjl({name:"async",type:k,pure:!1}),k})(),Di=(()=>{class k{transform(F){return JSON.stringify(F,null,2)}}return k.\u0275fac=function(F){return new(F||k)},k.\u0275pipe=T.Yjl({name:"json",type:k,pure:!1}),k})(),Yo=(()=>{class k{}return k.\u0275fac=function(F){return new(F||k)},k.\u0275mod=T.oAB({type:k}),k.\u0275inj=T.cJS({}),k})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Fr="browser";function $a(k){return k===Fr}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let ji=(()=>{class k{}return k.\u0275prov=(0,T.Yz7)({token:k,providedIn:"root",factory:()=>new Lr((0,T.LFG)(Be),window)}),k})();class Lr{constructor(Y,F){this.document=Y,this.window=F,this.offset=()=>[0,0]}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Y){this.supportsScrolling()&&this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){if(!this.supportsScrolling())return;const F=function Is(k,Y){const F=k.getElementById(Y)||k.getElementsByName(Y)[0];if(F)return F;if("function"==typeof k.createTreeWalker&&k.body&&(k.body.createShadowRoot||k.body.attachShadow)){const Z=k.createTreeWalker(k.body,NodeFilter.SHOW_ELEMENT);let de=Z.currentNode;for(;de;){const Ye=de.shadowRoot;if(Ye){const mt=Ye.getElementById(Y)||Ye.querySelector(`[name="${Y}"]`);if(mt)return mt}de=Z.nextNode()}}return null}(this.document,Y);F&&(this.scrollToElement(F),F.focus())}setHistoryScrollRestoration(Y){if(this.supportScrollRestoration()){const F=this.window.history;F&&F.scrollRestoration&&(F.scrollRestoration=Y)}}scrollToElement(Y){const F=Y.getBoundingClientRect(),Z=F.left+this.window.pageXOffset,de=F.top+this.window.pageYOffset,Ye=this.offset();this.window.scrollTo(Z-Ye[0],de-Ye[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Y=wr(this.window.history)||wr(Object.getPrototypeOf(this.window.history));return!(!Y||!Y.writable&&!Y.set)}catch(Y){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Y){return!1}}}function wr(k){return Object.getOwnPropertyDescriptor(k,"scrollRestoration")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Xo{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */},520:(gt,Pe,G)=>{"use strict";G.d(Pe,{JF:()=>Pn,TP:()=>We,eN:()=>fe});var T=G(9808),h=G(4893),se=G(9646),Ce=G(8306),me=G(4351),Oe=G(9300),Be=G(4004);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class ke{}class Re{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class xe{constructor(De){this.normalizedNames=new Map,this.lazyUpdate=null,De?this.lazyInit="string"==typeof De?()=>{this.headers=new Map,De.split("\n").forEach(be=>{const ft=be.indexOf(":");if(ft>0){const Xe=be.slice(0,ft),dt=Xe.toLowerCase(),xt=be.slice(ft+1).trim();this.maybeSetNormalizedName(Xe,dt),this.headers.has(dt)?this.headers.get(dt).push(xt):this.headers.set(dt,[xt])}})}:()=>{this.headers=new Map,Object.keys(De).forEach(be=>{let ft=De[be];const Xe=be.toLowerCase();"string"==typeof ft&&(ft=[ft]),ft.length>0&&(this.headers.set(Xe,ft),this.maybeSetNormalizedName(be,Xe))})}:this.headers=new Map}has(De){return this.init(),this.headers.has(De.toLowerCase())}get(De){this.init();const be=this.headers.get(De.toLowerCase());return be&&be.length>0?be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(De){return this.init(),this.headers.get(De.toLowerCase())||null}append(De,be){return this.clone({name:De,value:be,op:"a"})}set(De,be){return this.clone({name:De,value:be,op:"s"})}delete(De,be){return this.clone({name:De,value:be,op:"d"})}maybeSetNormalizedName(De,be){this.normalizedNames.has(be)||this.normalizedNames.set(be,De)}init(){this.lazyInit&&(this.lazyInit instanceof xe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(De=>this.applyUpdate(De)),this.lazyUpdate=null))}copyFrom(De){De.init(),Array.from(De.headers.keys()).forEach(be=>{this.headers.set(be,De.headers.get(be)),this.normalizedNames.set(be,De.normalizedNames.get(be))})}clone(De){const be=new xe;return be.lazyInit=this.lazyInit&&this.lazyInit instanceof xe?this.lazyInit:this,be.lazyUpdate=(this.lazyUpdate||[]).concat([De]),be}applyUpdate(De){const be=De.name.toLowerCase();switch(De.op){case"a":case"s":let ft=De.value;if("string"==typeof ft&&(ft=[ft]),0===ft.length)return;this.maybeSetNormalizedName(De.name,be);const Xe=("a"===De.op?this.headers.get(be):void 0)||[];Xe.push(...ft),this.headers.set(be,Xe);break;case"d":const dt=De.value;if(dt){let xt=this.headers.get(be);if(!xt)return;xt=xt.filter(Vn=>-1===dt.indexOf(Vn)),0===xt.length?(this.headers.delete(be),this.normalizedNames.delete(be)):this.headers.set(be,xt)}else this.headers.delete(be),this.normalizedNames.delete(be)}}forEach(De){this.init(),Array.from(this.normalizedNames.keys()).forEach(be=>De(this.normalizedNames.get(be),this.headers.get(be)))}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Ae{encodeKey(De){return vt(De)}encodeValue(De){return vt(De)}decodeKey(De){return decodeURIComponent(De)}decodeValue(De){return decodeURIComponent(De)}}const Ue=/%(\d[a-f0-9])/gi,Fe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function vt(qe){return encodeURIComponent(qe).replace(Ue,(De,be)=>{var ft;return null!==(ft=Fe[be])&&void 0!==ft?ft:De})}function wt(qe){return`${qe}`}class Me{constructor(De={}){if(this.updates=null,this.cloneFrom=null,this.encoder=De.encoder||new Ae,De.fromString){if(De.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ee(qe,De){const be=new Map;return qe.length>0&&qe.replace(/^\?/,"").split("&").forEach(Xe=>{const dt=Xe.indexOf("="),[xt,Vn]=-1==dt?[De.decodeKey(Xe),""]:[De.decodeKey(Xe.slice(0,dt)),De.decodeValue(Xe.slice(dt+1))],hn=be.get(xt)||[];hn.push(Vn),be.set(xt,hn)}),be}(De.fromString,this.encoder)}else De.fromObject?(this.map=new Map,Object.keys(De.fromObject).forEach(be=>{const ft=De.fromObject[be];this.map.set(be,Array.isArray(ft)?ft:[ft])})):this.map=null}has(De){return this.init(),this.map.has(De)}get(De){this.init();const be=this.map.get(De);return be?be[0]:null}getAll(De){return this.init(),this.map.get(De)||null}keys(){return this.init(),Array.from(this.map.keys())}append(De,be){return this.clone({param:De,value:be,op:"a"})}appendAll(De){const be=[];return Object.keys(De).forEach(ft=>{const Xe=De[ft];Array.isArray(Xe)?Xe.forEach(dt=>{be.push({param:ft,value:dt,op:"a"})}):be.push({param:ft,value:Xe,op:"a"})}),this.clone(be)}set(De,be){return this.clone({param:De,value:be,op:"s"})}delete(De,be){return this.clone({param:De,value:be,op:"d"})}toString(){return this.init(),this.keys().map(De=>{const be=this.encoder.encodeKey(De);return this.map.get(De).map(ft=>be+"="+this.encoder.encodeValue(ft)).join("&")}).filter(De=>""!==De).join("&")}clone(De){const be=new Me({encoder:this.encoder});return be.cloneFrom=this.cloneFrom||this,be.updates=(this.updates||[]).concat(De),be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(De=>this.map.set(De,this.cloneFrom.map.get(De))),this.updates.forEach(De=>{switch(De.op){case"a":case"s":const be=("a"===De.op?this.map.get(De.param):void 0)||[];be.push(wt(De.value)),this.map.set(De.param,be);break;case"d":if(void 0===De.value){this.map.delete(De.param);break}{let ft=this.map.get(De.param)||[];const Xe=ft.indexOf(wt(De.value));-1!==Xe&&ft.splice(Xe,1),ft.length>0?this.map.set(De.param,ft):this.map.delete(De.param)}}}),this.cloneFrom=this.updates=null)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class ut{constructor(){this.map=new Map}set(De,be){return this.map.set(De,be),this}get(De){return this.map.has(De)||this.map.set(De,De.defaultValue()),this.map.get(De)}delete(De){return this.map.delete(De),this}has(De){return this.map.has(De)}keys(){return this.map.keys()}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function rt(qe){return"undefined"!=typeof ArrayBuffer&&qe instanceof ArrayBuffer}function we(qe){return"undefined"!=typeof Blob&&qe instanceof Blob}function Je(qe){return"undefined"!=typeof FormData&&qe instanceof FormData}class bt{constructor(De,be,ft,Xe){let dt;if(this.url=be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=De.toUpperCase(),function nt(qe){switch(qe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Xe?(this.body=void 0!==ft?ft:null,dt=Xe):dt=ft,dt&&(this.reportProgress=!!dt.reportProgress,this.withCredentials=!!dt.withCredentials,dt.responseType&&(this.responseType=dt.responseType),dt.headers&&(this.headers=dt.headers),dt.context&&(this.context=dt.context),dt.params&&(this.params=dt.params)),this.headers||(this.headers=new xe),this.context||(this.context=new ut),this.params){const xt=this.params.toString();if(0===xt.length)this.urlWithParams=be;else{const Vn=be.indexOf("?");this.urlWithParams=be+(-1===Vn?"?":Vn<be.length-1?"&":"")+xt}}else this.params=new Me,this.urlWithParams=be}serializeBody(){return null===this.body?null:rt(this.body)||we(this.body)||Je(this.body)||function St(qe){return"undefined"!=typeof URLSearchParams&&qe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Me?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Je(this.body)?null:we(this.body)?this.body.type||null:rt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Me?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(De={}){var be;const ft=De.method||this.method,Xe=De.url||this.url,dt=De.responseType||this.responseType,xt=void 0!==De.body?De.body:this.body,Vn=void 0!==De.withCredentials?De.withCredentials:this.withCredentials,hn=void 0!==De.reportProgress?De.reportProgress:this.reportProgress;let qt=De.headers||this.headers,Yn=De.params||this.params;const ui=null!==(be=De.context)&&void 0!==be?be:this.context;return void 0!==De.setHeaders&&(qt=Object.keys(De.setHeaders).reduce((ur,Xt)=>ur.set(Xt,De.setHeaders[Xt]),qt)),De.setParams&&(Yn=Object.keys(De.setParams).reduce((ur,Xt)=>ur.set(Xt,De.setParams[Xt]),Yn)),new bt(ft,Xe,xt,{params:Yn,headers:qt,context:ui,reportProgress:hn,responseType:dt,withCredentials:Vn})}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */var K=(()=>((K=K||{})[K.Sent=0]="Sent",K[K.UploadProgress=1]="UploadProgress",K[K.ResponseHeader=2]="ResponseHeader",K[K.DownloadProgress=3]="DownloadProgress",K[K.Response=4]="Response",K[K.User=5]="User",K))();class ne{constructor(De,be=200,ft="OK"){this.headers=De.headers||new xe,this.status=void 0!==De.status?De.status:be,this.statusText=De.statusText||ft,this.url=De.url||null,this.ok=this.status>=200&&this.status<300}}class J extends ne{constructor(De={}){super(De),this.type=K.ResponseHeader}clone(De={}){return new J({headers:De.headers||this.headers,status:void 0!==De.status?De.status:this.status,statusText:De.statusText||this.statusText,url:De.url||this.url||void 0})}}class ue extends ne{constructor(De={}){super(De),this.type=K.Response,this.body=void 0!==De.body?De.body:null}clone(De={}){return new ue({body:void 0!==De.body?De.body:this.body,headers:De.headers||this.headers,status:void 0!==De.status?De.status:this.status,statusText:De.statusText||this.statusText,url:De.url||this.url||void 0})}}class ce extends ne{constructor(De){super(De,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${De.url||"(unknown url)"}`:`Http failure response for ${De.url||"(unknown url)"}: ${De.status} ${De.statusText}`,this.error=De.error||null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Se(qe,De){return{body:De,headers:qe.headers,context:qe.context,observe:qe.observe,params:qe.params,reportProgress:qe.reportProgress,responseType:qe.responseType,withCredentials:qe.withCredentials}}let fe=(()=>{class qe{constructor(be){this.handler=be}request(be,ft,Xe={}){let dt;if(be instanceof bt)dt=be;else{let hn,qt;hn=Xe.headers instanceof xe?Xe.headers:new xe(Xe.headers),Xe.params&&(qt=Xe.params instanceof Me?Xe.params:new Me({fromObject:Xe.params})),dt=new bt(be,ft,void 0!==Xe.body?Xe.body:null,{headers:hn,context:Xe.context,params:qt,reportProgress:Xe.reportProgress,responseType:Xe.responseType||"json",withCredentials:Xe.withCredentials})}const xt=(0,se.of)(dt).pipe((0,me.b)(hn=>this.handler.handle(hn)));if(be instanceof bt||"events"===Xe.observe)return xt;const Vn=xt.pipe((0,Oe.h)(hn=>hn instanceof ue));switch(Xe.observe||"body"){case"body":switch(dt.responseType){case"arraybuffer":return Vn.pipe((0,Be.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return hn.body}));case"blob":return Vn.pipe((0,Be.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof Blob))throw new Error("Response is not a Blob.");return hn.body}));case"text":return Vn.pipe((0,Be.U)(hn=>{if(null!==hn.body&&"string"!=typeof hn.body)throw new Error("Response is not a string.");return hn.body}));default:return Vn.pipe((0,Be.U)(hn=>hn.body))}case"response":return Vn;default:throw new Error(`Unreachable: unhandled observe type ${Xe.observe}}`)}}delete(be,ft={}){return this.request("DELETE",be,ft)}get(be,ft={}){return this.request("GET",be,ft)}head(be,ft={}){return this.request("HEAD",be,ft)}jsonp(be,ft){return this.request("JSONP",be,{params:(new Me).append(ft,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(be,ft={}){return this.request("OPTIONS",be,ft)}patch(be,ft,Xe={}){return this.request("PATCH",be,Se(Xe,ft))}post(be,ft,Xe={}){return this.request("POST",be,Se(Xe,ft))}put(be,ft,Xe={}){return this.request("PUT",be,Se(Xe,ft))}}return qe.\u0275fac=function(be){return new(be||qe)(h.LFG(ke))},qe.\u0275prov=h.Yz7({token:qe,factory:qe.\u0275fac}),qe})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class He{constructor(De,be){this.next=De,this.interceptor=be}handle(De){return this.interceptor.intercept(De,this.next)}}const We=new h.OlP("HTTP_INTERCEPTORS");let st=(()=>{class qe{intercept(be,ft){return ft.handle(be)}}return qe.\u0275fac=function(be){return new(be||qe)},qe.\u0275prov=h.Yz7({token:qe,factory:qe.\u0275fac}),qe})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Sn=/^\)\]\}',?\n/;let mn=(()=>{class qe{constructor(be){this.xhrFactory=be}handle(be){if("JSONP"===be.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ce.y(ft=>{const Xe=this.xhrFactory.build();if(Xe.open(be.method,be.urlWithParams),be.withCredentials&&(Xe.withCredentials=!0),be.headers.forEach((Xt,en)=>Xe.setRequestHeader(Xt,en.join(","))),be.headers.has("Accept")||Xe.setRequestHeader("Accept","application/json, text/plain, */*"),!be.headers.has("Content-Type")){const Xt=be.detectContentTypeHeader();null!==Xt&&Xe.setRequestHeader("Content-Type",Xt)}if(be.responseType){const Xt=be.responseType.toLowerCase();Xe.responseType="json"!==Xt?Xt:"text"}const dt=be.serializeBody();let xt=null;const Vn=()=>{if(null!==xt)return xt;const Xt=Xe.statusText||"OK",en=new xe(Xe.getAllResponseHeaders()),pn=function zn(qe){return"responseURL"in qe&&qe.responseURL?qe.responseURL:/^X-Request-URL:/m.test(qe.getAllResponseHeaders())?qe.getResponseHeader("X-Request-URL"):null}(Xe)||be.url;return xt=new J({headers:en,status:Xe.status,statusText:Xt,url:pn}),xt},hn=()=>{let{headers:Xt,status:en,statusText:pn,url:Nr}=Vn(),Rn=null;204!==en&&(Rn=void 0===Xe.response?Xe.responseText:Xe.response),0===en&&(en=Rn?200:0);let vn=en>=200&&en<300;if("json"===be.responseType&&"string"==typeof Rn){const Hi=Rn;Rn=Rn.replace(Sn,"");try{Rn=""!==Rn?JSON.parse(Rn):null}catch(Cr){Rn=Hi,vn&&(vn=!1,Rn={error:Cr,text:Rn})}}vn?(ft.next(new ue({body:Rn,headers:Xt,status:en,statusText:pn,url:Nr||void 0})),ft.complete()):ft.error(new ce({error:Rn,headers:Xt,status:en,statusText:pn,url:Nr||void 0}))},qt=Xt=>{const{url:en}=Vn(),pn=new ce({error:Xt,status:Xe.status||0,statusText:Xe.statusText||"Unknown Error",url:en||void 0});ft.error(pn)};let Yn=!1;const ui=Xt=>{Yn||(ft.next(Vn()),Yn=!0);let en={type:K.DownloadProgress,loaded:Xt.loaded};Xt.lengthComputable&&(en.total=Xt.total),"text"===be.responseType&&!!Xe.responseText&&(en.partialText=Xe.responseText),ft.next(en)},ur=Xt=>{let en={type:K.UploadProgress,loaded:Xt.loaded};Xt.lengthComputable&&(en.total=Xt.total),ft.next(en)};return Xe.addEventListener("load",hn),Xe.addEventListener("error",qt),Xe.addEventListener("timeout",qt),Xe.addEventListener("abort",qt),be.reportProgress&&(Xe.addEventListener("progress",ui),null!==dt&&Xe.upload&&Xe.upload.addEventListener("progress",ur)),Xe.send(dt),ft.next({type:K.Sent}),()=>{Xe.removeEventListener("error",qt),Xe.removeEventListener("abort",qt),Xe.removeEventListener("load",hn),Xe.removeEventListener("timeout",qt),be.reportProgress&&(Xe.removeEventListener("progress",ui),null!==dt&&Xe.upload&&Xe.upload.removeEventListener("progress",ur)),Xe.readyState!==Xe.DONE&&Xe.abort()}})}}return qe.\u0275fac=function(be){return new(be||qe)(h.LFG(T.JF))},qe.\u0275prov=h.Yz7({token:qe,factory:qe.\u0275fac}),qe})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Bi=new h.OlP("XSRF_COOKIE_NAME"),yi=new h.OlP("XSRF_HEADER_NAME");class On{}let Tr=(()=>{class qe{constructor(be,ft,Xe){this.doc=be,this.platform=ft,this.cookieName=Xe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const be=this.doc.cookie||"";return be!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,T.Mx)(be,this.cookieName),this.lastCookieString=be),this.lastToken}}return qe.\u0275fac=function(be){return new(be||qe)(h.LFG(T.K0),h.LFG(h.Lbi),h.LFG(Bi))},qe.\u0275prov=h.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),wn=(()=>{class qe{constructor(be,ft){this.tokenService=be,this.headerName=ft}intercept(be,ft){const Xe=be.url.toLowerCase();if("GET"===be.method||"HEAD"===be.method||Xe.startsWith("http://")||Xe.startsWith("https://"))return ft.handle(be);const dt=this.tokenService.getToken();return null!==dt&&!be.headers.has(this.headerName)&&(be=be.clone({headers:be.headers.set(this.headerName,dt)})),ft.handle(be)}}return qe.\u0275fac=function(be){return new(be||qe)(h.LFG(On),h.LFG(yi))},qe.\u0275prov=h.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),tr=(()=>{class qe{constructor(be,ft){this.backend=be,this.injector=ft,this.chain=null}handle(be){if(null===this.chain){const ft=this.injector.get(We,[]);this.chain=ft.reduceRight((Xe,dt)=>new He(Xe,dt),this.backend)}return this.chain.handle(be)}}return qe.\u0275fac=function(be){return new(be||qe)(h.LFG(Re),h.LFG(h.zs3))},qe.\u0275prov=h.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Ht=(()=>{class qe{static disable(){return{ngModule:qe,providers:[{provide:wn,useClass:st}]}}static withOptions(be={}){return{ngModule:qe,providers:[be.cookieName?{provide:Bi,useValue:be.cookieName}:[],be.headerName?{provide:yi,useValue:be.headerName}:[]]}}}return qe.\u0275fac=function(be){return new(be||qe)},qe.\u0275mod=h.oAB({type:qe}),qe.\u0275inj=h.cJS({providers:[wn,{provide:We,useExisting:wn,multi:!0},{provide:On,useClass:Tr},{provide:Bi,useValue:"XSRF-TOKEN"},{provide:yi,useValue:"X-XSRF-TOKEN"}]}),qe})(),Pn=(()=>{class qe{}return qe.\u0275fac=function(be){return new(be||qe)},qe.\u0275mod=h.oAB({type:qe}),qe.\u0275inj=h.cJS({providers:[fe,{provide:ke,useClass:tr},mn,{provide:Re,useExisting:mn}],imports:[[Ht.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),qe})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */,4893:(gt,Pe,G)=>{"use strict";G.d(Pe,{deG:()=>Qb,tb:()=>TC,AFp:()=>_C,ip1:()=>zy,CZH:()=>Cm,hGG:()=>cb,z2F:()=>Nh,sBO:()=>tb,Sil:()=>CC,_Vd:()=>yh,EJc:()=>Ul,SBq:()=>Hl,qLn:()=>_l,vpe:()=>Ua,tBr:()=>fi,XFs:()=>Ft,OlP:()=>Ri,zs3:()=>la,ZZ4:()=>ob,aQg:()=>lb,soG:()=>Bd,YKP:()=>py,h0i:()=>sc,PXZ:()=>bE,R0b:()=>va,FiY:()=>Oc,Lbi:()=>xh,g9A:()=>bC,Qsj:()=>CS,FYo:()=>uy,JOm:()=>ra,tp0:()=>Pc,Rgc:()=>Fd,dDg:()=>Ky,GfV:()=>am,s_b:()=>Ch,ifc:()=>qt,eFA:()=>Im,G48:()=>eb,Gpc:()=>wt,_c5:()=>VC,VLi:()=>Xy,c2e:()=>Em,zSh:()=>cd,wAp:()=>tn,vHH:()=>nt,cg1:()=>zg,kL8:()=>Qu,dqk:()=>en,sIi:()=>pd,CqO:()=>i_,QGY:()=>Ig,F4k:()=>n_,RDi:()=>Y,AaK:()=>Ue,qOj:()=>ku,TTD:()=>Fr,_Bn:()=>ma,xp6:()=>Uv,uIk:()=>Kf,Tol:()=>v_,ekj:()=>ih,Suo:()=>My,Xpm:()=>un,lG2:()=>gi,Yz7:()=>mn,cJS:()=>yi,oAB:()=>Jn,Yjl:()=>Kn,Y36:()=>vd,_UZ:()=>Zf,BQk:()=>Jf,ynx:()=>Yu,qZA:()=>Ol,TgZ:()=>Vo,EpF:()=>Ng,n5z:()=>ul,Ikx:()=>$g,SDv:()=>js,QtT:()=>mh,pQV:()=>ds,LFG:()=>Ur,$8M:()=>rf,$Z:()=>wg,NdJ:()=>Og,CRH:()=>Ny,oxw:()=>Ku,ALo:()=>Sy,lcZ:()=>FS,Hsn:()=>l_,F$t:()=>o_,Q6J:()=>xg,s9C:()=>Rg,MGl:()=>eh,DdM:()=>MS,VKq:()=>NS,WLB:()=>cm,kEZ:()=>dm,iGM:()=>ZS,MAs:()=>vg,Jf7:()=>Nv,CHM:()=>xa,oJD:()=>cp,LSH:()=>_f,Udp:()=>nh,YNc:()=>V0,W1O:()=>Ry,_uU:()=>D_,Oqu:()=>jg,hij:()=>ah,AsE:()=>fa,Gf:()=>JS});var T=G(7579),h=G(727),se=G(8306),Ce=G(6451),me=G(2076),Oe=G(5698),Be=G(930),ke=G(4482);function xe(a,o,...u){return!0===o?(a(),null):!1===o?null:o(...u).pipe((0,Oe.q)(1)).subscribe(()=>a())}
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ae(a){for(let o in a)if(a[o]===Ae)return o;throw Error("Could not find renamed property on target object.")}function Ee(a,o){for(const u in o)o.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=o[u])}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ue(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Ue).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const o=a.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Fe(a,o){return null==a||""===a?null===o?"":o:null==o||""===o?a:a+" "+o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const vt=Ae({__forward_ref__:Ae});function wt(a){return a.__forward_ref__=wt,a.toString=function(){return Ue(this())},a}function Me(a){return Tt(a)?a():a}function Tt(a){return"function"==typeof a&&a.hasOwnProperty(vt)&&a.__forward_ref__===wt}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class nt extends Error{constructor(o,u){super(function rt(a,o){return`NG0${Math.abs(a)}${o?": "+o:""}`}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(o,u)),this.code=o}}function we(a){return"string"==typeof a?a:null==a?"":String(a)}function Je(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():we(a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function ne(a,o){const u=o?` in ${o}`:"";throw new nt(-201,`No provider for ${Je(a)} found${u}`)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Nt(a,o,u,c){throw new Error(`ASSERTION ERROR: ${a}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function mn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function yi(a){return{providers:a.providers||[],imports:a.imports||[]}}function On(a){return Tr(a,Sr)||Tr(a,Pn)}function Tr(a,o){return a.hasOwnProperty(o)?a[o]:null}function si(a){return a&&(a.hasOwnProperty(Ht)||a.hasOwnProperty(Ki))?a[Ht]:null}const Sr=Ae({\u0275prov:Ae}),Ht=Ae({\u0275inj:Ae}),Pn=Ae({ngInjectableDef:Ae}),Ki=Ae({ngInjectorDef:Ae});
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */var Ft=(()=>((Ft=Ft||{})[Ft.Default=0]="Default",Ft[Ft.Host=1]="Host",Ft[Ft.Self=2]="Self",Ft[Ft.SkipSelf=4]="SkipSelf",Ft[Ft.Optional=8]="Optional",Ft))();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let qe;function be(a){const o=qe;return qe=a,o}function ft(a,o,u){const c=On(a);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&Ft.Optional?null:void 0!==o?o:void ne(Ue(a),"Injector")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function dt(a){return{toString:a}.toString()}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */var xt=(()=>((xt=xt||{})[xt.OnPush=0]="OnPush",xt[xt.Default=1]="Default",xt))(),qt=(()=>{return(a=qt||(qt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",qt;var a})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Yn="undefined"!=typeof globalThis&&globalThis,ui="undefined"!=typeof window&&window,ur="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,en=Yn||"undefined"!=typeof global&&global||ui||ur,Rn={},vn=[],Hi=Ae({\u0275cmp:Ae}),Cr=Ae({\u0275dir:Ae}),te=Ae({\u0275pipe:Ae}),ee=Ae({\u0275mod:Ae}),ye=Ae({\u0275fac:Ae}),Ke=Ae({__NG_ELEMENT_ID__:Ae});
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let yt=0;function un(a){return dt(()=>{const u={},c={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===xt.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||vn,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||qt.Emulated,id:"c",styles:a.styles||vn,_:null,setInput:null,schemas:a.schemas||null,tView:null},f=a.directives,g=a.features,v=a.pipes;return c.id+=yt++,c.inputs=on(a.inputs,u),c.outputs=on(a.outputs),g&&g.forEach(S=>S(c)),c.directiveDefs=f?()=>("function"==typeof f?f():f).map(_n):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(Ui):null,c})}function _n(a){return Cn(a)||function Vi(a){return a[Cr]||null}(a)}function Ui(a){return function gn(a){return a[te]||null}(a)}const Gn={};function Jn(a){return dt(()=>{const o={type:a.type,bootstrap:a.bootstrap||vn,declarations:a.declarations||vn,imports:a.imports||vn,exports:a.exports||vn,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Gn[a.id]=a.type),o})}function on(a,o){if(null==a)return Rn;const u={};for(const c in a)if(a.hasOwnProperty(c)){let f=a[c],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),u[f]=c,o&&(o[f]=g)}return u}const gi=un;function Kn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Cn(a){return a[Hi]||null}function bi(a,o){const u=a[ee]||null;if(!u&&!0===o)throw new Error(`Type ${Ue(a)} does not have '\u0275mod' property.`);return u}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Xi(a){return Array.isArray(a)&&"object"==typeof a[1]}function Si(a){return Array.isArray(a)&&!0===a[1]}function ps(a){return 0!=(8&a.flags)}function Ks(a){return 2==(2&a.flags)}function Wn(a){return 1==(1&a.flags)}function pr(a){return null!==a.template}function kr(a){return 0!=(512&a[2])}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Er(a,o){return a.hasOwnProperty(ye)?a[ye]:null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Yo{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Fr(){return wa}function wa(a){return a.type.prototype.ngOnChanges&&(a.setInput=Wa),Ko}function Ko(){const a=ms(this),o=null==a?void 0:a.current;if(o){const u=a.previous;if(u===Rn)a.previous=o;else for(let c in o)u[c]=o[c];a.current=null,this.ngOnChanges(o)}}function Wa(a,o,u,c){const f=ms(a)||function za(a,o){return a[$a]=o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(a,{previous:Rn,current:null}),g=f.current||(f.current={}),v=f.previous,S=this.declaredInputs[u],A=v[S];g[S]=new Yo(A&&A.currentValue,o,v===Rn),a[c]=o}Fr.ngInherit=!0;const $a="__ngSimpleChanges__";function ms(a){return a[$a]||null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let k;function Y(a){k=a}function F(){return void 0!==k?k:"undefined"!=typeof document?document:void 0}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function de(a){return!!a.listen}const Ye={createRenderer:(a,o)=>F()};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ot(a){for(;Array.isArray(a);)a=a[0];return a}function Nn(a,o){return Ot(o[a])}function sn(a,o){return Ot(o[a.index])}function Xn(a,o){return a.data[o]}function lt(a,o){return a[o]}function Un(a,o){const u=o[a];return Xi(u)?u:u[0]}function Br(a){return 4==(4&a[2])}function Yt(a){return 128==(128&a[2])}function mr(a,o){return null==o?null:a[o]}function Et(a){a[18]=0}function Ya(a,o){a[5]+=o;let u=a,c=a[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}const P={lFrame:el(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wt(){return P.bindingsEnabled}function ct(){return P.lFrame.lView}function dn(){return P.lFrame.tView}function xa(a){return P.lFrame.contextLView=a,a[8]}function mi(){let a=Ka();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ka(){return P.lFrame.currentTNode}function Aa(){const a=P.lFrame,o=a.currentTNode;return a.isParent?o:o.parent}function Os(a,o){const u=P.lFrame;u.currentTNode=a,u.isParent=o}function ql(){return P.lFrame.isParent}function mc(){P.lFrame.isParent=!1}function Qo(){return P.isInCheckNoChangesMode}function Yr(a){P.isInCheckNoChangesMode=a}function vr(){const a=P.lFrame;let o=a.bindingRootIndex;return-1===o&&(o=a.bindingRootIndex=a.tView.bindingStartIndex),o}function Ps(){return P.lFrame.bindingIndex}function qs(){return P.lFrame.bindingIndex++}function Xs(a){const o=P.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+a,u}function Zd(a){P.lFrame.inI18n=a}function Jd(a,o){const u=P.lFrame;u.bindingIndex=u.bindingRootIndex=a,_c(o)}function _c(a){P.lFrame.currentDirectiveIndex=a}function vs(){return P.lFrame.currentQueryIndex}function yc(a){P.lFrame.currentQueryIndex=a}function Qm(a){const o=a[1];return 2===o.type?o.declTNode:1===o.type?a[6]:null}function Zo(a,o,u){if(u&Ft.SkipSelf){let f=o,g=a;for(;!(f=f.parent,null!==f||u&Ft.Host||(f=Qm(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;o=f,a=g}const c=P.lFrame=xo();return c.currentTNode=o,c.lView=a,!0}function Jo(a){const o=xo(),u=a[1];P.lFrame=o,o.currentTNode=u.firstChild,o.lView=a,o.tView=u,o.contextLView=a,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function xo(){const a=P.lFrame,o=null===a?null:a.child;return null===o?el(a):o}function el(a){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=o),o}function Zl(){const a=P.lFrame;return P.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const bc=Zl;function tl(){const a=Zl();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function $n(){return P.lFrame.selectedIndex}function Ia(a){P.lFrame.selectedIndex=a}function vi(){const a=P.lFrame;return Xn(a.tView,a.selectedIndex)}function rl(a,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:S,ngAfterViewInit:A,ngAfterViewChecked:U,ngOnDestroy:W}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-u,v),S&&((a.contentHooks||(a.contentHooks=[])).push(u,S),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,S)),A&&(a.viewHooks||(a.viewHooks=[])).push(-u,A),U&&((a.viewHooks||(a.viewHooks=[])).push(u,U),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,U)),null!=W&&(a.destroyHooks||(a.destroyHooks=[])).push(u,W)}}function sl(a,o,u){Ao(a,o,3,u)}function qa(a,o,u,c){(3&a[2])===u&&Ao(a,o,u,c)}function al(a,o){let u=a[2];(3&u)===o&&(u&=2047,u+=1,a[2]=u)}function Ao(a,o,u,c){const g=null!=c?c:-1,v=o.length-1;let S=0;for(let A=void 0!==c?65535&a[18]:0;A<v;A++)if("number"==typeof o[A+1]){if(S=o[A],null!=c&&S>=c)break}else o[A]<0&&(a[18]+=65536),(S<g||-1==g)&&(_s(a,u,o,A),a[18]=(4294901760&a[18])+A+2),A++}function _s(a,o,u,c){const f=u[c]<0,g=u[c+1],S=a[f?-u[c]:u[c]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===o){a[2]+=2048;try{g.call(S)}finally{}}}else try{g.call(S)}finally{}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Mo{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function eu(a,o,u){const c=de(a);let f=0;for(;f<u.length;){const g=u[f];if("number"==typeof g){if(0!==g)break;f++;const v=u[f++],S=u[f++],A=u[f++];c?a.setAttribute(o,S,A,v):o.setAttributeNS(v,S,A)}else{const v=g,S=u[++f];tu(v)?c&&a.setProperty(o,v,S):c?a.setAttribute(o,v,S):o.setAttribute(v,S),f++}}return f}function ol(a){return 3===a||4===a||6===a}function tu(a){return 64===a.charCodeAt(0)}function nu(a,o){if(null!==o&&0!==o.length)if(null===a||0===a.length)a=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const f=o[c];"number"==typeof f?u=f:0===u||Cc(a,u,f,null,-1===u||2===u?o[++c]:null)}}return a}function Cc(a,o,u,c,f){let g=0,v=a.length;if(-1===o)v=-1;else for(;g<a.length;){const S=a[g++];if("number"==typeof S){if(S===o){v=-1;break}if(S>o){v=g-1;break}}}for(;g<a.length;){const S=a[g];if("number"==typeof S)break;if(S===u){if(null===c)return void(null!==f&&(a[g+1]=f));if(c===a[g+1])return void(a[g+2]=f)}g++,null!==c&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,o),g=v+1),a.splice(g++,0,u),null!==c&&a.splice(g++,0,c),null!==f&&a.splice(g++,0,f)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function ll(a){return-1!==a}function Qa(a){return 32767&a}function C(a,o){let u=function w(a){return a>>16}(a),c=o;for(;u>0;)c=c[15],u--;return c}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let b=!0;function R(a){const o=b;return b=a,o}let ge=0;function Bt(a,o){const u=zt(a,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(a.injectorIndex=o.length,fn(c.data,a),fn(o,null),fn(c.blueprint,null));const f=An(a,o),g=a.injectorIndex;if(ll(f)){const v=Qa(f),S=C(f,o),A=S[1].data;for(let U=0;U<8;U++)o[g+U]=S[v+U]|A[v+U]}return o[g+8]=f,g}function fn(a,o){a.push(0,0,0,0,0,0,0,0,o)}function zt(a,o){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===o[a.injectorIndex+8]?-1:a.injectorIndex}function An(a,o){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,c=null,f=o;for(;null!==f;){const g=f[1],v=g.type;if(c=2===v?g.declTNode:1===v?f[6]:null,null===c)return-1;if(u++,f=f[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function Mn(a,o,u){!function Qe(a,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(Ke)&&(c=u[Ke]),null==c&&(c=u[Ke]=ge++);const f=255&c;o.data[a+(f>>5)]|=1<<f}(a,o,u)}function Zs(a,o,u){if(u&Ft.Optional)return a;ne(o,"NodeInjector")}function iu(a,o,u,c){if(u&Ft.Optional&&void 0===c&&(c=null),0==(u&(Ft.Self|Ft.Host))){const f=a[9],g=be(void 0);try{return f?f.get(o,c,u&Ft.Optional):ft(o,c,u&Ft.Optional)}finally{be(g)}}return Zs(c,o,u)}function Dc(a,o,u,c=Ft.Default,f){if(null!==a){const g=function qb(a){if("string"==typeof a)return a.charCodeAt(0)||0;const o=a.hasOwnProperty(Ke)?a[Ke]:void 0;return"number"==typeof o?o>=0?255&o:Yh:o}(u);if("function"==typeof g){if(!Zo(o,a,c))return c&Ft.Host?Zs(f,u,c):iu(o,u,c,f);try{const v=g(c);if(null!=v||c&Ft.Optional)return v;ne(u)}finally{bc()}}else if("number"==typeof g){let v=null,S=zt(a,o),A=-1,U=c&Ft.Host?o[16][6]:null;for((-1===S||c&Ft.SkipSelf)&&(A=-1===S?An(a,o):o[S+8],-1!==A&&Pi(c,!1)?(v=o[1],S=Qa(A),o=C(A,o)):S=-1);-1!==S;){const W=o[1];if(Jm(g,S,W.data)){const re=Kb(S,o,u,v,c,U);if(re!==Za)return re}A=o[S+8],-1!==A&&Pi(c,o[1].data[S+8]===U)&&Jm(g,S,o)?(v=W,S=Qa(A),o=C(A,o)):S=-1}}}return iu(o,u,c,f)}const Za={};function Yh(){return new No(mi(),ct())}function Kb(a,o,u,c,f,g){const v=o[1],S=v.data[a+8],W=nf(S,v,u,null==c?Ks(S)&&b:c!=v&&0!=(3&S.type),f&Ft.Host&&g===S);return null!==W?Ec(o,v,W,S):Za}function nf(a,o,u,c,f){const g=a.providerIndexes,v=o.data,S=1048575&g,A=a.directiveStart,W=g>>20,pe=f?S+W:a.directiveEnd;for(let Le=c?S:S+W;Le<pe;Le++){const et=v[Le];if(Le<A&&u===et||Le>=A&&et.type===u)return Le}if(f){const Le=v[A];if(Le&&pr(Le)&&Le.type===u)return A}return null}function Ec(a,o,u,c){let f=a[u];const g=o.data;if(function Wh(a){return a instanceof Mo}(f)){const v=f;v.resolving&&function St(a,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${a}`:"";throw new nt(-200,`Circular dependency in DI detected for ${a}${u}`)}(Je(g[u]));const S=R(v.canSeeViewProviders);v.resolving=!0;const A=v.injectImpl?be(v.injectImpl):null;Zo(a,c,Ft.Default);try{f=a[u]=v.factory(void 0,g,a,c),o.firstCreatePass&&u>=c.directiveStart&&
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function il(a,o,u){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:g}=o.type.prototype;if(c){const v=wa(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],o)}finally{null!==A&&be(A),R(S),v.resolving=!1,bc()}}return f}function Jm(a,o,u){return!!(u[o+(a>>5)]&1<<a)}function Pi(a,o){return!(a&Ft.Self||a&Ft.Host&&o)}class No{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return Dc(this._tNode,this._lView,o,c,u)}}function ul(a){return dt(()=>{const o=a.prototype.constructor,u=o[ye]||Kh(o),c=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==c;){const g=f[ye]||Kh(f);if(g&&g!==u)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function Kh(a){return Tt(a)?()=>{const o=Kh(Me(a));return o&&o()}:Er(a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function rf(a){return function Rs(a,o){if("class"===o)return a.classes;if("style"===o)return a.styles;const u=a.attrs;if(u){const c=u.length;let f=0;for(;f<c;){const g=u[f];if(ol(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<c&&"string"==typeof u[f];)f++;else{if(g===o)return u[f+1];f+=2}}}return null}(mi(),a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const ru="__parameters__";function su(a,o,u){return dt(()=>{const c=function qh(a){return function(...u){if(a){const c=a(...u);for(const f in c)this[f]=c[f]}}}(o);function f(...g){if(this instanceof f)return c.apply(this,g),this;const v=new f(...g);return S.annotation=v,S;function S(A,U,W){const re=A.hasOwnProperty(ru)?A[ru]:Object.defineProperty(A,ru,{value:[]})[ru];for(;re.length<=W;)re.push(null);return(re[W]=re[W]||[]).push(v),A}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Ri{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=mn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Qb=new Ri("AnalyzeForEntryComponents");function ks(a,o){void 0===o&&(o=a);for(let u=0;u<a.length;u++){let c=a[u];Array.isArray(c)?(o===a&&(o=a.slice(0,u)),ks(c,o)):o!==a&&o.push(c)}return o}function $t(a,o){a.forEach(u=>Array.isArray(u)?$t(u,o):o(u))}function tT(a,o,u){o>=a.length?a.push(u):a.splice(o,0,u)}function Qh(a,o){return o>=a.length-1?a.pop():a.splice(o,1)[0]}function $i(a,o){const u=[];for(let c=0;c<a;c++)u.push(o);return u}function ys(a,o,u){let c=au(a,o);return c>=0?a[1|c]=u:(c=~c,function gD(a,o,u,c){let f=a.length;if(f==o)a.push(u,c);else if(1===f)a.push(c,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>o;)a[f]=a[f-2],f--;a[o]=u,a[o+1]=c}}(a,c,o,u)),c}function lf(a,o){const u=au(a,o);if(u>=0)return a[1|u]}function au(a,o){return function nT(a,o,u){let c=0,f=a.length>>u;for(;f!==c;){const g=c+(f-c>>1),v=a[g<<u];if(o===v)return g<<u;v>o?f=g:c=g+1}return~(f<<u)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(a,o,1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const uf={},Mc="__NG_DI_FLAG__",cf="ngTempTokenPath",ep=/\n/gm,cl="__source",Nc=Ae({provide:String,useValue:Ae});let Ic;function iv(a){const o=Ic;return Ic=a,o}function yD(a,o=Ft.Default){if(void 0===Ic)throw new nt(203,"");return null===Ic?ft(a,void 0,o):Ic.get(a,o&Ft.Optional?null:void 0,o)}function Ur(a,o=Ft.Default){return(function De(){return qe}()||yD)(Me(a),o)}const tp=Ur;function np(a){const o=[];for(let u=0;u<a.length;u++){const c=Me(a[u]);if(Array.isArray(c)){if(0===c.length)throw new nt(900,"");let f,g=Ft.Default;for(let v=0;v<c.length;v++){const S=c[v],A=rv(S);"number"==typeof A?-1===A?f=S.token:g|=A:f=S}o.push(Ur(f,g))}else o.push(Ur(c))}return o}function Js(a,o){return a[Mc]=o,a.prototype[Mc]=o,a}function rv(a){return a[Mc]}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const fi=Js(su("Inject",a=>({token:a})),-1),Oc=Js(su("Optional"),8),Pc=Js(su("SkipSelf"),4);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let ea,Rc;function dl(a){var o;return(null===(o=function sp(){if(void 0===ea&&(ea=null,en.trustedTypes))try{ea=en.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return ea}())||void 0===o?void 0:o.createHTML(a))||a}function kc(a){var o;return(null===(o=function fl(){if(void 0===Rc&&(Rc=null,en.trustedTypes))try{Rc=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Rc}())||void 0===o?void 0:o.createHTML(a))||a}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class fv{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function bs(a){return a instanceof fv?a.changingThisBreaksApplicationSecurity:a}function Lc(a,o){const u=function ki(a){return a instanceof fv&&a.getTypeName()||null}(a);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function mv(a){const o=new fT(a);return function to(){try{return!!(new window.DOMParser).parseFromString(dl(""),"text/html")}catch(a){return!1}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */()?new vv(o):o}class vv{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(dl(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class fT{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=dl(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=dl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const op=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_v=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Oo(a){return(a=String(a)).match(op)||a.match(_v)?a:"unsafe:"+a}function Oa(a){return(a=String(a)).split(",").map(o=>Oo(o.trim())).join(", ")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function ta(a){const o={};for(const u of a.split(","))o[u]=!0;return o}function no(...a){const o={};for(const u of a)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const mf=ta("area,br,col,hr,img,wbr"),lp=ta("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hl=ta("rp,rt"),uu=no(mf,no(lp,ta("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),no(hl,ta("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),no(hl,lp)),up=ta("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vf=ta("srcset"),pl=no(up,vf,ta("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ta("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),cu=ta("script,style,template");class Tv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!uu.hasOwnProperty(u))return this.sanitizedSomething=!0,!cu.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let f=0;f<c.length;f++){const g=c.item(f),v=g.name,S=v.toLowerCase();if(!pl.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let A=g.value;up[S]&&(A=Oo(A)),vf[S]&&(A=Oa(A)),this.buf.push(" ",v,'="',Po(A),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();uu.hasOwnProperty(u)&&!mf.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Po(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const Sv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,In=/([^\#-~ |!])/g;function Po(a){return a.replace(/&/g,"&amp;").replace(Sv,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(In,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let du;function na(a){return"content"in a&&function Bc(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(a)?a.content:null}var zi=(()=>((zi=zi||{})[zi.NONE=0]="NONE",zi[zi.HTML=1]="HTML",zi[zi.STYLE=2]="STYLE",zi[zi.SCRIPT=3]="SCRIPT",zi[zi.URL=4]="URL",zi[zi.RESOURCE_URL=5]="RESOURCE_URL",zi))();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function cp(a){const o=vl();return o?kc(o.sanitize(zi.HTML,a)||""):Lc(a,"HTML")?kc(bs(a)):function gl(a,o){let u=null;try{du=du||mv(a);let c=o?String(o):"";u=du.getInertBodyElement(c);let f=5,g=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=g,g=u.innerHTML,u=du.getInertBodyElement(c)}while(c!==g);return dl((new Tv).sanitizeChildren(na(u)||u))}finally{if(u){const c=na(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}(F(),we(a))}function _f(a){const o=vl();return o?o.sanitize(zi.URL,a)||"":Lc(a,"URL")?bs(a):Oo(we(a))}function vl(){const a=ct();return a&&a[12]}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const hu="__ngContext__";function xi(a,o){a[hu]=o}function bf(a){const o=function pu(a){return a[hu]||null}(a);return o?Array.isArray(o)?o:o.lView:null}function Sf(a){return a.ngOriginalError}function Cf(a,...o){a.error(...o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class _l{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),c=function mp(a){return a&&a.ngErrorLogger||Cf}(o);c(this._console,"ERROR",o),u&&c(this._console,"ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Sf(o);for(;u&&Sf(u);)u=Sf(u);return u||null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Ts=/^>|^->|<!--|-->|--!>|<!-$/g,Gr=/(<|>)/;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const ro=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(en))();function Nv(a){return a.ownerDocument.defaultView}function yr(a){return a instanceof Function?a():a}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
var ra=(()=>((ra=ra||{})[ra.Important=1]="Important",ra[ra.DashCase=2]="DashCase",ra))();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Wc;function ao(a,o){return Wc(a,o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function $c(a){const o=a[3];return Si(o)?o[3]:o}function Ai(a){return pi(a[13])}function _p(a){return pi(a[4])}function pi(a){for(;null!==a&&!Si(a);)a=a[4];return a}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function mu(a,o,u,c,f){if(null!=c){let g,v=!1;Si(c)?g=c:Xi(c)&&(v=!0,c=c[0]);const S=Ot(c);0===a&&null!==u?null==f?kv(o,u,S):Ls(o,u,S,f||null,!0):1===a&&null!==u?Ls(o,u,S,f||null,!0):2===a?wp(o,S,v):3===a&&o.destroyNode(S),null!=g&&function Bv(a,o,u,c,f){const g=u[7];g!==Ot(u)&&mu(o,a,c,g,f);for(let S=10;S<u.length;S++){const A=u[S];Ro(A[1],A,a,o,c,g)}}(o,a,g,u,f)}}function yp(a,o){return de(a)?a.createText(o):a.createTextNode(o)}function Ef(a,o,u){de(a)?a.setValue(o,u):o.textContent=u}function _t(a,o){return a.createComment(function Vc(a){return a.replace(Ts,o=>o.replace(Gr,"\u200b$1\u200b"))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(o))}function bp(a,o,u){if(de(a))return a.createElement(o,u);{const c=null!==u?function Xo(a){const o=a.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(u):null;return null===c?a.createElement(o):a.createElementNS(c,o)}}function _u(a,o){const u=a[9],c=u.indexOf(o),f=o[3];1024&o[2]&&(o[2]&=-1025,Ya(f,-1)),u.splice(c,1)}function Fs(a,o){if(a.length<=10)return;const u=10+o,c=a[u];if(c){const f=c[17];null!==f&&f!==a&&_u(f,c),o>0&&(a[u-1][4]=c[4]);const g=Qh(a,10+o);!function Ov(a,o){Ro(a,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=g[19];null!==v&&v.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function wf(a,o){if(!(256&o[2])){const u=o[11];de(u)&&u.destroyNode&&Ro(a,o,u,3,null,null),function Pv(a){let o=a[13];if(!o)return Sp(a[1],a);for(;o;){let u=null;if(Xi(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==a;)Xi(o)&&Sp(o[1],o),o=o[3];null===o&&(o=a),Xi(o)&&Sp(o[1],o),u=o&&o[4]}o=u}}(o)}}function Sp(a,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Rv(a,o){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let c=0;c<u.length;c+=2){const f=o[u[c]];if(!(f instanceof Mo)){const g=u[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const S=f[g[v]],A=g[v+1];try{A.call(S)}finally{}}else try{g.call(f)}finally{}}}}(a,o),function CT(a,o){const u=a.cleanup,c=o[7];let f=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],S="function"==typeof v?v(o):Ot(o[v]),A=c[f=u[g+2]],U=u[g+3];"boolean"==typeof U?S.removeEventListener(u[g],A,U):U>=0?c[f=U]():c[f=-U].unsubscribe(),g+=2}else{const v=c[f=u[g+1]];u[g].call(v)}if(null!==c){for(let g=f+1;g<c.length;g++)c[g]();o[7]=null}}(a,o),1===o[1].type&&de(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&Si(o[3])){u!==o[3]&&_u(u,o);const c=o[19];null!==c&&c.detachView(a)}}}function xf(a,o,u){return bl(a,o.parent,u)}function bl(a,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const f=a.data[c.directiveStart].encapsulation;if(f===qt.None||f===qt.Emulated)return null}return sn(c,u)}function Ls(a,o,u,c,f){de(a)?a.insertBefore(o,u,c,f):o.insertBefore(u,c,f)}function kv(a,o,u){de(a)?a.appendChild(o,u):o.appendChild(u)}function Af(a,o,u,c,f){null!==c?Ls(a,o,u,c,f):kv(a,o,u)}function yu(a,o){return de(a)?a.parentNode(o):o.parentNode}function Cp(a,o,u){return Dp(a,o,u)}function Fv(a,o,u){return 40&a.type?sn(a,u):null}let Ep,Dp=Fv;function Lv(a,o){Dp=a,Ep=o}function Mf(a,o,u,c){const f=xf(a,c,o),g=o[11],S=Cp(c.parent||o[6],c,o);if(null!=f)if(Array.isArray(u))for(let A=0;A<u.length;A++)Af(g,f,u[A],S,!1);else Af(g,f,u,S,!1);void 0!==Ep&&Ep(g,c,o,u,f)}function Yc(a,o){if(null!==o){const u=o.type;if(3&u)return sn(o,a);if(4&u)return Kc(-1,a[o.index]);if(8&u){const c=o.child;if(null!==c)return Yc(a,c);{const f=a[o.index];return Si(f)?Kc(-1,f):Ot(f)}}if(32&u)return ao(o,a)()||Ot(a[o.index]);{const c=Nf(a,o);return null!==c?Array.isArray(c)?c[0]:Yc($c(a[16]),c):Yc(a,o.next)}}return null}function Nf(a,o){return null!==o?a[16][6].projection[o.projection]:null}function Kc(a,o){const u=10+a+1;if(u<o.length){const c=o[u],f=c[1].firstChild;if(null!==f)return Yc(c,f)}return o[7]}function wp(a,o,u){const c=yu(a,o);c&&function DT(a,o,u,c){de(a)?a.removeChild(o,u,c):o.removeChild(u)}(a,c,o,u)}function qc(a,o,u,c,f,g,v){for(;null!=u;){const S=c[u.index],A=u.type;if(v&&0===o&&(S&&xi(Ot(S),c),u.flags|=4),64!=(64&u.flags))if(8&A)qc(a,o,u.child,c,f,g,!1),mu(o,a,f,S,g);else if(32&A){const U=ao(u,c);let W;for(;W=U();)mu(o,a,f,W,g);mu(o,a,f,S,g)}else 16&A?xp(a,o,c,u,f,g):mu(o,a,f,S,g);u=v?u.projectionNext:u.next}}function Ro(a,o,u,c,f,g){qc(u,c,a.firstChild,o,f,g,!1)}function xp(a,o,u,c,f,g){const v=u[16],A=v[6].projection[c.projection];if(Array.isArray(A))for(let U=0;U<A.length;U++)mu(o,a,f,A[U],g);else qc(a,o,A,v[3],f,g,!0)}function Ap(a,o,u){de(a)?a.setAttribute(o,"style",u):o.style.cssText=u}function If(a,o,u){de(a)?""===u?a.removeAttribute(o,"class"):a.setAttribute(o,"class",u):o.className=u}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Mp(a,o,u){let c=a.length;for(;;){const f=a.indexOf(o,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=o.length;if(f+g===c||a.charCodeAt(f+g)<=32)return f}u=f+1}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Np="ng-template";function xT(a,o,u){let c=0;for(;c<a.length;){let f=a[c++];if(u&&"class"===f){if(f=a[c],-1!==Mp(f.toLowerCase(),o,0))return!0}else if(1===f){for(;c<a.length&&"string"==typeof(f=a[c++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function Tl(a){return 4===a.type&&a.value!==Np}function Bs(a,o,u){return o===(4!==a.type||u?a.value:Np)}function bu(a,o,u){let c=4;const f=a.attrs||[],g=function Ip(a){for(let o=0;o<a.length;o++)if(ol(a[o]))return o;return a.length}(f);let v=!1;for(let S=0;S<o.length;S++){const A=o[S];if("number"!=typeof A){if(!v)if(4&c){if(c=2|1&c,""!==A&&!Bs(a,A,u)||""===A&&1===o.length){if(_i(c))return!1;v=!0}}else{const U=8&c?A:o[++S];if(8&c&&null!==a.attrs){if(!xT(a.attrs,U,u)){if(_i(c))return!1;v=!0}continue}const re=AT(8&c?"class":A,f,Tl(a),u);if(-1===re){if(_i(c))return!1;v=!0;continue}if(""!==U){let pe;pe=re>g?"":f[re+1].toLowerCase();const Le=8&c?pe:null;if(Le&&-1!==Mp(Le,U,0)||2&c&&U!==pe){if(_i(c))return!1;v=!0}}}}else{if(!v&&!_i(c)&&!_i(A))return!1;if(v&&_i(A))continue;v=!1,c=A|1&c}}return _i(c)||v}function _i(a){return 0==(1&a)}function AT(a,o,u,c){if(null===o)return-1;let f=0;if(c||!u){let g=!1;for(;f<o.length;){const v=o[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let S=o[++f];for(;"string"==typeof S;)S=o[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function Of(a,o){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const c=a[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,a)}function oi(a,o,u=!1){for(let c=0;c<o.length;c++)if(bu(a,o[c],u))return!0;return!1}function MT(a,o){e:for(let u=0;u<o.length;u++){const c=o[u];if(a.length===c.length){for(let f=0;f<a.length;f++)if(a[f]!==c[f])continue e;return!0}}return!1}function Hv(a,o){return a?":not("+o.trim()+")":o}function NT(a){let o=a[0],u=1,c=2,f="",g=!1;for(;u<a.length;){let v=a[u];if("string"==typeof v)if(2&c){const S=a[++u];f+="["+v+(S.length>0?'="'+S+'"':"")+"]"}else 8&c?f+="."+v:4&c&&(f+=" "+v);else""!==f&&!_i(v)&&(o+=Hv(g,f),f=""),c=v,g=g||!_i(c);u++}return""!==f&&(o+=Hv(g,f)),o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const ln={};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Uv(a){Vv(dn(),ct(),$n()+a,Qo())}function Vv(a,o,u,c){if(!c)if(3==(3&o[2])){const g=a.preOrderCheckHooks;null!==g&&sl(o,g,u)}else{const g=a.preOrderHooks;null!==g&&qa(o,g,0,u)}Ia(u)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Tu(a,o){return a<<17|o<<2}function sa(a){return a>>17&32767}function oo(a){return 2|a}function lo(a){return(131068&a)>>2}function Su(a,o){return-131069&a|o<<2}function Pp(a){return 1|a}function ed(a,o){const u=a.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const f=u[c],g=u[c+1];if(-1!==g){const v=a.data[g];yc(f),v.contentQueries(2,o[g],g)}}}function Du(a,o,u,c,f,g,v,S,A,U){const W=o.blueprint.slice();return W[0]=f,W[2]=140|c,Et(W),W[3]=W[15]=a,W[8]=u,W[10]=v||a&&a[10],W[11]=S||a&&a[11],W[12]=A||a&&a[12]||null,W[9]=U||a&&a[9]||null,W[6]=g,W[16]=2==o.type?a[16]:W,W}function Cl(a,o,u,c,f){let g=a.data[o];if(null===g)g=Bf(a,o,u,c,f),function Na(){return P.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=c,g.attrs=f;const v=Aa();g.injectorIndex=null===v?-1:v.injectorIndex}return Os(g,!0),g}function Bf(a,o,u,c,f){const g=Ka(),v=ql(),A=a.data[o]=function c0(a,o,u,c,f,g){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,o,c,f);return null===a.firstChild&&(a.firstChild=A),null!==g&&(v?null==g.child&&null!==A.parent&&(g.child=A):null===g.next&&(g.next=A)),A}function Lo(a,o,u,c){if(0===u)return-1;const f=o.length;for(let g=0;g<u;g++)o.push(c),a.blueprint.push(c),a.data.push(null);return f}function Dl(a,o,u){Jo(o);try{const c=a.viewQuery;null!==c&&wl(1,c,u);const f=a.template;null!==f&&wu(a,o,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&ed(a,o),a.staticViewQueries&&wl(2,a.viewQuery,u);const g=a.components;null!==g&&function UT(a,o){for(let u=0;u<o.length;u++)KT(a,o[u])}(o,g)}catch(c){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),c}finally{o[2]&=-5,tl()}}function Eu(a,o,u,c){const f=o[2];if(256==(256&f))return;Jo(o);const g=Qo();try{Et(o),function Ma(a){return P.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&wu(a,o,u,2,c);const v=3==(3&f);if(!g)if(v){const U=a.preOrderCheckHooks;null!==U&&sl(o,U,null)}else{const U=a.preOrderHooks;null!==U&&qa(o,U,0,null),al(o,0)}if(function b0(a){for(let o=Ai(a);null!==o;o=_p(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const f=u[c],g=f[3];0==(1024&f[2])&&Ya(g,1),f[2]|=1024}}}(o),function zT(a){for(let o=Ai(a);null!==o;o=_p(o))for(let u=10;u<o.length;u++){const c=o[u],f=c[1];Yt(c)&&Eu(f,c,f.template,c[8])}}(o),null!==a.contentQueries&&ed(a,o),!g)if(v){const U=a.contentCheckHooks;null!==U&&sl(o,U)}else{const U=a.contentHooks;null!==U&&qa(o,U,1),al(o,1)}!function o0(a,o){const u=a.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const f=u[c];if(f<0)Ia(~f);else{const g=f,v=u[++c],S=u[++c];Jd(v,g),S(2,o[g])}}}finally{Ia(-1)}}(a,o);const S=a.components;null!==S&&function l0(a,o){for(let u=0;u<o.length;u++)YT(a,o[u])}(o,S);const A=a.viewQuery;if(null!==A&&wl(2,A,c),!g)if(v){const U=a.viewCheckHooks;null!==U&&sl(o,U)}else{const U=a.viewHooks;null!==U&&qa(o,U,2),al(o,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Ya(o[3],-1))}finally{tl()}}function td(a,o,u,c){const f=o[10],g=!Qo(),v=Br(o);try{g&&!v&&f.begin&&f.begin(),v&&Dl(a,o,c),Eu(a,o,u,c)}finally{g&&!v&&f.end&&f.end()}}function wu(a,o,u,c,f){const g=$n(),v=2&c;try{Ia(-1),v&&o.length>20&&Vv(a,o,20,Qo()),u(c,f)}finally{Ia(g)}}function Bp(a,o,u){if(ps(o)){const f=o.directiveEnd;for(let g=o.directiveStart;g<f;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function Bo(a,o,u){!Wt()||(function g0(a,o,u,c){const f=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||Bt(u,o),xi(c,o);const v=u.initialInputs;for(let S=f;S<g;S++){const A=a.data[S],U=pr(A);U&&WT(o,u,A);const W=Ec(o,a,S,u);xi(W,o),null!==v&&$T(0,S-f,W,A,0,v),U&&(Un(u.index,o)[8]=W)}}(a,o,u,sn(u,o)),128==(128&u.flags)&&function m0(a,o,u){const c=u.directiveStart,f=u.directiveEnd,v=u.index,S=function Xl(){return P.lFrame.currentDirectiveIndex}();try{Ia(v);for(let A=c;A<f;A++){const U=a.data[A],W=o[A];_c(A),(null!==U.hostBindings||0!==U.hostVars||null!==U.hostAttrs)&&$f(U,W)}}finally{Ia(-1),_c(S)}}(a,o,u))}function Hf(a,o,u=sn){const c=o.localNames;if(null!==c){let f=o.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],S=-1===v?u(o,a):a[v];a[f++]=S}}}function Uf(a){const o=a.tView;return null===o||o.incompleteFirstPass?a.tView=xu(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):o}function xu(a,o,u,c,f,g,v,S,A,U){const W=20+c,re=W+f,pe=function Hp(a,o){const u=[];for(let c=0;c<o;c++)u.push(c<a?null:ln);return u}(W,re),Le="function"==typeof U?U():U;return pe[1]={type:a,blueprint:pe,template:u,queries:null,viewQuery:S,declTNode:o,data:pe.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:A,consts:Le,incompleteFirstPass:!1}}function Gf(a,o,u,c){const f=xl(o);null===u?f.push(c):(f.push(u),a.firstCreatePass&&sd(a).push(c,f.length-1))}function Vp(a,o,u){for(let c in a)if(a.hasOwnProperty(c)){const f=a[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,f):u[c]=[o,f]}return u}function ls(a,o,u,c,f,g,v,S){const A=sn(o,u);let W,U=o.inputs;!S&&null!=U&&(W=U[c])?(od(a,u,W,c,f),Ks(o)&&function VT(a,o){const u=Un(o,a);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(c=function d0(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(c),f=null!=v?v(f,o.value||"",c):f,de(g)?g.setProperty(A,c,f):tu(c)||(A.setProperty?A.setProperty(c,f):A[c]=f))}function Wf(a,o,u,c){let f=!1;if(Wt()){const g=function $p(a,o,u){const c=a.directiveRegistry;let f=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];oi(u,v.selectors,!1)&&(f||(f=[]),Mn(Bt(u,o),a,v.type),pr(v)?(zp(a,u),f.unshift(v)):f.push(v))}return f}(a,o,u),v=null===c?null:{"":-1};if(null!==g){f=!0,_0(u,a.data.length,g.length);for(let W=0;W<g.length;W++){const re=g[W];re.providersResolver&&re.providersResolver(re)}let S=!1,A=!1,U=Lo(a,o,g.length,null);for(let W=0;W<g.length;W++){const re=g[W];u.mergedAttrs=nu(u.mergedAttrs,re.hostAttrs),y0(a,u,o,U,re),v0(U,re,v),null!==re.contentQueries&&(u.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(u.flags|=128);const pe=re.type.prototype;!S&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),S=!0),!A&&(pe.ngOnChanges||pe.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),A=!0),U++}!function Gp(a,o){const c=o.directiveEnd,f=a.data,g=o.attrs,v=[];let S=null,A=null;for(let U=o.directiveStart;U<c;U++){const W=f[U],re=W.inputs,pe=null===g||Tl(o)?null:Kp(re,g);v.push(pe),S=Vp(re,U,S),A=Vp(W.outputs,U,A)}null!==S&&(S.hasOwnProperty("class")&&(o.flags|=16),S.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=S,o.outputs=A}(a,u)}v&&function El(a,o,u){if(o){const c=a.localNames=[];for(let f=0;f<o.length;f+=2){const g=u[o[f+1]];if(null==g)throw new nt(-301,!1);c.push(o[f],g)}}}(u,c,v)}return u.mergedAttrs=nu(u.mergedAttrs,u.attrs),f}function Wp(a,o,u,c,f,g){const v=g.hostBindings;if(v){let S=a.hostBindingOpCodes;null===S&&(S=a.hostBindingOpCodes=[]);const A=~o.index;(function p0(a){let o=a.length;for(;o>0;){const u=a[--o];if("number"==typeof u&&u<0)return u}return 0})(S)!=A&&S.push(A),S.push(c,f,v)}}function $f(a,o){null!==a.hostBindings&&a.hostBindings(1,o)}function zp(a,o){o.flags|=2,(a.components||(a.components=[])).push(o.index)}function v0(a,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=a;pr(o)&&(u[""]=a)}}function _0(a,o,u){a.flags|=1,a.directiveStart=o,a.directiveEnd=o+u,a.providerIndexes=o}function y0(a,o,u,c,f){a.data[c]=f;const g=f.factory||(f.factory=Er(f.type)),v=new Mo(g,pr(f),null);a.blueprint[c]=v,u[c]=v,Wp(a,o,0,c,Lo(a,u,f.hostVars,ln),f)}function WT(a,o,u){const c=sn(o,a),f=Uf(u),g=a[10],v=Lt(a,Du(a,f,null,u.onPush?64:16,c,o,g,g.createRenderer(c,u),null,null));a[o.index]=v}function Yp(a,o,u,c,f,g,v){if(null==g)de(a)?a.removeAttribute(o,f,u):o.removeAttribute(f);else{const S=null==v?we(g):v(g,c||"",f);de(a)?a.setAttribute(o,f,S,u):u?o.setAttributeNS(u,f,S):o.setAttribute(f,S)}}function $T(a,o,u,c,f,g){const v=g[o];if(null!==v){const S=c.setInput;for(let A=0;A<v.length;){const U=v[A++],W=v[A++],re=v[A++];null!==S?c.setInput(u,re,U,W):u[W]=re}}}function Kp(a,o){let u=null,c=0;for(;c<o.length;){const f=o[c];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],o[c+1])),c+=2}else c+=2;else c+=4}return u}function qp(a,o,u,c){return new Array(a,!0,!1,o,null,0,c,u,null,null)}function YT(a,o){const u=Un(o,a);if(Yt(u)){const c=u[1];80&u[2]?Eu(c,u,c.template,u[8]):u[5]>0&&Xp(u)}}function Xp(a){for(let c=Ai(a);null!==c;c=_p(c))for(let f=10;f<c.length;f++){const g=c[f];if(1024&g[2]){const v=g[1];Eu(v,g,v.template,g[8])}else g[5]>0&&Xp(g)}const u=a[1].components;if(null!==u)for(let c=0;c<u.length;c++){const f=Un(u[c],a);Yt(f)&&f[5]>0&&Xp(f)}}function KT(a,o){const u=Un(o,a),c=u[1];(function Qp(a,o){for(let u=o.length;u<a.blueprint.length;u++)o.push(a.blueprint[u])})(c,u),Dl(c,u,u[8])}function Lt(a,o){return a[13]?a[14][4]=o:a[13]=o,a[14]=o,o}function Au(a){for(;a;){a[2]|=64;const o=$c(a);if(kr(a)&&!o)return a;a=o}return null}function id(a,o,u){const c=o[10];c.begin&&c.begin();try{Eu(a,o,a.template,u)}catch(f){throw Jp(o,f),f}finally{c.end&&c.end()}}function rd(a){!function nd(a){for(let o=0;o<a.components.length;o++){const u=a.components[o],c=bf(u),f=c[1];td(f,c,f.template,u)}}(a[8])}function wl(a,o,u){yc(0),o(a,u)}const Mu=(()=>Promise.resolve(null))();function xl(a){return a[7]||(a[7]=[])}function sd(a){return a.cleanup||(a.cleanup=[])}function Jp(a,o){const u=a[9],c=u?u.get(_l,null):null;c&&c.handleError(o)}function od(a,o,u,c,f){for(let g=0;g<u.length;){const v=u[g++],S=u[g++],A=o[v],U=a.data[v];null!==U.setInput?U.setInput(A,f,c,S):A[S]=f}}function co(a,o,u){const c=Nn(o,a);Ef(a[11],c,u)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function ld(a,o,u){let c=u?a.styles:null,f=u?a.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const S=o[v];"number"==typeof S?g=S:1==g?f=Fe(f,S):2==g&&(c=Fe(c,S+": "+o[++v]+";"))}u?a.styles=c:a.stylesWithoutHost=c,u?a.classes=f:a.classesWithoutHost=f}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Ne=new Ri("INJECTOR",-1);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class ud{get(o,u=uf){if(u===uf){const c=new Error(`NullInjectorError: No provider for ${Ue(o)}!`);throw c.name="NullInjectorError",c}return u}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const cd=new Ri("Set Injector scope."),Zr={},zf={};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Ss;function fo(){return void 0===Ss&&(Ss=new ud),Ss}function oa(a,o=null,u=null,c){const f=eg(a,o,u,c);return f._resolveInjectorDefTypes(),f}function eg(a,o=null,u=null,c){return new Nu(a,u,o||fo(),c)}class Nu{constructor(o,u,c,f=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&$t(u,S=>this.processProvider(S,o,u)),$t([o],S=>this.processInjectorType(S,[],g)),this.records.set(Ne,Ou(void 0,this));const v=this.records.get(cd);this.scope=null!=v?v.value:null,this.source=f||("object"==typeof o?null:Ue(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=uf,c=Ft.Default){this.assertNotDestroyed();const f=iv(this),g=be(void 0);try{if(!(c&Ft.SkipSelf)){let S=this.records.get(o);if(void 0===S){const A=function D0(a){return"function"==typeof a||"object"==typeof a&&a instanceof Ri}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(o)&&On(o);S=A&&this.injectableDefInScope(A)?Ou(Iu(o),Zr):null,this.records.set(o,S)}if(null!=S)return this.hydrate(o,S)}return(c&Ft.Self?fo():this.parent).get(o,u=c&Ft.Optional&&u===uf?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[cf]=v[cf]||[]).unshift(Ue(o)),f)throw v;return function aT(a,o,u,c){const f=a[cf];throw o[cl]&&f.unshift(o[cl]),a.message=function oT(a,o,u,c=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let f=Ue(o);if(Array.isArray(o))f=o.map(Ue).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let S=o[v];g.push(v+":"+("string"==typeof S?JSON.stringify(S):Ue(S)))}f=`{${g.join(", ")}}`}return`${u}${c?"("+c+")":""}[${f}]: ${a.replace(ep,"\n  ")}`}("\n"+a.message,f,u,c),a.ngTokenPath=f,a[cf]=null,a}(v,o,"R3InjectorError",this.source)}throw v}finally{be(g),iv(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,f)=>o.push(Ue(f))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processInjectorType(o,u,c){if(!(o=Me(o)))return!1;let f=si(o);const g=null==f&&o.ngModule||void 0,v=void 0===g?o:g,S=-1!==c.indexOf(v);if(void 0!==g&&(f=si(g)),null==f)return!1;if(null!=f.imports&&!S){let W;c.push(v);try{$t(f.imports,re=>{this.processInjectorType(re,u,c)&&(void 0===W&&(W=[]),W.push(re))})}finally{}if(void 0!==W)for(let re=0;re<W.length;re++){const{ngModule:pe,providers:Le}=W[re];$t(Le,et=>this.processProvider(et,pe,Le||vn))}}this.injectorDefTypes.add(v);const A=Er(v)||(()=>new v);this.records.set(v,Ou(A,Zr));const U=f.providers;if(null!=U&&!S){const W=o;$t(U,re=>this.processProvider(re,W,U))}return void 0!==g&&void 0!==o.providers}processProvider(o,u,c){let f=Uo(o=Me(o))?o:Me(o&&o.provide);const g=function JT(a,o,u){return Ho(a)?Ou(void 0,a.useValue):Ou(tg(a),Zr)}(o);if(Uo(o)||!0!==o.multi)this.records.get(f);else{let v=this.records.get(f);v||(v=Ou(void 0,Zr,!0),v.factory=()=>np(v.multi),this.records.set(f,v)),f=o,v.multi.push(o)}this.records.set(f,g)}hydrate(o,u){return u.value===Zr&&(u.value=zf,u.value=u.factory()),"object"==typeof u.value&&u.value&&function ig(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=Me(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Iu(a){const o=On(a),u=null!==o?o.factory:Er(a);if(null!==u)return u;if(a instanceof Ri)throw new nt(204,!1);if(a instanceof Function)return function ZT(a){const o=a.length;if(o>0)throw $i(o,"?"),new nt(204,!1);const u=function wn(a){const o=a&&(a[Sr]||a[Pn]);if(o){const u=function tr(a){if(a.hasOwnProperty("name"))return a.name;const o=(""+a).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new nt(204,!1)}function tg(a,o,u){let c;if(Uo(a)){const f=Me(a);return Er(f)||Iu(f)}if(Ho(a))c=()=>Me(a.useValue);else if(function S0(a){return!(!a||!a.useFactory)}(a))c=()=>a.useFactory(...np(a.deps||[]));else if(function e1(a){return!(!a||!a.useExisting)}(a))c=()=>Ur(Me(a.useExisting));else{const f=Me(a&&(a.useClass||a.provide));if(!function ng(a){return!!a.deps}(a))return Er(f)||Iu(f);c=()=>new f(...np(a.deps))}return c}function Ou(a,o,u=!1){return{factory:a,value:o,multi:u?[]:void 0}}function Ho(a){return null!==a&&"object"==typeof a&&Nc in a}function Uo(a){return"function"==typeof a}let la=(()=>{class a{static create(u,c){var f;if(Array.isArray(u))return oa({name:""},c,u,"");{const g=null!==(f=u.name)&&void 0!==f?f:"";return oa({name:g},u.parent,u.providers,g)}}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
return a.THROW_IF_NOT_FOUND=uf,a.NULL=new ud,a.\u0275prov=mn({token:a,providedIn:"any",factory:()=>Ur(Ne)}),a.__NG_ELEMENT_ID__=-1,a})();function a1(a,o){rl(bf(a)[1],mi())}function ku(a){let o=
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function cg(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const c=[a];for(;o;){let f;if(pr(a))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new nt(903,"");f=o.\u0275dir}if(f){if(u){c.push(f);const v=a;v.inputs=dg(a.inputs),v.declaredInputs=dg(a.declaredInputs),v.outputs=dg(a.outputs);const S=f.hostBindings;S&&I0(a,S);const A=f.viewQuery,U=f.contentQueries;if(A&&l1(a,A),U&&u1(a,U),Ee(a.inputs,f.inputs),Ee(a.declaredInputs,f.declaredInputs),Ee(a.outputs,f.outputs),pr(f)&&f.data.animation){const W=a.data;W.animation=(W.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const S=g[v];S&&S.ngInherit&&S(a),S===ku&&(u=!1)}}o=Object.getPrototypeOf(o)}!function o1(a){let o=0,u=null;for(let c=a.length-1;c>=0;c--){const f=a[c];f.hostVars=o+=f.hostVars,f.hostAttrs=nu(f.hostAttrs,u=nu(u,f.hostAttrs))}}(c)}function dg(a){return a===Rn?{}:a===vn?[]:a}function l1(a,o){const u=a.viewQuery;a.viewQuery=u?(c,f)=>{o(c,f),u(c,f)}:o}function u1(a,o){const u=a.contentQueries;a.contentQueries=u?(c,f,g)=>{o(c,f,g),u(c,f,g)}:o}function I0(a,o){const u=a.hostBindings;a.hostBindings=u?(c,f)=>{o(c,f),u(c,f)}:o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Fu=null;function ua(){if(!Fu){const a=en.Symbol;if(a&&a.iterator)Fu=a.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Fu=c)}}}return Fu}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function pd(a){return!!pg(a)&&(Array.isArray(a)||!(a instanceof Map)&&ua()in a)}function pg(a){return null!==a&&("function"==typeof a||"object"==typeof a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Us(a,o,u){return a[o]=u}function jr(a,o,u){return!Object.is(a[o],u)&&(a[o]=u,!0)}function Al(a,o,u,c){const f=jr(a,o,u);return jr(a,o+1,c)||f}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Kf(a,o,u,c){const f=ct();return jr(f,qs(),o)&&(dn(),function Ra(a,o,u,c,f,g){const v=sn(a,o);Yp(o[11],v,g,a.value,u,c,f)}(vi(),f,a,o,u,c)),Kf}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Lu(a,o,u,c){return jr(a,qs(),u)?o+we(u)+c:ln}function V0(a,o,u,c,f,g,v,S){const A=ct(),U=dn(),W=a+20,re=U.firstCreatePass?
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function d1(a,o,u,c,f,g,v,S,A){const U=o.consts,W=Cl(o,a,4,v||null,mr(U,S));Wf(o,u,W,mr(U,A)),rl(o,W);const re=W.tViews=xu(2,W,c,f,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,U);return null!==o.queries&&(o.queries.template(o,W),re.queries=o.queries.embeddedTView(W)),W}(W,U,A,o,u,c,f,g,v):U.data[W];Os(re,!1);const pe=A[11].createComment("");Mf(U,A,pe,re),xi(pe,A),Lt(A,A[W]=qp(pe,A,pe,re)),Wn(re)&&Bo(U,A,re),null!=v&&Hf(A,re,S)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function vg(a){return lt(function vc(){return P.lFrame.contextLView}(),20+a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function vd(a,o=Ft.Default){const u=ct();return null===u?Ur(a,o):Dc(mi(),u,Me(a),o)}function wg(){throw new Error("invalid")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function xg(a,o,u){const c=ct();return jr(c,qs(),o)&&ls(dn(),vi(),c,a,o,c[11],u,!1),xg}function $u(a,o,u,c,f){const v=f?"class":"style";od(a,u,o.inputs[v],v,c)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Vo(a,o,u,c){const f=ct(),g=dn(),v=20+a,S=f[11],A=f[v]=bp(S,o,function jh(){return P.lFrame.currentNamespace}()),U=g.firstCreatePass?function t_(a,o,u,c,f,g,v){const S=o.consts,U=Cl(o,a,2,f,mr(S,g));return Wf(o,u,U,mr(S,v)),null!==U.attrs&&ld(U,U.attrs,!1),null!==U.mergedAttrs&&ld(U,U.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,U),U}(v,g,f,0,o,u,c):g.data[v];Os(U,!0);const W=U.mergedAttrs;null!==W&&eu(S,A,W);const re=U.classes;null!==re&&If(S,A,re);const pe=U.styles;return null!==pe&&Ap(S,A,pe),64!=(64&U.flags)&&Mf(g,f,A,U),0===function I(){return P.lFrame.elementDepthCount}()&&xi(A,f),function Q(){P.lFrame.elementDepthCount++}(),Wn(U)&&(Bo(g,f,U),Bp(g,U,f)),null!==c&&Hf(f,U),Vo}function Ol(){let a=mi();ql()?mc():(a=a.parent,Os(a,!1));const o=a;!function Ze(){P.lFrame.elementDepthCount--}();const u=dn();return u.firstCreatePass&&(rl(u,a),ps(a)&&u.queries.elementEnd(a)),null!=o.classesWithoutHost&&function Sc(a){return 0!=(16&a.flags)}(o)&&$u(u,o,ct(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function tf(a){return 0!=(32&a.flags)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(o)&&$u(u,o,ct(),o.stylesWithoutHost,!1),Ol}function Zf(a,o,u,c){return Vo(a,o,u,c),Ol(),Zf}function Yu(a,o,u){const c=ct(),f=dn(),g=a+20,v=f.firstCreatePass?
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function zu(a,o,u,c,f){const g=o.consts,v=mr(g,c),S=Cl(o,a,8,"ng-container",v);return null!==v&&ld(S,v,!0),Wf(o,u,S,mr(g,f)),null!==o.queries&&o.queries.elementStart(o,S),S}(g,f,c,o,u):f.data[g];Os(v,!0);const S=c[g]=c[11].createComment("");return Mf(f,c,S,v),xi(S,c),Wn(v)&&(Bo(f,c,v),Bp(f,v,c)),null!=u&&Hf(c,v),Yu}function Jf(){let a=mi();const o=dn();return ql()?mc():(a=a.parent,Os(a,!1)),o.firstCreatePass&&(rl(o,a),ps(a)&&o.queries.elementEnd(a)),Jf}function Ng(){return ct()}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ig(a){return!!a&&"function"==typeof a.then}function n_(a){return!!a&&"function"==typeof a.subscribe}const i_=n_;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Og(a,o,u,c){const f=ct(),g=dn(),v=mi();return function s_(a,o,u,c,f,g,v,S){const A=Wn(c),W=a.firstCreatePass&&sd(a),re=o[8],pe=xl(o);let Le=!0;if(3&c.type||S){const Pt=sn(c,o),Vt=S?S(Pt):Pt,ot=pe.length,Jt=S?En=>S(Ot(En[c.index])):c.index;if(de(u)){let En=null;if(!S&&A&&(En=function D1(a,o,u,c){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===u&&f[g+1]===c){const S=o[7],A=f[g+2];return S.length>A?S[A]:null}"string"==typeof v&&(g+=2)}return null}(a,o,f,c.index)),null!==En)(En.__ngLastListenerFn__||En).__ngNextListenerFn__=g,En.__ngLastListenerFn__=g,Le=!1;else{g=Pg(c,o,re,g,!1);const ni=u.listen(Vt,f,g);pe.push(g,ni),W&&W.push(f,Jt,ot,ot+1)}}else g=Pg(c,o,re,g,!0),Vt.addEventListener(f,g,v),pe.push(g),W&&W.push(f,Jt,ot,v)}else g=Pg(c,o,re,g,!1);const et=c.outputs;let Ct;if(Le&&null!==et&&(Ct=et[f])){const Pt=Ct.length;if(Pt)for(let Vt=0;Vt<Pt;Vt+=2){const Ws=o[Ct[Vt]][Ct[Vt+1]].subscribe(g),fc=pe.length;pe.push(g,Ws),W&&W.push(f,c.index,fc,-(fc+1))}}}(g,f,f[11],v,a,o,!!u,c),Og}function a_(a,o,u,c){try{return!1!==u(c)}catch(f){return Jp(a,f),!1}}function Pg(a,o,u,c,f){return function g(v){if(v===Function)return c;const S=2&a.flags?Un(a.index,o):o;0==(32&o[2])&&Au(S);let A=a_(o,0,c,v),U=g.__ngNextListenerFn__;for(;U;)A=a_(o,0,U,v)&&A,U=U.__ngNextListenerFn__;return f&&!1===A&&(v.preventDefault(),v.returnValue=!1),A}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ku(a=1){return function Vh(a){return(P.lFrame.contextLView=function Gh(a,o){for(;a>0;)o=o[15],a--;return o}(a,P.lFrame.contextLView))[8]}(a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function E1(a,o){let u=null;const c=function Sl(a){const o=a.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(a);for(let f=0;f<o.length;f++){const g=o[f];if("*"!==g){if(null===c?oi(a,g,!0):MT(c,g))return f}else u=f}return u}function o_(a){const o=ct()[16][6];if(!o.projection){const c=o.projection=$i(a?a.length:1,null),f=c.slice();let g=o.child;for(;null!==g;){const v=a?E1(g,a):0;null!==v&&(f[v]?f[v].projectionNext=g:c[v]=g,f[v]=g),g=g.next}}}function l_(a,o=0,u){const c=ct(),f=dn(),g=Cl(f,20+a,16,null,u||null);null===g.projection&&(g.projection=o),mc(),64!=(64&g.flags)&&function wT(a,o,u){xp(o[11],0,o,u,xf(a,u,o),Cp(u.parent||o[6],u,o))}(f,c,g)}function Rg(a,o,u){return eh(a,"",o,"",u),Rg}function eh(a,o,u,c,f){const g=ct(),v=Lu(g,o,u,c);return v!==ln&&ls(dn(),vi(),g,a,v,g[11],f,!1),eh}function Lg(a,o,u,c,f){const g=a[u+1],v=null===o;let S=c?sa(g):lo(g),A=!1;for(;0!==S&&(!1===A||v);){const W=a[S+1];x1(a[S],o)&&(A=!0,a[S+1]=c?Pp(W):oo(W)),S=c?sa(W):lo(W)}A&&(a[u+1]=c?oo(g):Pp(g))}function x1(a,o){return null===a||null==o||(Array.isArray(a)?a[1]:a)===o||!(!Array.isArray(a)||"string"!=typeof o)&&au(a,o)>=0}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Zi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function p_(a){return a.substring(Zi.key,Zi.keyEnd)}function Hg(a,o){const u=Zi.textEnd;return u===o?-1:(o=Zi.keyEnd=function m_(a,o,u){for(;o<u&&a.charCodeAt(o)>32;)o++;return o}(a,Zi.key=o,u),Go(a,o,u))}function Go(a,o,u){for(;o<u&&a.charCodeAt(o)<=32;)o++;return o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function nh(a,o,u){return Vs(a,o,u,!1),nh}function ih(a,o){return Vs(a,o,null,!0),ih}function v_(a){!function da(a,o,u,c){const f=dn(),g=Xs(2);f.firstUpdatePass&&y_(f,null,g,c);const v=ct();if(u!==ln&&jr(v,g,u)){const S=f.data[$n()];if(C_(S,c)&&!__(f,g)){let A=c?S.classesWithoutHost:S.stylesWithoutHost;null!==A&&(u=Fe(A,u||"")),$u(f,S,v,u,c)}else!function b_(a,o,u,c,f,g,v,S){f===ln&&(f=vn);let A=0,U=0,W=0<f.length?f[0]:null,re=0<g.length?g[0]:null;for(;null!==W||null!==re;){const pe=A<f.length?f[A+1]:void 0,Le=U<g.length?g[U+1]:void 0;let Ct,et=null;W===re?(A+=2,U+=2,pe!==Le&&(et=re,Ct=Le)):null===re||null!==W&&W<re?(A+=2,et=W):(U+=2,et=re,Ct=Le),null!==et&&T_(a,o,u,c,et,Ct,v,S),W=A<f.length?f[A]:null,re=U<g.length?g[U]:null}}(f,S,v,v[11],v[g+1],v[g+1]=function P1(a,o,u){if(null==u||""===u)return vn;const c=[],f=bs(u);if(Array.isArray(f))for(let g=0;g<f.length;g++)a(c,f[g],!0);else if("object"==typeof f)for(const g in f)f.hasOwnProperty(g)&&a(c,g,f[g]);else"string"==typeof f&&o(c,f);return c}(a,o,u),c,g)}}(ys,Ba,a,!0)}function Ba(a,o){for(let u=function ho(a){return function g_(a){Zi.key=0,Zi.keyEnd=0,Zi.value=0,Zi.valueEnd=0,Zi.textEnd=a.length}(a),Hg(a,Go(a,0,Zi.textEnd))}(o);u>=0;u=Hg(o,u))ys(a,p_(o),!0)}function Vs(a,o,u,c){const f=ct(),g=dn(),v=Xs(2);g.firstUpdatePass&&y_(g,a,v,c),o!==ln&&jr(f,v,o)&&T_(g,g.data[$n()],f,f[11],a,f[v+1]=function R1(a,o){return null==a||("string"==typeof o?a+=o:"object"==typeof a&&(a=Ue(bs(a)))),a}(o,u),c,v)}function __(a,o){return o>=a.expandoStartIndex}function y_(a,o,u,c){const f=a.data;if(null===f[u+1]){const g=f[$n()],v=__(a,u);C_(g,c)&&null===o&&!v&&(o=!1),o=function I1(a,o,u,c){const f=function Ql(a){const o=P.lFrame.currentDirectiveIndex;return-1===o?null:a[o]}(a);let g=c?o.residualClasses:o.residualStyles;if(null===f)0===(c?o.classBindings:o.styleBindings)&&(u=bd(u=Gg(null,a,o,u,c),o.attrs,c),g=null);else{const v=o.directiveStylingLast;if(-1===v||a[v]!==f)if(u=Gg(f,a,o,u,c),null===g){let A=function O1(a,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==lo(c))return a[sa(c)]}(a,o,c);void 0!==A&&Array.isArray(A)&&(A=Gg(null,a,o,A[1],c),A=bd(A,o.attrs,c),function rh(a,o,u,c){a[sa(u?o.classBindings:o.styleBindings)]=c}(a,o,c,A))}else g=function Vg(a,o,u){let c;const f=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<f;g++)c=bd(c,a[g].hostAttrs,u);return bd(c,o.attrs,u)}(a,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),u}(f,g,o,c),function h_(a,o,u,c,f,g){let v=g?o.classBindings:o.styleBindings,S=sa(v),A=lo(v);a[c]=u;let W,U=!1;if(Array.isArray(u)){const re=u;W=re[1],(null===W||au(re,W)>0)&&(U=!0)}else W=u;if(f)if(0!==A){const pe=sa(a[S+1]);a[c+1]=Tu(pe,S),0!==pe&&(a[pe+1]=Su(a[pe+1],c)),a[S+1]=function PT(a,o){return 131071&a|o<<17}(a[S+1],c)}else a[c+1]=Tu(S,0),0!==S&&(a[S+1]=Su(a[S+1],c)),S=c;else a[c+1]=Tu(A,0),0===S?S=c:a[A+1]=Su(a[A+1],c),A=c;U&&(a[c+1]=oo(a[c+1])),Lg(a,W,c,!0),Lg(a,W,c,!1),function w1(a,o,u,c,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof o&&au(g,o)>=0&&(u[c+1]=Pp(u[c+1]))}(o,W,a,c,g),v=Tu(S,A),g?o.classBindings=v:o.styleBindings=v}(f,g,o,u,v,c)}}function Gg(a,o,u,c,f){let g=null;const v=u.directiveEnd;let S=u.directiveStylingLast;for(-1===S?S=u.directiveStart:S++;S<v&&(g=o[S],c=bd(c,g.hostAttrs,f),g!==a);)S++;return null!==a&&(u.directiveStylingLast=S),c}function bd(a,o,u){const c=u?1:2;let f=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?f=v:f===c&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),ys(a,v,!!u||o[++g]))}return void 0===a?null:a}function T_(a,o,u,c,f,g,v,S){if(!(3&o.type))return;const A=a.data,U=A[S+1];sh(function jv(a){return 1==(1&a)}(U)?S_(A,o,u,f,lo(U),v):void 0)||(sh(g)||function Gv(a){return 2==(2&a)}(U)&&(g=S_(A,null,u,f,S,v)),function Xc(a,o,u,c,f){const g=de(a);if(o)f?g?a.addClass(u,c):u.classList.add(c):g?a.removeClass(u,c):u.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:ra.DashCase;if(null==f)g?a.removeStyle(u,c,v):u.style.removeProperty(c);else{const S="string"==typeof f&&f.endsWith("!important");S&&(f=f.slice(0,-10),v|=ra.Important),g?a.setStyle(u,c,f,v):u.style.setProperty(c,f,S?"important":"")}}}(c,v,Nn($n(),u),f,g))}function S_(a,o,u,c,f,g){const v=null===o;let S;for(;f>0;){const A=a[f],U=Array.isArray(A),W=U?A[1]:A,re=null===W;let pe=u[f+1];pe===ln&&(pe=re?vn:void 0);let Le=re?lf(pe,c):W===c?pe:void 0;if(U&&!sh(Le)&&(Le=lf(A,c)),sh(Le)&&(S=Le,v))return S;const et=a[f+1];f=v?sa(et):lo(et)}if(null!==o){let A=g?o.residualClasses:o.residualStyles;null!=A&&(S=lf(A,c))}return S}function sh(a){return void 0!==a}function C_(a,o){return 0!=(a.flags&(o?16:32))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function D_(a,o=""){const u=ct(),c=dn(),f=a+20,g=c.firstCreatePass?Cl(c,f,1,o,null):c.data[f],v=u[f]=yp(u[11],o);Mf(c,u,v,g),Os(g,!1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function jg(a){return ah("",a,""),jg}function ah(a,o,u){const c=ct(),f=Lu(c,a,o,u);return f!==ln&&co(c,$n(),f),ah}function fa(a,o,u,c,f){const g=ct(),v=function Bu(a,o,u,c,f,g){const S=Al(a,Ps(),u,f);return Xs(2),S?o+we(u)+c+we(f)+g:ln}(g,a,o,u,c,f);return v!==ln&&co(g,$n(),v),fa}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function $g(a,o,u){const c=ct();return jr(c,qs(),o)&&ls(dn(),vi(),c,a,o,c[11],u,!0),$g}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Pl=void 0;var q1=["en",[["a","p"],["AM","PM"],Pl],[["AM","PM"],Pl,Pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pl,"{1} 'at' {0}",Pl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function K1(a){const u=Math.floor(Math.abs(a)),c=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Xu={};function zg(a){const o=function UD(a){return a.toLowerCase().replace(/_/g,"-")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(a);let u=j_(o);if(u)return u;const c=o.split("-")[0];if(u=j_(c),u)return u;if("en"===c)return q1;throw new Error(`Missing locale data for the locale "${a}".`)}function Qu(a){return zg(a)[tn.PluralCase]}function j_(a){return a in Xu||(Xu[a]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[a]),Xu[a]}var tn=(()=>((tn=tn||{})[tn.LocaleId=0]="LocaleId",tn[tn.DayPeriodsFormat=1]="DayPeriodsFormat",tn[tn.DayPeriodsStandalone=2]="DayPeriodsStandalone",tn[tn.DaysFormat=3]="DaysFormat",tn[tn.DaysStandalone=4]="DaysStandalone",tn[tn.MonthsFormat=5]="MonthsFormat",tn[tn.MonthsStandalone=6]="MonthsStandalone",tn[tn.Eras=7]="Eras",tn[tn.FirstDayOfWeek=8]="FirstDayOfWeek",tn[tn.WeekendRange=9]="WeekendRange",tn[tn.DateFormat=10]="DateFormat",tn[tn.TimeFormat=11]="TimeFormat",tn[tn.DateTimeFormat=12]="DateTimeFormat",tn[tn.NumberSymbols=13]="NumberSymbols",tn[tn.NumberFormats=14]="NumberFormats",tn[tn.CurrencyCode=15]="CurrencyCode",tn[tn.CurrencySymbol=16]="CurrencySymbol",tn[tn.CurrencyName=17]="CurrencyName",tn[tn.Currencies=18]="Currencies",tn[tn.Directionality=19]="Directionality",tn[tn.PluralCase=20]="PluralCase",tn[tn.ExtraData=21]="ExtraData",tn))();const VD=["zero","one","two","few","many"],lh="en-US",uh={marker:"element"},ch={marker:"ICU"};var Mi=(()=>((Mi=Mi||{})[Mi.SHIFT=2]="SHIFT",Mi[Mi.APPEND_EAGERLY=1]="APPEND_EAGERLY",Mi[Mi.COMMENT=2]="COMMENT",Mi))();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Cd=lh;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Yg(a,o,u){const c=o.insertBeforeIndex,f=Array.isArray(c)?c[0]:c;return null===f?Fv(a,0,u):Ot(u[f])}function $_(a,o,u,c,f){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=c,S=null;if(3&o.type||(S=v,v=f),null!==v&&0==(2&o.flags))for(let A=1;A<g.length;A++)Ls(a,v,u[g[A]],S,!1)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Zu(a,o){if(a.push(o),a.length>1)for(let u=a.length-2;u>=0;u--){const c=a[u];z_(c)||Z1(c,o)&&null===Y_(c)&&J1(c,o.index)}}function z_(a){return!(64&a.type)}function Z1(a,o){return z_(o)||a.index>o.index}function Y_(a){const o=a.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function J1(a,o){const u=a.insertBeforeIndex;Array.isArray(u)?u[0]=o:(Lv(Yg,$_),a.insertBeforeIndex=o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Dd(a,o){const u=a.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function eS(a,o,u){const c=Bf(a,u,64,null,null);return Zu(o,c),c}function dh(a,o){const u=o[a.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function Kg(a){return a>>>17}function q_(a){return(131070&a)>>>1}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let ha=0,go=0;function Xg(a,o,u,c){const f=u[11];let v,g=null;for(let S=0;S<o.length;S++){const A=o[S];if("string"==typeof A){const U=o[++S];null===u[U]&&(u[U]=yp(f,A))}else if("number"==typeof A)switch(1&A){case 0:const U=Kg(A);let W,re;if(null===g&&(g=U,v=yu(f,c)),U===g?(W=c,re=v):(W=null,re=Ot(u[U])),null!==re){const Ct=q_(A);Ls(f,re,u[Ct],W,!1);const Vt=Dd(a,Ct);if(null!==Vt&&"object"==typeof Vt){const ot=dh(Vt,u);null!==ot&&Xg(a,Vt.create[ot],u,u[Vt.anchorIdx])}}break;case 1:const Le=o[++S],et=o[++S];Yp(f,Nn(A>>>1,u),null,null,Le,et,null)}else switch(A){case ch:const U=o[++S],W=o[++S];null===u[W]&&xi(u[W]=_t(f,U),u);break;case uh:const re=o[++S],pe=o[++S];null===u[pe]&&xi(u[pe]=bp(f,re,null),u)}}}function hh(a,o,u,c,f){for(let g=0;g<u.length;g++){const v=u[g],S=u[++g];if(v&f){let A="";for(let U=g+1;U<=g+S;U++){const W=u[U];if("string"==typeof W)A+=W;else if("number"==typeof W)if(W<0)A+=we(o[c-W]);else{const re=W>>>2;switch(3&W){case 1:const pe=u[++U],Le=u[++U],et=a.data[re];"string"==typeof et?Yp(o[11],o[re],null,et,pe,A,Le):ls(a,et,o,pe,A,o[11],Le,!1);break;case 0:const Ct=o[re];null!==Ct&&Ef(o[11],Ct,A);break;case 2:iS(a,Dd(a,re),o,A);break;case 3:Qg(a,Dd(a,re),c,o)}}}}else{const A=u[g+1];if(A>0&&3==(3&A)){const W=Dd(a,A>>>2);o[W.currentCaseLViewIndex]<0&&Qg(a,W,c,o)}}g+=S}}function Qg(a,o,u,c){let f=c[o.currentCaseLViewIndex];if(null!==f){let g=ha;f<0&&(f=c[o.currentCaseLViewIndex]=~f,g=-1),hh(a,c,o.update[f],u,g)}}function iS(a,o,u,c){const f=function Q_(a,o){let u=a.cases.indexOf(o);if(-1===u)switch(a.type){case 1:{const c=function X1(a,o){const u=Qu(o)(parseInt(a,10)),c=VD[u];return void 0!==c?c:"other"}(o,function GD(){return Cd}());u=a.cases.indexOf(c),-1===u&&"other"!==c&&(u=a.cases.indexOf("other"));break}case 0:u=a.cases.indexOf("other")}return-1===u?null:u}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(o,c);if(dh(o,u)!==f&&(Zg(a,o,u),u[o.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const v=u[o.anchorIdx];v&&Xg(a,o.create[f],u,v)}}function Zg(a,o,u){let c=dh(o,u);if(null!==c){const f=o.remove[c];for(let g=0;g<f.length;g++){const v=f[g];if(v>0){const S=Nn(v,u);null!==S&&wp(u[11],S)}else Zg(a,Dd(a,~v),u)}}}function rS(){const a=[];let u,c,o=-1;function g(S,A){o=0;const U=dh(S,A);c=null!==U?S.remove[U]:vn}function v(){if(o<c.length){const S=c[o++];return S>0?u[S]:(a.push(o,c),g(u[1].data[~S],u),v())}return 0===a.length?null:(c=a.pop(),o=a.pop(),v())}return function f(S,A){for(u=A;a.length;)a.pop();return g(S.value,A),v}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const ph=/\ufffd(\d+):?\d*\ufffd/gi,J_=/\ufffd(\d+)\ufffd/,Ed=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ar=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,em=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,ey=/\uE500/g;function gh(a,o,u,c,f,g,v){const S=Lo(a,c,1,null);let A=S<<Mi.SHIFT,U=Aa();o===U&&(U=null),null===U&&(A|=Mi.APPEND_EAGERLY),v&&(A|=Mi.COMMENT,function ST(a){void 0===Wc&&(Wc=a())}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(rS)),f.push(A,null===g?"":g);const W=Bf(a,S,v?32:1,null===g?"":g,null);Zu(u,W);const re=W.index;return Os(W,!1),null!==U&&o!==U&&function Rl(a,o){let u=a.insertBeforeIndex;null===u?(Lv(Yg,$_),u=a.insertBeforeIndex=[null,o]):(function fe(a,o,u){a!=o&&Nt(u,a,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(U,re),W}function lS(a,o,u,c,f,g,v){const S=v.match(ph),A=gh(a,o,u,g,c,S?null:v,!1);S&&mo(f,v,A.index,null,0,null)}function mo(a,o,u,c,f,g){const v=a.length,S=v+1;a.push(null,null);const A=v+2,U=o.split(ph);let W=0;for(let re=0;re<U.length;re++){const pe=U[re];if(1&re){const Le=f+parseInt(pe,10);a.push(-1-Le),W|=ty(Le)}else""!==pe&&a.push(pe)}return a.push(u<<2|(c?1:0)),c&&a.push(c,g),a[v]=W,a[S]=a.length-A,W}function ty(a){return 1<<Math.min(a,31)}function cs(a){let o,g,u="",c=0,f=!1;for(;null!==(o=ar.exec(a));)f?o[0]===`\ufffd/*${g}\ufffd`&&(c=o.index,f=!1):(u+=a.substring(c,o.index+o[0].length),g=o[1],f=!0);return u+=a.substr(c),u}function Gs(a,o,u,c,f,g){let v=0;const S={type:f.type,currentCaseLViewIndex:Lo(a,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function iy(a,o,u){a.push(ty(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,f,g),function K_(a,o,u){const c=a.data[o];null===c?a.data[o]=u:c.value=u}(a,g,S);const A=f.values;for(let U=0;U<A.length;U++){const W=A[U],re=[];for(let pe=0;pe<W.length;pe++){const Le=W[pe];if("string"!=typeof Le){const et=re.push(Le)-1;W[pe]=`\x3c!--\ufffd${et}\ufffd--\x3e`}}v=Ad(a,S,o,u,c,f.cases[U],W.join(""),re)|v}v&&function Md(a,o,u){a.push(o,1,u<<2|3)}(u,v,g)}function Es(a){const o=[],u=[];let c=1,f=0;const g=xd(a=a.replace(Ed,function(v,S,A){return c="select"===A?0:1,f=parseInt(S.substr(1),10),""}));for(let v=0;v<g.length;){let S=g[v++].trim();1===c&&(S=S.replace(/\s*(?:=)?(\w+)\s*/,"$1")),S.length&&o.push(S);const A=xd(g[v++]);o.length>u.length&&u.push(A)}return{type:c,mainBinding:f,cases:o,values:u}}function xd(a){if(!a)return[];let o=0;const u=[],c=[],f=/[{}]/g;let g;for(f.lastIndex=0;g=f.exec(a);){const S=g.index;if("}"==g[0]){if(u.pop(),0==u.length){const A=a.substring(o,S);Ed.test(A)?c.push(Es(A)):c.push(A),o=S+1}}else{if(0==u.length){const A=a.substring(o,S);c.push(A),o=S+1}u.push("{")}}const v=a.substring(o);return c.push(v),c}function Ad(a,o,u,c,f,g,v,S){const A=[],U=[],W=[];o.cases.push(g),o.create.push(A),o.remove.push(U),o.update.push(W);const pe=mv(F()).getInertBodyElement(v),Le=na(pe)||pe;return Le?kl(a,o,u,c,A,U,W,Le,f,S,0):0}function kl(a,o,u,c,f,g,v,S,A,U,W){let re=0,pe=S.firstChild;for(;pe;){const Le=Lo(a,u,1,null);switch(pe.nodeType){case Node.ELEMENT_NODE:const et=pe,Ct=et.tagName.toLowerCase();if(uu.hasOwnProperty(Ct)){nm(f,uh,Ct,A,Le),a.data[Le]=Ct;const Jt=et.attributes;for(let En=0;En<Jt.length;En++){const ni=Jt.item(En),Ws=ni.name.toLowerCase();ni.value.match(ph)?pl.hasOwnProperty(Ws)&&mo(v,ni.value,Le,ni.name,0,up[Ws]?Oo:vf[Ws]?Oa:null):ry(f,Le,ni)}re=kl(a,o,u,c,f,g,v,pe,Le,U,W+1)|re,Ju(g,Le,W)}break;case Node.TEXT_NODE:const Pt=pe.textContent||"",Vt=Pt.match(ph);nm(f,null,Vt?"":Pt,A,Le),Ju(g,Le,W),Vt&&(re=mo(v,Pt,Le,null,0,null)|re);break;case Node.COMMENT_NODE:const ot=J_.exec(pe.textContent||"");if(ot){const En=U[parseInt(ot[1],10)];nm(f,ch,"",A,Le),Gs(a,u,c,A,En,Le),cS(g,Le,W)}}pe=pe.nextSibling}return re}function Ju(a,o,u){0===u&&a.push(o)}function cS(a,o,u){0===u&&(a.push(~o),a.push(o))}function nm(a,o,u,c,f){null!==o&&a.push(o),a.push(u,f,function qg(a,o,u){return a|o<<17|u<<1}(0,c,f))}function ry(a,o,u){a.push(o<<1|1,u.name,u.value)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function sy(a,o,u=-1){const c=dn(),f=ct(),g=20+a,v=mr(c.consts,o),S=Aa();c.firstCreatePass&&function oS(a,o,u,c,f,g){const v=Aa(),S=[],A=[],U=[[]];f=function pa(a,o){if(function ny(a){return-1===a}(o))return cs(a);{const u=a.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=a.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return cs(a.substring(u,c))}}(f,g);const W=function tm(a){return a.replace(ey," ")}(f).split(em);for(let re=0;re<W.length;re++){let pe=W[re];if(0==(1&re)){const Le=xd(pe);for(let et=0;et<Le.length;et++){let Ct=Le[et];if(0==(1&et)){const Pt=Ct;""!==Pt&&lS(a,v,U[0],S,A,u,Pt)}else{const Pt=Ct;if("object"!=typeof Pt)throw new Error(`Unable to parse ICU expression in "${f}" message.`);Gs(a,u,A,o,Pt,gh(a,v,U[0],u,S,"",!0).index)}}}else{const Le=47===pe.charCodeAt(0),Ct=(pe.charCodeAt(Le?1:0),20+Number.parseInt(pe.substring(Le?2:1)));if(Le)U.shift(),Os(Aa(),!1);else{const Pt=eS(a,U[0],Ct);U.unshift([]),Os(Pt,!0)}}}a.data[c]={create:S,update:A}}(c,null===S?0:S.index,f,g,v,u);const A=c.data[g],W=bl(c,S===f[6]?null:S,f);(function nS(a,o,u,c){const f=a[11];for(let g=0;g<o.length;g++){const v=o[g++],S=o[g],A=(v&Mi.COMMENT)===Mi.COMMENT,U=(v&Mi.APPEND_EAGERLY)===Mi.APPEND_EAGERLY,W=v>>>Mi.SHIFT;let re=a[W];null===re&&(re=a[W]=A?f.createComment(S):yp(f,S)),U&&null!==u&&Ls(f,u,re,c,!1)}})(f,A.create,W,S&&8&S.type?f[S.index]:null),Zd(!0)}function js(a,o,u){sy(a,o,u),function ay(){Zd(!1)}()}function ds(a){return function tS(a){a&&(ha|=1<<Math.min(go,31)),go++}(jr(ct(),qs(),a)),ds}function mh(a){!function fh(a,o,u){if(go>0){const c=a.data[u];hh(a,o,Array.isArray(c)?c:c.update,Ps()-go-1,ha)}ha=0,go=0}(dn(),ct(),a+20)}function tc(a,o,u,c,f){if(a=Me(a),Array.isArray(a))for(let g=0;g<a.length;g++)tc(a[g],o,u,c,f);else{const g=dn(),v=ct();let S=Uo(a)?a:Me(a.provide),A=tg(a);const U=mi(),W=1048575&U.providerIndexes,re=U.directiveStart,pe=U.providerIndexes>>20;if(Uo(a)||!a.multi){const Le=new Mo(A,f,vd),et=Nd(S,o,f?W:W+pe,re);-1===et?(Mn(Bt(U,v),g,S),Wo(g,a,o.length),o.push(S),U.directiveStart++,U.directiveEnd++,f&&(U.providerIndexes+=1048576),u.push(Le),v.push(Le)):(u[et]=Le,v[et]=Le)}else{const Le=Nd(S,o,W+pe,re),et=Nd(S,o,W,W+pe),Ct=Le>=0&&u[Le],Pt=et>=0&&u[et];if(f&&!Pt||!f&&!Ct){Mn(Bt(U,v),g,S);const Vt=function bS(a,o,u,c,f){const g=new Mo(a,u,vd);return g.multi=[],g.index=o,g.componentProviders=0,Ll(g,f,c&&!u),g}(f?yS:rm,u.length,f,c,A);!f&&Pt&&(u[et].providerFactory=Vt),Wo(g,a,o.length,0),o.push(S),U.directiveStart++,U.directiveEnd++,f&&(U.providerIndexes+=1048576),u.push(Vt),v.push(Vt)}else Wo(g,a,Le>-1?Le:et,Ll(u[f?et:Le],A,!f&&c));!f&&c&&Pt&&u[et].componentProviders++}}}function Wo(a,o,u,c){const f=Uo(o),g=function C0(a){return!!a.useClass}(o);if(f||g){const A=(g?Me(o.useClass):o).prototype.ngOnDestroy;if(A){const U=a.destroyHooks||(a.destroyHooks=[]);if(!f&&o.multi){const W=U.indexOf(u);-1===W?U.push(u,[c,A]):U[W+1].push(c,A)}else U.push(u,A)}}}function Ll(a,o,u){return u&&a.componentProviders++,a.multi.push(o)-1}function Nd(a,o,u,c){for(let f=u;f<c;f++)if(o[f]===a)return f;return-1}function rm(a,o,u,c){return ga(this.multi,[])}function yS(a,o,u,c){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,S=Ec(u,u[1],this.providerFactory.index,c);g=S.slice(0,v),ga(f,g);for(let A=v;A<S.length;A++)g.push(S[A])}else g=[],ga(f,g);return g}function ga(a,o){for(let u=0;u<a.length;u++)o.push((0,a[u])());return o}function ma(a,o=[]){return u=>{u.providersResolver=(c,f)=>
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Fl(a,o,u){const c=dn();if(c.firstCreatePass){const f=pr(a);tc(u,c.data,c.blueprint,f,!0),tc(o,c.data,c.blueprint,f,!1)}}(c,f?f(a):a,o)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class _h{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class ly{resolveComponentFactory(o){throw function oy(a){const o=Error(`No component factory found for ${Ue(a)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=a,o}(o)}}let yh=(()=>{class a{}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
return a.NULL=new ly,a})();function Id(){return Bl(mi(),ct())}function Bl(a,o){return new Hl(sn(a,o))}let Hl=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=Id,a})();function TS(a){return a instanceof Hl?a.nativeElement:a}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class uy{}let CS=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function sm(){const a=ct(),u=Un(mi().index,a);return function ic(a){return a[11]}(Xi(u)?u:a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(),a})(),cy=(()=>{class a{}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
return a.\u0275prov=mn({token:a,providedIn:"root",factory:()=>null}),a})();class am{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const dy=new am("13.3.5"),bh={};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function rc(a,o,u,c,f=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&c.push(Ot(g)),Si(g))for(let S=10;S<g.length;S++){const A=g[S],U=A[1].firstChild;null!==U&&rc(A[1],A,U,c)}const v=u.type;if(8&v)rc(a,o,u.child,c);else if(32&v){const S=ao(u,o);let A;for(;A=S();)c.push(A)}else if(16&v){const S=Nf(o,u);if(Array.isArray(S))c.push(...S);else{const A=$c(o[16]);rc(A[1],A,S,c,!0)}}u=f?u.projectionNext:u.next}return c}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Od{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return rc(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Si(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(Fs(o,c),Qh(u,c))}this._attachedToViewContainer=!1}wf(this._lView[1],this._lView)}onDestroy(o){Gf(this._lView[1],this._lView,null,o)}markForCheck(){Au(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){id(this._lView[1],this._lView,this.context)}checkNoChanges(){!function qT(a,o,u){Yr(!0);try{id(a,o,u)}finally{Yr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new nt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yl(a,o){Ro(a,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new nt(902,"");this._appRef=o}}class DS extends Od{constructor(o){super(o),this._view=o}detectChanges(){rd(this._view)}checkNoChanges(){!function Qi(a){Yr(!0);try{rd(a)}finally{Yr(!1)}}(this._view)}get context(){return null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class fy extends yh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=Cn(o);return new om(u,this.ngModule)}}function hy(a){const o=[];for(let u in a)a.hasOwnProperty(u)&&o.push({propName:a[u],templateName:u});return o}class om extends _h{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function IT(a){return a.map(NT).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return hy(this.componentDef.inputs)}get outputs(){return hy(this.componentDef.outputs)}create(o,u,c,f){const g=(f=f||this.ngModule)?function Pd(a,o){return{get:(u,c,f)=>{const g=a.get(u,bh,f);return g!==bh||c===bh?g:o.get(u,c,f)}}}(o,f.injector):o,v=g.get(uy,Ye),S=g.get(cy,null),A=v.createRenderer(null,this.componentDef),U=this.componentDef.selectors[0][0]||"div",W=c?function Up(a,o,u){if(de(a))return a.selectRootElement(o,u===qt.ShadowDom);let c="string"==typeof o?a.querySelector(o):o;return c.textContent="",c}(A,c,this.componentDef.encapsulation):bp(v.createRenderer(null,this.componentDef),U,function ES(a){const o=a.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(U)),re=this.componentDef.onPush?576:528,pe=function N0(a,o){return{components:[],scheduler:a||ro,clean:Mu,playerHandler:o||null,flags:0}}(),Le=xu(0,null,null,1,0,null,null,null,null,null),et=Du(null,Le,pe,re,null,null,v,A,S,g);let Ct,Pt;Jo(et);try{const Vt=function Ru(a,o,u,c,f,g){const v=u[1];u[20]=a;const A=Cl(v,20,2,"#host",null),U=A.mergedAttrs=o.hostAttrs;null!==U&&(ld(A,U,!0),null!==a&&(eu(f,a,U),null!==A.classes&&If(f,a,A.classes),null!==A.styles&&Ap(f,a,A.styles)));const W=c.createRenderer(a,o),re=Du(u,Uf(o),null,o.onPush?64:16,u[20],A,c,W,g||null,null);return v.firstCreatePass&&(Mn(Bt(A,u),v,o.type),zp(v,A),_0(A,u.length,1)),Lt(u,re),u[20]=re}(W,this.componentDef,et,v,A);if(W)if(c)eu(A,W,["ng-version",dy.full]);else{const{attrs:ot,classes:Jt}=function OT(a){const o=[],u=[];let c=1,f=2;for(;c<a.length;){let g=a[c];if("string"==typeof g)2===f?""!==g&&o.push(g,a[++c]):8===f&&u.push(g);else{if(!_i(f))break;f=g}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);ot&&eu(A,W,ot),Jt&&Jt.length>0&&If(A,W,Jt.join(" "))}if(Pt=Xn(Le,20),void 0!==u){const ot=Pt.projection=[];for(let Jt=0;Jt<this.ngContentSelectors.length;Jt++){const En=u[Jt];ot.push(null!=En?Array.from(En):null)}}Ct=function ug(a,o,u,c,f){const g=u[1],v=function h0(a,o,u){const c=mi();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),y0(a,c,o,Lo(a,o,1,null),u));const f=Ec(o,a,c.directiveStart,c);xi(f,o);const g=sn(c,o);return g&&xi(g,o),f}(g,u,o);if(c.components.push(v),a[8]=v,f&&f.forEach(A=>A(v,o)),o.contentQueries){const A=mi();o.contentQueries(1,v,A.directiveStart)}const S=mi();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ia(S.index),Wp(u[1],S,0,S.directiveStart,S.directiveEnd,o),$f(o,v)),v}(Vt,this.componentDef,et,pe,[a1]),Dl(Le,et,null)}finally{tl()}return new wS(this.componentType,Ct,Bl(Pt,et),et,Pt)}}class wS extends class vh{}{constructor(o,u,c,f,g){super(),this.location=c,this._rootLView=f,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new DS(f),this.componentType=o}get injector(){return new No(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class sc{}class py{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const ac=new Map;class vy extends sc{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fy(this);const c=bi(o);this._bootstrapComponents=yr(c.bootstrap),this._r3Injector=eg(o,u,[{provide:sc,useValue:this},{provide:yh,useValue:this.componentFactoryResolver}],Ue(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=la.THROW_IF_NOT_FOUND,c=Ft.Default){return o===la||o===sc||o===Ne?this:this._r3Injector.get(o,u,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class um extends py{constructor(o){super(),this.moduleType=o,null!==bi(o)&&function AS(a){const o=new Set;!function u(c){const f=bi(c,!0),g=f.id;null!==g&&(function gy(a,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${a} - ${Ue(o)} vs ${Ue(o.name)}`)}(g,ac.get(g),c),ac.set(g,c));const v=yr(f.imports);for(const S of v)o.has(S)||(o.add(S),u(S))}(a)}(o)}create(o){return new vy(this.moduleType,o)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function MS(a,o,u){const c=vr()+a,f=ct();return f[c]===ln?Us(f,c,u?o.call(u):o()):function gd(a,o){return a[o]}(f,c)}function NS(a,o,u,c){return _y(ct(),vr(),a,o,u,c)}function cm(a,o,u,c,f){return function yy(a,o,u,c,f,g,v){const S=o+u;return Al(a,S,f,g)?Us(a,S+2,v?c.call(v,f,g):c(f,g)):Rd(a,S+2)}(ct(),vr(),a,o,u,c,f)}function dm(a,o,u,c,f,g){return function fm(a,o,u,c,f,g,v,S){const A=o+u;return function md(a,o,u,c,f){const g=Al(a,o,u,c);return jr(a,o+2,f)||g}(a,A,f,g,v)?Us(a,A+3,S?c.call(S,f,g,v):c(f,g,v)):Rd(a,A+3)}(ct(),vr(),a,o,u,c,f,g)}function Rd(a,o){const u=a[o];return u===ln?void 0:u}function _y(a,o,u,c,f,g){const v=o+u;return jr(a,v,f)?Us(a,v+1,g?c.call(g,f):c(f)):Rd(a,v+1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Sy(a,o){const u=dn();let c;const f=a+20;u.firstCreatePass?(c=function kS(a,o){if(o)for(let u=o.length-1;u>=0;u--){const c=o[u];if(a===c.name)return c}}(o,u.pipeRegistry),u.data[f]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,c.onDestroy)):c=u.data[f];const g=c.factory||(c.factory=Er(c.type)),v=be(vd);try{const S=R(!1),A=g();return R(S),function f1(a,o,u,c){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),o[u]=c}(u,ct(),f,A),A}finally{be(v)}}function FS(a,o,u){const c=a+20,f=ct(),g=lt(f,c);return function kd(a,o){return a[1].data[o].pure}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(f,c)?_y(f,vr(),o,g.transform,u,g):g.transform(u)}function hm(a){return o=>{setTimeout(a,void 0,o)}}const Ua=class VS extends T.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){var f,g,v;let S=o,A=u||(()=>null),U=c;if(o&&"object"==typeof o){const re=o;S=null===(f=re.next)||void 0===f?void 0:f.bind(re),A=null===(g=re.error)||void 0===g?void 0:g.bind(re),U=null===(v=re.complete)||void 0===v?void 0:v.bind(re)}this.__isAsync&&(A=hm(A),S&&(S=hm(S)),U&&(U=hm(U)));const W=super.subscribe({next:S,error:A,complete:U});return o instanceof h.w0&&o.add(W),W}};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function GS(){return this._results[ua()]()}class pm{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ua(),c=pm.prototype;c[u]||(c[u]=GS)}get changes(){return this._changes||(this._changes=new Ua)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const f=ks(o);(this._changesDetected=!function eT(a,o,u){if(a.length!==o.length)return!1;for(let c=0;c<a.length;c++){let f=a[c],g=o[c];if(u&&(f=u(f),g=u(g)),g!==f)return!1}return!0}(c._results,f,u))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Fd=(()=>{class a{}return a.__NG_ELEMENT_ID__=WS,a})();const jS=Fd,QD=class extends jS{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o){const u=this._declarationTContainer.tViews,c=Du(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(u)),Dl(u,c,o),new Od(c)}};function WS(){return Sh(mi(),ct())}function Sh(a,o){return 4&a.type?new QD(o,a,Bl(a,o)):null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Ch=(()=>{class a{}return a.__NG_ELEMENT_ID__=$S,a})();function $S(){return KS(mi(),ct())}const zS=Ch,Cy=class extends zS{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return Bl(this._hostTNode,this._hostLView)}get injector(){return new No(this._hostTNode,this._hostLView)}get parentInjector(){const o=An(this._hostTNode,this._hostLView);if(ll(o)){const u=C(o,this._hostLView),c=Qa(o);return new No(u[1].data[c+8],u)}return new No(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=YS(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){const f=o.createEmbeddedView(u||{});return this.insert(f,c),f}createComponent(o,u,c,f,g){const v=o&&!function xc(a){return"function"==typeof a}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(o);let S;if(v)S=u;else{const re=u||{};S=re.index,c=re.injector,f=re.projectableNodes,g=re.ngModuleRef}const A=v?o:new om(Cn(o)),U=c||this.parentInjector;if(!g&&null==A.ngModule){const pe=(v?U:this.parentInjector).get(sc,null);pe&&(g=pe)}const W=A.create(U,f,void 0,g);return this.insert(W.hostView,S),W}insert(o,u){const c=o._lView,f=c[1];if(function Kt(a){return Si(a[3])}(c)){const W=this.indexOf(o);if(-1!==W)this.detach(W);else{const re=c[3],pe=new Cy(re,re[6],re[3]);pe.detach(pe.indexOf(o))}}const g=this._adjustIndex(u),v=this._lContainer;!function Xr(a,o,u,c){const f=10+c,g=u.length;c>0&&(u[f-1][4]=o),c<g-10?(o[4]=u[f],tT(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function vu(a,o){const u=a[9];o[16]!==o[3][3][16]&&(a[2]=!0),null===u?a[9]=[o]:u.push(o)}(v,o);const S=o[19];null!==S&&S.insertView(a),o[2]|=128}(f,c,v,g);const S=Kc(g,v),A=c[11],U=yu(A,v[7]);return null!==U&&function Tp(a,o,u,c,f,g){c[0]=f,c[6]=o,Ro(a,c,u,1,f,g)}(f,v[6],A,c,U,S),o.attachToViewContainerRef(),tT(Dy(v),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=YS(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=Fs(this._lContainer,u);c&&(Qh(Dy(this._lContainer),u),wf(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=Fs(this._lContainer,u);return c&&null!=Qh(Dy(this._lContainer),u)?new Od(c):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function YS(a){return a[8]}function Dy(a){return a[8]||(a[8]=[])}function KS(a,o){let u;const c=o[a.index];if(Si(c))u=c;else{let f;if(8&a.type)f=Ot(c);else{const g=o[11];f=g.createComment("");const v=sn(a,o);Ls(g,yu(g,v),f,function ET(a,o){return de(a)?a.nextSibling(o):o.nextSibling}(g,v),!1)}o[a.index]=u=qp(c,o,f,a),Lt(o,u)}return new Cy(u,a,o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class gm{constructor(o){this.queryList=o,this.matches=null}clone(){return new gm(this.queryList)}setDirty(){this.queryList.setDirty()}}class mm{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,f=[];for(let g=0;g<c;g++){const v=u.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new mm(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Py(o,u).matches&&this.queries[u].setDirty()}}class Ey{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class wy{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const f=null!==u?u.length:0,g=this.getByIndex(c).embeddedTView(o,f);g&&(g.indexInDeclarationView=c,null!==u?u.push(g):u=[g])}return null!==u?new wy(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class xy{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new xy(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const g=c[f];this.matchTNodeWithReadOption(o,u,eE(u,g)),this.matchTNodeWithReadOption(o,u,nf(u,o,g,!1,!1))}else c===Fd?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,nf(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===Hl||f===Ch||f===Fd&&4&u.type)this.addMatch(u.index,-2);else{const g=nf(u,o,f,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function eE(a,o){const u=a.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function qS(a,o,u,c){return-1===u?function tE(a,o){return 11&a.type?Bl(a,o):4&a.type?Sh(a,o):null}(o,a):-2===u?function XS(a,o,u){return u===Hl?Bl(o,a):u===Fd?Sh(o,a):u===Ch?KS(o,a):void 0}(a,o,c):Ec(a,a[1],u,o)}function QS(a,o,u,c){const f=o[19].queries[c];if(null===f.matches){const g=a.data,v=u.matches,S=[];for(let A=0;A<v.length;A+=2){const U=v[A];S.push(U<0?null:qS(o,g[U],v[A+1],u.metadata.read))}f.matches=S}return f.matches}function Ay(a,o,u,c){const f=a.queries.getByIndex(u),g=f.matches;if(null!==g){const v=QS(a,o,f,u);for(let S=0;S<g.length;S+=2){const A=g[S];if(A>0)c.push(v[S/2]);else{const U=g[S+1],W=o[-A];for(let re=10;re<W.length;re++){const pe=W[re];pe[17]===pe[3]&&Ay(pe[1],pe,U,c)}if(null!==W[9]){const re=W[9];for(let pe=0;pe<re.length;pe++){const Le=re[pe];Ay(Le[1],Le,U,c)}}}}}return c}function ZS(a){const o=ct(),u=dn(),c=vs();yc(c+1);const f=Py(u,c);if(a.dirty&&Br(o)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?Ay(u,o,c,[]):QS(u,o,f,c);a.reset(g,TS),a.notifyOnChanges()}return!0}return!1}function JS(a,o,u){const c=dn();c.firstCreatePass&&(Oy(c,new Ey(a,o,u),-1),2==(2&o)&&(c.staticViewQueries=!0)),Iy(c,ct(),o)}function My(a,o,u,c){const f=dn();if(f.firstCreatePass){const g=mi();Oy(f,new Ey(o,u,c),g.index),function eC(a,o){const u=a.contentQueries||(a.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,o)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}Iy(f,ct(),u)}function Ny(){return function nE(a,o){return a[19].queries[o].queryList}(ct(),vs())}function Iy(a,o,u){const c=new pm(4==(4&u));Gf(a,o,c,c.destroy),null===o[19]&&(o[19]=new mm),o[19].queries.push(new gm(c))}function Oy(a,o,u){null===a.queries&&(a.queries=new wy),a.queries.track(new xy(o,u))}function Py(a,o){return a.queries.getByIndex(o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ry(a,o){return Sh(a,o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function wh(...a){}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const zy=new Ri("Application Initializer");let Cm=(()=>{class a{constructor(u){this.appInits=u,this.resolve=wh,this.reject=wh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,f)=>{this.resolve=c,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Ig(g))u.push(g);else if(i_(g)){const v=new Promise((S,A)=>{g.subscribe({complete:S,error:A})});u.push(v)}}Promise.all(u).then(()=>{c()}).catch(f=>{this.reject(f)}),0===u.length&&c(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Ur(zy,8))},a.\u0275prov=mn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const _C=new Ri("AppId",{providedIn:"root",factory:function yC(){return`${Dm()}${Dm()}${Dm()}`}});function Dm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const bC=new Ri("Platform Initializer"),xh=new Ri("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),TC=new Ri("appBootstrapListener");
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Em=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=mn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Bd=new Ri("LocaleId",{providedIn:"root",factory:()=>tp(Bd,Ft.Optional|Ft.SkipSelf)||function vo(){return"undefined"!=typeof $localize&&$localize.locale||lh}()}),Ul=new Ri("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class gE{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let CC=(()=>{class a{compileModuleSync(u){return new um(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),g=yr(bi(u).declarations).reduce((v,S)=>{const A=Cn(S);return A&&v.push(new om(A)),v},[]);return new gE(c,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=mn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const vE=(()=>Promise.resolve(0))();function wm(a){"undefined"==typeof Zone?vE.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class va{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ua(!1),this.onMicrotaskEmpty=new Ua(!1),this.onStable=new Ua(!1),this.onError=new Ua(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&u,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Yy(){let a=en.requestAnimationFrame,o=en.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&o){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function EC(a){const o=()=>{!function Wr(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(en,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,xm(a),a.isCheckStableRunning=!0,Vl(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),xm(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,f,g,v,S)=>{try{return Ah(a),u.invokeTask(f,g,v,S)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&o(),uc(a)}},onInvoke:(u,c,f,g,v,S,A)=>{try{return Ah(a),u.invoke(f,g,v,S,A)}finally{a.shouldCoalesceRunChangeDetection&&o(),uc(a)}},onHasTask:(u,c,f,g)=>{u.hasTask(f,g),c===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,xm(a),Vl(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,c,f,g)=>(u.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!va.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(va.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,o,DC,wh,wh);try{return g.runTask(v,u,c)}finally{g.cancelTask(v)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const DC={};function Vl(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function xm(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Ah(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function uc(a){a._nesting--,Vl(a)}class wC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ua,this.onMicrotaskEmpty=new Ua,this.onStable=new Ua,this.onError=new Ua}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,f){return o.apply(u,c)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Ky=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{va.assertNotInAngularZone(),wm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wm(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,f){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:f})}whenStable(u,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(Ur(va))},a.\u0275prov=mn({token:a,factory:a.\u0275fac}),a})(),Am=(()=>{class a{constructor(){this._applications=new Map,Hd.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Hd.findTestabilityInTree(this,u,c)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=mn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class qy{addToWindow(o){}findTestabilityInTree(o,u,c){return null}}function Xy(a){Hd=a}let Hd=new qy,Gl=null;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Mm=new Ri("AllowMultipleToken"),Nm=new Ri("PlatformOnDestroy");class bE{constructor(o,u){this.name=o,this.token=u}}function Im(a,o,u=[]){const c=`Platform: ${o}`,f=new Ri(c);return(g=[])=>{let v=Mh();if(!v||v.injector.get(Mm,!1)){const S=[...u,...g,{provide:f,useValue:!0}];a?a(S):function TE(a){if(Gl&&!Gl.get(Mm,!1))throw new nt(400,"");Gl=a;const o=a.get(MC),u=a.get(bC,null);u&&u.forEach(c=>c())}(function AC(a=[],o){return la.create({name:o,providers:[{provide:cd,useValue:"platform"},{provide:Nm,useValue:()=>Gl=null},...a]})}(S,c))}return function Om(a){const o=Mh();if(!o)throw new nt(401,"");return o}()}}function Mh(){var a;return null!==(a=null==Gl?void 0:Gl.get(MC))&&void 0!==a?a:null}let MC=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const S=function CE(a,o){let u;return u="noop"===a?new wC:("zone.js"===a?void 0:a)||new va({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),A=[{provide:va,useValue:S}];return S.run(()=>{const U=la.create({providers:A,parent:this.injector,name:u.moduleType.name}),W=u.create(U),re=W.injector.get(_l,null);if(!re)throw new nt(402,"");return S.runOutsideAngular(()=>{const pe=S.onError.subscribe({next:Le=>{re.handleError(Le)}});W.onDestroy(()=>{jl(this._modules,W),pe.unsubscribe()})}),function Qy(a,o,u){try{const c=u();return Ig(c)?c.catch(f=>{throw o.runOutsideAngular(()=>a.handleError(f)),f}):c}catch(c){throw o.runOutsideAngular(()=>a.handleError(c)),c}}(re,S,()=>{const pe=W.injector.get(Cm);return pe.runInitializers(),pe.donePromise.then(()=>(function po(a){(function kt(a,o){null==a&&Nt(o,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(Cd=a.toLowerCase().replace(/_/g,"-"))}(W.injector.get(Bd,lh)||lh),this._moduleDoBootstrap(W),W))})})}bootstrapModule(u,c=[]){const f=_o({},c);return function _E(a,o,u){const c=new um(u);return Promise.resolve(c)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(u){const c=u.injector.get(Nh);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new nt(403,"");u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(Nm,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Ur(la))},a.\u0275prov=mn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function _o(a,o){return Array.isArray(o)?o.reduce(_o,a):Object.assign(Object.assign({},a),o)}let Nh=(()=>{class a{constructor(u,c,f,g){this._zone=u,this._injector=c,this._exceptionHandler=f,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new se.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),S=new se.y(A=>{let U;this._zone.runOutsideAngular(()=>{U=this._zone.onStable.subscribe(()=>{va.assertNotInAngularZone(),wm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const W=this._zone.onUnstable.subscribe(()=>{va.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{U.unsubscribe(),W.unsubscribe()}});this.isStable=(0,Ce.T)(v,S.pipe(function Re(a={}){const{connector:o=(()=>new T.x),resetOnError:u=!0,resetOnComplete:c=!0,resetOnRefCountZero:f=!0}=a;return g=>{let v=null,S=null,A=null,U=0,W=!1,re=!1;const pe=()=>{null==S||S.unsubscribe(),S=null},Le=()=>{pe(),v=A=null,W=re=!1},et=()=>{const Ct=v;Le(),null==Ct||Ct.unsubscribe()};return(0,ke.e)((Ct,Pt)=>{U++,!re&&!W&&pe();const Vt=A=null!=A?A:o();Pt.add(()=>{U--,0===U&&!re&&!W&&(S=xe(et,f))}),Vt.subscribe(Pt),v||(v=new Be.Hp({next:ot=>Vt.next(ot),error:ot=>{re=!0,pe(),S=xe(Le,u,ot),Vt.error(ot)},complete:()=>{W=!0,pe(),S=xe(Le,c),Vt.complete()}}),(0,me.D)(Ct).subscribe(v))})(g)}}()))}bootstrap(u,c){if(!this._initStatus.done)throw new nt(405,"");let f;f=u instanceof _h?u:this._injector.get(yh).resolveComponentFactory(u),this.componentTypes.push(f.componentType);const g=function yE(a){return a.isBoundToModule}(f)?void 0:this._injector.get(sc),S=f.create(la.NULL,[],c||f.selector,g),A=S.location.nativeElement,U=S.injector.get(Ky,null),W=U&&S.injector.get(Am);return U&&W&&W.registerApplication(A,U),S.onDestroy(()=>{this.detachView(S.hostView),jl(this.components,S),W&&W.unregisterApplication(A)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new nt(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;jl(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(TC,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(Ur(va),Ur(la),Ur(_l),Ur(Cm))},a.\u0275prov=mn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function jl(a,o){const u=a.indexOf(o);u>-1&&a.splice(u,1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Zy=!0;function eb(){Zy=!1}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let tb=(()=>{class a{}return a.__NG_ELEMENT_ID__=OC,a})();function OC(a){return function PC(a,o,u){if(Ks(a)&&!u){const c=Un(a.index,o);return new Od(c,c)}return 47&a.type?new Od(o[16],o):null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(mi(),ct(),16==(16&a))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class sb{constructor(){}supports(o){return pd(o)}create(o){return new OE(o)}}const IE=(a,o)=>o;class OE{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||IE}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,f=0,g=null;for(;u||c;){const v=!c||u&&u.currentIndex<ab(c,f,g)?u:c,S=ab(v,f,g),A=v.currentIndex;if(v===c)f--,c=c._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{g||(g=[]);const U=S-f,W=A-f;if(U!=W){for(let pe=0;pe<U;pe++){const Le=pe<g.length?g[pe]:g[pe]=0,et=Le+pe;W<=et&&et<U&&(g[pe]=Le+1)}g[v.previousIndex]=W-U}}S!==A&&o(v,S,A)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!pd(o))throw new nt(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,g,v,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let S=0;S<this.length;S++)g=o[S],v=this._trackByFn(S,g),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,g,v,S)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,S),c=!0),u=u._next}else f=0,function R0(a,o){if(Array.isArray(a))for(let u=0;u<a.length;u++)o(a[u]);else{const u=a[ua()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,S=>{v=this._trackByFn(f,S),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,S,v,f)),Object.is(u.item,S)||this._addIdentityChange(u,S)):(u=this._mismatch(u,S,v,f),c=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,f){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,f)):o=this._addAfter(new PE(u,c),g,f),o}_verifyReinsertion(o,u,c,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,g=o._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const f=null===u?this._itHead:u._next;return o._next=f,o._prev=u,null===f?this._itTail=o:f._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new BC),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class PE{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RE{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class BC{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new RE,this.map.set(u,c)),c.add(o)}get(o,u){const f=this.map.get(o);return f?f.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ab(a,o,u){const c=a.previousIndex;if(null===c)return c;let f=0;return u&&c<u.length&&(f=u[c]),c+o+f
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}class HC{constructor(){}supports(o){return o instanceof Map||pg(o)}create(){return new kE}}class kE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||pg(o)))throw new nt(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(f,c);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,u);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const c=new FE(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class FE{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ji(){return new ob([new sb])}let ob=(()=>{class a{constructor(u){this.factories=u}static create(u,c){if(null!=c){const f=c.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:c=>a.create(u,c||Ji()),deps:[[a,new Pc,new Oc]]}}find(u){const c=this.factories.find(f=>f.supports(u));if(null!=c)return c;throw new nt(901,"")}}return a.\u0275prov=mn({token:a,providedIn:"root",factory:Ji}),a})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function UC(){return new lb([new HC])}let lb=(()=>{class a{constructor(u){this.factories=u}static create(u,c){if(c){const f=c.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:c=>a.create(u,c||UC()),deps:[[a,new Pc,new Oc]]}}find(u){const c=this.factories.find(g=>g.supports(u));if(c)return c;throw new nt(901,"")}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
return a.\u0275prov=mn({token:a,providedIn:"root",factory:UC}),a})();const VC=Im(null,"core",[]);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let cb=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Ur(Nh))},a.\u0275mod=Jn({type:a}),a.\u0275inj=yi({}),a})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */,2382:(gt,Pe,G)=>{"use strict";G.d(Pe,{Wl:()=>Me,Fj:()=>rt,NI:()=>Pr,oH:()=>gs,u:()=>Ns,cw:()=>fr,sg:()=>ir,u5:()=>Yt,JU:()=>vt,JJ:()=>De,JL:()=>be,UX:()=>Kt,kI:()=>ne,_Y:()=>kr});var T=G(4893),h=G(9808),se=G(8306),Ce=G(4742),me=G(8421),Oe=G(3269),Be=G(5403),ke=G(3268),Re=G(1810),Ae=G(2076),Ee=G(4004);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Ue=(()=>{class P{constructor(I,Q){this._renderer=I,this._elementRef=Q,this.onChange=Ze=>{},this.onTouched=()=>{}}setProperty(I,Q){this._renderer.setProperty(this._elementRef.nativeElement,I,Q)}registerOnTouched(I){this.onTouched=I}registerOnChange(I){this.onChange=I}setDisabledState(I){this.setProperty("disabled",I)}}return P.\u0275fac=function(I){return new(I||P)(T.Y36(T.Qsj),T.Y36(T.SBq))},P.\u0275dir=T.lG2({type:P}),P})(),Fe=(()=>{class P extends Ue{}return P.\u0275fac=function(){let O;return function(Q){return(O||(O=T.n5z(P)))(Q||P)}}(),P.\u0275dir=T.lG2({type:P,features:[T.qOj]}),P})();const vt=new T.OlP("NgValueAccessor"),wt={provide:vt,useExisting:(0,T.Gpc)(()=>Me),multi:!0};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Me=(()=>{class P extends Fe{writeValue(I){this.setProperty("checked",I)}}return P.\u0275fac=function(){let O;return function(Q){return(O||(O=T.n5z(P)))(Q||P)}}(),P.\u0275dir=T.lG2({type:P,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(I,Q){1&I&&T.NdJ("change",function(Wt){return Q.onChange(Wt.target.checked)})("blur",function(){return Q.onTouched()})},features:[T._Bn([wt]),T.qOj]}),P})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Tt={provide:vt,useExisting:(0,T.Gpc)(()=>rt),multi:!0},nt=new T.OlP("CompositionEventMode");let rt=(()=>{class P extends Ue{constructor(I,Q,Ze){super(I,Q),this._compositionMode=Ze,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ut(){const P=(0,h.q)()?(0,h.q)().getUserAgent():"";return/android (\d+)/.test(P.toLowerCase())}())}writeValue(I){this.setProperty("value",null==I?"":I)}_handleInput(I){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(I)}_compositionStart(){this._composing=!0}_compositionEnd(I){this._composing=!1,this._compositionMode&&this.onChange(I)}}return P.\u0275fac=function(I){return new(I||P)(T.Y36(T.Qsj),T.Y36(T.SBq),T.Y36(nt,8))},P.\u0275dir=T.lG2({type:P,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(I,Q){1&I&&T.NdJ("input",function(Wt){return Q._handleInput(Wt.target.value)})("blur",function(){return Q.onTouched()})("compositionstart",function(){return Q._compositionStart()})("compositionend",function(Wt){return Q._compositionEnd(Wt.target.value)})},features:[T._Bn([Tt]),T.qOj]}),P})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function we(P){return null==P||0===P.length}function Je(P){return null!=P&&"number"==typeof P.length}const St=new T.OlP("NgValidators"),bt=new T.OlP("NgAsyncValidators"),K=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ne{static min(O){return function J(P){return O=>{if(we(O.value)||we(P))return null;const I=parseFloat(O.value);return!isNaN(I)&&I<P?{min:{min:P,actual:O.value}}:null}}(O)}static max(O){return function ue(P){return O=>{if(we(O.value)||we(P))return null;const I=parseFloat(O.value);return!isNaN(I)&&I>P?{max:{max:P,actual:O.value}}:null}}(O)}static required(O){return function ce(P){return we(P.value)?{required:!0}:null}(O)}static requiredTrue(O){return function Se(P){return!0===P.value?null:{required:!0}}(O)}static email(O){return function fe(P){return we(P.value)||K.test(P.value)?null:{email:!0}}(O)}static minLength(O){return function He(P){return O=>we(O.value)||!Je(O.value)?null:O.value.length<P?{minlength:{requiredLength:P,actualLength:O.value.length}}:null}(O)}static maxLength(O){return function We(P){return O=>Je(O.value)&&O.value.length>P?{maxlength:{requiredLength:P,actualLength:O.value.length}}:null}(O)}static pattern(O){return function st(P){if(!P)return at;let O,I;return"string"==typeof P?(I="","^"!==P.charAt(0)&&(I+="^"),I+=P,"$"!==P.charAt(P.length-1)&&(I+="$"),O=new RegExp(I)):(I=P.toString(),O=P),Q=>{if(we(Q.value))return null;const Ze=Q.value;return O.test(Ze)?null:{pattern:{requiredPattern:I,actualValue:Ze}}}}(O)}static nullValidator(O){return null}static compose(O){return Zn(O)}static composeAsync(O){return zn(O)}}function at(P){return null}function $e(P){return null!=P}function Mt(P){const O=(0,T.QGY)(P)?(0,Ae.D)(P):P;return(0,T.CqO)(O),O}function Qt(P){let O={};return P.forEach(I=>{O=null!=I?Object.assign(Object.assign({},O),I):O}),0===Object.keys(O).length?null:O}function Gt(P,O){return O.map(I=>I(P))}function Nt(P){return P.map(O=>function kt(P){return!P.validate}(O)?O:I=>O.validate(I))}function Zn(P){if(!P)return null;const O=P.filter($e);return 0==O.length?null:function(I){return Qt(Gt(I,O))}}function Sn(P){return null!=P?Zn(Nt(P)):null}function zn(P){if(!P)return null;const O=P.filter($e);return 0==O.length?null:function(I){return function xe(...P){const O=(0,Oe.jO)(P),{args:I,keys:Q}=(0,Ce.D)(P),Ze=new se.y(Wt=>{const{length:Qn}=I;if(!Qn)return void Wt.complete();const Hr=new Array(Qn);let ct=Qn,dn=Qn;for(let xa=0;xa<Qn;xa++){let mi=!1;(0,me.Xf)(I[xa]).subscribe((0,Be.x)(Wt,Ka=>{mi||(mi=!0,dn--),Hr[xa]=Ka},()=>ct--,void 0,()=>{(!ct||!mi)&&(dn||Wt.next(Q?(0,Re.n)(Q,Hr):Hr),Wt.complete())}))}});return O?Ze.pipe((0,ke.Z)(O)):Ze}(Gt(I,O).map(Mt)).pipe((0,Ee.U)(Qt))}}function mn(P){return null!=P?zn(Nt(P)):null}function Bi(P,O){return null===P?[O]:Array.isArray(P)?[...P,O]:[P,O]}function yi(P){return P._rawValidators}function On(P){return P._rawAsyncValidators}function Tr(P){return P?Array.isArray(P)?P:[P]:[]}function wn(P,O){return Array.isArray(P)?P.includes(O):P===O}function tr(P,O){const I=Tr(O);return Tr(P).forEach(Ze=>{wn(I,Ze)||I.push(Ze)}),I}function si(P,O){return Tr(O).filter(I=>!wn(P,I))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Sr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(O){this._rawValidators=O||[],this._composedValidatorFn=Sn(this._rawValidators)}_setAsyncValidators(O){this._rawAsyncValidators=O||[],this._composedAsyncValidatorFn=mn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(O){this._onDestroyCallbacks.push(O)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(O=>O()),this._onDestroyCallbacks=[]}reset(O){this.control&&this.control.reset(O)}hasError(O,I){return!!this.control&&this.control.hasError(O,I)}getError(O,I){return this.control?this.control.getError(O,I):null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Ht extends Sr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Pn extends Sr{get formDirective(){return null}get path(){return null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Ki{constructor(O){this._cd=O}is(O){var I,Q,Ze;return"submitted"===O?!!(null===(I=this._cd)||void 0===I?void 0:I.submitted):!!(null===(Ze=null===(Q=this._cd)||void 0===Q?void 0:Q.control)||void 0===Ze?void 0:Ze[O])}}let De=(()=>{class P extends Ki{constructor(I){super(I)}}return P.\u0275fac=function(I){return new(I||P)(T.Y36(Ht,2))},P.\u0275dir=T.lG2({type:P,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(I,Q){2&I&&T.ekj("ng-untouched",Q.is("untouched"))("ng-touched",Q.is("touched"))("ng-pristine",Q.is("pristine"))("ng-dirty",Q.is("dirty"))("ng-valid",Q.is("valid"))("ng-invalid",Q.is("invalid"))("ng-pending",Q.is("pending"))},features:[T.qOj]}),P})(),be=(()=>{class P extends Ki{constructor(I){super(I)}}return P.\u0275fac=function(I){return new(I||P)(T.Y36(Pn,10))},P.\u0275dir=T.lG2({type:P,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(I,Q){2&I&&T.ekj("ng-untouched",Q.is("untouched"))("ng-touched",Q.is("touched"))("ng-pristine",Q.is("pristine"))("ng-dirty",Q.is("dirty"))("ng-valid",Q.is("valid"))("ng-invalid",Q.is("invalid"))("ng-pending",Q.is("pending"))("ng-submitted",Q.is("submitted"))},features:[T.qOj]}),P})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Cr(P,O){Ke(P,O),O.valueAccessor.writeValue(P.value),function un(P,O){O.valueAccessor.registerOnChange(I=>{P._pendingValue=I,P._pendingChange=!0,P._pendingDirty=!0,"change"===P.updateOn&&_n(P,O)})}(P,O),function Ui(P,O){const I=(Q,Ze)=>{O.valueAccessor.writeValue(Q),Ze&&O.viewToModelUpdate(Q)};P.registerOnChange(I),O._registerOnDestroy(()=>{P._unregisterOnChange(I)})}(P,O),function ci(P,O){O.valueAccessor.registerOnTouched(()=>{P._pendingTouched=!0,"blur"===P.updateOn&&P._pendingChange&&_n(P,O),"submit"!==P.updateOn&&P.markAsTouched()})}(P,O),function ye(P,O){if(O.valueAccessor.setDisabledState){const I=Q=>{O.valueAccessor.setDisabledState(Q)};P.registerOnDisabledChange(I),O._registerOnDestroy(()=>{P._unregisterOnDisabledChange(I)})}}(P,O)}function te(P,O,I=!0){const Q=()=>{};O.valueAccessor&&(O.valueAccessor.registerOnChange(Q),O.valueAccessor.registerOnTouched(Q)),yt(P,O),P&&(O._invokeOnDestroyCallbacks(),P._registerOnCollectionChange(()=>{}))}function ee(P,O){P.forEach(I=>{I.registerOnValidatorChange&&I.registerOnValidatorChange(O)})}function Ke(P,O){const I=yi(P);null!==O.validator?P.setValidators(Bi(I,O.validator)):"function"==typeof I&&P.setValidators([I]);const Q=On(P);null!==O.asyncValidator?P.setAsyncValidators(Bi(Q,O.asyncValidator)):"function"==typeof Q&&P.setAsyncValidators([Q]);const Ze=()=>P.updateValueAndValidity();ee(O._rawValidators,Ze),ee(O._rawAsyncValidators,Ze)}function yt(P,O){let I=!1;if(null!==P){if(null!==O.validator){const Ze=yi(P);if(Array.isArray(Ze)&&Ze.length>0){const Wt=Ze.filter(Qn=>Qn!==O.validator);Wt.length!==Ze.length&&(I=!0,P.setValidators(Wt))}}if(null!==O.asyncValidator){const Ze=On(P);if(Array.isArray(Ze)&&Ze.length>0){const Wt=Ze.filter(Qn=>Qn!==O.asyncValidator);Wt.length!==Ze.length&&(I=!0,P.setAsyncValidators(Wt))}}}const Q=()=>{};return ee(O._rawValidators,Q),ee(O._rawAsyncValidators,Q),I}function _n(P,O){P._pendingDirty&&P.markAsDirty(),P.setValue(P._pendingValue,{emitModelToViewChange:!1}),O.viewToModelUpdate(P._pendingValue),P._pendingChange=!1}function Cn(P,O){if(!P.hasOwnProperty("model"))return!1;const I=P.model;return!!I.isFirstChange()||!Object.is(O,I.currentValue)}function bi(P,O){if(!O)return null;let I,Q,Ze;return Array.isArray(O),O.forEach(Wt=>{Wt.constructor===rt?I=Wt:function Vi(P){return Object.getPrototypeOf(P.constructor)===Fe}(Wt)?Q=Wt:Ze=Wt}),Ze||Q||I||null}function nr(P,O){const I=P.indexOf(O);I>-1&&P.splice(I,1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const kn="VALID",Dr="INVALID",ei="PENDING",Ys="DISABLED";function pt(P){return(xn(P)?P.validators:P)||null}function nn(P){return Array.isArray(P)?Sn(P):P||null}function Dn(P,O){return(xn(O)?O.asyncValidators:P)||null}function yn(P){return Array.isArray(P)?mn(P):P||null}function xn(P){return null!=P&&!Array.isArray(P)&&"object"==typeof P}const cn=P=>P instanceof Pr,jn=P=>P instanceof fr;function dr(P){return cn(P)?P.value:P.getRawValue()}function ns(P,O){const I=jn(P),Q=P.controls;if(!(I?Object.keys(Q):Q).length)throw new T.vHH(1e3,"");if(!Q[O])throw new T.vHH(1001,"")}function rn(P,O){jn(P),P._forEachChild((Q,Ze)=>{if(void 0===O[Ze])throw new T.vHH(1002,"")})}class Gi{constructor(O,I){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=O,this._rawAsyncValidators=I,this._composedValidatorFn=nn(this._rawValidators),this._composedAsyncValidatorFn=yn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(O){this._rawValidators=this._composedValidatorFn=O}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(O){this._rawAsyncValidators=this._composedAsyncValidatorFn=O}get parent(){return this._parent}get valid(){return this.status===kn}get invalid(){return this.status===Dr}get pending(){return this.status==ei}get disabled(){return this.status===Ys}get enabled(){return this.status!==Ys}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(O){this._rawValidators=O,this._composedValidatorFn=nn(O)}setAsyncValidators(O){this._rawAsyncValidators=O,this._composedAsyncValidatorFn=yn(O)}addValidators(O){this.setValidators(tr(O,this._rawValidators))}addAsyncValidators(O){this.setAsyncValidators(tr(O,this._rawAsyncValidators))}removeValidators(O){this.setValidators(si(O,this._rawValidators))}removeAsyncValidators(O){this.setAsyncValidators(si(O,this._rawAsyncValidators))}hasValidator(O){return wn(this._rawValidators,O)}hasAsyncValidator(O){return wn(this._rawAsyncValidators,O)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(O={}){this.touched=!0,this._parent&&!O.onlySelf&&this._parent.markAsTouched(O)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(O=>O.markAllAsTouched())}markAsUntouched(O={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(I=>{I.markAsUntouched({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}markAsDirty(O={}){this.pristine=!1,this._parent&&!O.onlySelf&&this._parent.markAsDirty(O)}markAsPristine(O={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(I=>{I.markAsPristine({onlySelf:!0})}),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}markAsPending(O={}){this.status=ei,!1!==O.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!O.onlySelf&&this._parent.markAsPending(O)}disable(O={}){const I=this._parentMarkedDirty(O.onlySelf);this.status=Ys,this.errors=null,this._forEachChild(Q=>{Q.disable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this._updateValue(),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:I})),this._onDisabledChange.forEach(Q=>Q(!0))}enable(O={}){const I=this._parentMarkedDirty(O.onlySelf);this.status=kn,this._forEachChild(Q=>{Q.enable(Object.assign(Object.assign({},O),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},O),{skipPristineCheck:I})),this._onDisabledChange.forEach(Q=>Q(!1))}_updateAncestors(O){this._parent&&!O.onlySelf&&(this._parent.updateValueAndValidity(O),O.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(O){this._parent=O}updateValueAndValidity(O={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kn||this.status===ei)&&this._runAsyncValidator(O.emitEvent)),!1!==O.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!O.onlySelf&&this._parent.updateValueAndValidity(O)}_updateTreeValidity(O={emitEvent:!0}){this._forEachChild(I=>I._updateTreeValidity(O)),this.updateValueAndValidity({onlySelf:!0,emitEvent:O.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ys:kn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(O){if(this.asyncValidator){this.status=ei,this._hasOwnPendingAsyncValidator=!0;const I=Mt(this.asyncValidator(this));this._asyncValidationSubscription=I.subscribe(Q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Q,{emitEvent:O})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(O,I={}){this.errors=O,this._updateControlsErrors(!1!==I.emitEvent)}get(O){return function cr(P,O,I){if(null==O||(Array.isArray(O)||(O=O.split(I)),Array.isArray(O)&&0===O.length))return null;let Q=P;return O.forEach(Ze=>{Q=jn(Q)?Q.controls.hasOwnProperty(Ze)?Q.controls[Ze]:null:(P=>P instanceof hr)(Q)&&Q.at(Ze)||null}),Q}(this,O,".")}getError(O,I){const Q=I?this.get(I):this;return Q&&Q.errors?Q.errors[O]:null}hasError(O,I){return!!this.getError(O,I)}get root(){let O=this;for(;O._parent;)O=O._parent;return O}_updateControlsErrors(O){this.status=this._calculateStatus(),O&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(O)}_initObservables(){this.valueChanges=new T.vpe,this.statusChanges=new T.vpe}_calculateStatus(){return this._allControlsDisabled()?Ys:this.errors?Dr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ei)?ei:this._anyControlsHaveStatus(Dr)?Dr:kn}_anyControlsHaveStatus(O){return this._anyControls(I=>I.status===O)}_anyControlsDirty(){return this._anyControls(O=>O.dirty)}_anyControlsTouched(){return this._anyControls(O=>O.touched)}_updatePristine(O={}){this.pristine=!this._anyControlsDirty(),this._parent&&!O.onlySelf&&this._parent._updatePristine(O)}_updateTouched(O={}){this.touched=this._anyControlsTouched(),this._parent&&!O.onlySelf&&this._parent._updateTouched(O)}_isBoxedValue(O){return"object"==typeof O&&null!==O&&2===Object.keys(O).length&&"value"in O&&"disabled"in O}_registerOnCollectionChange(O){this._onCollectionChange=O}_setUpdateStrategy(O){xn(O)&&null!=O.updateOn&&(this._updateOn=O.updateOn)}_parentMarkedDirty(O){return!O&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Pr extends Gi{constructor(O=null,I,Q){super(pt(I),Dn(Q,I)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(O),this._setUpdateStrategy(I),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xn(I)&&I.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(O)?O.value:O)}setValue(O,I={}){this.value=this._pendingValue=O,this._onChange.length&&!1!==I.emitModelToViewChange&&this._onChange.forEach(Q=>Q(this.value,!1!==I.emitViewToModelChange)),this.updateValueAndValidity(I)}patchValue(O,I={}){this.setValue(O,I)}reset(O=this.defaultValue,I={}){this._applyFormState(O),this.markAsPristine(I),this.markAsUntouched(I),this.setValue(this.value,I),this._pendingChange=!1}_updateValue(){}_anyControls(O){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(O){this._onChange.push(O)}_unregisterOnChange(O){nr(this._onChange,O)}registerOnDisabledChange(O){this._onDisabledChange.push(O)}_unregisterOnDisabledChange(O){nr(this._onDisabledChange,O)}_forEachChild(O){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(O){this._isBoxedValue(O)?(this.value=this._pendingValue=O.value,O.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=O}}class fr extends Gi{constructor(O,I,Q){super(pt(I),Dn(Q,I)),this.controls=O,this._initObservables(),this._setUpdateStrategy(I),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(O,I){return this.controls[O]?this.controls[O]:(this.controls[O]=I,I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange),I)}addControl(O,I,Q={}){this.registerControl(O,I),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}removeControl(O,I={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}setControl(O,I,Q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),delete this.controls[O],I&&this.registerControl(O,I),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}contains(O){return this.controls.hasOwnProperty(O)&&this.controls[O].enabled}setValue(O,I={}){rn(this,O),Object.keys(O).forEach(Q=>{ns(this,Q),this.controls[Q].setValue(O[Q],{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I)}patchValue(O,I={}){null!=O&&(Object.keys(O).forEach(Q=>{this.controls[Q]&&this.controls[Q].patchValue(O[Q],{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I))}reset(O={},I={}){this._forEachChild((Q,Ze)=>{Q.reset(O[Ze],{onlySelf:!0,emitEvent:I.emitEvent})}),this._updatePristine(I),this._updateTouched(I),this.updateValueAndValidity(I)}getRawValue(){return this._reduceChildren({},(O,I,Q)=>(O[Q]=dr(I),O))}_syncPendingControls(){let O=this._reduceChildren(!1,(I,Q)=>!!Q._syncPendingControls()||I);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){Object.keys(this.controls).forEach(I=>{const Q=this.controls[I];Q&&O(Q,I)})}_setUpControls(){this._forEachChild(O=>{O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(O){for(const I of Object.keys(this.controls)){const Q=this.controls[I];if(this.contains(I)&&O(Q))return!0}return!1}_reduceValue(){return this._reduceChildren({},(O,I,Q)=>((I.enabled||this.disabled)&&(O[Q]=I.value),O))}_reduceChildren(O,I){let Q=O;return this._forEachChild((Ze,Wt)=>{Q=I(Q,Ze,Wt)}),Q}_allControlsDisabled(){for(const O of Object.keys(this.controls))if(this.controls[O].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class hr extends Gi{constructor(O,I,Q){super(pt(I),Dn(Q,I)),this.controls=O,this._initObservables(),this._setUpdateStrategy(I),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(O){return this.controls[O]}push(O,I={}){this.controls.push(O),this._registerControl(O),this.updateValueAndValidity({emitEvent:I.emitEvent}),this._onCollectionChange()}insert(O,I,Q={}){this.controls.splice(O,0,I),this._registerControl(I),this.updateValueAndValidity({emitEvent:Q.emitEvent})}removeAt(O,I={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),this.updateValueAndValidity({emitEvent:I.emitEvent})}setControl(O,I,Q={}){this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),I&&(this.controls.splice(O,0,I),this._registerControl(I)),this.updateValueAndValidity({emitEvent:Q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(O,I={}){rn(this,O),O.forEach((Q,Ze)=>{ns(this,Ze),this.at(Ze).setValue(Q,{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I)}patchValue(O,I={}){null!=O&&(O.forEach((Q,Ze)=>{this.at(Ze)&&this.at(Ze).patchValue(Q,{onlySelf:!0,emitEvent:I.emitEvent})}),this.updateValueAndValidity(I))}reset(O=[],I={}){this._forEachChild((Q,Ze)=>{Q.reset(O[Ze],{onlySelf:!0,emitEvent:I.emitEvent})}),this._updatePristine(I),this._updateTouched(I),this.updateValueAndValidity(I)}getRawValue(){return this.controls.map(O=>dr(O))}clear(O={}){this.controls.length<1||(this._forEachChild(I=>I._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:O.emitEvent}))}_syncPendingControls(){let O=this.controls.reduce((I,Q)=>!!Q._syncPendingControls()||I,!1);return O&&this.updateValueAndValidity({onlySelf:!0}),O}_forEachChild(O){this.controls.forEach((I,Q)=>{O(I,Q)})}_updateValue(){this.value=this.controls.filter(O=>O.enabled||this.disabled).map(O=>O.value)}_anyControls(O){return this.controls.some(I=>I.enabled&&O(I))}_setUpControls(){this._forEachChild(O=>this._registerControl(O))}_allControlsDisabled(){for(const O of this.controls)if(O.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(O){O.setParent(this),O._registerOnCollectionChange(this._onCollectionChange)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let kr=(()=>{class P{}return P.\u0275fac=function(I){return new(I||P)},P.\u0275dir=T.lG2({type:P,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),P})(),Ta=(()=>{class P{}return P.\u0275fac=function(I){return new(I||P)},P.\u0275mod=T.oAB({type:P}),P.\u0275inj=T.cJS({}),P})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const rs=new T.OlP("NgModelWithFormControlWarning"),gr={provide:Ht,useExisting:(0,T.Gpc)(()=>gs)};let gs=(()=>{class P extends Ht{constructor(I,Q,Ze,Wt){super(),this._ngModelWarningConfig=Wt,this.update=new T.vpe,this._ngModelWarningSent=!1,this._setValidators(I),this._setAsyncValidators(Q),this.valueAccessor=bi(0,Ze)}set isDisabled(I){}ngOnChanges(I){if(this._isControlChanged(I)){const Q=I.form.previousValue;Q&&te(Q,this,!1),Cr(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Cn(I,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&te(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(I){this.viewModel=I,this.update.emit(I)}_isControlChanged(I){return I.hasOwnProperty("form")}}return P._ngModelWarningSentOnce=!1,P.\u0275fac=function(I){return new(I||P)(T.Y36(St,10),T.Y36(bt,10),T.Y36(vt,10),T.Y36(rs,8))},P.\u0275dir=T.lG2({type:P,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[T._Bn([gr]),T.qOj,T.TTD]}),P})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Di={provide:Pn,useExisting:(0,T.Gpc)(()=>ir)};let ir=(()=>{class P extends Pn{constructor(I,Q){super(),this.validators=I,this.asyncValidators=Q,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new T.vpe,this._setValidators(I),this._setAsyncValidators(Q)}ngOnChanges(I){this._checkFormPresent(),I.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(I){const Q=this.form.get(I.path);return Cr(Q,I),Q.updateValueAndValidity({emitEvent:!1}),this.directives.push(I),Q}getControl(I){return this.form.get(I.path)}removeControl(I){te(I.control||null,I,!1),nr(this.directives,I)}addFormGroup(I){this._setUpFormContainer(I)}removeFormGroup(I){this._cleanUpFormContainer(I)}getFormGroup(I){return this.form.get(I.path)}addFormArray(I){this._setUpFormContainer(I)}removeFormArray(I){this._cleanUpFormContainer(I)}getFormArray(I){return this.form.get(I.path)}updateModel(I,Q){this.form.get(I.path).setValue(Q)}onSubmit(I){return this.submitted=!0,function gn(P,O){P._syncPendingControls(),O.forEach(I=>{const Q=I.control;"submit"===Q.updateOn&&Q._pendingChange&&(I.viewToModelUpdate(Q._pendingValue),Q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(I),!1}onReset(){this.resetForm()}resetForm(I){this.form.reset(I),this.submitted=!1}_updateDomValue(){this.directives.forEach(I=>{const Q=I.control,Ze=this.form.get(I.path);Q!==Ze&&(te(Q||null,I),cn(Ze)&&(Cr(Ze,I),I.control=Ze))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(I){const Q=this.form.get(I.path);(function Gn(P,O){Ke(P,O)})(Q,I),Q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(I){if(this.form){const Q=this.form.get(I.path);Q&&function Jn(P,O){return yt(P,O)}(Q,I)&&Q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ke(this.form,this),this._oldForm&&yt(this._oldForm,this)}_checkFormPresent(){}}return P.\u0275fac=function(I){return new(I||P)(T.Y36(St,10),T.Y36(bt,10))},P.\u0275dir=T.lG2({type:P,selectors:[["","formGroup",""]],hostBindings:function(I,Q){1&I&&T.NdJ("submit",function(Wt){return Q.onSubmit(Wt)})("reset",function(){return Q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[T._Bn([Di]),T.qOj,T.TTD]}),P})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const ss={provide:Ht,useExisting:(0,T.Gpc)(()=>Ns)};let Ns=(()=>{class P extends Ht{constructor(I,Q,Ze,Wt,Qn){super(),this._ngModelWarningConfig=Qn,this._added=!1,this.update=new T.vpe,this._ngModelWarningSent=!1,this._parent=I,this._setValidators(Q),this._setAsyncValidators(Ze),this.valueAccessor=bi(0,Wt)}set isDisabled(I){}ngOnChanges(I){this._added||this._setUpControl(),Cn(I,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(I){this.viewModel=I,this.update.emit(I)}get path(){
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
return function Hi(P,O){return[...O.path,P]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return P._ngModelWarningSentOnce=!1,P.\u0275fac=function(I){return new(I||P)(T.Y36(Pn,13),T.Y36(St,10),T.Y36(bt,10),T.Y36(vt,10),T.Y36(rs,8))},P.\u0275dir=T.lG2({type:P,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[T._Bn([ss]),T.qOj,T.TTD]}),P})(),Br=(()=>{class P{}return P.\u0275fac=function(I){return new(I||P)},P.\u0275mod=T.oAB({type:P}),P.\u0275inj=T.cJS({imports:[[Ta]]}),P})(),Yt=(()=>{class P{}return P.\u0275fac=function(I){return new(I||P)},P.\u0275mod=T.oAB({type:P}),P.\u0275inj=T.cJS({imports:[Br]}),P})(),Kt=(()=>{class P{static withConfig(I){return{ngModule:P,providers:[{provide:rs,useValue:I.warnOnNgModelWithFormControl}]}}}return P.\u0275fac=function(I){return new(I||P)},P.\u0275mod=T.oAB({type:P}),P.\u0275inj=T.cJS({imports:[Br]}),P})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */,2461:(gt,Pe,G)=>{"use strict";G.d(Pe,{gz:()=>dr,F0:()=>$n,Od:()=>Tc,yS:()=>nl,Bz:()=>$h,lC:()=>wa});var T=G(4893),h=G(2076),se=G(9646),Ce=G(1135),me=G(9841),Oe=G(2843),Be=G(6805),ke=G(7272),Re=G(9770),xe=G(8306),Ae=G(515),Ee=G(4033),Ue=G(7579),Fe=G(4482),vt=G(5403);function wt(w,C,b,R,B){return(X,le)=>{let ge=b,Qe=C,Bt=0;X.subscribe((0,vt.x)(le,fn=>{const zt=Bt++;Qe=ge?w(Qe,fn,zt):(ge=!0,fn),R&&le.next(Qe)},B&&(()=>{ge&&le.next(Qe),le.complete()})))}}function Me(w,C){return(0,Fe.e)(wt(w,C,arguments.length>=2,!0))}var Tt=G(9300);function ut(w){return w<=0?()=>Ae.E:(0,Fe.e)((C,b)=>{let R=[];C.subscribe((0,vt.x)(b,B=>{R.push(B),w<R.length&&R.shift()},()=>{for(const B of R)b.next(B);b.complete()},void 0,()=>{R=null}))})}function nt(w=rt){return(0,Fe.e)((C,b)=>{let R=!1;C.subscribe((0,vt.x)(b,B=>{R=!0,b.next(B)},()=>R?b.complete():b.error(w())))})}function rt(){return new Be.K}function we(w){return(0,Fe.e)((C,b)=>{let R=!1;C.subscribe((0,vt.x)(b,B=>{R=!0,b.next(B)},()=>{R||b.next(w),b.complete()}))})}var Je=G(4671),bt=G(5698);function K(w,C){const b=arguments.length>=2;return R=>R.pipe(w?(0,Tt.h)((B,X)=>w(B,X,R)):Je.y,(0,bt.q)(1),b?we(C):nt(()=>new Be.K))}var J=G(4004),ue=G(3900),ce=G(8675),Se=G(262),fe=G(4351),He=G(5577),We=G(8505),st=G(8343),at=G(8189),$e=G(9808);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Mt{constructor(C,b){this.id=C,this.url=b}}class Qt extends Mt{constructor(C,b,R="imperative",B=null){super(C,b),this.navigationTrigger=R,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Gt extends Mt{constructor(C,b,R){super(C,b),this.urlAfterRedirects=R}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class kt extends Mt{constructor(C,b,R){super(C,b),this.reason=R}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nt extends Mt{constructor(C,b,R){super(C,b),this.error=R}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zn extends Mt{constructor(C,b,R,B){super(C,b),this.urlAfterRedirects=R,this.state=B}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn extends Mt{constructor(C,b,R,B){super(C,b),this.urlAfterRedirects=R,this.state=B}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zn extends Mt{constructor(C,b,R,B,X){super(C,b),this.urlAfterRedirects=R,this.state=B,this.shouldActivate=X}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class mn extends Mt{constructor(C,b,R,B){super(C,b),this.urlAfterRedirects=R,this.state=B}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bi extends Mt{constructor(C,b,R,B){super(C,b),this.urlAfterRedirects=R,this.state=B}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yi{constructor(C){this.route=C}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class On{constructor(C){this.route=C}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Tr{constructor(C){this.snapshot=C}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wn{constructor(C){this.snapshot=C}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tr{constructor(C){this.snapshot=C}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class si{constructor(C){this.snapshot=C}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sr{constructor(C,b,R){this.routerEvent=C,this.position=b,this.anchor=R}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Ht="primary";class Pn{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const b=this.params[C];return Array.isArray(b)?b[0]:b}return null}getAll(C){if(this.has(C)){const b=this.params[C];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function Ki(w){return new Pn(w)}const Ft="ngNavigationCancelingError";function qe(w){const C=Error("NavigationCancelingError: "+w);return C[Ft]=!0,C}function be(w,C,b){const R=b.path.split("/");if(R.length>w.length||"full"===b.pathMatch&&(C.hasChildren()||R.length<w.length))return null;const B={};for(let X=0;X<R.length;X++){const le=R[X],ge=w[X];if(le.startsWith(":"))B[le.substring(1)]=ge;else if(le!==ge.path)return null}return{consumed:w.slice(0,R.length),posParams:B}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Xe(w,C){const b=w?Object.keys(w):void 0,R=C?Object.keys(C):void 0;if(!b||!R||b.length!=R.length)return!1;let B;for(let X=0;X<b.length;X++)if(B=b[X],!dt(w[B],C[B]))return!1;return!0}function dt(w,C){if(Array.isArray(w)&&Array.isArray(C)){if(w.length!==C.length)return!1;const b=[...w].sort(),R=[...C].sort();return b.every((B,X)=>R[X]===B)}return w===C}function xt(w){return Array.prototype.concat.apply([],w)}function Vn(w){return w.length>0?w[w.length-1]:null}function qt(w,C){for(const b in w)w.hasOwnProperty(b)&&C(w[b],b)}function Yn(w){return(0,T.CqO)(w)?w:(0,T.QGY)(w)?(0,h.D)(Promise.resolve(w)):(0,se.of)(w)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const ur={exact:function Nr(w,C,b){if(!yt(w.segments,C.segments)||!Cr(w.segments,C.segments,b)||w.numberOfChildren!==C.numberOfChildren)return!1;for(const R in C.children)if(!w.children[R]||!Nr(w.children[R],C.children[R],b))return!1;return!0},subset:vn},Xt={exact:function pn(w,C){return Xe(w,C)},subset:function Rn(w,C){return Object.keys(C).length<=Object.keys(w).length&&Object.keys(C).every(b=>dt(w[b],C[b]))},ignored:()=>!0};function en(w,C,b){return ur[b.paths](w.root,C.root,b.matrixParams)&&Xt[b.queryParams](w.queryParams,C.queryParams)&&!("exact"===b.fragment&&w.fragment!==C.fragment)}function vn(w,C,b){return Hi(w,C,C.segments,b)}function Hi(w,C,b,R){if(w.segments.length>b.length){const B=w.segments.slice(0,b.length);return!(!yt(B,b)||C.hasChildren()||!Cr(B,b,R))}if(w.segments.length===b.length){if(!yt(w.segments,b)||!Cr(w.segments,b,R))return!1;for(const B in C.children)if(!w.children[B]||!vn(w.children[B],C.children[B],R))return!1;return!0}{const B=b.slice(0,w.segments.length),X=b.slice(w.segments.length);return!!(yt(w.segments,B)&&Cr(w.segments,B,R)&&w.children[Ht])&&Hi(w.children[Ht],C,X,R)}}function Cr(w,C,b){return C.every((R,B)=>Xt[b](w[B].parameters,R.parameters))}class te{constructor(C,b,R){this.root=C,this.queryParams=b,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ki(this.queryParams)),this._queryParamMap}toString(){return Ui.serialize(this)}}class ee{constructor(C,b){this.segments=C,this.children=b,this.parent=null,qt(b,(R,B)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Gn(this)}}class ye{constructor(C,b){this.path=C,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=Ki(this.parameters)),this._parameterMap}toString(){return gn(this)}}function yt(w,C){return w.length===C.length&&w.every((b,R)=>b.path===C[R].path)}class ci{}class _n{parse(C){const b=new cr(C);return new te(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(C){const b=`/${Jn(C.root,!0)}`,R=function nr(w){const C=Object.keys(w).map(b=>{const R=w[b];return Array.isArray(R)?R.map(B=>`${on(b)}=${on(B)}`).join("&"):`${on(b)}=${on(R)}`}).filter(b=>!!b);return C.length?`?${C.join("&")}`:""}(C.queryParams);return`${b}${R}${"string"==typeof C.fragment?`#${function gi(w){return encodeURI(w)}(C.fragment)}`:""}`}}const Ui=new _n;function Gn(w){return w.segments.map(C=>gn(C)).join("/")}function Jn(w,C){if(!w.hasChildren())return Gn(w);if(C){const b=w.children[Ht]?Jn(w.children[Ht],!1):"",R=[];return qt(w.children,(B,X)=>{X!==Ht&&R.push(`${X}:${Jn(B,!1)}`)}),R.length>0?`${b}(${R.join("//")})`:b}{const b=function un(w,C){let b=[];return qt(w.children,(R,B)=>{B===Ht&&(b=b.concat(C(R,B)))}),qt(w.children,(R,B)=>{B!==Ht&&(b=b.concat(C(R,B)))}),b}(w,(R,B)=>B===Ht?[Jn(w.children[Ht],!1)]:[`${B}:${Jn(R,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[Ht]?`${Gn(w)}/${b[0]}`:`${Gn(w)}/(${b.join("//")})`}}function Ir(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function on(w){return Ir(w).replace(/%3B/gi,";")}function Kn(w){return Ir(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cn(w){return decodeURIComponent(w)}function Vi(w){return Cn(w.replace(/\+/g,"%20"))}function gn(w){return`${Kn(w.path)}${function bi(w){return Object.keys(w).map(C=>`;${Kn(C)}=${Kn(w[C])}`).join("")}(w.parameters)}`}const hs=/^[^\/()?;=#]+/;function Or(w){const C=w.match(hs);return C?C[0]:""}const kn=/^[^=?&#]+/,ei=/^[^&#]+/;class cr{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(C.length>0||Object.keys(b).length>0)&&(R[Ht]=new ee(C,b)),R}parseSegment(){const C=Or(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(C),new ye(Cn(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const b=Or(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const B=Or(this.remaining);B&&(R=B,this.capture(R))}C[Cn(b)]=Cn(R)}parseQueryParam(C){const b=function Dr(w){const C=w.match(kn);return C?C[0]:""}(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const le=function Ys(w){const C=w.match(ei);return C?C[0]:""}(this.remaining);le&&(R=le,this.capture(R))}const B=Vi(b),X=Vi(R);if(C.hasOwnProperty(B)){let le=C[B];Array.isArray(le)||(le=[le],C[B]=le),le.push(X)}else C[B]=X}parseParens(C){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Or(this.remaining),B=this.remaining[R.length];if("/"!==B&&")"!==B&&";"!==B)throw new Error(`Cannot parse url '${this.url}'`);let X;R.indexOf(":")>-1?(X=R.substr(0,R.indexOf(":")),this.capture(X),this.capture(":")):C&&(X=Ht);const le=this.parseChildren();b[X]=1===Object.keys(le).length?le[Ht]:new ee([],le),this.consumeOptional("//")}return b}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new Error(`Expected "${C}".`)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class pt{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const b=this.pathFromRoot(C);return b.length>1?b[b.length-2]:null}children(C){const b=nn(C,this._root);return b?b.children.map(R=>R.value):[]}firstChild(C){const b=nn(C,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(C){const b=Dn(C,this._root);return b.length<2?[]:b[b.length-2].children.map(B=>B.value).filter(B=>B!==C)}pathFromRoot(C){return Dn(C,this._root).map(b=>b.value)}}function nn(w,C){if(w===C.value)return C;for(const b of C.children){const R=nn(w,b);if(R)return R}return null}function Dn(w,C){if(w===C.value)return[C];for(const b of C.children){const R=Dn(w,b);if(R.length)return R.unshift(C),R}return[]}class yn{constructor(C,b){this.value=C,this.children=b}toString(){return`TreeNode(${this.value})`}}function xn(w){const C={};return w&&w.children.forEach(b=>C[b.value.outlet]=b),C
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}class cn extends pt{constructor(C,b){super(C),this.snapshot=b,fr(this,C)}toString(){return this.snapshot.toString()}}function jn(w,C){const b=function Fn(w,C){const le=new Gi([],{},{},"",{},Ht,C,null,w.root,-1,{});return new Pr("",new yn(le,[]))}(w,C),R=new Ce.X([new ye("",{})]),B=new Ce.X({}),X=new Ce.X({}),le=new Ce.X({}),ge=new Ce.X(""),Qe=new dr(R,B,le,ge,X,Ht,C,b.root);return Qe.snapshot=b.root,new cn(new yn(Qe,[]),b)}class dr{constructor(C,b,R,B,X,le,ge,Qe){this.url=C,this.params=b,this.queryParams=R,this.fragment=B,this.data=X,this.outlet=le,this.component=ge,this._futureSnapshot=Qe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,J.U)(C=>Ki(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,J.U)(C=>Ki(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ns(w,C="emptyOnly"){const b=w.pathFromRoot;let R=0;if("always"!==C)for(R=b.length-1;R>=1;){const B=b[R],X=b[R-1];if(B.routeConfig&&""===B.routeConfig.path)R--;else{if(X.component)break;R--}}return function rn(w){return w.reduce((C,b)=>({params:Object.assign(Object.assign({},C.params),b.params),data:Object.assign(Object.assign({},C.data),b.data),resolve:Object.assign(Object.assign({},C.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(R))}class Gi{constructor(C,b,R,B,X,le,ge,Qe,Bt,fn,zt){this.url=C,this.params=b,this.queryParams=R,this.fragment=B,this.data=X,this.outlet=le,this.component=ge,this.routeConfig=Qe,this._urlSegment=Bt,this._lastPathIndex=fn,this._resolve=zt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ki(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ki(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Pr extends pt{constructor(C,b){super(b),this.url=C,fr(this,b)}toString(){return hr(this._root)}}function fr(w,C){C.value._routerState=w,C.children.forEach(b=>fr(w,b))}function hr(w){const C=w.children.length>0?` { ${w.children.map(hr).join(", ")} } `:"";return`${w.value}${C}`}function qn(w){if(w.snapshot){const C=w.snapshot,b=w._futureSnapshot;w.snapshot=b,Xe(C.queryParams,b.queryParams)||w.queryParams.next(b.queryParams),C.fragment!==b.fragment&&w.fragment.next(b.fragment),Xe(C.params,b.params)||w.params.next(b.params),function ft(w,C){if(w.length!==C.length)return!1;for(let b=0;b<w.length;++b)if(!Xe(w[b],C[b]))return!1;return!0}(C.url,b.url)||w.url.next(b.url),Xe(C.data,b.data)||w.data.next(b.data)}else w.snapshot=w._futureSnapshot,w.data.next(w._futureSnapshot.data)}function qi(w,C){const b=Xe(w.params,C.params)&&function Ke(w,C){return yt(w,C)&&w.every((b,R)=>Xe(b.parameters,C[R].parameters))}(w.url,C.url);return b&&!(!w.parent!=!C.parent)&&(!w.parent||qi(w.parent,C.parent))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ii(w,C,b){if(b&&w.shouldReuseRoute(C.value,b.value.snapshot)){const R=b.value;R._futureSnapshot=C.value;const B=function Bn(w,C,b){return C.children.map(R=>{for(const B of b.children)if(w.shouldReuseRoute(R.value,B.value.snapshot))return Ii(w,R,B);return Ii(w,R)})}(w,C,b);return new yn(R,B)}{if(w.shouldAttach(C.value)){const X=w.retrieve(C.value);if(null!==X){const le=X.route;return le.value._futureSnapshot=C.value,le.children=C.children.map(ge=>Ii(w,ge)),le}}const R=function gc(w){return new dr(new Ce.X(w.url),new Ce.X(w.params),new Ce.X(w.queryParams),new Ce.X(w.fragment),new Ce.X(w.data),w.outlet,w.component,w)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(C.value),B=C.children.map(X=>Ii(w,X));return new yn(R,B)}}function Xi(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function Si(w){return"object"==typeof w&&null!=w&&w.outlets}function ps(w,C,b,R,B){let X={};if(R&&qt(R,(ge,Qe)=>{X[Qe]=Array.isArray(ge)?ge.map(Bt=>`${Bt}`):`${ge}`}),w===C)return new te(b,X,B);const le=Ks(w,C,b);return new te(le,X,B)}function Ks(w,C,b){const R={};return qt(w.children,(B,X)=>{R[X]=B===C?b:Ks(B,C,b)}),new ee(w.segments,R)}class Wn{constructor(C,b,R){if(this.isAbsolute=C,this.numberOfDoubleDots=b,this.commands=R,C&&R.length>0&&Xi(R[0]))throw new Error("Root segment cannot have matrix parameters");const B=R.find(Si);if(B&&B!==Vn(R))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kr{constructor(C,b,R){this.segmentGroup=C,this.processChildren=b,this.index=R}}function Ga(w,C,b){if(w||(w=new ee([],{})),0===w.segments.length&&w.hasChildren())return Ta(w,C,b);const R=function Kl(w,C,b){let R=0,B=C;const X={match:!1,pathIndex:0,commandIndex:0};for(;B<w.segments.length;){if(R>=b.length)return X;const le=w.segments[B],ge=b[R];if(Si(ge))break;const Qe=`${ge}`,Bt=R<b.length-1?b[R+1]:null;if(B>0&&void 0===Qe)break;if(Qe&&Bt&&"object"==typeof Bt&&void 0===Bt.outlets){if(!rs(Qe,Bt,le))return X;R+=2}else{if(!rs(Qe,{},le))return X;R++}B++}return{match:!0,pathIndex:B,commandIndex:R}}(w,C,b),B=b.slice(R.commandIndex);if(R.match&&R.pathIndex<w.segments.length){const X=new ee(w.segments.slice(0,R.pathIndex),{});return X.children[Ht]=new ee(w.segments.slice(R.pathIndex),w.children),Ta(X,0,B)}return R.match&&0===B.length?new ee(w.segments,{}):R.match&&!w.hasChildren()?ja(w,C,b):R.match?Ta(w,0,B):ja(w,C,b)}function Ta(w,C,b){if(0===b.length)return new ee(w.segments,{});{const R=function wo(w){return Si(w[0])?w[0].outlets:{[Ht]:w}}(b),B={};return qt(R,(X,le)=>{"string"==typeof X&&(X=[X]),null!==X&&(B[le]=Ga(w.children[le],C,X))}),qt(w.children,(X,le)=>{void 0===R[le]&&(B[le]=X)}),new ee(w.segments,B)}}function ja(w,C,b){const R=w.segments.slice(0,C);let B=0;for(;B<b.length;){const X=b[B];if(Si(X)){const Qe=Ci(X.outlets);return new ee(R,Qe)}if(0===B&&Xi(b[0])){R.push(new ye(w.segments[C].path,is(b[0]))),B++;continue}const le=Si(X)?X.outlets[Ht]:`${X}`,ge=B<b.length-1?b[B+1]:null;le&&ge&&Xi(ge)?(R.push(new ye(le,is(ge))),B+=2):(R.push(new ye(le,{})),B++)}return new ee(R,{})}function Ci(w){const C={};return qt(w,(b,R)=>{"string"==typeof b&&(b=[b]),null!==b&&(C[R]=ja(new ee([],{}),0,b))}),C}function is(w){const C={};return qt(w,(b,R)=>C[R]=`${b}`),C}function rs(w,C,b){return w==b.path&&Xe(C,b.parameters)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class gs{constructor(C,b,R,B){this.routeReuseStrategy=C,this.futureState=b,this.currState=R,this.forwardEvent=B}activate(C){const b=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,R,C),qn(this.futureState.root),this.activateChildRoutes(b,R,C)}deactivateChildRoutes(C,b,R){const B=xn(b);C.children.forEach(X=>{const le=X.value.outlet;this.deactivateRoutes(X,B[le],R),delete B[le]}),qt(B,(X,le)=>{this.deactivateRouteAndItsChildren(X,R)})}deactivateRoutes(C,b,R){const B=C.value,X=b?b.value:null;if(B===X)if(B.component){const le=R.getContext(B.outlet);le&&this.deactivateChildRoutes(C,b,le.children)}else this.deactivateChildRoutes(C,b,R);else X&&this.deactivateRouteAndItsChildren(b,R)}deactivateRouteAndItsChildren(C,b){C.value.component&&this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,b):this.deactivateRouteAndOutlet(C,b)}detachAndStoreRouteSubtree(C,b){const R=b.getContext(C.value.outlet),B=R&&C.value.component?R.children:b,X=xn(C);for(const le of Object.keys(X))this.deactivateRouteAndItsChildren(X[le],B);if(R&&R.outlet){const le=R.outlet.detach(),ge=R.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:le,route:C,contexts:ge})}}deactivateRouteAndOutlet(C,b){const R=b.getContext(C.value.outlet),B=R&&C.value.component?R.children:b,X=xn(C);for(const le of Object.keys(X))this.deactivateRouteAndItsChildren(X[le],B);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(C,b,R){const B=xn(b);C.children.forEach(X=>{this.activateRoutes(X,B[X.value.outlet],R),this.forwardEvent(new si(X.value.snapshot))}),C.children.length&&this.forwardEvent(new wn(C.value.snapshot))}activateRoutes(C,b,R){const B=C.value,X=b?b.value:null;if(qn(B),B===X)if(B.component){const le=R.getOrCreateContext(B.outlet);this.activateChildRoutes(C,b,le.children)}else this.activateChildRoutes(C,b,R);else if(B.component){const le=R.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const ge=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),le.children.onOutletReAttached(ge.contexts),le.attachRef=ge.componentRef,le.route=ge.route.value,le.outlet&&le.outlet.attach(ge.componentRef,ge.route.value),qn(ge.route.value),this.activateChildRoutes(C,null,le.children)}else{const ge=function Di(w){for(let C=w.parent;C;C=C.parent){const b=C.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(B.snapshot),Qe=ge?ge.module.componentFactoryResolver:null;le.attachRef=null,le.route=B,le.resolver=Qe,le.outlet&&le.outlet.activateWith(B,Qe),this.activateChildRoutes(C,null,le.children)}}else this.activateChildRoutes(C,null,R)}}class ir{constructor(C,b){this.routes=C,this.module=b}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ei(w){return"function"==typeof w}function Ms(w){return w instanceof te}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Ea=Symbol("INITIAL_VALUE");function Er(){return(0,ue.w)(w=>(0,me.a)(w.map(C=>C.pipe((0,bt.q)(1),(0,ce.O)(Ea)))).pipe(Me((C,b)=>{let R=!1;return b.reduce((B,X,le)=>B!==Ea?B:(X===Ea&&(R=!0),R||!1!==X&&le!==b.length-1&&!Ms(X)?B:X),C)},Ea),(0,Tt.h)(C=>C!==Ea),(0,J.U)(C=>Ms(C)?C:!0===C),(0,bt.q)(1)))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Yo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fr,this.attachRef=null}}class Fr{constructor(){this.contexts=new Map}onChildOutletCreated(C,b){const R=this.getOrCreateContext(C);R.outlet=b,this.contexts.set(C,R)}onChildOutletDestroyed(C){const b=this.getContext(C);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let b=this.getContext(C);return b||(b=new Yo,this.contexts.set(C,b)),b}getContext(C){return this.contexts.get(C)||null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let wa=(()=>{class w{constructor(b,R,B,X,le){this.parentContexts=b,this.location=R,this.resolver=B,this.changeDetector=le,this.activated=null,this._activatedRoute=null,this.activateEvents=new T.vpe,this.deactivateEvents=new T.vpe,this.attachEvents=new T.vpe,this.detachEvents=new T.vpe,this.name=X||Ht,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,R){this.activated=b,this._activatedRoute=R,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,R){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const le=(R=R||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),ge=this.parentContexts.getOrCreateContext(this.name).children,Qe=new Ko(b,ge,this.location.injector);this.activated=this.location.createComponent(le,this.location.length,Qe),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return w.\u0275fac=function(b){return new(b||w)(T.Y36(Fr),T.Y36(T.s_b),T.Y36(T._Vd),T.$8M("name"),T.Y36(T.sBO))},w.\u0275dir=T.lG2({type:w,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),w})();class Ko{constructor(C,b,R){this.route=C,this.childContexts=b,this.parent=R}get(C,b){return C===dr?this.route:C===Fr?this.childContexts:this.parent.get(C,b)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Wa=(()=>{class w{}return w.\u0275fac=function(b){return new(b||w)},w.\u0275cmp=T.Xpm({type:w,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,R){1&b&&T._UZ(0,"router-outlet")},directives:[wa],encapsulation:2}),w})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function $a(w,C=""){for(let b=0;b<w.length;b++){const R=w[b];ms(R,za(C,R))}}function ms(w,C){w.children&&$a(w.children,C)}function za(w,C){return C?w||C.path?w&&!C.path?`${w}/`:!w&&C.path?C.path:`${w}/${C.path}`:"":w}function zr(w){const C=w.children&&w.children.map(zr),b=C?Object.assign(Object.assign({},w),{children:C}):Object.assign({},w);return!b.component&&(C||b.loadChildren)&&b.outlet&&b.outlet!==Ht&&(b.component=Wa),b}function ai(w){return w.outlet||Ht}function ji(w,C){const b=w.filter(R=>ai(R)===C);return b.push(...w.filter(R=>ai(R)!==C)),b
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}const Lr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wr(w,C,b){var R;if(""===C.path)return"full"===C.pathMatch&&(w.hasChildren()||b.length>0)?Object.assign({},Lr):{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const X=(C.matcher||be)(b,w,C);if(!X)return Object.assign({},Lr);const le={};qt(X.posParams,(Qe,Bt)=>{le[Bt]=Qe.path});const ge=X.consumed.length>0?Object.assign(Object.assign({},le),X.consumed[X.consumed.length-1].parameters):le;return{matched:!0,consumedSegments:X.consumed,remainingSegments:b.slice(X.consumed.length),parameters:ge,positionalParamSegments:null!==(R=X.posParams)&&void 0!==R?R:{}}}function Is(w,C,b,R,B="corrected"){if(b.length>0&&function k(w,C,b){return b.some(R=>F(w,C,R)&&ai(R)!==Ht)}(w,b,R)){const le=new ee(C,function Xo(w,C,b,R){const B={};B[Ht]=R,R._sourceSegment=w,R._segmentIndexShift=C.length;for(const X of b)if(""===X.path&&ai(X)!==Ht){const le=new ee([],{});le._sourceSegment=w,le._segmentIndexShift=C.length,B[ai(X)]=le}return B}(w,C,R,new ee(b,w.children)));return le._sourceSegment=w,le._segmentIndexShift=C.length,{segmentGroup:le,slicedSegments:[]}}if(0===b.length&&function Y(w,C,b){return b.some(R=>F(w,C,R))}(w,b,R)){const le=new ee(w.segments,function qo(w,C,b,R,B,X){const le={};for(const ge of R)if(F(w,b,ge)&&!B[ai(ge)]){const Qe=new ee([],{});Qe._sourceSegment=w,Qe._segmentIndexShift="legacy"===X?w.segments.length:C.length,le[ai(ge)]=Qe}return Object.assign(Object.assign({},B),le)}(w,C,b,R,w.children,B));return le._sourceSegment=w,le._segmentIndexShift=C.length,{segmentGroup:le,slicedSegments:b}}const X=new ee(w.segments,w.children);return X._sourceSegment=w,X._segmentIndexShift=C.length,{segmentGroup:X,slicedSegments:b}}function F(w,C,b){return(!(w.hasChildren()||C.length>0)||"full"!==b.pathMatch)&&""===b.path}function Z(w,C,b,R){return!!(ai(w)===R||R!==Ht&&F(C,b,w))&&("**"===w.path||wr(C,w,b).matched)}function de(w,C,b){return 0===C.length&&!w.children[b]}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Ye{constructor(C){this.segmentGroup=C||null}}class mt{constructor(C){this.urlTree=C}}function Ot(w){return(0,Oe._)(new Ye(w))}function Hn(w){return(0,Oe._)(new mt(w))}class oe{constructor(C,b,R,B,X){this.configLoader=b,this.urlSerializer=R,this.urlTree=B,this.config=X,this.allowRedirects=!0,this.ngModule=C.get(T.h0i)}apply(){const C=Is(this.urlTree.root,[],[],this.config).segmentGroup,b=new ee(C.segments,C.children);return this.expandSegmentGroup(this.ngModule,this.config,b,Ht).pipe((0,J.U)(X=>this.createUrlTree(lt(X),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Se.K)(X=>{if(X instanceof mt)return this.allowRedirects=!1,this.match(X.urlTree);throw X instanceof Ye?this.noMatchError(X):X}))}match(C){return this.expandSegmentGroup(this.ngModule,this.config,C.root,Ht).pipe((0,J.U)(B=>this.createUrlTree(lt(B),C.queryParams,C.fragment))).pipe((0,Se.K)(B=>{throw B instanceof Ye?this.noMatchError(B):B}))}noMatchError(C){return new Error(`Cannot match any routes. URL Segment: '${C.segmentGroup}'`)}createUrlTree(C,b,R){const B=C.segments.length>0?new ee([],{[Ht]:C}):C;return new te(B,b,R)}expandSegmentGroup(C,b,R,B){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(C,b,R).pipe((0,J.U)(X=>new ee([],X))):this.expandSegment(C,R,b,R.segments,B,!0)}expandChildren(C,b,R){const B=[];for(const X of Object.keys(R.children))"primary"===X?B.unshift(X):B.push(X);return(0,h.D)(B).pipe((0,fe.b)(X=>{const le=R.children[X],ge=ji(b,X);return this.expandSegmentGroup(C,ge,le,X).pipe((0,J.U)(Qe=>({segment:Qe,outlet:X})))}),Me((X,le)=>(X[le.outlet]=le.segment,X),{}),function St(w,C){const b=arguments.length>=2;return R=>R.pipe(w?(0,Tt.h)((B,X)=>w(B,X,R)):Je.y,ut(1),b?we(C):nt(()=>new Be.K))}())}expandSegment(C,b,R,B,X,le){return(0,h.D)(R).pipe((0,fe.b)(ge=>this.expandSegmentAgainstRoute(C,b,R,ge,B,X,le).pipe((0,Se.K)(Bt=>{if(Bt instanceof Ye)return(0,se.of)(null);throw Bt}))),K(ge=>!!ge),(0,Se.K)((ge,Qe)=>{if(ge instanceof Be.K||"EmptyError"===ge.name)return de(b,B,X)?(0,se.of)(new ee([],{})):Ot(b);throw ge}))}expandSegmentAgainstRoute(C,b,R,B,X,le,ge){return Z(B,b,X,le)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(C,b,B,X,le):ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,b,R,B,X,le):Ot(b):Ot(b)}expandSegmentAgainstRouteUsingRedirect(C,b,R,B,X,le){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,R,B,le):this.expandRegularSegmentAgainstRouteUsingRedirect(C,b,R,B,X,le)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,b,R,B){const X=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?Hn(X):this.lineralizeSegments(R,X).pipe((0,He.z)(le=>{const ge=new ee(le,{});return this.expandSegment(C,ge,b,le,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,b,R,B,X,le){const{matched:ge,consumedSegments:Qe,remainingSegments:Bt,positionalParamSegments:fn}=wr(b,B,X);if(!ge)return Ot(b);const zt=this.applyRedirectCommands(Qe,B.redirectTo,fn);return B.redirectTo.startsWith("/")?Hn(zt):this.lineralizeSegments(B,zt).pipe((0,He.z)(An=>this.expandSegment(C,b,R,An.concat(Bt),le,!1)))}matchSegmentAgainstRoute(C,b,R,B,X){if("**"===R.path)return R.loadChildren?(R._loadedConfig?(0,se.of)(R._loadedConfig):this.configLoader.load(C.injector,R)).pipe((0,J.U)(zt=>(R._loadedConfig=zt,new ee(B,{})))):(0,se.of)(new ee(B,{}));const{matched:le,consumedSegments:ge,remainingSegments:Qe}=wr(b,R,B);return le?this.getChildConfig(C,R,B).pipe((0,He.z)(fn=>{const zt=fn.module,An=fn.routes,{segmentGroup:Mn,slicedSegments:Rs}=Is(b,ge,Qe,An),Zs=new ee(Mn.segments,Mn.children);if(0===Rs.length&&Zs.hasChildren())return this.expandChildren(zt,An,Zs).pipe((0,J.U)(Yh=>new ee(ge,Yh)));if(0===An.length&&0===Rs.length)return(0,se.of)(new ee(ge,{}));const iu=ai(R)===X;return this.expandSegment(zt,Zs,An,Rs,iu?Ht:X,!0).pipe((0,J.U)(Za=>new ee(ge.concat(Za.segments),Za.children)))})):Ot(b)}getChildConfig(C,b,R){return b.children?(0,se.of)(new ir(b.children,C)):b.loadChildren?void 0!==b._loadedConfig?(0,se.of)(b._loadedConfig):this.runCanLoadGuards(C.injector,b,R).pipe((0,He.z)(B=>B?this.configLoader.load(C.injector,b).pipe((0,J.U)(X=>(b._loadedConfig=X,X))):function Nn(w){return(0,Oe._)(qe(`Cannot load children because the guard of the route "path: '${w.path}'" returned false`))}(b))):(0,se.of)(new ir([],C))}runCanLoadGuards(C,b,R){const B=b.canLoad;if(!B||0===B.length)return(0,se.of)(!0);const X=B.map(le=>{const ge=C.get(le);let Qe;if(function Ca(w){return w&&Ei(w.canLoad)}(ge))Qe=ge.canLoad(b,R);else{if(!Ei(ge))throw new Error("Invalid CanLoad guard");Qe=ge(b,R)}return Yn(Qe)});return(0,se.of)(X).pipe(Er(),(0,We.b)(le=>{if(!Ms(le))return;const ge=qe(`Redirecting to "${this.urlSerializer.serialize(le)}"`);throw ge.url=le,ge}),(0,J.U)(le=>!0===le))}lineralizeSegments(C,b){let R=[],B=b.root;for(;;){if(R=R.concat(B.segments),0===B.numberOfChildren)return(0,se.of)(R);if(B.numberOfChildren>1||!B.children[Ht])return(0,Oe._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${C.redirectTo}'`));B=B.children[Ht]}}applyRedirectCommands(C,b,R){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),C,R)}applyRedirectCreatreUrlTree(C,b,R,B){const X=this.createSegmentGroup(C,b.root,R,B);return new te(X,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(C,b){const R={};return qt(C,(B,X)=>{if("string"==typeof B&&B.startsWith(":")){const ge=B.substring(1);R[X]=b[ge]}else R[X]=B}),R}createSegmentGroup(C,b,R,B){const X=this.createSegments(C,b.segments,R,B);let le={};return qt(b.children,(ge,Qe)=>{le[Qe]=this.createSegmentGroup(C,ge,R,B)}),new ee(X,le)}createSegments(C,b,R,B){return b.map(X=>X.path.startsWith(":")?this.findPosParam(C,X,B):this.findOrReturn(X,R))}findPosParam(C,b,R){const B=R[b.path.substring(1)];if(!B)throw new Error(`Cannot redirect to '${C}'. Cannot find '${b.path}'.`);return B}findOrReturn(C,b){let R=0;for(const B of b){if(B.path===C.path)return b.splice(R),B;R++}return C}}function lt(w){const C={};for(const R of Object.keys(w.children)){const X=lt(w.children[R]);(X.segments.length>0||X.hasChildren())&&(C[R]=X)}return function Xn(w){if(1===w.numberOfChildren&&w.children[Ht]){const C=w.children[Ht];return new ee(w.segments.concat(C.segments),C.children)}return w}(new ee(w.segments,C))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Br{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class Yt{constructor(C,b){this.component=C,this.route=b}}function Kt(w,C,b){const R=w._root;return P(R,C?C._root:null,b,[R.value])}function Et(w,C,b){const R=function Ya(w){if(!w)return null;for(let C=w.parent;C;C=C.parent){const b=C.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(C);return(R?R.module.injector:b).get(w)}function P(w,C,b,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const X=xn(C);return w.children.forEach(le=>{(function O(w,C,b,R,B={canDeactivateChecks:[],canActivateChecks:[]}){const X=w.value,le=C?C.value:null,ge=b?b.getContext(w.value.outlet):null;if(le&&X.routeConfig===le.routeConfig){const Qe=function I(w,C,b){if("function"==typeof b)return b(w,C);switch(b){case"pathParamsChange":return!yt(w.url,C.url);case"pathParamsOrQueryParamsChange":return!yt(w.url,C.url)||!Xe(w.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qi(w,C)||!Xe(w.queryParams,C.queryParams);default:return!qi(w,C)}}(le,X,X.routeConfig.runGuardsAndResolvers);Qe?B.canActivateChecks.push(new Br(R)):(X.data=le.data,X._resolvedData=le._resolvedData),P(w,C,X.component?ge?ge.children:null:b,R,B),Qe&&ge&&ge.outlet&&ge.outlet.isActivated&&B.canDeactivateChecks.push(new Yt(ge.outlet.component,le))}else le&&Q(C,ge,B),B.canActivateChecks.push(new Br(R)),P(w,null,X.component?ge?ge.children:null:b,R,B)})(le,X[le.value.outlet],b,R.concat([le.value]),B),delete X[le.value.outlet]}),qt(X,(le,ge)=>Q(le,b.getContext(ge),B)),B}function Q(w,C,b){const R=xn(w),B=w.value;qt(R,(X,le)=>{Q(X,B.component?C?C.children.getContext(le):null:C,b)}),b.canDeactivateChecks.push(new Yt(B.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,B))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Ka{}function Aa(w){return new xe.y(C=>C.error(w))}class ql{constructor(C,b,R,B,X,le){this.rootComponentType=C,this.config=b,this.urlTree=R,this.url=B,this.paramsInheritanceStrategy=X,this.relativeLinkResolution=le}recognize(){const C=Is(this.urlTree.root,[],[],this.config.filter(le=>void 0===le.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,C,Ht);if(null===b)return null;const R=new Gi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new yn(R,b),X=new Pr(this.url,B);return this.inheritParamsAndData(X._root),X}inheritParamsAndData(C){const b=C.value,R=ns(b,this.paramsInheritanceStrategy);b.params=Object.freeze(R.params),b.data=Object.freeze(R.data),C.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(C,b,R){return 0===b.segments.length&&b.hasChildren()?this.processChildren(C,b):this.processSegment(C,b,b.segments,R)}processChildren(C,b){const R=[];for(const X of Object.keys(b.children)){const le=b.children[X],ge=ji(C,X),Qe=this.processSegmentGroup(ge,le,X);if(null===Qe)return null;R.push(...Qe)}const B=Qo(R);return function mc(w){w.sort((C,b)=>C.value.outlet===Ht?-1:b.value.outlet===Ht?1:C.value.outlet.localeCompare(b.value.outlet))}(B),B}processSegment(C,b,R,B){for(const X of C){const le=this.processSegmentAgainstRoute(X,b,R,B);if(null!==le)return le}return de(b,R,B)?[]:null}processSegmentAgainstRoute(C,b,R,B){if(C.redirectTo||!Z(C,b,R,B))return null;let X,le=[],ge=[];if("**"===C.path){const Mn=R.length>0?Vn(R).parameters:{};X=new Gi(R,Mn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ma(C),ai(C),C.component,C,vr(b),Ps(b)+R.length,qs(C))}else{const Mn=wr(b,C,R);if(!Mn.matched)return null;le=Mn.consumedSegments,ge=Mn.remainingSegments,X=new Gi(le,Mn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ma(C),ai(C),C.component,C,vr(b),Ps(b)+le.length,qs(C))}const Qe=function Xm(w){return w.children?w.children:w.loadChildren?w._loadedConfig.routes:[]}(C),{segmentGroup:Bt,slicedSegments:fn}=Is(b,le,ge,Qe.filter(Mn=>void 0===Mn.redirectTo),this.relativeLinkResolution);if(0===fn.length&&Bt.hasChildren()){const Mn=this.processChildren(Qe,Bt);return null===Mn?null:[new yn(X,Mn)]}if(0===Qe.length&&0===fn.length)return[new yn(X,[])];const zt=ai(C)===B,An=this.processSegment(Qe,Bt,fn,zt?Ht:B);return null===An?null:[new yn(X,An)]}}function vc(w){const C=w.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function Qo(w){const C=[],b=new Set;for(const R of w){if(!vc(R)){C.push(R);continue}const B=C.find(X=>R.value.routeConfig===X.value.routeConfig);void 0!==B?(B.children.push(...R.children),b.add(B)):C.push(R)}for(const R of b){const B=Qo(R.children);C.push(new yn(R.value,B))}return C.filter(R=>!b.has(R))}function vr(w){let C=w;for(;C._sourceSegment;)C=C._sourceSegment;return C}function Ps(w){let C=w,b=C._segmentIndexShift?C._segmentIndexShift:0;for(;C._sourceSegment;)C=C._sourceSegment,b+=C._segmentIndexShift?C._segmentIndexShift:0;return b-1}function Ma(w){return w.data||{}}function qs(w){return w.resolve||{}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Xl(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Ql(w){return(0,ue.w)(C=>{const b=w(C);return b?(0,h.D)(b).pipe((0,J.U)(()=>C)):(0,se.of)(C)})}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Qm extends class yc{shouldDetach(C){return!1}store(C,b){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,b){return C.routeConfig===b.routeConfig}}{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Zo=new T.OlP("ROUTES");class Jo{constructor(C,b,R,B){this.injector=C,this.compiler=b,this.onLoadStartListener=R,this.onLoadEndListener=B}load(C,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const B=this.loadModuleFactory(b.loadChildren).pipe((0,J.U)(X=>{this.onLoadEndListener&&this.onLoadEndListener(b);const le=X.create(C);return new ir(xt(le.injector.get(Zo,void 0,T.XFs.Self|T.XFs.Optional)).map(zr),le)}),(0,Se.K)(X=>{throw b._loader$=void 0,X}));return b._loader$=new Ee.c(B,()=>new Ue.x).pipe((0,st.x)()),b._loader$}loadModuleFactory(C){return Yn(C()).pipe((0,He.z)(b=>b instanceof T.YKP?(0,se.of)(b):(0,h.D)(this.compiler.compileModuleAsync(b))))}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class el{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,b){return C}}function Zl(w){throw w}function bc(w,C,b){return C.parse("/")}function tl(w,C){return(0,se.of)(null)}const Vh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Gh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $n=(()=>{class w{constructor(b,R,B,X,le,ge,Qe){this.rootComponentType=b,this.urlSerializer=R,this.rootContexts=B,this.location=X,this.config=Qe,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ue.x,this.errorHandler=Zl,this.malformedUriErrorHandler=bc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:tl,afterPreactivation:tl},this.urlHandlingStrategy=new el,this.routeReuseStrategy=new Qm,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=le.get(T.h0i),this.console=le.get(T.c2e);const zt=le.get(T.R0b);this.isNgZoneEnabled=zt instanceof T.R0b&&T.R0b.isInAngularZone(),this.resetConfig(Qe),this.currentUrlTree=function ui(){return new te(new ee([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Jo(le,ge,An=>this.triggerEvent(new yi(An)),An=>this.triggerEvent(new On(An))),this.routerState=jn(this.currentUrlTree,this.rootComponentType),this.transitions=new Ce.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const R=this.events;return b.pipe((0,Tt.h)(B=>0!==B.id),(0,J.U)(B=>Object.assign(Object.assign({},B),{extractedUrl:this.urlHandlingStrategy.extract(B.rawUrl)})),(0,ue.w)(B=>{let X=!1,le=!1;return(0,se.of)(B).pipe((0,We.b)(ge=>{this.currentNavigation={id:ge.id,initialUrl:ge.currentRawUrl,extractedUrl:ge.extractedUrl,trigger:ge.source,extras:ge.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,ue.w)(ge=>{const Qe=this.browserUrlTree.toString(),Bt=!this.navigated||ge.extractedUrl.toString()!==Qe||Qe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Bt)&&this.urlHandlingStrategy.shouldProcessUrl(ge.rawUrl))return vi(ge.source)&&(this.browserUrlTree=ge.extractedUrl),(0,se.of)(ge).pipe((0,ue.w)(zt=>{const An=this.transitions.getValue();return R.next(new Qt(zt.id,this.serializeUrl(zt.extractedUrl),zt.source,zt.restoredState)),An!==this.transitions.getValue()?Ae.E:Promise.resolve(zt)}),function Un(w,C,b,R){return(0,ue.w)(B=>function sn(w,C,b,R,B){return new oe(w,C,b,R,B).apply()}(w,C,b,B.extractedUrl,R).pipe((0,J.U)(X=>Object.assign(Object.assign({},B),{urlAfterRedirects:X}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,We.b)(zt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:zt.urlAfterRedirects})}),function Xs(w,C,b,R,B){return(0,He.z)(X=>function Os(w,C,b,R,B="emptyOnly",X="legacy"){try{const le=new ql(w,C,b,R,B,X).recognize();return null===le?Aa(new Ka):(0,se.of)(le)}catch(le){return Aa(le)}}(w,C,X.urlAfterRedirects,b(X.urlAfterRedirects),R,B).pipe((0,J.U)(le=>Object.assign(Object.assign({},X),{targetSnapshot:le}))))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(this.rootComponentType,this.config,zt=>this.serializeUrl(zt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,We.b)(zt=>{if("eager"===this.urlUpdateStrategy){if(!zt.extras.skipLocationChange){const Mn=this.urlHandlingStrategy.merge(zt.urlAfterRedirects,zt.rawUrl);this.setBrowserUrl(Mn,zt)}this.browserUrlTree=zt.urlAfterRedirects}const An=new Zn(zt.id,this.serializeUrl(zt.extractedUrl),this.serializeUrl(zt.urlAfterRedirects),zt.targetSnapshot);R.next(An)}));if(Bt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:An,extractedUrl:Mn,source:Rs,restoredState:Zs,extras:iu}=ge,Dc=new Qt(An,this.serializeUrl(Mn),Rs,Zs);R.next(Dc);const Za=jn(Mn,this.rootComponentType).snapshot;return(0,se.of)(Object.assign(Object.assign({},ge),{targetSnapshot:Za,urlAfterRedirects:Mn,extras:Object.assign(Object.assign({},iu),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ge.rawUrl,ge.resolve(null),Ae.E}),Ql(ge=>{const{targetSnapshot:Qe,id:Bt,extractedUrl:fn,rawUrl:zt,extras:{skipLocationChange:An,replaceUrl:Mn}}=ge;return this.hooks.beforePreactivation(Qe,{navigationId:Bt,appliedUrlTree:fn,rawUrlTree:zt,skipLocationChange:!!An,replaceUrl:!!Mn})}),(0,We.b)(ge=>{const Qe=new Sn(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot);this.triggerEvent(Qe)}),(0,J.U)(ge=>Object.assign(Object.assign({},ge),{guards:Kt(ge.targetSnapshot,ge.currentSnapshot,this.rootContexts)})),function Ze(w,C){return(0,He.z)(b=>{const{targetSnapshot:R,currentSnapshot:B,guards:{canActivateChecks:X,canDeactivateChecks:le}}=b;return 0===le.length&&0===X.length?(0,se.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function Wt(w,C,b,R){return(0,h.D)(w).pipe((0,He.z)(B=>function mi(w,C,b,R,B){const X=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!X||0===X.length)return(0,se.of)(!0);const le=X.map(ge=>{const Qe=Et(ge,C,B);let Bt;if(function Ns(w){return w&&Ei(w.canDeactivate)}(Qe))Bt=Yn(Qe.canDeactivate(w,C,b,R));else{if(!Ei(Qe))throw new Error("Invalid CanDeactivate guard");Bt=Yn(Qe(w,C,b,R))}return Bt.pipe(K())});return(0,se.of)(le).pipe(Er())}(B.component,B.route,b,C,R)),K(B=>!0!==B,!0))}(le,R,B,w).pipe((0,He.z)(ge=>ge&&function Sa(w){return"boolean"==typeof w}(ge)?function Qn(w,C,b,R){return(0,h.D)(C).pipe((0,fe.b)(B=>(0,ke.z)(function ct(w,C){return null!==w&&C&&C(new Tr(w)),(0,se.of)(!0)}(B.route.parent,R),function Hr(w,C){return null!==w&&C&&C(new tr(w)),(0,se.of)(!0)}(B.route,R),function xa(w,C,b){const R=C[C.length-1],X=C.slice(0,C.length-1).reverse().map(le=>function mr(w){const C=w.routeConfig?w.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:w,guards:C}:null}(le)).filter(le=>null!==le).map(le=>(0,Re.P)(()=>{const ge=le.guards.map(Qe=>{const Bt=Et(Qe,le.node,b);let fn;if(function ss(w){return w&&Ei(w.canActivateChild)}(Bt))fn=Yn(Bt.canActivateChild(R,w));else{if(!Ei(Bt))throw new Error("Invalid CanActivateChild guard");fn=Yn(Bt(R,w))}return fn.pipe(K())});return(0,se.of)(ge).pipe(Er())}));return(0,se.of)(X).pipe(Er())}(w,B.path,b),function dn(w,C,b){const R=C.routeConfig?C.routeConfig.canActivate:null;if(!R||0===R.length)return(0,se.of)(!0);const B=R.map(X=>(0,Re.P)(()=>{const le=Et(X,C,b);let ge;if(function Da(w){return w&&Ei(w.canActivate)}(le))ge=Yn(le.canActivate(C,w));else{if(!Ei(le))throw new Error("Invalid CanActivate guard");ge=Yn(le(C,w))}return ge.pipe(K())}));return(0,se.of)(B).pipe(Er())}(w,B.route,b))),K(B=>!0!==B,!0))}(R,X,w,C):(0,se.of)(ge)),(0,J.U)(ge=>Object.assign(Object.assign({},b),{guardsResult:ge})))})}(this.ngModule.injector,ge=>this.triggerEvent(ge)),(0,We.b)(ge=>{if(Ms(ge.guardsResult)){const Bt=qe(`Redirecting to "${this.serializeUrl(ge.guardsResult)}"`);throw Bt.url=ge.guardsResult,Bt}const Qe=new zn(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot,!!ge.guardsResult);this.triggerEvent(Qe)}),(0,Tt.h)(ge=>!!ge.guardsResult||(this.restoreHistory(ge),this.cancelNavigationTransition(ge,""),!1)),Ql(ge=>{if(ge.guards.canActivateChecks.length)return(0,se.of)(ge).pipe((0,We.b)(Qe=>{const Bt=new mn(Qe.id,this.serializeUrl(Qe.extractedUrl),this.serializeUrl(Qe.urlAfterRedirects),Qe.targetSnapshot);this.triggerEvent(Bt)}),(0,ue.w)(Qe=>{let Bt=!1;return(0,se.of)(Qe).pipe(function Na(w,C){return(0,He.z)(b=>{const{targetSnapshot:R,guards:{canActivateChecks:B}}=b;if(!B.length)return(0,se.of)(b);let X=0;return(0,h.D)(B).pipe((0,fe.b)(le=>function Zd(w,C,b,R){return function Jd(w,C,b,R){const B=Xl(w);if(0===B.length)return(0,se.of)({});const X={};return(0,h.D)(B).pipe((0,He.z)(le=>function _c(w,C,b,R){const B=Et(w,C,R);return Yn(B.resolve?B.resolve(C,b):B(C,b))}(w[le],C,b,R).pipe((0,We.b)(ge=>{X[le]=ge}))),ut(1),(0,He.z)(()=>Xl(X).length===B.length?(0,se.of)(X):Ae.E))}(w._resolve,w,C,R).pipe((0,J.U)(X=>(w._resolvedData=X,w.data=Object.assign(Object.assign({},w.data),ns(w,b).resolve),null)))}(le.route,R,w,C)),(0,We.b)(()=>X++),ut(1),(0,He.z)(le=>X===B.length?(0,se.of)(b):Ae.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,We.b)({next:()=>Bt=!0,complete:()=>{Bt||(this.restoreHistory(Qe),this.cancelNavigationTransition(Qe,"At least one route resolver didn't emit any value."))}}))}),(0,We.b)(Qe=>{const Bt=new Bi(Qe.id,this.serializeUrl(Qe.extractedUrl),this.serializeUrl(Qe.urlAfterRedirects),Qe.targetSnapshot);this.triggerEvent(Bt)}))}),Ql(ge=>{const{targetSnapshot:Qe,id:Bt,extractedUrl:fn,rawUrl:zt,extras:{skipLocationChange:An,replaceUrl:Mn}}=ge;return this.hooks.afterPreactivation(Qe,{navigationId:Bt,appliedUrlTree:fn,rawUrlTree:zt,skipLocationChange:!!An,replaceUrl:!!Mn})}),(0,J.U)(ge=>{const Qe=function Rr(w,C,b){const R=Ii(w,C._root,b?b._root:void 0);return new cn(R,C)}(this.routeReuseStrategy,ge.targetSnapshot,ge.currentRouterState);return Object.assign(Object.assign({},ge),{targetRouterState:Qe})}),(0,We.b)(ge=>{this.currentUrlTree=ge.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ge.urlAfterRedirects,ge.rawUrl),this.routerState=ge.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ge.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ge),this.browserUrlTree=ge.urlAfterRedirects)}),((w,C,b)=>(0,J.U)(R=>(new gs(C,R.targetRouterState,R.currentRouterState,b).activate(w),R)))(this.rootContexts,this.routeReuseStrategy,ge=>this.triggerEvent(ge)),(0,We.b)({next(){X=!0},complete(){X=!0}}),function ne(w){return(0,Fe.e)((C,b)=>{try{C.subscribe(b)}finally{b.add(w)}})}(()=>{var ge;X||le||this.cancelNavigationTransition(B,`Navigation ID ${B.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ge=this.currentNavigation)||void 0===ge?void 0:ge.id)===B.id&&(this.currentNavigation=null)}),(0,Se.K)(ge=>{if(le=!0,function De(w){return w&&w[Ft]}(ge)){const Qe=Ms(ge.url);Qe||(this.navigated=!0,this.restoreHistory(B,!0));const Bt=new kt(B.id,this.serializeUrl(B.extractedUrl),ge.message);R.next(Bt),Qe?setTimeout(()=>{const fn=this.urlHandlingStrategy.merge(ge.url,this.rawUrlTree),zt={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vi(B.source)};this.scheduleNavigation(fn,"imperative",null,zt,{resolve:B.resolve,reject:B.reject,promise:B.promise})},0):B.resolve(!1)}else{this.restoreHistory(B,!0);const Qe=new Nt(B.id,this.serializeUrl(B.extractedUrl),ge);R.next(Qe);try{B.resolve(this.errorHandler(ge))}catch(Bt){B.reject(Bt)}}return Ae.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const R="popstate"===b.type?"popstate":"hashchange";"popstate"===R&&setTimeout(()=>{var B;const X={replaceUrl:!0},le=(null===(B=b.state)||void 0===B?void 0:B.navigationId)?b.state:null;if(le){const Qe=Object.assign({},le);delete Qe.navigationId,delete Qe.\u0275routerPageId,0!==Object.keys(Qe).length&&(X.state=Qe)}const ge=this.parseUrl(b.url);this.scheduleNavigation(ge,R,le,X)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){$a(b),this.config=b.map(zr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,R={}){const{relativeTo:B,queryParams:X,fragment:le,queryParamsHandling:ge,preserveFragment:Qe}=R,Bt=B||this.routerState.root,fn=Qe?this.currentUrlTree.fragment:le;let zt=null;switch(ge){case"merge":zt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),X);break;case"preserve":zt=this.currentUrlTree.queryParams;break;default:zt=X||null}return null!==zt&&(zt=this.removeEmptyProps(zt)),function zo(w,C,b,R,B){if(0===b.length)return ps(C.root,C.root,C.root,R,B);const X=function pr(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Wn(!0,0,w);let C=0,b=!1;const R=w.reduce((B,X,le)=>{if("object"==typeof X&&null!=X){if(X.outlets){const ge={};return qt(X.outlets,(Qe,Bt)=>{ge[Bt]="string"==typeof Qe?Qe.split("/"):Qe}),[...B,{outlets:ge}]}if(X.segmentPath)return[...B,X.segmentPath]}return"string"!=typeof X?[...B,X]:0===le?(X.split("/").forEach((ge,Qe)=>{0==Qe&&"."===ge||(0==Qe&&""===ge?b=!0:".."===ge?C++:""!=ge&&B.push(ge))}),B):[...B,X]},[]);return new Wn(b,C,R)}(b);if(X.toRoot())return ps(C.root,C.root,new ee([],{}),R,B);const le=function ya(w,C,b){if(w.isAbsolute)return new kr(C.root,!0,0);if(-1===b.snapshot._lastPathIndex){const X=b.snapshot._urlSegment;return new kr(X,X===C.root,0)}const R=Xi(w.commands[0])?0:1;return function ba(w,C,b){let R=w,B=C,X=b;for(;X>B;){if(X-=B,R=R.parent,!R)throw new Error("Invalid number of '../'");B=R.segments.length}return new kr(R,!1,B-X)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+R,w.numberOfDoubleDots)}(X,C,w),ge=le.processChildren?Ta(le.segmentGroup,le.index,X.commands):Ga(le.segmentGroup,le.index,X.commands);return ps(C.root,le.segmentGroup,ge,R,B)}(Bt,this.currentUrlTree,b,zt,null!=fn?fn:null)}navigateByUrl(b,R={skipLocationChange:!1}){const B=Ms(b)?b:this.parseUrl(b),X=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(X,"imperative",null,R)}navigate(b,R={skipLocationChange:!1}){return function Ia(w){for(let C=0;C<w.length;C++){const b=w[C];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${C}`)}}(b),this.navigateByUrl(this.createUrlTree(b,R),R)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let R;try{R=this.urlSerializer.parse(b)}catch(B){R=this.malformedUriErrorHandler(B,this.urlSerializer,b)}return R}isActive(b,R){let B;if(B=!0===R?Object.assign({},Vh):!1===R?Object.assign({},Gh):R,Ms(b))return en(this.currentUrlTree,b,B);const X=this.parseUrl(b);return en(this.currentUrlTree,X,B)}removeEmptyProps(b){return Object.keys(b).reduce((R,B)=>{const X=b[B];return null!=X&&(R[B]=X),R},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new Gt(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,R,B,X,le){var ge,Qe;if(this.disposed)return Promise.resolve(!1);let Bt,fn,zt;le?(Bt=le.resolve,fn=le.reject,zt=le.promise):zt=new Promise((Rs,Zs)=>{Bt=Rs,fn=Zs});const An=++this.navigationId;let Mn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(B=this.location.getState()),Mn=B&&B.\u0275routerPageId?B.\u0275routerPageId:X.replaceUrl||X.skipLocationChange?null!==(ge=this.browserPageId)&&void 0!==ge?ge:0:(null!==(Qe=this.browserPageId)&&void 0!==Qe?Qe:0)+1):Mn=0,this.setTransition({id:An,targetPageId:Mn,source:R,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:X,resolve:Bt,reject:fn,promise:zt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),zt.catch(Rs=>Promise.reject(Rs))}setBrowserUrl(b,R){const B=this.urlSerializer.serialize(b),X=Object.assign(Object.assign({},R.extras.state),this.generateNgRouterState(R.id,R.targetPageId));this.location.isCurrentPathEqualTo(B)||R.extras.replaceUrl?this.location.replaceState(B,"",X):this.location.go(B,"",X)}restoreHistory(b,R=!1){var B,X;if("computed"===this.canceledNavigationResolution){const le=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(B=this.currentNavigation)||void 0===B?void 0:B.finalUrl)||0===le?this.currentUrlTree===(null===(X=this.currentNavigation)||void 0===X?void 0:X.finalUrl)&&0===le&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(le)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,R){const B=new kt(b.id,this.serializeUrl(b.extractedUrl),R);this.triggerEvent(B),b.resolve(!1)}generateNgRouterState(b,R){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:R}:{navigationId:b}}}return w.\u0275fac=function(b){T.$Z()},w.\u0275prov=T.Yz7({token:w,factory:w.\u0275fac}),w})();function vi(w){return"imperative"!==w}let ef=(()=>{class w{constructor(b,R,B,X,le){this.router=b,this.route=R,this.tabIndexAttribute=B,this.renderer=X,this.el=le,this.commands=null,this.onChanges=new Ue.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){if(null!=this.tabIndexAttribute)return;const R=this.renderer,B=this.el.nativeElement;null!==b?R.setAttribute(B,"tabindex",b):R.removeAttribute(B,"tabindex")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const b={skipLocationChange:Oi(this.skipLocationChange),replaceUrl:Oi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Oi(this.preserveFragment)})}}return w.\u0275fac=function(b){return new(b||w)(T.Y36($n),T.Y36(dr),T.$8M("tabindex"),T.Y36(T.Qsj),T.Y36(T.SBq))},w.\u0275dir=T.lG2({type:w,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,R){1&b&&T.NdJ("click",function(){return R.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[T.TTD]}),w})(),nl=(()=>{class w{constructor(b,R,B){this.router=b,this.route=R,this.locationStrategy=B,this.commands=null,this.href=null,this.onChanges=new Ue.x,this.subscription=b.events.subscribe(X=>{X instanceof Gt&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:null}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,R,B,X,le){if(0!==b||R||B||X||le||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ge={skipLocationChange:Oi(this.skipLocationChange),replaceUrl:Oi(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ge),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Oi(this.preserveFragment)})}}return w.\u0275fac=function(b){return new(b||w)(T.Y36($n),T.Y36(dr),T.Y36($e.S$))},w.\u0275dir=T.lG2({type:w,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,R){1&b&&T.NdJ("click",function(X){return R.onClick(X.button,X.ctrlKey,X.shiftKey,X.altKey,X.metaKey)}),2&b&&T.uIk("target",R.target)("href",R.href,T.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[T.TTD]}),w})();function Oi(w){return""===w||!!w}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Tc=(()=>{class w{constructor(b,R,B,X,le,ge){this.router=b,this.element=R,this.renderer=B,this.cdr=X,this.link=le,this.linkWithHref=ge,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new T.vpe,this.routerEventsSubscription=b.events.subscribe(Qe=>{Qe instanceof Gt&&this.update()})}ngAfterContentInit(){(0,se.of)(this.links.changes,this.linksWithHrefs.changes,(0,se.of)(null)).pipe((0,at.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var b;null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe();const R=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(B=>!!B).map(B=>B.onChanges);this.linkInputChangesSubscription=(0,h.D)(R).pipe((0,at.J)()).subscribe(B=>{this.isActive!==this.isLinkActive(this.router)(B)&&this.update()})}set routerLinkActive(b){const R=Array.isArray(b)?b:b.split(" ");this.classes=R.filter(B=>!!B)}ngOnChanges(b){this.update()}ngOnDestroy(){var b;this.routerEventsSubscription.unsubscribe(),null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this.isActive!==b&&(this.isActive=b,this.cdr.markForCheck(),this.classes.forEach(R=>{b?this.renderer.addClass(this.element.nativeElement,R):this.renderer.removeClass(this.element.nativeElement,R)}),this.isActiveChange.emit(b))})}isLinkActive(b){const R=function jh(w){return!!w.paths}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return B=>!!B.urlTree&&b.isActive(B.urlTree,R)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.linkWithHref&&b(this.linkWithHref)||this.links.some(b)||this.linksWithHrefs.some(b)}}return w.\u0275fac=function(b){return new(b||w)(T.Y36($n),T.Y36(T.SBq),T.Y36(T.Qsj),T.Y36(T.sBO),T.Y36(ef,8),T.Y36(nl,8))},w.\u0275dir=T.lG2({type:w,selectors:[["","routerLinkActive",""]],contentQueries:function(b,R,B){if(1&b&&(T.Suo(B,ef,5),T.Suo(B,nl,5)),2&b){let X;T.iGM(X=T.CRH())&&(R.links=X),T.iGM(X=T.CRH())&&(R.linksWithHrefs=X)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[T.TTD]}),w})();class il{}class sl{preload(C,b){return(0,se.of)(null)}}let qa=(()=>{class w{constructor(b,R,B,X){this.router=b,this.injector=B,this.preloadingStrategy=X,this.loader=new Jo(B,R,Qe=>b.triggerEvent(new yi(Qe)),Qe=>b.triggerEvent(new On(Qe)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Tt.h)(b=>b instanceof Gt),(0,fe.b)(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(T.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,R){const B=[];for(const X of R)if(X.loadChildren&&!X.canLoad&&X._loadedConfig){const le=X._loadedConfig;B.push(this.processRoutes(le.module,le.routes))}else X.loadChildren&&!X.canLoad?B.push(this.preloadConfig(b,X)):X.children&&B.push(this.processRoutes(b,X.children));return(0,h.D)(B).pipe((0,at.J)(),(0,J.U)(X=>{}))}preloadConfig(b,R){return this.preloadingStrategy.preload(R,()=>(R._loadedConfig?(0,se.of)(R._loadedConfig):this.loader.load(b.injector,R)).pipe((0,He.z)(X=>(R._loadedConfig=X,this.processRoutes(X.module,X.routes)))))}}return w.\u0275fac=function(b){return new(b||w)(T.LFG($n),T.LFG(T.Sil),T.LFG(T.zs3),T.LFG(il))},w.\u0275prov=T.Yz7({token:w,factory:w.\u0275fac}),w})(),al=(()=>{class w{constructor(b,R,B={}){this.router=b,this.viewportScroller=R,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Qt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Gt&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Sr&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,R){this.router.triggerEvent(new Sr(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return w.\u0275fac=function(b){T.$Z()},w.\u0275prov=T.Yz7({token:w,factory:w.\u0275fac}),w})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const _s=new T.OlP("ROUTER_CONFIGURATION"),Qs=new T.OlP("ROUTER_FORROOT_GUARD"),Mo=[$e.Ye,{provide:ci,useClass:_n},{provide:$n,useFactory:function Zm(w,C,b,R,B,X,le={},ge,Qe){const Bt=new $n(null,w,C,b,R,B,xt(X));return ge&&(Bt.urlHandlingStrategy=ge),Qe&&(Bt.routeReuseStrategy=Qe),function zh(w,C){w.errorHandler&&(C.errorHandler=w.errorHandler),w.malformedUriErrorHandler&&(C.malformedUriErrorHandler=w.malformedUriErrorHandler),w.onSameUrlNavigation&&(C.onSameUrlNavigation=w.onSameUrlNavigation),w.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=w.paramsInheritanceStrategy),w.relativeLinkResolution&&(C.relativeLinkResolution=w.relativeLinkResolution),w.urlUpdateStrategy&&(C.urlUpdateStrategy=w.urlUpdateStrategy),w.canceledNavigationResolution&&(C.canceledNavigationResolution=w.canceledNavigationResolution)}(le,Bt),le.enableTracing&&Bt.events.subscribe(fn=>{var zt,An;null===(zt=console.group)||void 0===zt||zt.call(console,`Router Event: ${fn.constructor.name}`),console.log(fn.toString()),console.log(fn),null===(An=console.groupEnd)||void 0===An||An.call(console)}),Bt},deps:[ci,Fr,$e.Ye,T.zs3,T.Sil,Zo,_s,[class xo{},new T.FiY],[class vs{},new T.FiY]]},Fr,{provide:dr,useFactory:function eu(w){return w.routerState.root},deps:[$n]},qa,sl,class rl{preload(C,b){return b().pipe((0,Se.K)(()=>(0,se.of)(null)))}},{provide:_s,useValue:{enableTracing:!1}}];function Wh(){return new T.PXZ("Router",$n)}let $h=(()=>{class w{constructor(b,R){}static forRoot(b,R){return{ngModule:w,providers:[Mo,tf(b),{provide:Qs,useFactory:Sc,deps:[[$n,new T.FiY,new T.tp0]]},{provide:_s,useValue:R||{}},{provide:$e.S$,useFactory:Jl,deps:[$e.lw,[new T.tBr($e.mr),new T.FiY],_s]},{provide:al,useFactory:Xa,deps:[$n,$e.EM,_s]},{provide:il,useExisting:R&&R.preloadingStrategy?R.preloadingStrategy:sl},{provide:T.PXZ,multi:!0,useFactory:Wh},[ol,{provide:T.ip1,multi:!0,useFactory:tu,deps:[ol]},{provide:Cc,useFactory:nu,deps:[ol]},{provide:T.tb,multi:!0,useExisting:Cc}]]}}static forChild(b){return{ngModule:w,providers:[tf(b)]}}}return w.\u0275fac=function(b){return new(b||w)(T.LFG(Qs,8),T.LFG($n,8))},w.\u0275mod=T.oAB({type:w}),w.\u0275inj=T.cJS({}),w})();function Xa(w,C,b){return b.scrollOffset&&C.setOffset(b.scrollOffset),new al(w,C,b)}function Jl(w,C,b={}){return b.useHash?new $e.Do(w,C):new $e.b0(w,C)}function Sc(w){return"guarded"}function tf(w){return[{provide:T.deG,multi:!0,useValue:w},{provide:Zo,multi:!0,useValue:w}]}let ol=(()=>{class w{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ue.x}appInitializer(){return this.injector.get($e.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let R=null;const B=new Promise(ge=>R=ge),X=this.injector.get($n),le=this.injector.get(_s);return"disabled"===le.initialNavigation?(X.setUpLocationChangeListener(),R(!0)):"enabled"===le.initialNavigation||"enabledBlocking"===le.initialNavigation?(X.hooks.afterPreactivation=()=>this.initNavigation?(0,se.of)(null):(this.initNavigation=!0,R(!0),this.resultOfPreactivationDone),X.initialNavigation()):R(!0),B})}bootstrapListener(b){const R=this.injector.get(_s),B=this.injector.get(qa),X=this.injector.get(al),le=this.injector.get($n),ge=this.injector.get(T.z2F);b===ge.components[0]&&(("enabledNonBlocking"===R.initialNavigation||void 0===R.initialNavigation)&&le.initialNavigation(),B.setUpPreloading(),X.init(),le.resetRootComponentType(ge.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return w.\u0275fac=function(b){return new(b||w)(T.LFG(T.zs3))},w.\u0275prov=T.Yz7({token:w,factory:w.\u0275fac}),w})();function tu(w){return w.appInitializer.bind(w)}function nu(w){return w.bootstrapListener.bind(w)}const Cc=new T.OlP("Router Initializer")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */},gt=>{gt(gt.s=9154)}]);