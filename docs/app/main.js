(self.webpackChunksyncwatch_frontend=self.webpackChunksyncwatch_frontend||[]).push([["main"],{2033:(ft,Re,H)=>{"use strict";var T=H(9808),y=H(4893);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class de extends T.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class be extends de{static makeCurrent(){(0,T.HT)(new be)}onAndCancel(n,t,r){return n.addEventListener(t,r,!1),()=>{n.removeEventListener(t,r,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function Ne(){return ye=ye||document.querySelector("base"),ye?ye.getAttribute("href"):null}();return null==t?null:function Fe(l){Be=Be||document.createElement("a"),Be.setAttribute("href",l);const n=Be.pathname;return"/"===n.charAt(0)?n:`/${n}`}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(t)}resetBaseElement(){ye=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return(0,T.Mx)(document.cookie,n)}}let Be,ye=null;const Oe=new y.OlP("TRANSITION_ID"),we=[{provide:y.ip1,useFactory:function xe(l,n,t){return()=>{t.get(y.CZH).donePromise.then(()=>{const r=(0,T.q)(),e=n.querySelectorAll(`style[ng-transition="${l}"]`);for(let a=0;a<e.length;a++)r.remove(e[a])})}},deps:[Oe,T.K0,y.zs3],multi:!0}];
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class De{static init(){(0,y.VLi)(new De)}addToWindow(n){y.dqk.getAngularTestability=(r,e=!0)=>{const a=n.findTestabilityInTree(r,e);if(null==a)throw new Error("Could not find testability for element.");return a},y.dqk.getAllAngularTestabilities=()=>n.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>n.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(r=>{const e=y.dqk.getAllAngularTestabilities();let a=e.length,u=!1;const d=function(p){u=u||p,a--,0==a&&r(u)};e.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(n,t,r){if(null==t)return null;const e=n.getTestability(t);return null!=e?e:r?(0,T.q)().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null}}let Ve=(()=>{class l{build(){return new XMLHttpRequest}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Ce=new y.OlP("EventManagerPlugins");let gt=(()=>{class l{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(e=>e.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,e){return this._findPluginFor(r).addEventListener(t,r,e)}addGlobalEventListener(t,r,e){return this._findPluginFor(r).addGlobalEventListener(t,r,e)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const e=this._plugins;for(let a=0;a<e.length;a++){const u=e[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(Ce),y.LFG(y.R0b))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();class wt{constructor(n){this._doc=n}addGlobalEventListener(n,t,r){const e=(0,T.q)().getGlobalEventTarget(this._doc,n);if(!e)throw new Error(`Unsupported event target ${e} for event ${t}`);return this.addEventListener(e,t,r)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Ae=(()=>{class l{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),r.add(e))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})(),At=(()=>{class l extends Ae{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,e){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,e.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(dt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,e)=>{this._addStylesToHost(t,e,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(dt))}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(T.K0))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();function dt(l){(0,T.q)().remove(l)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const nt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},it=/%COMP%/g;function ee(l,n,t){for(let r=0;r<n.length;r++){let e=n[r];Array.isArray(e)?ee(l,e,t):(e=e.replace(it,l),t.push(e))}return t}function ce(l){return n=>{if("__ngUnwrap__"===n)return l;!1===l(n)&&(n.preventDefault(),n.returnValue=!1)}}let Se=(()=>{class l{constructor(t,r,e){this.eventManager=t,this.sharedStylesHost=r,this.appId=e,this.rendererByCompId=new Map,this.defaultRenderer=new he(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case y.ifc.Emulated:{let e=this.rendererByCompId.get(r.id);return e||(e=new st(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,e)),e.applyToHost(t),e}case 1:case y.ifc.ShadowDom:return new Ke(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const e=ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(gt),y.LFG(At),y.LFG(y.AFp))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();class he{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(nt[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){n.appendChild(t)}insertBefore(n,t,r){n&&n.insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,e){if(e){t=e+":"+t;const a=nt[e];a?n.setAttributeNS(a,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const e=nt[r];e?n.removeAttributeNS(e,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,e){e&(y.JOm.DashCase|y.JOm.Important)?n.style.setProperty(t,r,e&y.JOm.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&y.JOm.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,ce(r)):this.eventManager.addEventListener(n,t,ce(r))}}class st extends he{constructor(n,t,r,e){super(n),this.component=r;const a=ee(e+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function K(l){return"_ngcontent-%COMP%".replace(it,l)}(e+"-"+r.id),this.hostAttr=function te(l){return"_nghost-%COMP%".replace(it,l)}(e+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ke extends he{constructor(n,t,r,e){super(n),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ee(e.id,e.styles,[]);for(let u=0;u<a.length;u++){const d=document.createElement("style");d.textContent=a[u],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let We=(()=>{class l extends wt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,e){return t.addEventListener(r,e,!1),()=>this.removeEventListener(t,r,e)}removeEventListener(t,r,e){return t.removeEventListener(r,e)}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(T.K0))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const xt=["alt","control","meta","shift"],Nt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ct={alt:l=>l.altKey,control:l=>l.ctrlKey,meta:l=>l.metaKey,shift:l=>l.shiftKey};let Gn=(()=>{class l extends wt{constructor(t){super(t)}supports(t){return null!=l.parseEventName(t)}addEventListener(t,r,e){const a=l.parseEventName(r),u=l.eventCallback(a.fullKey,e,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,T.q)().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),e=r.shift();if(0===r.length||"keydown"!==e&&"keyup"!==e)return null;const a=l._normalizeKey(r.pop());let u="";if(xt.forEach(p=>{const g=r.indexOf(p);g>-1&&(r.splice(g,1),u+=p+".")}),u+=a,0!=r.length||0===a.length)return null;const d={};return d.domEventName=e,d.fullKey=u,d}static getEventFullKey(t){let r="",e=function sn(l){let n=l.key;if(null==n){if(n=l.keyIdentifier,null==n)return"Unidentified";n.startsWith("U+")&&(n=String.fromCharCode(parseInt(n.substring(2),16)),3===l.location&&Mt.hasOwnProperty(n)&&(n=Mt[n]))}return Nt[n]||n}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(t);return e=e.toLowerCase()," "===e?e="space":"."===e&&(e="dot"),xt.forEach(a=>{a!=e&&Ct[a](t)&&(r+=a+".")}),r+=e,r}static eventCallback(t,r,e){return a=>{l.getEventFullKey(a)===t&&e.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(T.K0))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();const Nn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:T.bD},{provide:y.g9A,useValue:function Tn(){be.makeCurrent(),De.init()},multi:!0},{provide:T.K0,useFactory:function hr(){return(0,y.RDi)(document),document},deps:[]}]),gi=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function fn(){return new y.qLn},deps:[]},{provide:Ce,useClass:We,multi:!0,deps:[T.K0,y.R0b,y.Lbi]},{provide:Ce,useClass:Gn,multi:!0,deps:[T.K0]},{provide:Se,useClass:Se,deps:[gt,At,y.AFp]},{provide:y.FYo,useExisting:Se},{provide:Ae,useExisting:At},{provide:At,useClass:At,deps:[T.K0]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b]},{provide:gt,useClass:gt,deps:[Ce,y.R0b]},{provide:T.JF,useClass:Ve,deps:[]}];let bn=(()=>{class l{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:l,providers:[{provide:y.AFp,useValue:t.appId},{provide:Oe,useExisting:y.AFp},we]}}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(l,12))},l.\u0275mod=y.oAB({type:l}),l.\u0275inj=y.cJS({providers:gi,imports:[T.ez,y.hGG]}),l})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */"undefined"!=typeof window&&window;let ze=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275prov=y.Yz7({token:l,factory:function(t){let r=null;return r=t?new(t||l):y.LFG(an),r},providedIn:"root"}),l})(),an=(()=>{class l extends ze{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case y.q3G.NONE:return r;case y.q3G.HTML:return(0,y.qzn)(r,"HTML")?(0,y.z3N)(r):(0,y.EiD)(this._doc,String(r)).toString();case y.q3G.STYLE:return(0,y.qzn)(r,"Style")?(0,y.z3N)(r):r;case y.q3G.SCRIPT:if((0,y.qzn)(r,"Script"))return(0,y.z3N)(r);throw new Error("unsafe value used in a script context");case y.q3G.URL:return(0,y.yhl)(r),(0,y.qzn)(r,"URL")?(0,y.z3N)(r):(0,y.mCW)(String(r));case y.q3G.RESOURCE_URL:if((0,y.qzn)(r,"ResourceURL"))return(0,y.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,y.JVY)(t)}bypassSecurityTrustStyle(t){return(0,y.L6k)(t)}bypassSecurityTrustScript(t){return(0,y.eBb)(t)}bypassSecurityTrustUrl(t){return(0,y.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,y.pB0)(t)}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(T.K0))},l.\u0275prov=y.Yz7({token:l,factory:function(t){let r=null;return r=t?new t:function Tt(l){return new an(l.get(T.K0))}(y.LFG(y.zs3)),r},providedIn:"root"}),l})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
var cn=H(1605);const Yt="about:now",Fn={BASE_URL:Yt,LOGIN_URL:`${Yt}/login`,LOGOUT_URL:`${Yt}/logout`,SESSIONS_URL:`${Yt}/sessions`,DELETE_SESSIONS_URL:`${Yt}/delete-sessions`,THUMBNAIL_URL:"https://static.wikia.nocookie.net/overgeared/images/e/ea/GridWebtoon2020.png",MOVIE_URL:`${Yt}/movie`,MOVIES_URL:`${Yt}/movies`,MOVIE_STREAM_URL:"https://dl8.webmfiles.org/big-buck-bunny_trailer.webm"};function Nr(l,n,t,r,e,a,u){try{var d=l[a](u),p=d.value}catch(g){return void t(g)}d.done?n(p):Promise.resolve(p).then(r,e)}function pn(l){return function(){var n=this,t=arguments;return new Promise(function(r,e){var a=l.apply(n,t);function u(p){Nr(a,r,e,u,d,"next",p)}function d(p){Nr(a,r,e,u,d,"throw",p)}u(void 0)})}}var Lr=H(8421),or=H(8306),Pn=H(5577),Sr=H(1144),on=H(576),gr=H(3268);const Pr=["addListener","removeListener"],us=["addEventListener","removeEventListener"],ki=["on","off"];function Er(l,n,t,r){if((0,on.m)(t)&&(r=t,t=void 0),r)return Er(l,n,t).pipe((0,gr.Z)(r));const[e,a]=function ii(l){return(0,on.m)(l.addEventListener)&&(0,on.m)(l.removeEventListener)}(l)?us.map(u=>d=>l[u](n,d,t)):function Yn(l){return(0,on.m)(l.addListener)&&(0,on.m)(l.removeListener)}(l)?Pr.map(ri(l,n)):function Bs(l){return(0,on.m)(l.on)&&(0,on.m)(l.off)}(l)?ki.map(ri(l,n)):[];if(!e&&(0,Sr.z)(l))return(0,Pn.z)(u=>Er(u,n,t))((0,Lr.Xf)(l));if(!e)throw new TypeError("Invalid event target");return new or.y(u=>{const d=(...p)=>u.next(1<p.length?p:p[0]);return e(d),()=>a(d)})}function ri(l,n){return t=>r=>l[t](n,r)}var mt=H(4004),tn=H(6805),wn=H(930);function Bn(l,n){const t="object"==typeof n;return new Promise((r,e)=>{const a=new wn.Hp({next:u=>{r(u),a.unsubscribe()},error:e,complete:()=>{t?r(n.defaultValue):e(new tn.K)}});l.subscribe(a)})}var Cr=H(9300),Un=H(5698),sr=H(9646);let On=(()=>{class l{constructor(){this.byteSizes=[{v:1e9,s:"GB"},{v:1e6,s:"MB"},{v:1e3,s:"KB"},{v:1,s:"B"}],this.workerMessageCounter=0,this.setupWorker()}setupWorker(){"undefined"!=typeof Worker?(this.worker=new Worker(H.tu(new URL(H.p+H.u("src_app_shared_worker_indexeddb_worker_ts"),H.b))),this.workerMessages=Er(this.worker,"message").pipe((0,mt.U)(t=>t.data))):console.error("worker not supported")}workerPostMessage(t,r){const e=this.workerMessageCounter;return this.workerMessageCounter++,this.worker.postMessage({counter:e,event:t,data:r}),Bn(this.workerMessages.pipe((0,Cr.h)(({counter:a})=>a===e),(0,mt.U)(a=>{if("data"in a)return a.data;throw new Error(a)}),(0,Un.q)(1)))}bytesToReadable(t){if(void 0===t)return"Unknown";for(let r of this.byteSizes)if(t>=r.v)return`${(t/r.v).toFixed()} ${r.s}`;return t.toFixed()}isStoragePersisted(){return pn(function*(){return(yield navigator.storage)&&navigator.storage.persisted?navigator.storage.persisted():Promise.reject("storage not available")})()}persist(){return pn(function*(){return(yield navigator.storage)&&navigator.storage.persist?navigator.storage.persist():Promise.reject("storage not available")})()}getStorageEstimate(){return pn(function*(){return(yield navigator.storage)&&navigator.storage.estimate?navigator.storage.estimate():Promise.reject("storage not available")})()}getStorageEstimateReadable(){var t=this;return pn(function*(){return yield Bn((0,sr.of)(yield t.getStorageEstimate()).pipe((0,mt.U)(r=>({quota:t.bytesToReadable(r.quota),usage:t.bytesToReadable(r.usage)}))))})()}getIndexedDBEstimate(){var t=this;return pn(function*(){return yield Bn((0,sr.of)(yield t.getStorageEstimate()).pipe((0,mt.U)(r=>{let e=r.usage;return r.usageDetails&&(e=0,r.usageDetails.indexedDB&&(e=r.usageDetails.indexedDB)),{quota:r.quota,usage:e}})))})()}getIndexedDBEstimateReadable(){var t=this;return pn(function*(){return yield Bn((0,sr.of)(yield t.getIndexedDBEstimate()).pipe((0,mt.U)(r=>({quota:t.bytesToReadable(r.quota),usage:t.bytesToReadable(r.usage)}))))})()}tryPersistWithoutPromtingUser(){return pn(function*(){if(!navigator.storage||!navigator.storage.persisted)return"never";let t=yield navigator.storage.persisted();if(t)return"persisted";if(!navigator.permissions||!navigator.permissions.query)return"prompt";const r=yield navigator.permissions.query({name:"persistent-storage"});if("granted"===r.state){if(t=yield navigator.storage.persist(),t)return"persisted";throw new Error("Failed to persist")}return"prompt"===r.state?"prompt":"never"})()}getMovies(){var t=this;return pn(function*(){return yield t.workerPostMessage("getMovies")})()}getMovie(t){var r=this;return pn(function*(){return yield r.workerPostMessage("getMovie",t)})()}putMovie(t){var r=this;return pn(function*(){return yield r.workerPostMessage("putMovie",t)})()}putMovieFragment(t){var r=this;return pn(function*(){return yield r.workerPostMessage("putMovieFragment",t)})()}deleteMovieAndFragments(t){var r=this;return pn(function*(){return yield r.workerPostMessage("deleteMovieAndFragments",t)})()}putThumbnail(t){var r=this;return pn(function*(){return yield r.workerPostMessage("putThumbnail",t)})()}deleteThumbnail(t){var r=this;return pn(function*(){return yield r.workerPostMessage("deleteThumbnail",t)})()}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();function Ki(l,n){1&l&&(y.TgZ(0,"p"),y._uU(1,"Storage not supported"),y.qZA())}function Ni(l,n){if(1&l&&(y.TgZ(0,"p"),y._uU(1),y.qZA()),2&l){const t=y.oxw();y.xp6(1),y.AsE("Used ",t.storageUsage," of ",t.storageQuota,"")}}let qt=(()=>{class l{constructor(t,r){this.ref=t,this.storageService=r,this.storageSupported=!0,this.storageQuota="",this.storageUsage=""}ngOnInit(){this.storageService.getIndexedDBEstimateReadable().then(t=>{this.storageQuota=t.quota,this.storageUsage=t.usage,this.ref.detectChanges()}).catch(t=>{this.storageSupported=!1,this.ref.detectChanges()})}}return l.\u0275fac=function(t){return new(t||l)(y.Y36(y.sBO),y.Y36(On))},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-downloads"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["container",""]],template:function(t,r){if(1&t&&(y.YNc(0,Ki,2,0,"p",0),y.YNc(1,Ni,2,2,"ng-template",null,1,y.W1O)),2&t){const e=y.MAs(2);y.Q6J("ngIf",!r.storageSupported)("ngIfElse",e)}},directives:[T.O5],styles:[""],changeDetection:0}),l})();const Dr={UKNOWN:"Unknown"},Ci={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Dr.UKNOWN},mi={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},vi={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},An={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Dr.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},Qr=[An.PS4,An.CHROME_BOOK,An.MAC,An.DELL,An.ASUS,An.UNKNOWN],Di={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Dr.UKNOWN},Fr={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Dr.UKNOWN.toLowerCase()},Rn={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},oo=Object.assign(Object.assign(Object.assign(Object.assign({},mi),vi),Rn),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),Zr={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},Br={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},ca=Object.keys(Zr).reduce((l,n)=>(l[n]=Zr[n],l),{}),Xi=Object.keys(Br).reduce((l,n)=>(l[Ci[n]]=Br[n],l),{});var Qn=Object.freeze({__proto__:null,GENERAL:Dr,BROWSERS:Ci,MOBILES_RE:mi,TABLETS_RE:vi,DEVICES:An,DESKTOP_DEVICES:Qr,OS:Di,OS_VERSIONS:Fr,OS_RE:Rn,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:oo,OS_VERSIONS_RE_MAP:Zr,BROWSER_VERSIONS_RE_MAP:Br,OS_VERSIONS_RE:ca,BROWSER_VERSIONS_RE:Xi});class si{constructor(){}test(n,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.test(n):t&&Array.isArray(t.and)?t.and.every(r=>this.test(n,r)):t&&Array.isArray(t.or)?t.or.some(r=>this.test(n,r)):!(!t||!t.not||this.test(n,t.not))}exec(n,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.exec(n):t&&Array.isArray(t)?t.reduce((r,e)=>r||this.exec(n,e),null):null}}var qi=(()=>{return(l=qi||(qi={})).Mobile="mobile",l.Tablet="tablet",l.Desktop="desktop",l.Unknown="unknown",qi;var l})(),ls=(()=>{return(l=ls||(ls={})).Portrait="portrait",l.Landscape="landscape",ls;var l})();const Yi="iPad";let da=(()=>{class l{constructor(t){this.platformId=t,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new si,this.deviceType="",this.orientation="",(0,T.NF)(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(t=this.userAgent){t!==this.userAgent&&(this.userAgent=t);const r=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(r.forEach(e=>{this[e.prop]=Object.keys(Qn[e.const]).reduce((a,u)=>"device"===Qn[e.const][u]&&(0,T.NF)(this.platformId)&&(this.reTree.test(this.userAgent,vi[Yi])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(a[Qn[e.const][u]]=Yi,Object):(a[Qn[e.const][u]]=this.reTree.test(t,Qn[`${e.const}_RE`][u]),a),{})}),r.forEach(e=>{this[e.prop]=Object.keys(Qn[e.const]).map(a=>Qn[e.const][a]).reduce((a,u)=>"device"===e.prop&&a===Qn[e.const].ANDROID?this[e.prop][u]?u:a:a===Qn[e.const].UNKNOWN&&this[e.prop][u]?u:a,Qn[e.const].UNKNOWN)}),this.browser_version="0",this.browser!==Ci.UNKNOWN){const a=this.reTree.exec(t,Xi[this.browser]);a&&(this.browser_version=a[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?ls.Landscape:ls.Portrait:Dr.UKNOWN,this.deviceType=this.isTablet()?qi.Tablet:this.isMobile(this.userAgent)?qi.Mobile:this.isDesktop(this.userAgent)?qi.Desktop:qi.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(t=this.userAgent){return!this.isTablet(t)&&!!Object.keys(mi).find(e=>this.reTree.test(t,mi[e]))}isTablet(t=this.userAgent){return!(!(0,T.NF)(this.platformId)||!(this.reTree.test(this.userAgent,vi[Yi])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(vi).find(e=>!!this.reTree.test(t,vi[e]))}isDesktop(t=this.userAgent){return(this.device!==An.UNKNOWN||!this.isMobile(t)&&!this.isTablet(t))&&Qr.indexOf(this.device)>-1}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(y.Lbi))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})(),Ra=(()=>{class l{constructor(t){this.deviceService=t}lockOrientation(t){const r=screen;r.orientation?r.orientation.lock(t):r.lockOrientation?r.lockOrientation(t):r.mozLockOrientation?r.mozLockOrientation(t):r.msLockOrientation&&r.msLockOrientation(t)}unlockOrientation(){const t=screen;t.orientation?t.orientation.unlock():t.lockOrientation?t.unlockOrientation():t.mozLockOrientation?t.mozUnlockOrientation():t.msLockOrientation&&t.msUnlockOrientation()}requestFullscreenMobile(){this.deviceService.isDesktop()||this.requestFullscreen()}requestFullscreen(){const t=document.body;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}exitFullscreen(){if(!this.isFullscreen())return;const t=document;t.exitFullscreen?t.exitFullscreen():t.mozCancelFullScreen?t.mozCancelFullScreen():t.webkitExitFullscreen?t.webkitExitFullscreen():t.msExitFullscreen&&t.msExitFullscreen()}isFullscreen(){const t=document;return t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(da))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})(),uo=(()=>{class l{constructor(t){this.displayService=t}ngOnInit(){}}return l.\u0275fac=function(t){return new(t||l)(y.Y36(Ra))},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-home"]],decls:46,vars:0,consts:[[1,"bg-blue-600","m-2","p-4","bg-gradient-to-b","from-blue-400","to-blue-500","rounded-xl","shadow-lg","w-80","cursor-pointer","hover:scale-95","duration-200"],[1,"flex","justify-center"],[1,"flex","justify-center","p-4","mb-2","bg-blue-400","ring-2","ring-blue-300","rounded-lg","shadow-xl","w-full"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-8","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,""],[1,"text-white","text-center","font-semibold"],[1,"text-white","text-center"],[1,"flex","justify-between"],[1,"text-gray-200"],[1,"text-white"],[1,"w-full","h-2","mt-2","bg-blue-200","rounded-full"],[1,"w-2/3","h-full","text-center","text-xs","text-white","bg-blue-600","rounded-full"],[1,"bg-blue-600","m-2","p-4","bg-gradient-to-b","from-indigo-400","to-indigo-500","rounded-xl","shadow-lg","w-80","cursor-pointer","hover:scale-95","duration-200"],[1,"flex","justify-center","p-4","bg-indigo-300","ring-2","ring-indigo-200","rounded-lg","shadow-xl","w-full"],["viewBox","0 0 256 256",1,"h-8","text-white"],["d","M216.9,208H39.4a7.4,7.4,0,0,1-7.4-7.4V80H216a8,8,0,0,1,8,8V200.9A7.1,7.1,0,0,1,216.9,208Z","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","24"],["d","M98.4,46.7,128,80H32V52a8,8,0,0,1,8-8H92.4A8,8,0,0,1,98.4,46.7Z","fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","24"],[1,"mt-3"],[1,"flex","justify-between","mt-2"],[1,"bg-blue-600","m-2","p-4","bg-gradient-to-b","from-pink-400","to-pink-500","rounded-xl","shadow-lg","w-80","cursor-pointer","hover:scale-95","duration-200"],[1,"flex","justify-center","p-4","bg-pink-300","ring-2","ring-pink-200","rounded-lg","shadow-xl","w-full"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-8","w-8","text-white"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-white","font-semibold"]],template:function(t,r){1&t&&(y.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),y.O4$(),y.TgZ(4,"svg",3),y._UZ(5,"path",4)(6,"path",5),y.qZA()()(),y.kcU(),y.TgZ(7,"div",6)(8,"p",7),y._uU(9,"Game of Thones"),y.qZA(),y.TgZ(10,"p",8),y._uU(11,"S2 | E4"),y.qZA(),y.TgZ(12,"div",9)(13,"p",10),y._uU(14,"56:42"),y.qZA(),y.TgZ(15,"p",11),y._uU(16,"6.5GB"),y.qZA()(),y.TgZ(17,"div",12),y._UZ(18,"div",13),y.qZA()()(),y.TgZ(19,"div",14)(20,"div",1)(21,"div",15),y.O4$(),y.TgZ(22,"svg",16),y._UZ(23,"path",17)(24,"path",18),y.qZA()()(),y.kcU(),y.TgZ(25,"div",19)(26,"p",7),y._uU(27,"Game of Thones"),y.qZA(),y.TgZ(28,"div",20)(29,"p",10),y._uU(30,"Series"),y.qZA(),y.TgZ(31,"p",11),y._uU(32,"10 Seasons"),y.qZA()()()(),y.TgZ(33,"div",21)(34,"div",1)(35,"div",22),y.O4$(),y.TgZ(36,"svg",23),y._UZ(37,"path",24),y.qZA()()(),y.kcU(),y.TgZ(38,"div",19)(39,"p",25),y._uU(40,"sub"),y.qZA(),y.TgZ(41,"div",20)(42,"p",10),y._uU(43,".vtt"),y.qZA(),y.TgZ(44,"p",11),y._uU(45,"20 MB"),y.qZA()()()()())},styles:[""]}),l})();var Wr=H(2382),Jr=H(8505),ka=H(262),bs=H(520),Ss=H(7579);let Qi=(()=>{class l{constructor(){this.voluntaryOffline=!1,this.networkOffline=!1,this.changes=new Ss.x,this.networkOffline=!navigator.onLine,Er(window,"online").subscribe(()=>{this.networkOffline=!1,this.changes.next()}),Er(window,"offline").subscribe(()=>{this.networkOffline=!0,this.changes.next()})}setVoluntaryOffline(t){this.voluntaryOffline=t,this.changes.next()}isVoluntaryOffline(){return!this.networkOffline&&this.voluntaryOffline}isOffline(){return this.voluntaryOffline||this.networkOffline}isOnline(){return!this.isOffline()}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})(),Ur=(()=>{class l{constructor(t,r){this.http=t,this.syncService=r}getStorage(){return localStorage}login(t,r,e){return this.http.post(Fn.LOGIN_URL,{username:t,password:r}).pipe((0,Jr.b)(a=>this.setSession(a,e)))}logout(){return this.http.post(Fn.LOGOUT_URL,{},{headers:{Authorization:this.getSessionToken()}}).pipe((0,ka.K)(t=>{throw this.clearStorage(),t}),(0,Jr.b)(()=>this.clearStorage()))}isLoggedIn(){return!this.syncService.isOnline()||this.isOnlineLoggedIn()}isOnlineLoggedIn(){const t=this.getExpiration();return void 0!==t&&(-1===t||Math.floor((new Date).getTime()/1e3)<t)}setSession(t,r){localStorage.setItem("staySignedin",r?"1":"0"),this.getStorage().setItem("session_token",t.session_token),this.getStorage().setItem("session_expires",JSON.stringify(t.expires))}getExpiration(){const t=this.getStorage().getItem("session_expires");if(null!==t)return JSON.parse(t)}getStaySignedin(){return"1"===localStorage.getItem("staySignedin")}getSessionToken(){const t=this.getStorage().getItem("session_token");return null===t?"":t}unload(){this.getStaySignedin()||!this.isOnlineLoggedIn()||this.logout().subscribe()}clearStorage(){this.getStorage().removeItem("session_token"),this.getStorage().removeItem("session_expires"),localStorage.removeItem("staySignedin")}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(bs.eN),y.LFG(Qi))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();function Bo(l,n){1&l&&(y.TgZ(0,"span",3),y._uU(1," Syncwatch "),y.qZA())}let Es=(()=>{class l{constructor(){this.text=!0}ngOnInit(){}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-logo"]],inputs:{text:"text"},decls:3,vars:1,consts:[[1,"logo-container","flex","items-center","justify-center","mx-2"],["src","assets/icons/icon-512x512.png",1,"logo-image"],["class","logo-text ml-4 text-white",4,"ngIf"],[1,"logo-text","ml-4","text-white"]],template:function(t,r){1&t&&(y.TgZ(0,"div",0),y._UZ(1,"img",1),y.YNc(2,Bo,2,0,"span",2),y.qZA()),2&t&&(y.xp6(2),y.Q6J("ngIf",r.text))},directives:[T.O5],styles:[".logo-image[_ngcontent-%COMP%]{height:2.2rem}.logo-text[_ngcontent-%COMP%]{font-weight:700;font-size:2rem}.logo-lg[_nghost-%COMP%]   .logo-image[_ngcontent-%COMP%]{height:4rem}.logo-lg[_nghost-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-weight:700;font-size:3rem}"]}),l})(),lo=(()=>{class l{constructor(){}ngOnInit(){}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-loading-spinner"]],decls:3,vars:0,consts:[["role","status","viewBox","0 0 100 101","fill","none","xmlns","http://www.w3.org/2000/svg",1,"inline","w-4","h-4","mr-3","text-white","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","#E5E7EB"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentColor"]],template:function(t,r){1&t&&(y.O4$(),y.TgZ(0,"svg",0),y._UZ(1,"path",1)(2,"path",2),y.qZA())},styles:[""]}),l})();function fa(l,n){1&l&&y._UZ(0,"app-loading-spinner")}function Uo(l,n){if(1&l&&(y.TgZ(0,"div",18),y._uU(1),y.qZA()),2&l){const t=y.oxw();y.xp6(1),y.Oqu(t.errorMessage)}}let ha=(()=>{class l{constructor(t,r,e,a){this.authService=t,this.router=r,this.syncService=e,this.ref=a,this.errorMessage="",this.loading=!1,this.loginForm=new Wr.cw({username:new Wr.NI("",Wr.kI.required),password:new Wr.NI("",Wr.kI.required),staySignedin:new Wr.NI(!1)})}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}ngOnInit(){(this.authService.isLoggedIn()||!this.syncService.isOnline())&&this.router.navigate(["home"])}useOffline(){this.syncService.setVoluntaryOffline(!0),this.router.navigate(["home"])}login(){this.loginForm.markAllAsTouched();const t=this.loginForm.value;this.loginForm.invalid||(this.loading=!0,this.authService.login(t.username,t.password,t.staySignedin).subscribe({next:()=>{this.router.navigate(["home"])},error:r=>{this.errorMessage=r&&r.error&&r.error.detail?r.error.detail:"Unknown Error",this.loading=!1,this.ref.detectChanges()}}))}}return l.\u0275fac=function(t){return new(t||l)(y.Y36(Ur),y.Y36(cn.F0),y.Y36(Qi),y.Y36(y.sBO))},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-login"]],decls:28,vars:9,consts:[[1,"hero","h-full","bg-base-200"],[1,"hero-content","flex-col","lg:flex-row-reverse","lg:gap-12"],[1,"logo-lg"],[1,"card","flex-shrink-0","w-full","max-w-sm","shadow-2xl","bg-base-100"],[1,"card-body",3,"formGroup","submit"],[1,"form-control"],[1,"label"],[1,"label-text"],["type","text","id","username","formControlName","username","autofocus","",1,"input","input-bordered"],["type","password","id","password","formControlName","password",1,"input","input-bordered"],[1,"form-control","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],[1,"label","cursor-pointer"],["type","checkbox","formControlName","staySignedin",1,"checkbox","checkbox-secondary"],["class","alert alert-error mt-2","role","alert",4,"ngIf"],[1,"form-control","mt-2"],["type","button",1,"btn",3,"disabled","click"],["role","alert",1,"alert","alert-error","mt-2"]],template:function(t,r){1&t&&(y.TgZ(0,"div",0)(1,"div",1),y._UZ(2,"app-logo",2),y.TgZ(3,"div",3)(4,"form",4),y.NdJ("submit",function(){return r.login()}),y.TgZ(5,"div",5)(6,"label",6)(7,"span",7),y._uU(8,"Username"),y.qZA()(),y._UZ(9,"input",8),y.qZA(),y.TgZ(10,"div",5)(11,"label",6)(12,"span",7),y._uU(13,"Password"),y.qZA()(),y._UZ(14,"input",9),y.qZA(),y.TgZ(15,"div",10)(16,"button",11),y.YNc(17,fa,1,0,"app-loading-spinner",12),y._uU(18," Login "),y.qZA()(),y.TgZ(19,"div",5)(20,"label",13)(21,"span",7),y._uU(22,"Stay Signed In"),y.qZA(),y._UZ(23,"input",14),y.qZA()(),y.YNc(24,Uo,2,1,"div",15),y.TgZ(25,"div",16)(26,"button",17),y.NdJ("click",function(){return r.useOffline()}),y._uU(27," Use Offline "),y.qZA()()()()()()),2&t&&(y.xp6(4),y.Q6J("formGroup",r.loginForm),y.xp6(5),y.ekj("input-error",r.username.invalid&&(r.username.dirty||r.username.touched)),y.xp6(5),y.ekj("input-error",r.password.invalid&&(r.password.dirty||r.password.touched)),y.xp6(2),y.Q6J("disabled",r.loading),y.xp6(1),y.Q6J("ngIf",r.loading),y.xp6(7),y.Q6J("ngIf",r.errorMessage),y.xp6(2),y.Q6J("disabled",r.loading))},directives:[Es,Wr._Y,Wr.JL,Wr.sg,Wr.Fj,Wr.JJ,Wr.u,T.O5,lo,Wr.Wl],styles:[""],changeDetection:0}),l})();var Zi=H(3900);let pa=(()=>{class l{constructor(t,r){this.http=t,this.authService=r}sessions(){return this.http.get(Fn.SESSIONS_URL,{headers:{Authorization:this.authService.getSessionToken()}}).pipe((0,mt.U)(t=>t.sessions))}deleteSessions(){return this.http.post(Fn.DELETE_SESSIONS_URL,{},{headers:{Authorization:this.authService.getSessionToken()}}).pipe((0,Jr.b)(()=>this.authService.clearStorage()))}deleteSessionById(t,r){let e=this.http.post(Fn.DELETE_SESSIONS_URL,{session_id:t},{headers:{Authorization:this.authService.getSessionToken()}});return r&&(e=e.pipe((0,Jr.b)(()=>this.authService.clearStorage()))),e}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(bs.eN),y.LFG(Ur))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();function Cs(l,n){1&l&&y._UZ(0,"app-loading-spinner")}function cs(l,n){if(1&l){const t=y.EpF();y.TgZ(0,"button",2),y.NdJ("click",function(){return y.CHM(t),y.oxw().logout()}),y.YNc(1,Cs,1,0,"app-loading-spinner",3),y._uU(2," Logout\n"),y.qZA()}if(2&l){const t=y.oxw();y.Q6J("disabled",t.logoutLoading),y.xp6(1),y.Q6J("ngIf",t.logoutLoading)}}function ds(l,n){if(1&l){const t=y.EpF();y.TgZ(0,"button",4),y.NdJ("click",function(){return y.CHM(t),y.oxw().goOnline()}),y._uU(1," Go Online\n"),y.qZA()}if(2&l){const t=y.oxw();y.Q6J("disabled",!t.syncService.isVoluntaryOffline())}}let Ji=(()=>{class l{constructor(t,r,e){this.syncService=t,this.authService=r,this.router=e,this.logoutLoading=!1}ngOnInit(){}logout(){this.logoutLoading=!0,this.authService.logout().subscribe({next:()=>{this.logoutLoading=!1,this.router.navigate(["login"])},error:t=>{this.logoutLoading=!1,this.router.navigate(["login"])}})}goOnline(){this.syncService.setVoluntaryOffline(!1),this.router.navigate(["login"])}}return l.\u0275fac=function(t){return new(t||l)(y.Y36(Qi),y.Y36(Ur),y.Y36(cn.F0))},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-logout-button"]],decls:2,vars:2,consts:[["class","flex items-center btn btn-error",3,"disabled","click",4,"ngIf"],["class","flex items-center btn btn-secondary",3,"disabled","click",4,"ngIf"],[1,"flex","items-center","btn","btn-error",3,"disabled","click"],[4,"ngIf"],[1,"flex","items-center","btn","btn-secondary",3,"disabled","click"]],template:function(t,r){1&t&&(y.YNc(0,cs,3,2,"button",0),y.YNc(1,ds,2,1,"button",1)),2&t&&(y.Q6J("ngIf",r.syncService.isOnline()),y.xp6(1),y.Q6J("ngIf",!r.syncService.isOnline()))},directives:[T.O5,lo],styles:[""]}),l})();function Ds(l,n){1&l&&(y.TgZ(0,"span"),y._uU(1,"(current) "),y.qZA())}function co(l,n){if(1&l){const t=y.EpF();y.TgZ(0,"li"),y.YNc(1,Ds,2,0,"span",4),y._uU(2),y.TgZ(3,"button",0),y.NdJ("click",function(){const a=y.CHM(t).$implicit;return y.oxw(2).deleteSessionById(a.id,a.is_current)}),y._uU(4,"Delete"),y.qZA()()}if(2&l){const t=n.$implicit;y.xp6(1),y.Q6J("ngIf",t.is_current),y.xp6(1),y.hij(" ",t.device_info," ")}}function Vo(l,n){if(1&l&&(y.TgZ(0,"ul"),y.YNc(1,co,5,2,"li",3),y.qZA()),2&l){const t=n.ngIf;y.xp6(1),y.Q6J("ngForOf",t)}}function fo(l,n){1&l&&y._UZ(0,"app-loading-spinner")}let xs=(()=>{class l{constructor(t,r){this.userService=t,this.router=r,this.logoutLoading=!1}ngOnInit(){this.deviceSessions$=this.userService.sessions()}deleteSessions(){this.deviceSessions$=this.userService.deleteSessions().pipe((0,Jr.b)(()=>this.router.navigate(["login"])))}deleteSessionById(t,r){this.deviceSessions$=r?this.userService.deleteSessionById(t,r).pipe((0,Jr.b)(()=>this.router.navigate(["login"]))):this.userService.deleteSessionById(t,r).pipe((0,Zi.w)(()=>this.userService.sessions()))}}return l.\u0275fac=function(t){return new(t||l)(y.Y36(pa),y.Y36(cn.F0))},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-profile"]],decls:11,vars:4,consts:[["type","button",1,"btn","btn-error",3,"click"],[4,"ngIf","ngIfElse"],["loading",""],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,r){if(1&t&&(y.TgZ(0,"div"),y._UZ(1,"app-logout-button"),y.TgZ(2,"h4"),y._uU(3,"Sessions"),y.qZA(),y.TgZ(4,"div")(5,"button",0),y.NdJ("click",function(){return r.deleteSessions()}),y._uU(6,"Delete All Sessions"),y.qZA()(),y.YNc(7,Vo,2,1,"ul",1),y.ALo(8,"async"),y.YNc(9,fo,1,0,"ng-template",null,2,y.W1O),y.qZA()),2&t){const e=y.MAs(10);y.xp6(7),y.Q6J("ngIf",y.lcZ(8,2,r.deviceSessions$))("ngIfElse",e)}},directives:[Ji,T.O5,T.sg,lo],pipes:[T.Ov],styles:[""]}),l})(),yi=(()=>{class l{constructor(t,r){this.authService=t,this.router=r}canActivate(){return this.authService.isLoggedIn()||this.router.createUrlTree(["login"])}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(Ur),y.LFG(cn.F0))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})(),Na=(()=>{class l{constructor(t,r){this.syncService=t,this.router=r}canActivate(){return this.syncService.isOnline()||this.router.createUrlTree(["home"])}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(Qi),y.LFG(cn.F0))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})(),_i=(()=>{class l{constructor(t){this.displayService=t}canActivate(){return this.displayService.exitFullscreen(),!0}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(Ra))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})();var ws=H(1135),$r=H(2076);let xi=(()=>{class l{constructor(t,r,e,a){this.http=t,this.authService=r,this.storageService=e,this.syncService=a,this.targetChunkRequestTime=1e3,this.downloadChunkSize=5e5,this.evaluatingChunkSize=!1,this.downloadSpeed=new ws.X(0),this.movieDownloads={},this.stopDownloads={}}_getMovieUrl(t){return`${Fn.MOVIE_URL}?id=${t}`}_getMovieStreamUrl(t){return`${Fn.MOVIE_STREAM_URL}?id=${t}&token=${this.authService.getSessionToken()}`}_getThumbnailUrl(t){return`${Fn.THUMBNAIL_URL}?id=${t}&token=${this.authService.getSessionToken()}`}getMovieById(t){var r=this;return pn(function*(){const e=yield r.storageService.getMovie(t);if(r.syncService.isOffline())return e;const a=yield Bn(r.http.get(r._getMovieUrl(t),{headers:{Authorization:r.authService.getSessionToken()}}).pipe((0,mt.U)(u=>(u.movie.downloaded_length=0,u.movie)),(0,ka.K)(()=>(0,sr.of)(e))));return void 0!==e?(console.log(e.hash==(null==a?void 0:a.hash)),e):a})()}getMovies(){return this.syncService.isOffline()?(0,$r.D)(this.storageService.getMovies()):this.http.get(Fn.MOVIES_URL,{headers:{Authorization:this.authService.getSessionToken()}}).pipe((0,mt.U)(t=>t.movies),(0,ka.K)(()=>(0,$r.D)(this.storageService.getMovies())))}_getMovieDownloadProgress(t){return t in this.movieDownloads||(this.movieDownloads[t]=new ws.X({downloaded:0,downloading:!1,deleting:!1}),this.storageService.getMovie(t).then(r=>{void 0!==r&&this.movieDownloads[t].next({downloaded:r.downloaded_length/r.content_length,downloading:!1,deleting:!1})})),this.movieDownloads[t]}getMovieDownloadProgress(t){return this._getMovieDownloadProgress(t)}deleteMovieDownload(t){var r=this;return pn(function*(){const e=yield r.getMovieById(t);if(void 0===e)return;const a=r._getMovieDownloadProgress(e.id),u=yield Bn(a);u.deleting||u.downloading||(a.next({deleting:!0,downloading:!1,downloaded:u.downloaded}),yield r.storageService.deleteMovieAndFragments(e.id),a.next({deleting:!1,downloading:!1,downloaded:0}))})()}triggerMovieDownload(t){var r=this;return pn(function*(){const e=yield r.getMovieById(t);if(void 0===e)return;const a=r._getMovieDownloadProgress(e.id),u=yield Bn(a);if(!u.deleting){if(u.downloading)return void(e.id in r.stopDownloads||(r.stopDownloads[e.id]=!0,a.next({downloaded:u.downloaded,downloading:!1,deleting:u.deleting})));e.thumbnail_id&&0===e.downloaded_length&&(a.next({downloaded:0,downloading:!0,deleting:!1}),r._downloadThumbnail(e.thumbnail_id)),r._downloadMovieChunk(e,a)}})()}_downloadMovieChunk(t,r){var e=this;if(t.content_length&&t.downloaded_length>=t.content_length)return void r.next({downloaded:1,downloading:!1,deleting:!1});if(t.id in this.stopDownloads)return Bn(r).then(u=>{r.next({downloaded:u.downloaded,downloading:!1,deleting:u.deleting})}),void delete this.stopDownloads[t.id];let a;this.evaluatingChunkSize||(this.evaluatingChunkSize=!0,a=Date.now()),this.http.get(this._getMovieStreamUrl(t.id),{responseType:"blob",observe:"response",headers:{Range:`bytes=${t.downloaded_length}-${t.downloaded_length+this.downloadChunkSize}`}}).subscribe(function(){var u=pn(function*(d){if(null!==d.body){if(void 0!==a){const p=Date.now()-a,g=Math.min(1.5,Math.max(.75,e.targetChunkRequestTime/Math.max(1,p)));e.downloadChunkSize=Math.min(Number.MAX_SAFE_INTEGER,Math.floor(e.downloadChunkSize*g)),e.downloadSpeed.next(1e3*e.downloadChunkSize/e.targetChunkRequestTime),e.evaluatingChunkSize=!1}d.body.arrayBuffer().then(function(){var p=pn(function*(g){const E=d.headers.get("Content-Type");void 0===t.mime_type&&E&&(t.mime_type=E);const N=d.headers.get("Content-Range");void 0===t.content_length&&N&&(t.content_length=+N.substring(N.lastIndexOf("/")+1));const O=d.headers.get("Content-Length");null!==O&&(yield e.storageService.putMovieFragment({movie_id:t.id,data:g,start:t.downloaded_length,end:t.downloaded_length+Number(O)}),t.downloaded_length+=Number(O),yield e.storageService.putMovie(t),r.next({downloaded:t.downloaded_length/t.content_length,downloading:!0,deleting:!1}),e._downloadMovieChunk(t,r))});return function(g){return p.apply(this,arguments)}}())}});return function(d){return u.apply(this,arguments)}}())}getMovieSources(t){var r=this;return pn(function*(){const e=yield r.getMovieById(t);return void 0===e?[]:[{src:r._getMovieStreamUrl(t),type:e.mime_type}]})()}_downloadThumbnail(t){var r=this;this.http.get(this._getThumbnailUrl(t),{responseType:"blob"}).subscribe(function(){var e=pn(function*(a){yield r.storageService.putThumbnail({id:t,blob:a})});return function(a){return e.apply(this,arguments)}}())}getMovieThumbnailSource(t){var r=this;return pn(function*(){return null===t?"/assets/default-thumbnail.svg":r._getThumbnailUrl(t)})()}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(bs.eN),y.LFG(Ur),y.LFG(On),y.LFG(Qi))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();function Li(l,n){1&l&&(y.ynx(0),y._uU(1," Deleting... "),y.BQk())}function La(l,n){if(1&l){const t=y.EpF();y.TgZ(0,"button",4),y.NdJ("click",function(){return y.CHM(t),y.oxw(3).triggerDownload()}),y._uU(1," Download "),y.qZA()}}function Ho(l,n){if(1&l){const t=y.EpF();y.TgZ(0,"button",4),y.NdJ("click",function(){return y.CHM(t),y.oxw(3).triggerDownload()}),y._uU(1," Pause "),y.qZA()}}function Fa(l,n){if(1&l){const t=y.EpF();y.TgZ(0,"button",4),y.NdJ("click",function(){return y.CHM(t),y.oxw(3).triggerDownload()}),y._uU(1," Continue "),y.qZA()}}function R(l,n){if(1&l){const t=y.EpF();y.TgZ(0,"button",4),y.NdJ("click",function(){return y.CHM(t),y.oxw(3).deleteDownload()}),y._uU(1," Delete "),y.qZA()}}function $(l,n){if(1&l&&(y.YNc(0,La,2,0,"button",3),y.YNc(1,Ho,2,0,"button",3),y.YNc(2,Fa,2,0,"button",3),y.YNc(3,R,2,0,"button",3)),2&l){const t=y.oxw().ngIf;y.Q6J("ngIf",!t.downloading&&0==t.downloaded),y.xp6(1),y.Q6J("ngIf",t.downloading),y.xp6(1),y.Q6J("ngIf",!t.downloading&&t.downloaded>0&&t.downloaded<1),y.xp6(1),y.Q6J("ngIf",!t.downloading&&t.downloaded>0)}}function L(l,n){if(1&l&&(y.TgZ(0,"div"),y._uU(1),y.ALo(2,"json"),y.ALo(3,"async"),y.YNc(4,Li,2,0,"ng-container",1),y.YNc(5,$,4,4,"ng-template",null,2,y.W1O),y.qZA()),2&l){const t=n.ngIf,r=y.MAs(6),e=y.oxw();y.xp6(1),y.AsE(" ",y.lcZ(2,4,t)," Speed: ",y.lcZ(3,6,e.downloadSpeed$)," "),y.xp6(3),y.Q6J("ngIf",t.deleting)("ngIfElse",r)}}let q=(()=>{class l{constructor(t,r){this.movieService=t,this.storageService=r}ngOnInit(){this.downloadProgress$=this.movieService.getMovieDownloadProgress(this.movieId),this.downloadSpeed$=this.movieService.downloadSpeed.pipe((0,mt.U)(t=>this.storageService.bytesToReadable(t)+" / s"))}triggerDownload(){this.movieService.triggerMovieDownload(this.movieId)}deleteDownload(){this.movieService.deleteMovieDownload(this.movieId)}}return l.\u0275fac=function(t){return new(t||l)(y.Y36(xi),y.Y36(On))},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-download-button"]],inputs:{movieId:"movieId"},decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["download",""],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(y.YNc(0,L,7,8,"div",0),y.ALo(1,"async")),2&t&&y.Q6J("ngIf",y.lcZ(1,1,r.downloadProgress$))},directives:[T.O5],pipes:[T.Ov,T.Ts],styles:[""],changeDetection:0}),l})();function le(l,n){if(1&l&&(y.TgZ(0,"div",1),y._UZ(1,"img",2),y.TgZ(2,"div",3)(3,"h5",4),y._uU(4),y.qZA(),y.TgZ(5,"p"),y._uU(6),y.qZA(),y._UZ(7,"app-download-button",5),y.TgZ(8,"a",6),y._uU(9,"Watch"),y.qZA()()()),2&l){const t=y.oxw();y.xp6(1),y.Q6J("src",t.thumbnailSrc,y.LSH),y.xp6(3),y.Oqu(t.movie.title),y.xp6(2),y.Oqu(t.readableSize()),y.xp6(1),y.Q6J("movieId",t.movie.id),y.xp6(1),y.Q6J("routerLink",t.watchRouterLink)}}let Xe=(()=>{class l{constructor(t,r,e){this.ref=t,this.movieService=r,this.storageService=e,this.thumbnailSrc="/assets/default-thumbnail.svg"}ngOnInit(){this.movieService.getMovieThumbnailSource(this.movie.thumbnail_id).then(t=>{this.thumbnailSrc=t,this.ref.detectChanges()})}readableSize(){return this.storageService.bytesToReadable(this.movie.file_size)}}return l.\u0275fac=function(t){return new(t||l)(y.Y36(y.sBO),y.Y36(xi),y.Y36(On))},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-movie-preview"]],inputs:{movie:"movie",watchRouterLink:"watchRouterLink"},decls:1,vars:1,consts:[["class","card text-white bg-secondary","style","width: 18rem;",4,"ngIf"],[1,"card","text-white","bg-secondary",2,"width","18rem"],[1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[3,"movieId"],[3,"routerLink"]],template:function(t,r){1&t&&y.YNc(0,le,10,5,"div",0),2&t&&y.Q6J("ngIf",r.movie.id)},directives:[T.O5,q,cn.yS],styles:[""]}),l})();const ht=function(l){return["../watch",l]};function It(l,n){if(1&l&&y._UZ(0,"app-movie-preview",6),2&l){const t=n.$implicit;y.Q6J("movie",t)("watchRouterLink",y.VKq(2,ht,t.id))}}function Wn(l,n){if(1&l&&(y.TgZ(0,"div",4),y.YNc(1,It,1,4,"app-movie-preview",5),y.qZA()),2&l){const t=n.ngIf;y.xp6(1),y.Q6J("ngForOf",t)}}function Vn(l,n){1&l&&y._UZ(0,"div",7)}let Cn=(()=>{class l{constructor(t,r,e){this.ref=t,this.movieService=r,this.syncService=e}ngOnInit(){this.allMovies$=this.movieService.getMovies(),this.onlineSubscription=this.syncService.changes.subscribe(()=>{this.allMovies$=this.movieService.getMovies(),this.ref.detectChanges()})}ngOnDestroy(){this.onlineSubscription&&this.onlineSubscription.unsubscribe()}}return l.\u0275fac=function(t){return new(t||l)(y.Y36(y.sBO),y.Y36(xi),y.Y36(Qi))},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-overview"]],decls:6,vars:4,consts:[[1,"m-safe-x"],[1,"bg-light",2,"height","100px"],["class","card-group",4,"ngIf","ngIfElse"],["loading",""],[1,"card-group"],[3,"movie","watchRouterLink",4,"ngFor","ngForOf"],[3,"movie","watchRouterLink"],["role","status",1,"spinner-border"]],template:function(t,r){if(1&t&&(y.TgZ(0,"div",0)(1,"div",1),y.YNc(2,Wn,2,1,"div",2),y.ALo(3,"async"),y.YNc(4,Vn,1,0,"ng-template",null,3,y.W1O),y.qZA()()),2&t){const e=y.MAs(5);y.xp6(2),y.Q6J("ngIf",y.lcZ(3,2,r.allMovies$))("ngIfElse",e)}},directives:[T.O5,T.sg,Xe],pipes:[T.Ov],styles:[""],changeDetection:0}),l})();var nn=H(9226),oe=H.n(nn),$n=H(1421),at=H.n($n);function kn(){return kn=Object.assign||function(l){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(l[r]=t[r])}return l},kn.apply(this,arguments)}var Fi=H(1234),Qt=H.n(Fi);function Kt(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function ai(l,n){return(ai=Object.setPrototypeOf||function(r,e){return r.__proto__=e,r})(l,n)}function Dt(l,n){l.prototype=Object.create(n.prototype),l.prototype.constructor=l,ai(l,n)}var Us=H(8099),k=H.n(Us),I=H(745),M=H.n(I),X=H(3629),Je=H.n(X);function Ht(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(l){return!1}}function Zn(l,n,t){return(Zn=Ht()?Reflect.construct:function(e,a,u){var d=[null];d.push.apply(d,a);var g=new(Function.bind.apply(e,d));return u&&ai(g,u.prototype),g}).apply(null,arguments)}var lt=H(3871),dn=H.n(lt),es="http://example.com";const Ba=function(n,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(n)&&(n=oe().location&&oe().location.href||"");var r="function"==typeof oe().URL,e=/^\/\//.test(n),a=!oe().location&&!/\/\//i.test(n);if(r?n=new(oe().URL)(n,oe().location||es):/\/\//i.test(n)||(n=dn().buildAbsoluteURL(oe().location&&oe().location.href||"",n)),r){var u=new URL(t,n);return a?u.href.slice(es.length):e?u.href.slice(u.protocol.length):u.href}return dn().buildAbsoluteURL(n,t)};var Ua=function(){function l(){this.listeners={}}var n=l.prototype;return n.on=function(r,e){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(e)},n.off=function(r,e){if(!this.listeners[r])return!1;var a=this.listeners[r].indexOf(e);return this.listeners[r]=this.listeners[r].slice(0),this.listeners[r].splice(a,1),a>-1},n.trigger=function(r){var e=this.listeners[r];if(e)if(2===arguments.length)for(var a=e.length,u=0;u<a;++u)e[u].call(this,arguments[1]);else for(var d=Array.prototype.slice.call(arguments,1),p=e.length,g=0;g<p;++g)e[g].apply(this,d)},n.dispose=function(){this.listeners={}},n.pipe=function(r){this.on("data",function(e){r.push(e)})},l}();function xu(l){for(var n=function(n){return oe().atob?oe().atob(n):Buffer.from(n,"base64").toString("binary")}(l),t=new Uint8Array(n.length),r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}
/*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */var mh,l,zl=function(l){function n(){var r;return(r=l.call(this)||this).buffer="",r}return Dt(n,l),n.prototype.push=function(e){var a;for(this.buffer+=e,a=this.buffer.indexOf("\n");a>-1;a=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,a)),this.buffer=this.buffer.substring(a+1)},n}(Ua),Fg=String.fromCharCode(9),Kl=function(n){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(n||""),r={};return t[1]&&(r.length=parseInt(t[1],10)),t[2]&&(r.offset=parseInt(t[2],10)),r},Ti=function(n){for(var a,t=n.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),r={},e=t.length;e--;)""!==t[e]&&((a=/([^=]*)=(.*)/.exec(t[e]).slice(1))[0]=a[0].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^\s+|\s+$/g,""),a[1]=a[1].replace(/^['"](.*)['"]$/g,"$1"),r[a[0]]=a[1]);return r},bi=function(l){function n(){var r;return(r=l.call(this)||this).customParsers=[],r.tagMappers=[],r}Dt(n,l);var t=n.prototype;return t.push=function(e){var u,d,a=this;if(0!==(e=e.trim()).length){if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});this.tagMappers.reduce(function(g,E){var N=E(e);return N===e?g:g.concat([N])},[e]).forEach(function(g){for(var E=0;E<a.customParsers.length;E++)if(a.customParsers[E].call(a,g))return;if(0===g.indexOf("#EXT"))if(g=g.replace("\r",""),u=/^#EXTM3U/.exec(g))a.trigger("data",{type:"tag",tagType:"m3u"});else{if(u=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(g))return d={type:"tag",tagType:"inf"},u[1]&&(d.duration=parseFloat(u[1])),u[2]&&(d.title=u[2]),void a.trigger("data",d);if(u=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(g))return d={type:"tag",tagType:"targetduration"},u[1]&&(d.duration=parseInt(u[1],10)),void a.trigger("data",d);if(u=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(g))return d={type:"tag",tagType:"version"},u[1]&&(d.version=parseInt(u[1],10)),void a.trigger("data",d);if(u=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(g))return d={type:"tag",tagType:"media-sequence"},u[1]&&(d.number=parseInt(u[1],10)),void a.trigger("data",d);if(u=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(g))return d={type:"tag",tagType:"discontinuity-sequence"},u[1]&&(d.number=parseInt(u[1],10)),void a.trigger("data",d);if(u=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(g))return d={type:"tag",tagType:"playlist-type"},u[1]&&(d.playlistType=u[1]),void a.trigger("data",d);if(u=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(g))return d=kn(Kl(u[1]),{type:"tag",tagType:"byterange"}),void a.trigger("data",d);if(u=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(g))return d={type:"tag",tagType:"allow-cache"},u[1]&&(d.allowed=!/NO/.test(u[1])),void a.trigger("data",d);if(u=/^#EXT-X-MAP:?(.*)$/.exec(g)){if(d={type:"tag",tagType:"map"},u[1]){var N=Ti(u[1]);N.URI&&(d.uri=N.URI),N.BYTERANGE&&(d.byterange=Kl(N.BYTERANGE))}a.trigger("data",d)}else if(u=/^#EXT-X-STREAM-INF:?(.*)$/.exec(g)){if(d={type:"tag",tagType:"stream-inf"},u[1]){if(d.attributes=Ti(u[1]),d.attributes.RESOLUTION){var O=d.attributes.RESOLUTION.split("x"),W={};O[0]&&(W.width=parseInt(O[0],10)),O[1]&&(W.height=parseInt(O[1],10)),d.attributes.RESOLUTION=W}d.attributes.BANDWIDTH&&(d.attributes.BANDWIDTH=parseInt(d.attributes.BANDWIDTH,10)),d.attributes["PROGRAM-ID"]&&(d.attributes["PROGRAM-ID"]=parseInt(d.attributes["PROGRAM-ID"],10))}a.trigger("data",d)}else{if(u=/^#EXT-X-MEDIA:?(.*)$/.exec(g))return d={type:"tag",tagType:"media"},u[1]&&(d.attributes=Ti(u[1])),void a.trigger("data",d);if(u=/^#EXT-X-ENDLIST/.exec(g))a.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(u=/^#EXT-X-DISCONTINUITY/.exec(g)))return(u=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(g))?(d={type:"tag",tagType:"program-date-time"},u[1]&&(d.dateTimeString=u[1],d.dateTimeObject=new Date(u[1])),void a.trigger("data",d)):(u=/^#EXT-X-KEY:?(.*)$/.exec(g))?(d={type:"tag",tagType:"key"},u[1]&&(d.attributes=Ti(u[1]),d.attributes.IV&&("0x"===d.attributes.IV.substring(0,2).toLowerCase()&&(d.attributes.IV=d.attributes.IV.substring(2)),d.attributes.IV=d.attributes.IV.match(/.{8}/g),d.attributes.IV[0]=parseInt(d.attributes.IV[0],16),d.attributes.IV[1]=parseInt(d.attributes.IV[1],16),d.attributes.IV[2]=parseInt(d.attributes.IV[2],16),d.attributes.IV[3]=parseInt(d.attributes.IV[3],16),d.attributes.IV=new Uint32Array(d.attributes.IV))),void a.trigger("data",d)):(u=/^#EXT-X-START:?(.*)$/.exec(g))?(d={type:"tag",tagType:"start"},u[1]&&(d.attributes=Ti(u[1]),d.attributes["TIME-OFFSET"]=parseFloat(d.attributes["TIME-OFFSET"]),d.attributes.PRECISE=/YES/.test(d.attributes.PRECISE)),void a.trigger("data",d)):(u=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(g))?((d={type:"tag",tagType:"cue-out-cont"}).data=u[1]?u[1]:"",void a.trigger("data",d)):(u=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(g))?((d={type:"tag",tagType:"cue-out"}).data=u[1]?u[1]:"",void a.trigger("data",d)):(u=/^#EXT-X-CUE-IN:?(.*)?$/.exec(g))?((d={type:"tag",tagType:"cue-in"}).data=u[1]?u[1]:"",void a.trigger("data",d)):(u=/^#EXT-X-SKIP:(.*)$/.exec(g))&&u[1]?((d={type:"tag",tagType:"skip"}).attributes=Ti(u[1]),d.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(d.attributes["SKIPPED-SEGMENTS"]=parseInt(d.attributes["SKIPPED-SEGMENTS"],10)),d.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(d.attributes["RECENTLY-REMOVED-DATERANGES"]=d.attributes["RECENTLY-REMOVED-DATERANGES"].split(Fg)),void a.trigger("data",d)):(u=/^#EXT-X-PART:(.*)$/.exec(g))&&u[1]?((d={type:"tag",tagType:"part"}).attributes=Ti(u[1]),["DURATION"].forEach(function(J){d.attributes.hasOwnProperty(J)&&(d.attributes[J]=parseFloat(d.attributes[J]))}),["INDEPENDENT","GAP"].forEach(function(J){d.attributes.hasOwnProperty(J)&&(d.attributes[J]=/YES/.test(d.attributes[J]))}),d.attributes.hasOwnProperty("BYTERANGE")&&(d.attributes.byterange=Kl(d.attributes.BYTERANGE)),void a.trigger("data",d)):(u=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(g))&&u[1]?((d={type:"tag",tagType:"server-control"}).attributes=Ti(u[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(J){d.attributes.hasOwnProperty(J)&&(d.attributes[J]=parseFloat(d.attributes[J]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(J){d.attributes.hasOwnProperty(J)&&(d.attributes[J]=/YES/.test(d.attributes[J]))}),void a.trigger("data",d)):(u=/^#EXT-X-PART-INF:(.*)$/.exec(g))&&u[1]?((d={type:"tag",tagType:"part-inf"}).attributes=Ti(u[1]),["PART-TARGET"].forEach(function(J){d.attributes.hasOwnProperty(J)&&(d.attributes[J]=parseFloat(d.attributes[J]))}),void a.trigger("data",d)):(u=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(g))&&u[1]?((d={type:"tag",tagType:"preload-hint"}).attributes=Ti(u[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(J){if(d.attributes.hasOwnProperty(J)){d.attributes[J]=parseInt(d.attributes[J],10);var Y="BYTERANGE-LENGTH"===J?"length":"offset";d.attributes.byterange=d.attributes.byterange||{},d.attributes.byterange[Y]=d.attributes[J],delete d.attributes[J]}}),void a.trigger("data",d)):(u=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(g))&&u[1]?((d={type:"tag",tagType:"rendition-report"}).attributes=Ti(u[1]),["LAST-MSN","LAST-PART"].forEach(function(J){d.attributes.hasOwnProperty(J)&&(d.attributes[J]=parseInt(d.attributes[J],10))}),void a.trigger("data",d)):void a.trigger("data",{type:"tag",data:g.slice(4)});a.trigger("data",{type:"tag",tagType:"discontinuity"})}}}else a.trigger("data",{type:"comment",text:g.slice(1)})})}},t.addParser=function(e){var a=this,u=e.expression,d=e.customType,p=e.dataParser,g=e.segment;"function"!=typeof p&&(p=function(N){return N}),this.customParsers.push(function(E){if(u.exec(E))return a.trigger("data",{type:"custom",data:p(E),customType:d,segment:g}),!0})},t.addTagMapper=function(e){var a=e.expression,u=e.map;this.tagMappers.push(function(g){return a.test(g)?u(g):g})},n}(Ua),Va=function(n){var t={};return Object.keys(n).forEach(function(r){t[function(n){return n.toLowerCase().replace(/-(\w)/g,function(t){return t[1].toUpperCase()})}(r)]=n[r]}),t},ga=function(n){var t=n.serverControl,r=n.targetDuration,e=n.partTargetDuration;if(t){var a="#EXT-X-SERVER-CONTROL",u="holdBack",d="partHoldBack",p=r&&3*r,g=e&&2*e;r&&!t.hasOwnProperty(u)&&(t[u]=p,this.trigger("info",{message:a+" defaulting HOLD-BACK to targetDuration * 3 ("+p+")."})),p&&t[u]<p&&(this.trigger("warn",{message:a+" clamping HOLD-BACK ("+t[u]+") to targetDuration * 3 ("+p+")"}),t[u]=p),e&&!t.hasOwnProperty(d)&&(t[d]=3*e,this.trigger("info",{message:a+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+t[d]+")."})),e&&t[d]<g&&(this.trigger("warn",{message:a+" clamping PART-HOLD-BACK ("+t[d]+") to partTargetDuration * 2 ("+g+")."}),t[d]=g)}},Hs=function(l){function n(){var r;(r=l.call(this)||this).lineStream=new zl,r.parseStream=new bi,r.lineStream.pipe(r.parseStream);var d,p,e=Kt(r),a=[],u={},g=!1,E=function(){},N={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},W=0;r.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var J=0,Y=0;return r.on("end",function(){u.uri||!u.parts&&!u.preloadHints||(!u.map&&d&&(u.map=d),!u.key&&p&&(u.key=p),!u.timeline&&"number"==typeof W&&(u.timeline=W),r.manifest.preloadSegment=u)}),r.parseStream.on("data",function(Q){var Pe,ke;({tag:function(){({version:function(){Q.version&&(this.manifest.version=Q.version)},"allow-cache":function(){this.manifest.allowCache=Q.allowed,"allowed"in Q||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var Qe={};"length"in Q&&(u.byterange=Qe,Qe.length=Q.length,"offset"in Q||(Q.offset=J)),"offset"in Q&&(u.byterange=Qe,Qe.offset=Q.offset),J=Qe.offset+Qe.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),Q.duration>0&&(u.duration=Q.duration),0===Q.duration&&(u.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=a},key:function(){if(Q.attributes)if("NONE"!==Q.attributes.METHOD)if(Q.attributes.URI){if("com.apple.streamingkeydelivery"===Q.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:Q.attributes});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===Q.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(Q.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===Q.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==Q.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):Q.attributes.KEYID&&"0x"===Q.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:Q.attributes.KEYFORMAT,keyId:Q.attributes.KEYID.substring(2)},pssh:xu(Q.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));Q.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),p={method:Q.attributes.METHOD||"AES-128",uri:Q.attributes.URI},void 0!==Q.attributes.IV&&(p.iv=Q.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else p=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(Q.number)?this.manifest.mediaSequence=Q.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+Q.number})},"discontinuity-sequence":function(){isFinite(Q.number)?(this.manifest.discontinuitySequence=Q.number,W=Q.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+Q.number})},"playlist-type":function(){/VOD|EVENT/.test(Q.playlistType)?this.manifest.playlistType=Q.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+Q.playlist})},map:function(){d={},Q.uri&&(d.uri=Q.uri),Q.byterange&&(d.byterange=Q.byterange),p&&(d.key=p)},"stream-inf":function(){this.manifest.playlists=a,this.manifest.mediaGroups=this.manifest.mediaGroups||N,Q.attributes?(u.attributes||(u.attributes={}),kn(u.attributes,Q.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||N,Q.attributes&&Q.attributes.TYPE&&Q.attributes["GROUP-ID"]&&Q.attributes.NAME){var Qe=this.manifest.mediaGroups[Q.attributes.TYPE];Qe[Q.attributes["GROUP-ID"]]=Qe[Q.attributes["GROUP-ID"]]||{},Pe=Qe[Q.attributes["GROUP-ID"]],(ke={default:/yes/i.test(Q.attributes.DEFAULT)}).autoselect=!!ke.default||/yes/i.test(Q.attributes.AUTOSELECT),Q.attributes.LANGUAGE&&(ke.language=Q.attributes.LANGUAGE),Q.attributes.URI&&(ke.uri=Q.attributes.URI),Q.attributes["INSTREAM-ID"]&&(ke.instreamId=Q.attributes["INSTREAM-ID"]),Q.attributes.CHARACTERISTICS&&(ke.characteristics=Q.attributes.CHARACTERISTICS),Q.attributes.FORCED&&(ke.forced=/yes/i.test(Q.attributes.FORCED)),Pe[Q.attributes.NAME]=ke}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){W+=1,u.discontinuity=!0,this.manifest.discontinuityStarts.push(a.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=Q.dateTimeString,this.manifest.dateTimeObject=Q.dateTimeObject),u.dateTimeString=Q.dateTimeString,u.dateTimeObject=Q.dateTimeObject},targetduration:function(){!isFinite(Q.duration)||Q.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+Q.duration}):(this.manifest.targetDuration=Q.duration,ga.call(this,this.manifest))},start:function(){Q.attributes&&!isNaN(Q.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:Q.attributes["TIME-OFFSET"],precise:Q.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){u.cueOut=Q.data},"cue-out-cont":function(){u.cueOutCont=Q.data},"cue-in":function(){u.cueIn=Q.data},skip:function(){this.manifest.skip=Va(Q.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",Q.attributes,["SKIPPED-SEGMENTS"])},part:function(){var Qe=this;g=!0;var St=this.manifest.segments.length,Ot=Va(Q.attributes);u.parts=u.parts||[],u.parts.push(Ot),Ot.byterange&&(Ot.byterange.hasOwnProperty("offset")||(Ot.byterange.offset=Y),Y=Ot.byterange.offset+Ot.byterange.length),this.warnOnMissingAttributes_("#EXT-X-PART #"+(u.parts.length-1)+" for segment #"+St,Q.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(Lt,kt){Lt.hasOwnProperty("lastPart")||Qe.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+kt+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var Qe=this.manifest.serverControl=Va(Q.attributes);Qe.hasOwnProperty("canBlockReload")||(Qe.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),ga.call(this,this.manifest),Qe.canSkipDateranges&&!Qe.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var Qe=this.manifest.segments.length,St=Va(Q.attributes),Ot=St.type&&"PART"===St.type;u.preloadHints=u.preloadHints||[],u.preloadHints.push(St),St.byterange&&(St.byterange.hasOwnProperty("offset")||(St.byterange.offset=Ot?Y:0,Ot&&(Y=St.byterange.offset+St.byterange.length)));var ct=u.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+ct+" for segment #"+Qe,Q.attributes,["TYPE","URI"]),St.type)for(var Lt=0;Lt<u.preloadHints.length-1;Lt++){var kt=u.preloadHints[Lt];!kt.type||kt.type===St.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+ct+" for segment #"+Qe+" has the same TYPE "+St.type+" as preload hint #"+Lt})}},"rendition-report":function(){var Qe=Va(Q.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(Qe);var St=this.manifest.renditionReports.length-1,Ot=["LAST-MSN","URI"];g&&Ot.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+St,Q.attributes,Ot)},"part-inf":function(){this.manifest.partInf=Va(Q.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",Q.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),ga.call(this,this.manifest)}}[Q.tagType]||E).call(e)},uri:function(){u.uri=Q.uri,a.push(u),this.manifest.targetDuration&&!("duration"in u)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),u.duration=this.manifest.targetDuration),p&&(u.key=p),u.timeline=W,d&&(u.map=d),Y=0,u={}},comment:function(){},custom:function(){Q.segment?(u.custom=u.custom||{},u.custom[Q.customType]=Q.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[Q.customType]=Q.data)}})[Q.type].call(e)}),r}Dt(n,l);var t=n.prototype;return t.warnOnMissingAttributes_=function(e,a,u){var d=[];u.forEach(function(p){a.hasOwnProperty(p)||d.push(p)}),d.length&&this.trigger("warn",{message:e+" lacks required attribute(s): "+d.join(", ")})},t.push=function(e){this.lineStream.push(e)},t.end=function(){this.lineStream.push("\n"),this.trigger("end")},t.addParser=function(e){this.parseStream.addParser(e)},t.addTagMapper=function(e){this.parseStream.addTagMapper(e)},n}(Ua),Gs={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},ah=["video","audio","text"],Xl=["Video","Audio","Text"],Au=function(n){return n&&n.replace(/avc1\.(\d+)\.(\d+)/i,function(t,r,e){return"avc1."+("00"+Number(r).toString(16)).slice(-2)+"00"+("00"+Number(e).toString(16)).slice(-2)})},fs=function(n){void 0===n&&(n="");var t=n.split(","),r=[];return t.forEach(function(e){var a;e=e.trim(),ah.forEach(function(u){var d=Gs[u].exec(e.toLowerCase());if(d&&!(d.length<=1)){a=u;var p=e.substring(0,d[1].length),g=e.replace(p,"");r.push({type:p,details:g,mediaType:u})}}),a||r.push({type:e,details:"",mediaType:"unknown"})}),r},Ql=function(n){return void 0===n&&(n=""),Gs.audio.test(n.trim().toLowerCase())},ho=function(n){if(n&&"string"==typeof n){var t=n.toLowerCase().split(",").map(function(a){return Au(a.trim())}),r="video";1===t.length&&Ql(t[0])?r="audio":1===t.length&&function(n){return void 0===n&&(n=""),Gs.text.test(n.trim().toLowerCase())}(t[0])&&(r="application");var e="mp4";return t.every(function(a){return Gs.mp4.test(a)})?e="mp4":t.every(function(a){return Gs.webm.test(a)})?e="webm":t.every(function(a){return Gs.ogg.test(a)})&&(e="ogg"),r+"/"+e+';codecs="'+n+'"'}},Ha=function(n){return void 0===n&&(n=""),oe().MediaSource&&oe().MediaSource.isTypeSupported&&oe().MediaSource.isTypeSupported(ho(n))||!1},Iu=function(n){return void 0===n&&(n=""),n.toLowerCase().split(",").every(function(t){t=t.trim();for(var r=0;r<Xl.length;r++)if(Gs["muxer"+Xl[r]].test(t))return!0;return!1})},Zl="mp4a.40.2",Jl=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,xd=/^application\/dash\+xml/i,oi=function(n){return Jl.test(n)?"hls":xd.test(n)?"dash":"application/vnd.videojs.vhs+json"===n?"vhs-json":null},Tr=H(978),ec=function(n){return!!n&&"object"==typeof n},ui=function l(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.reduce(function(e,a){return"object"!=typeof a||Object.keys(a).forEach(function(u){e[u]=Array.isArray(e[u])&&Array.isArray(a[u])?e[u].concat(a[u]):ec(e[u])&&ec(a[u])?l(e[u],a[u]):a[u]}),e},{})},wd=function(n){return Object.keys(n).map(function(t){return n[t]})},Ou=function(n){return n.reduce(function(t,r){return t.concat(r)},[])},po=function(n){if(!n.length)return[];for(var t=[],r=0;r<n.length;r++)t.push(n[r]);return t},js=function(n,t){for(var r=0;r<n.length;r++)if(t(n[r]))return r;return-1},jo=function(n){var t=n.baseUrl,e=n.source,a=void 0===e?"":e,u=n.range,d=void 0===u?"":u,p=n.indexRange,g=void 0===p?"":p,E={uri:a,resolvedUri:Ba((void 0===t?"":t)||"",a)};if(d||g){var Y,O=(d||g).split("-"),W=oe().BigInt?oe().BigInt(O[0]):parseInt(O[0],10),J=oe().BigInt?oe().BigInt(O[1]):parseInt(O[1],10);W<Number.MAX_SAFE_INTEGER&&"bigint"==typeof W&&(W=Number(W)),J<Number.MAX_SAFE_INTEGER&&"bigint"==typeof J&&(J=Number(J)),"bigint"==typeof(Y="bigint"==typeof J||"bigint"==typeof W?oe().BigInt(J)-oe().BigInt(W)+oe().BigInt(1):J-W+1)&&Y<Number.MAX_SAFE_INTEGER&&(Y=Number(Y)),E.byterange={length:Y,offset:W}}return E},mo=function(n){return n&&"number"!=typeof n&&(n=parseInt(n,10)),isNaN(n)?null:n},Ad={static:function(n){var t=n.duration,r=n.timescale,e=void 0===r?1:r,a=n.sourceDuration,u=n.periodDuration,d=mo(n.endNumber),p=t/e;return"number"==typeof d?{start:0,end:d}:"number"==typeof u?{start:0,end:u/p}:{start:0,end:a/p}},dynamic:function(n){var t=n.NOW,r=n.clientOffset,e=n.availabilityStartTime,a=n.timescale,u=void 0===a?1:a,d=n.duration,p=n.periodStart,g=void 0===p?0:p,E=n.minimumUpdatePeriod,N=void 0===E?0:E,O=n.timeShiftBufferDepth,W=void 0===O?1/0:O,J=mo(n.endNumber),Y=(t+r)/1e3,Q=e+g,je=Math.ceil((Y+N-Q)*u/d),Ze=Math.floor((Y-Q-W)*u/d),Qe=Math.floor((Y-Q)*u/d);return{start:Math.max(0,Ze),end:"number"==typeof J?J:Math.min(je,Qe)}}},$s=function(n){var t=n.type,r=n.duration,e=n.timescale,a=void 0===e?1:e,u=n.periodDuration,d=n.sourceDuration,p=Ad[t](n),N=function(n,t){for(var r=[],e=n;e<t;e++)r.push(e);return r}(p.start,p.end).map(function(n){return function(t){var r=n.duration,e=n.timescale,d=n.startNumber;return{number:(void 0===d?1:d)+t,duration:r/(void 0===e?1:e),timeline:n.periodStart,time:t*r}}}(n));if("static"===t){var O=N.length-1;N[O].duration=("number"==typeof u?u:d)-r/a*O}return N},tc=function(n){var t=n.baseUrl,r=n.initialization,e=void 0===r?{}:r,a=n.sourceDuration,u=n.indexRange,d=void 0===u?"":u,p=n.periodStart,g=n.presentationTime,E=n.number,N=void 0===E?0:E,O=n.duration;if(!t)throw new Error("NO_BASE_URL");var W=jo({baseUrl:t,source:e.sourceURL,range:e.range}),J=jo({baseUrl:t,source:t,indexRange:d});if(J.map=W,O){var Y=$s(n);Y.length&&(J.duration=Y[0].duration,J.timeline=Y[0].timeline)}else a&&(J.duration=a,J.timeline=p);return J.presentationTime=g||p,J.number=N,[J]},zs=function(n,t,r){var Q,e=n.sidx.map?n.sidx.map:null,a=n.sidx.duration,u=n.timeline||0,d=n.sidx.byterange,p=d.offset+d.length,g=t.timescale,E=t.references.filter(function(Lt){return 1!==Lt.referenceType}),N=[],O=n.endList?"static":"dynamic",W=n.sidx.timeline,J=W,Y=n.mediaSequence||0;Q="bigint"==typeof t.firstOffset?oe().BigInt(p)+t.firstOffset:p+t.firstOffset;for(var Pe=0;Pe<E.length;Pe++){var Qe,ke=t.references[Pe],je=ke.referencedSize,Ze=ke.subsegmentDuration;Qe="bigint"==typeof Q?Q+oe().BigInt(je)-oe().BigInt(1):Q+je-1;var ct=tc({baseUrl:r,timescale:g,timeline:u,periodStart:W,presentationTime:J,number:Y,duration:Ze,sourceDuration:a,indexRange:Q+"-"+Qe,type:O})[0];e&&(ct.map=e),N.push(ct),Q+="bigint"==typeof Q?oe().BigInt(je):je,J+=Ze/g,Y++}return n.segments=N,n},Id=["AUDIO","SUBTITLES"],uh=function(n){return function(n,t){return wd(n.reduce(function(r,e){return e.forEach(function(a){r[function(t){return t.timeline}(a)]=a}),r},{}))}(n).sort(function(t,r){return t.timeline>r.timeline?1:-1})},nc=function(n){var t=[];return function(n,t,r){t.forEach(function(e){for(var a in n.mediaGroups[e])for(var u in n.mediaGroups[e][a])r(n.mediaGroups[e][a][u])})}(n,Id,function(r,e,a,u){t=t.concat(r.playlists||[])}),t},ku=function(n){var t=n.playlist;t.mediaSequence=n.mediaSequence,t.segments.forEach(function(e,a){e.number=t.mediaSequence+a})},Wo=function(n){return n&&n.uri+"-"+function(n){var t;return t="bigint"==typeof n.offset||"bigint"==typeof n.length?oe().BigInt(n.offset)+oe().BigInt(n.length)-oe().BigInt(1):n.offset+n.length-1,n.offset+"-"+t}(n.byterange)},_a=function(n){return wd(n.reduce(function(r,e){var u,a=e.attributes.id+(e.attributes.lang||"");r[a]?(e.segments&&(e.segments[0]&&(e.segments[0].discontinuity=!0),(u=r[a].segments).push.apply(u,e.segments)),e.attributes.contentProtection&&(r[a].attributes.contentProtection=e.attributes.contentProtection)):(r[a]=e,r[a].attributes.timelineStarts=[]);return r[a].attributes.timelineStarts.push({start:e.attributes.periodStart,timeline:e.attributes.periodStart}),r},{})).map(function(r){return r.discontinuityStarts=function(n,t){return n.reduce(function(r,e,a){return e.discontinuity&&r.push(a),r},[])}(r.segments||[]),r})},ic=function(n,t){var r=Wo(n.sidx),e=r&&t[r]&&t[r].sidx;return e&&zs(n,e,n.sidx.resolvedUri),n},Ta=function(n,t){if(void 0===t&&(t={}),!Object.keys(t).length)return n;for(var r in n)n[r]=ic(n[r],t);return n},x=function(n){var t,r=n.attributes,e=n.segments,a=n.sidx,u=n.discontinuityStarts,d={attributes:(t={NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:"static"===r.type,timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuityStarts:u,timelineStarts:r.timelineStarts,segments:e};return r.contentProtection&&(d.contentProtection=r.contentProtection),a&&(d.sidx=a),d},b=function(n){var t=n.attributes;return"video/mp4"===t.mimeType||"video/webm"===t.mimeType||"video"===t.contentType},_=function(n){var t=n.attributes;return"audio/mp4"===t.mimeType||"audio/webm"===t.mimeType||"audio"===t.contentType},P=function(n){var t=n.attributes;return"text/vtt"===t.mimeType||"text"===t.contentType},z=function(n){return n?Object.keys(n).reduce(function(t,r){return t.concat(n[r].playlists)},[]):[]},se=function(n){var t,r=n.dashPlaylists,e=n.locations,a=n.sidxMapping,u=void 0===a?{}:a,d=n.previousManifest;if(!r.length)return{};var p=r[0].attributes,g=p.sourceDuration,E=p.type,N=p.suggestedPresentationDelay,O=p.minimumUpdatePeriod,W=_a(r.filter(b)).map(x),J=_a(r.filter(_)),Y=_a(r.filter(P)),Q=r.map(function(Ot){return Ot.attributes.captionServices}).filter(Boolean),Pe={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:g,playlists:Ta(W,u)};O>=0&&(Pe.minimumUpdatePeriod=1e3*O),e&&(Pe.locations=e),"dynamic"===E&&(Pe.suggestedPresentationDelay=N);var je=J.length?function(n,t,r){void 0===t&&(t={}),void 0===r&&(r=!1);var e,a=n.reduce(function(d,p){var g=p.attributes.role&&p.attributes.role.value||"",E=p.attributes.lang||"",N=p.attributes.label||"main";E&&!p.attributes.label&&(N=p.attributes.lang+(g?" ("+g+")":"")),d[N]||(d[N]={language:E,autoselect:!0,default:"main"===g,playlists:[],uri:""});var W=ic(function(n,t){var r,e=n.attributes,a=n.segments,u=n.sidx,d=n.mediaSequence,p=n.discontinuitySequence,g=n.discontinuityStarts,E={attributes:(r={NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs},r["PROGRAM-ID"]=1,r),uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:"",targetDuration:e.duration,discontinuitySequence:p,discontinuityStarts:g,timelineStarts:e.timelineStarts,mediaSequence:d,segments:a};return e.contentProtection&&(E.contentProtection=e.contentProtection),u&&(E.sidx=u),t&&(E.attributes.AUDIO="audio",E.attributes.SUBTITLES="subs"),E}(p,r),t);return d[N].playlists.push(W),void 0===e&&"main"===g&&((e=p).default=!0),d},{});return e||(a[Object.keys(a)[0]].default=!0),a}(J,u,0===Pe.playlists.length):null,Ze=Y.length?function(n,t){return void 0===t&&(t={}),n.reduce(function(r,e){var a=e.attributes.lang||"text";return r[a]||(r[a]={language:a,default:!1,autoselect:!1,playlists:[],uri:""}),r[a].playlists.push(ic(function(n){var t,r=n.attributes,e=n.segments,a=n.mediaSequence,u=n.discontinuityStarts,d=n.discontinuitySequence;void 0===e&&(e=[{uri:r.baseUrl,timeline:r.periodStart,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}],r.duration=r.sourceDuration);var p=((t={NAME:r.id,BANDWIDTH:r.bandwidth})["PROGRAM-ID"]=1,t);return r.codecs&&(p.CODECS=r.codecs),{attributes:p,uri:"",endList:"static"===r.type,timeline:r.periodStart,resolvedUri:r.baseUrl||"",targetDuration:r.duration,timelineStarts:r.timelineStarts,discontinuityStarts:u,discontinuitySequence:d,mediaSequence:a,segments:e}}(e),t)),r},{})}(Y,u):null,Qe=W.concat(z(je),z(Ze)),St=Qe.map(function(Ot){return Ot.timelineStarts});return Pe.timelineStarts=uh(St),function(n,t){n.forEach(function(r){r.mediaSequence=0,r.discontinuitySequence=js(t,function(e){return e.timeline===r.timeline}),r.segments&&r.segments.forEach(function(e,a){e.number=a})})}(Qe,Pe.timelineStarts),je&&(Pe.mediaGroups.AUDIO.audio=je),Ze&&(Pe.mediaGroups.SUBTITLES.subs=Ze),Q.length&&(Pe.mediaGroups["CLOSED-CAPTIONS"].cc=function(n){return n.reduce(function(t,r){return r&&r.forEach(function(e){var u=e.language;t[u]={autoselect:!1,default:!1,instreamId:e.channel,language:u},e.hasOwnProperty("aspectRatio")&&(t[u].aspectRatio=e.aspectRatio),e.hasOwnProperty("easyReader")&&(t[u].easyReader=e.easyReader),e.hasOwnProperty("3D")&&(t[u]["3D"]=e["3D"])}),t},{})}(Q)),d?function(n){var t=n.oldManifest,r=n.newManifest,e=t.playlists.concat(nc(t)),a=r.playlists.concat(nc(r));return r.timelineStarts=uh([t.timelineStarts,r.timelineStarts]),function(n){var t=n.oldPlaylists,e=n.timelineStarts;n.newPlaylists.forEach(function(a){a.discontinuitySequence=js(e,function(E){return E.timeline===a.timeline});var u=function(n,t){for(var r=0;r<n.length;r++)if(n[r].attributes.NAME===t)return n[r];return null}(t,a.attributes.NAME);if(u&&!a.sidx){var d=a.segments[0],p=js(u.segments,function(E){return Math.abs(E.presentationTime-d.presentationTime)<.016666666666666666});if(-1===p)return ku({playlist:a,mediaSequence:u.mediaSequence+u.segments.length}),a.segments[0].discontinuity=!0,a.discontinuityStarts.unshift(0),void((!u.segments.length&&a.timeline>u.timeline||u.segments.length&&a.timeline>u.segments[u.segments.length-1].timeline)&&a.discontinuitySequence--);u.segments[p].discontinuity&&!d.discontinuity&&(d.discontinuity=!0,a.discontinuityStarts.unshift(0),a.discontinuitySequence--),ku({playlist:a,mediaSequence:u.segments[p].number})}})}({oldPlaylists:e,newPlaylists:a,timelineStarts:r.timelineStarts}),r}({oldManifest:d,newManifest:Pe}):Pe},ge=function(n,t,r){var d=n.timescale,g=n.periodStart,N=n.minimumUpdatePeriod;return Math.ceil((((n.NOW+n.clientOffset)/1e3+(void 0===N?0:N)-(n.availabilityStartTime+(void 0===g?0:g)))*(void 0===d?1:d)-t)/r)},$e=function(n,t){for(var r=n.type,e=n.minimumUpdatePeriod,a=void 0===e?0:e,u=n.media,d=void 0===u?"":u,p=n.sourceDuration,g=n.timescale,E=void 0===g?1:g,N=n.startNumber,O=void 0===N?1:N,W=n.periodStart,J=[],Y=-1,Q=0;Q<t.length;Q++){var Pe=t[Q],ke=Pe.d,je=Pe.r||0,Ze=Pe.t||0;Y<0&&(Y=Ze),Ze&&Ze>Y&&(Y=Ze);var Qe=void 0;if(je<0){var St=Q+1;Qe=St===t.length?"dynamic"===r&&a>0&&d.indexOf("$Number$")>0?ge(n,Y,ke):(p*E-Y)/ke:(t[St].t-Y)/ke}else Qe=je+1;for(var Ot=O+J.length+Qe,ct=O+J.length;ct<Ot;)J.push({number:ct,duration:ke/E,time:Y,timeline:W}),Y+=ke,ct++}return J},Ut=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Wt=function(n,t){return n.replace(Ut,function(n){return function(t,r,e,a){if("$$"===t)return"$";if(void 0===n[r])return t;var u=""+n[r];return"RepresentationID"===r||(a=e?parseInt(a,10):1,u.length>=a)?u:""+new Array(a-u.length+1).join("0")+u}}(t))},Hn=function(n,t){var r={RepresentationID:n.id,Bandwidth:n.bandwidth||0},e=n.initialization,a=void 0===e?{sourceURL:"",range:""}:e,u=jo({baseUrl:n.baseUrl,source:Wt(a.sourceURL,r),range:a.range}),d=function(n,t){return n.duration||t?n.duration?$s(n):$e(n,t):[{number:n.startNumber||1,duration:n.sourceDuration,time:0,timeline:n.periodStart}]}(n,t);return d.map(function(p){r.Number=p.number,r.Time=p.time;var g=Wt(n.media||"",r),O=n.periodStart+(p.time-(n.presentationTimeOffset||0))/(n.timescale||1);return{uri:g,timeline:p.timeline,duration:p.duration,resolvedUri:Ba(n.baseUrl||"",g),map:u,number:p.number,presentationTime:O}})},hs=function(n,t){var r=n.duration,e=n.segmentUrls,a=void 0===e?[]:e,u=n.periodStart;if(!r&&!t||r&&t)throw new Error("SEGMENT_TIME_UNSPECIFIED");var p,d=a.map(function(E){return function(n,t){var r=n.baseUrl,e=n.initialization,a=void 0===e?{}:e,u=jo({baseUrl:r,source:a.sourceURL,range:a.range}),d=jo({baseUrl:r,source:t.media,range:t.mediaRange});return d.map=u,d}(n,E)});return r&&(p=$s(n)),t&&(p=$e(n,t)),p.map(function(E,N){if(d[N]){var O=d[N],W=n.timescale||1,J=n.presentationTimeOffset||0;return O.timeline=E.timeline,O.duration=E.duration,O.number=E.number,O.presentationTime=u+(E.time-J)/W,O}}).filter(function(E){return E})},ac=function(n){var e,a,t=n.attributes,r=n.segmentInfo;r.template?(a=Hn,e=ui(t,r.template)):r.base?(a=tc,e=ui(t,r.base)):r.list&&(a=hs,e=ui(t,r.list));var u={attributes:t};if(!a)return u;var d=a(e,r.segmentTimeline);if(e.duration){var E=e.timescale;e.duration=e.duration/(void 0===E?1:E)}else e.duration=d.length?d.reduce(function(O,W){return Math.max(O,Math.ceil(W.duration))},0):0;return u.attributes=e,u.segments=d,r.base&&e.indexRange&&(u.sidx=d[0],u.segments=[]),u},rr=function(n,t){return po(n.childNodes).filter(function(r){return r.tagName===t})},ba=function(n){return n.textContent.trim()},$o=function(n){var p=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(n);if(!p)return 0;var g=p.slice(1),N=g[1],O=g[2],W=g[3],J=g[4],Y=g[5];return 31536e3*parseFloat(g[0]||0)+2592e3*parseFloat(N||0)+86400*parseFloat(O||0)+3600*parseFloat(W||0)+60*parseFloat(J||0)+parseFloat(Y||0)},Od={mediaPresentationDuration:function(n){return $o(n)},availabilityStartTime:function(n){return function(n){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(n)&&(n+="Z"),Date.parse(n)}(n)/1e3},minimumUpdatePeriod:function(n){return $o(n)},suggestedPresentationDelay:function(n){return $o(n)},type:function(n){return n},timeShiftBufferDepth:function(n){return $o(n)},start:function(n){return $o(n)},width:function(n){return parseInt(n,10)},height:function(n){return parseInt(n,10)},bandwidth:function(n){return parseInt(n,10)},startNumber:function(n){return parseInt(n,10)},timescale:function(n){return parseInt(n,10)},presentationTimeOffset:function(n){return parseInt(n,10)},duration:function(n){var t=parseInt(n,10);return isNaN(t)?$o(n):t},d:function(n){return parseInt(n,10)},t:function(n){return parseInt(n,10)},r:function(n){return parseInt(n,10)},DEFAULT:function(n){return n}},Vr=function(n){return n&&n.attributes?po(n.attributes).reduce(function(t,r){return t[r.name]=(Od[r.name]||Od.DEFAULT)(r.value),t},{}):{}},Fu={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Ga=function(n,t){return t.length?Ou(n.map(function(r){return t.map(function(e){return Ba(r,ba(e))})})):n},Rd=function(n){var t=rr(n,"SegmentTemplate")[0],r=rr(n,"SegmentList")[0],e=r&&rr(r,"SegmentURL").map(function(O){return ui({tag:"SegmentURL"},Vr(O))}),a=rr(n,"SegmentBase")[0],u=r||t,d=u&&rr(u,"SegmentTimeline")[0],p=r||a||t,g=p&&rr(p,"Initialization")[0],E=t&&Vr(t);E&&g?E.initialization=g&&Vr(g):E&&E.initialization&&(E.initialization={sourceURL:E.initialization});var N={template:E,segmentTimeline:d&&rr(d,"S").map(function(O){return Vr(O)}),list:r&&ui(Vr(r),{segmentUrls:e,initialization:Vr(g)}),base:a&&ui(Vr(a),{initialization:Vr(g)})};return Object.keys(N).forEach(function(O){N[O]||delete N[O]}),N},Or=function(n,t){return function(r,e){var a=Ga(t,rr(r.node,"BaseURL")),u=ui(n,{periodStart:r.attributes.start});"number"==typeof r.attributes.duration&&(u.periodDuration=r.attributes.duration);var d=rr(r.node,"AdaptationSet"),p=Rd(r.node);return Ou(d.map(function(n,t,r){return function(e){var a=Vr(e),u=Ga(t,rr(e,"BaseURL")),d=rr(e,"Role")[0],p={role:Vr(d)},g=ui(n,a,p),E=rr(e,"Accessibility")[0],N=function(n){return"urn:scte:dash:cc:cea-608:2015"===n.schemeIdUri?("string"!=typeof n.value?[]:n.value.split(";")).map(function(e){var a,u;if(u=e,/^CC\d=/.test(e)){var d=e.split("=");a=d[0],u=d[1]}else/^CC\d$/.test(e)&&(a=e);return{channel:a,language:u}}):"urn:scte:dash:cc:cea-708:2015"===n.schemeIdUri?("string"!=typeof n.value?[]:n.value.split(";")).map(function(e){var a={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){var u=e.split("="),p=u[1],g=void 0===p?"":p;a.channel=u[0],a.language=e,g.split(",").forEach(function(E){var N=E.split(":"),O=N[0],W=N[1];"lang"===O?a.language=W:"er"===O?a.easyReader=Number(W):"war"===O?a.aspectRatio=Number(W):"3D"===O&&(a["3D"]=Number(W))})}else a.language=e;return a.channel&&(a.channel="SERVICE"+a.channel),a}):void 0}(Vr(E));N&&(g=ui(g,{captionServices:N}));var O=rr(e,"Label")[0];if(O&&O.childNodes.length){var W=O.childNodes[0].nodeValue.trim();g=ui(g,{label:W})}var J=function(n){return n.reduce(function(t,r){var e=Vr(r),a=Fu[e.schemeIdUri];if(a){t[a]={attributes:e};var u=rr(r,"cenc:pssh")[0];if(u){var d=ba(u),p=d&&xu(d);t[a].pssh=p}}return t},{})}(rr(e,"ContentProtection"));Object.keys(J).length&&(g=ui(g,{contentProtection:J}));var Y=Rd(e),Q=rr(e,"Representation"),Pe=ui(r,Y);return Ou(Q.map(function(n,t,r){return function(e){var a=rr(e,"BaseURL"),u=Ga(t,a),d=ui(n,Vr(e)),p=Rd(e);return u.map(function(g){return{segmentInfo:ui(r,p),attributes:ui(d,{baseUrl:g})}})}}(g,u,Pe)))}}(u,a,p)))}},Fy=function(n){if(""===n)throw new Error("DASH_EMPTY_MANIFEST");var r,e,t=new Tr.DOMParser;try{e=(r=t.parseFromString(n,"application/xml"))&&"MPD"===r.documentElement.tagName?r.documentElement:null}catch(a){}if(!e||e&&e.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return e},uc=H(7459),cS=H.n(uc),jt=function(n){return n instanceof Uint8Array?n:(!Array.isArray(n)&&!function(n){return function(n){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer}(n)}(n)&&!(n instanceof ArrayBuffer)&&(n="number"!=typeof n||"number"==typeof n&&n!=n?0:[n]),new Uint8Array(n&&n.buffer||n,n&&n.byteOffset||0,n&&n.byteLength||0))},Hr=oe().BigInt||Number,kd=[Hr("0x1"),Hr("0x100"),Hr("0x10000"),Hr("0x1000000"),Hr("0x100000000"),Hr("0x10000000000"),Hr("0x1000000000000"),Hr("0x100000000000000"),Hr("0x10000000000000000")],fS=(l=new Uint16Array([65484]),new Uint8Array(l.buffer,l.byteOffset,l.byteLength),function(n,t){var r=void 0===t?{}:t,e=r.signed,a=void 0!==e&&e,u=r.le,d=void 0!==u&&u;n=jt(n);var p=d?"reduce":"reduceRight",E=(n[p]?n[p]:Array.prototype[p]).call(n,function(O,W,J){var Y=d?J:Math.abs(J+1-n.length);return O+Hr(W)*kd[Y]},Hr(0));if(a){var N=kd[n.length]/Hr(2)-Hr(1);(E=Hr(E))>N&&(E-=N,E-=N,E-=Hr(2))}return Number(E)}),Nd=function(n,t){if("string"!=typeof n&&n&&"function"==typeof n.toString&&(n=n.toString()),"string"!=typeof n)return new Uint8Array;t||(n=unescape(encodeURIComponent(n)));for(var r=new Uint8Array(n.length),e=0;e<n.length;e++)r[e]=n.charCodeAt(e);return r},xr=function(n,t,r){var e=void 0===r?{}:r,a=e.offset,u=void 0===a?0:a,d=e.mask,p=void 0===d?[]:d;return n=jt(n),(t=jt(t)).length&&n.length-u>=t.length&&(t.every?t.every:Array.prototype.every).call(t,function(E,N){return E===(p[N]?p[N]&n[u+N]:n[u+N])})},Gy=jt([73,68,51]),cc=function l(n,t){return void 0===t&&(t=0),(n=jt(n)).length-t<10||!xr(n,Gy,{offset:t})?t:(t+=function(n,t){void 0===t&&(t=0);var e=(n=jt(n))[t+6]<<21|n[t+7]<<14|n[t+8]<<7|n[t+9];return(16&n[t+5])>>4?e+20:e+10}(n,t),l(n,t))},dc=(new Uint8Array([79,112,117,115,72,101,97,100]),function(n){return"string"==typeof n?Nd(n):n}),vh=function(n){n=jt(n);for(var t=[],r=0;n.length>r;){var e=n[r],a=0,u=0,d=n[++u];for(u++;128&d;)a=(127&d)<<7,d=n[u],u++;a+=127&d;for(var p=0;p<mh.length;p++){var g=mh[p];if(e===g.id){t.push((0,g.parser)(n.subarray(u,u+a)));break}}r+=a+u}return t};
/*! @name mpd-parser @version 0.21.0 @license Apache-2.0 */mh=[{id:3,parser:function(n){var t={tag:3,id:n[0]<<8|n[1],flags:n[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&t.flags&&(t.dependsOnEsId=n[t.size]<<8|n[t.size+1],t.size+=2),64&t.flags){var r=n[t.size];t.url=function(n){if(!n)return"";n=Array.prototype.slice.call(n);var t=String.fromCharCode.apply(null,jt(n));try{return decodeURIComponent(escape(t))}catch(r){}return t}(n.subarray(t.size+1,t.size+1+r)),t.size+=r}return 32&t.flags&&(t.ocrEsId=n[t.size]<<8|n[t.size+1],t.size+=2),t.descriptors=vh(n.subarray(t.size))||[],t}},{id:4,parser:function(n){return{tag:4,oti:n[0],streamType:n[1],bufferSize:n[2]<<16|n[3]<<8|n[4],maxBitrate:n[5]<<24|n[6]<<16|n[7]<<8|n[8],avgBitrate:n[9]<<24|n[10]<<16|n[11]<<8|n[12],descriptors:vh(n.subarray(13))}}},{id:5,parser:function(n){return{tag:5,bytes:n}}},{id:6,parser:function(n){return{tag:6,bytes:n}}}];var ts=function l(n,t,r){void 0===r&&(r=!1),t=function(n){return Array.isArray(n)?n.map(function(t){return dc(t)}):[dc(n)]}(t),n=jt(n);var e=[];if(!t.length)return e;for(var a=0;a<n.length;){var u=(n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3])>>>0,d=n.subarray(a+4,a+8);if(0===u)break;var p=a+u;if(p>n.length){if(r)break;p=n.length}var g=n.subarray(a+8,p);xr(d,t[0])&&(1===t.length?e.push(g):e.push.apply(e,l(g,t.slice(1),r))),a=p}return e},ur={EBML:jt([26,69,223,163]),DocType:jt([66,130]),Segment:jt([24,83,128,103]),SegmentInfo:jt([21,73,169,102]),Tracks:jt([22,84,174,107]),Track:jt([174]),TrackNumber:jt([215]),DefaultDuration:jt([35,227,131]),TrackEntry:jt([174]),TrackType:jt([131]),FlagDefault:jt([136]),CodecID:jt([134]),CodecPrivate:jt([99,162]),VideoTrack:jt([224]),AudioTrack:jt([225]),Cluster:jt([31,67,182,117]),Timestamp:jt([231]),TimestampScale:jt([42,215,177]),BlockGroup:jt([160]),BlockDuration:jt([155]),Block:jt([161]),SimpleBlock:jt([163])},yh=[128,64,32,16,8,4,2,1],Ks=function(n,t,r,e){void 0===r&&(r=!0),void 0===e&&(e=!1);var a=function(n){for(var t=1,r=0;r<yh.length&&!(n&yh[r]);r++)t++;return t}(n[t]),u=n.subarray(t,t+a);return r&&((u=Array.prototype.slice.call(n,t,t+a))[0]^=yh[a-1]),{length:a,value:fS(u,{signed:e}),bytes:u}},Wg=function l(n){return"string"==typeof n?n.match(/.{1,2}/g).map(function(t){return l(t)}):"number"==typeof n?function(n,t){var e=(void 0===t?{}:t).le,a=void 0!==e&&e;("bigint"!=typeof n&&"number"!=typeof n||"number"==typeof n&&n!=n)&&(n=0);for(var u=function(n){return Math.ceil(function(n){return n.toString(2).length}(n)/8)}(n=Hr(n)),d=new Uint8Array(new ArrayBuffer(u)),p=0;p<u;p++){var g=a?p:Math.abs(p+1-d.length);d[g]=Number(n/kd[p]&Hr(255)),n<0&&(d[g]=Math.abs(~d[g]),d[g]-=0===p?1:2)}return d}(n):n},zy=function l(n,t,r){if(r>=t.length)return t.length;var e=Ks(t,r,!1);if(xr(n.bytes,e.bytes))return r;var a=Ks(t,r+e.length);return l(n,t,r+a.length+a.value+e.length)},lr=function l(n,t){t=function(n){return Array.isArray(n)?n.map(function(t){return Wg(t)}):[Wg(n)]}(t),n=jt(n);var r=[];if(!t.length)return r;for(var e=0;e<n.length;){var a=Ks(n,e,!1),u=Ks(n,e+a.length),d=e+a.length+u.length;127===u.value&&(u.value=zy(a,n,d),u.value!==n.length&&(u.value-=d));var g=n.subarray(d,d+u.value>n.length?n.length:d+u.value);xr(t[0],a.bytes)&&(1===t.length?r.push(g):r=r.concat(l(g,t.slice(1)))),e+=a.length+u.length+g.length}return r},zg=jt([0,0,0,1]),Th=jt([0,0,1]),Bd=jt([0,0,3]),Kg=function(n){for(var t=[],r=1;r<n.length-2;)xr(n.subarray(r,r+3),Bd)&&(t.push(r+2),r++),r++;if(0===t.length)return n;var e=n.length-t.length,a=new Uint8Array(e),u=0;for(r=0;r<e;u++,r++)u===t[0]&&(u++,t.shift()),a[r]=n[u];return a},Xg=function(n,t,r,e){void 0===e&&(e=1/0),n=jt(n),r=[].concat(r);for(var u,a=0,d=0;a<n.length&&(d<e||u);){var p=void 0;if(xr(n.subarray(a),zg)?p=4:xr(n.subarray(a),Th)&&(p=3),p){if(d++,u)return Kg(n.subarray(u,a));var g=void 0;"h264"===t?g=31&n[a+p]:"h265"===t&&(g=n[a+p]>>1&63),-1!==r.indexOf(g)&&(u=a+p),a+=p+("h264"===t?1:2)}else a++}return n.subarray(0,0)},ti={webm:jt([119,101,98,109]),matroska:jt([109,97,116,114,111,115,107,97]),flac:jt([102,76,97,67]),ogg:jt([79,103,103,83]),ac3:jt([11,119]),riff:jt([82,73,70,70]),avi:jt([65,86,73]),wav:jt([87,65,86,69]),"3gp":jt([102,116,121,112,51,103]),mp4:jt([102,116,121,112]),fmp4:jt([115,116,121,112]),mov:jt([102,116,121,112,113,116]),moov:jt([109,111,111,118]),moof:jt([109,111,111,102])},Hu={aac:function(n){var t=cc(n);return xr(n,[255,16],{offset:t,mask:[255,22]})},mp3:function(n){var t=cc(n);return xr(n,[255,2],{offset:t,mask:[255,6]})},webm:function(n){var t=lr(n,[ur.EBML,ur.DocType])[0];return xr(t,ti.webm)},mkv:function(n){var t=lr(n,[ur.EBML,ur.DocType])[0];return xr(t,ti.matroska)},mp4:function(n){return!Hu["3gp"](n)&&!Hu.mov(n)&&(!!(xr(n,ti.mp4,{offset:4})||xr(n,ti.fmp4,{offset:4})||xr(n,ti.moof,{offset:4})||xr(n,ti.moov,{offset:4}))||void 0)},mov:function(n){return xr(n,ti.mov,{offset:4})},"3gp":function(n){return xr(n,ti["3gp"],{offset:4})},ac3:function(n){var t=cc(n);return xr(n,ti.ac3,{offset:t})},ts:function(n){if(n.length<189&&n.length>=1)return 71===n[0];for(var t=0;t+188<n.length&&t<188;){if(71===n[t]&&71===n[t+188])return!0;t+=1}return!1},flac:function(n){var t=cc(n);return xr(n,ti.flac,{offset:t})},ogg:function(n){return xr(n,ti.ogg)},avi:function(n){return xr(n,ti.riff)&&xr(n,ti.avi,{offset:8})},wav:function(n){return xr(n,ti.riff)&&xr(n,ti.wav,{offset:8})},h264:function(n){return function(n,t,r){return Xg(n,"h264",7,3)}(n).length},h265:function(n){return function(n,t,r){return Xg(n,"h265",[32,33],3)}(n).length}},qg=Object.keys(Hu).filter(function(l){return"ts"!==l&&"h264"!==l&&"h265"!==l}).concat(["ts","h264","h265"]);qg.forEach(function(l){var n=Hu[l];Hu[l]=function(t){return n(jt(t))}});
/**
       * @license
       * Video.js 7.18.1 <http://videojs.com/>
       * Copyright Brightcove, Inc. <https://www.brightcove.com/>
       * Available under Apache License Version 2.0
       * <https://github.com/videojs/video.js/blob/main/LICENSE>
       *
       * Includes vtt.js <https://github.com/mozilla/vtt.js>
       * Available under Apache License Version 2.0
       * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
       */
for(var Xo,Yg=Hu,bh=function(n){n=jt(n);for(var t=0;t<qg.length;t++){var r=qg[t];if(Yg[r](n))return r}return""},Ud=H(6277),ja={},Xs=function(n,t){return ja[n]=ja[n]||[],t&&(ja[n]=ja[n].concat(t)),ja[n]},Ko=function(n,t){var r=Xs(n).indexOf(t);return!(r<=-1||(ja[n]=ja[n].slice(),ja[n].splice(r,1),0))},Vd={prefixed:!0},Eh=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],mc=Eh[0],vc=0;vc<Eh.length;vc++)if(Eh[vc][1]in at()){Xo=Eh[vc];break}if(Xo){for(var yc=0;yc<Xo.length;yc++)Vd[mc[yc]]=Xo[yc];Vd.prefixed=Xo[0]!==mc[0]}var Ui=[],_n=function Zg(l){var t,n="info",r=function(){for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];t("log",n,u)};return t=function(n,t){return function(r,e,a){var u=t.levels[e],d=new RegExp("^("+u+")$");if("log"!==r&&a.unshift(r.toUpperCase()+":"),a.unshift(n+":"),Ui){Ui.push([].concat(a));var p=Ui.length-1e3;Ui.splice(0,p>0?p:0)}if(oe().console){var g=oe().console[r];!g&&"debug"===r&&(g=oe().console.info||oe().console.log),g&&u&&d.test(r)&&g[Array.isArray(a)?"apply":"call"](oe().console,a)}}}(l,r),r.createLogger=function(e){return Zg(l+": "+e)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},r.level=function(e){if("string"==typeof e){if(!r.levels.hasOwnProperty(e))throw new Error('"'+e+'" in not a valid log level');n=e}return n},(r.history=function(){return Ui?[].concat(Ui):[]}).filter=function(e){return(Ui||[]).filter(function(a){return new RegExp(".*"+e+".*").test(a[0])})},r.history.clear=function(){Ui&&(Ui.length=0)},r.history.disable=function(){null!==Ui&&(Ui.length=0,Ui=null)},r.history.enable=function(){null===Ui&&(Ui=[])},r.error=function(){for(var e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];return t("error",n,a)},r.warn=function(){for(var e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];return t("warn",n,a)},r.debug=function(){for(var e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];return t("debug",n,a)},r}("VIDEOJS"),Jg=_n.createLogger,qy=Object.prototype.toString,em=function(n){return Wa(n)?Object.keys(n):[]};function ns(l,n){em(l).forEach(function(t){return n(l[t],t)})}function wr(l){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return Object.assign?kn.apply(void 0,[l].concat(t)):(t.forEach(function(e){!e||ns(e,function(a,u){l[u]=a})}),l)}function Wa(l){return!!l&&"object"==typeof l}function _c(l){return Wa(l)&&"[object Object]"===qy.call(l)&&l.constructor===Object}function Tc(l,n){if(!l||!n)return"";if("function"==typeof oe().getComputedStyle){var t;try{t=oe().getComputedStyle(l)}catch(r){return""}return t?t.getPropertyValue(n)||t[n]:""}return""}var li=oe().navigator&&oe().navigator.userAgent||"",tm=/AppleWebKit\/([\d.]+)/i.exec(li),nm=tm?parseFloat(tm.pop()):null,rm=/iPod/i.test(li),Yy=function(){var l=li.match(/OS (\d+)_/i);return l&&l[1]?l[1]:null}(),$a=/Android/i.test(li),Ch=function(){var l=li.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!l)return null;var n=l[1]&&parseFloat(l[1]),t=l[2]&&parseFloat(l[2]);return n&&t?parseFloat(l[1]+"."+l[2]):n||null}(),Qy=$a&&Ch<5&&nm<537,im=/Firefox/i.test(li),za=/Edg/i.test(li),Sa=!za&&(/Chrome/i.test(li)||/CriOS/i.test(li)),qs=function(){var l=li.match(/(Chrome|CriOS)\/(\d+)/);return l&&l[2]?parseFloat(l[2]):null}(),Ka=function(){var l=/MSIE\s(\d+)\.\d/.exec(li),n=l&&parseFloat(l[1]);return!n&&/Trident\/7.0/i.test(li)&&/rv:11.0/.test(li)&&(n=11),n}(),Hd=/Safari/i.test(li)&&!Sa&&!$a&&!za,Dh=/Windows/i.test(li),Yo=Boolean(Qo()&&("ontouchstart"in oe()||oe().navigator.maxTouchPoints||oe().DocumentTouch&&oe().document instanceof oe().DocumentTouch)),sm=/iPad/i.test(li)||Hd&&Yo&&!/iPhone/i.test(li),am=/iPhone/i.test(li)&&!sm,rs=am||sm||rm,ju=(Hd||rs)&&!Sa,xh=Object.freeze({__proto__:null,IS_IPOD:rm,IOS_VERSION:Yy,IS_ANDROID:$a,ANDROID_VERSION:Ch,IS_NATIVE_ANDROID:Qy,IS_FIREFOX:im,IS_EDGE:za,IS_CHROME:Sa,CHROME_VERSION:qs,IE_VERSION:Ka,IS_SAFARI:Hd,IS_WINDOWS:Dh,TOUCH_ENABLED:Yo,IS_IPAD:sm,IS_IPHONE:am,IS_IOS:rs,IS_ANY_SAFARI:ju});function Gd(l){return"string"==typeof l&&Boolean(l.trim())}function Zy(l){if(l.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Qo(){return at()===oe().document}function Wu(l){return Wa(l)&&1===l.nodeType}function om(){try{return oe().parent!==oe().self}catch(l){return!0}}function um(l){return function(n,t){if(!Gd(n))return at()[l](null);Gd(t)&&(t=at().querySelector(t));var r=Wu(t)?t:at();return r[l]&&r[l](n)}}function Mn(l,n,t,r){void 0===l&&(l="div"),void 0===n&&(n={}),void 0===t&&(t={});var e=at().createElement(l);return Object.getOwnPropertyNames(n).forEach(function(a){var u=n[a];-1!==a.indexOf("aria-")||"role"===a||"type"===a?(_n.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+a+" to "+u+"."),e.setAttribute(a,u)):"textContent"===a?vo(e,u):(e[a]!==u||"tabIndex"===a)&&(e[a]=u)}),Object.getOwnPropertyNames(t).forEach(function(a){e.setAttribute(a,t[a])}),r&&Ec(e,r),e}function vo(l,n){return void 0===l.textContent?l.innerText=n:l.textContent=n,l}function $u(l,n){n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)}function yo(l,n){return Zy(n),l.classList?l.classList.contains(n):function yS(l){return new RegExp("(^|\\s)"+l+"($|\\s)")}(n).test(l.className)}function Ys(l,n){return l.classList?l.classList.add(n):yo(l,n)||(l.className=(l.className+" "+n).trim()),l}function bc(l,n){return l?(l.classList?l.classList.remove(n):(Zy(n),l.className=l.className.split(/\s+/).filter(function(t){return t!==n}).join(" ")),l):(_n.warn("removeClass was called with an element that doesn't exist"),null)}function Rr(l,n,t){var r=yo(l,n);if("function"==typeof t&&(t=t(l,n)),"boolean"!=typeof t&&(t=!r),t!==r)return t?Ys(l,n):bc(l,n),l}function wh(l,n){Object.getOwnPropertyNames(n).forEach(function(t){var r=n[t];null==r||!1===r?l.removeAttribute(t):l.setAttribute(t,!0===r?"":r)})}function Xa(l){var n={};if(l&&l.attributes&&l.attributes.length>0)for(var r=l.attributes,e=r.length-1;e>=0;e--){var a=r[e].name,u=r[e].value;("boolean"==typeof l[a]||-1!==",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+a+","))&&(u=null!==u),n[a]=u}return n}function jd(l,n){return l.getAttribute(n)}function Zo(l,n,t){l.setAttribute(n,t)}function Wd(l,n){l.removeAttribute(n)}function lm(){at().body.focus(),at().onselectstart=function(){return!1}}function cm(){at().onselectstart=function(){return!0}}function zu(l){if(l&&l.getBoundingClientRect&&l.parentNode){var n=l.getBoundingClientRect(),t={};return["bottom","height","left","right","top","width"].forEach(function(r){void 0!==n[r]&&(t[r]=n[r])}),t.height||(t.height=parseFloat(Tc(l,"height"))),t.width||(t.width=parseFloat(Tc(l,"width"))),t}}function Sc(l){if(!l||l&&!l.offsetParent)return{left:0,top:0,width:0,height:0};for(var n=l.offsetWidth,t=l.offsetHeight,r=0,e=0;l.offsetParent&&l!==at()[Vd.fullscreenElement];)r+=l.offsetLeft,e+=l.offsetTop,l=l.offsetParent;return{left:r,top:e,width:n,height:t}}function Ah(l,n){var t={x:0,y:0};if(rs)for(var r=l;r&&"html"!==r.nodeName.toLowerCase();){var e=Tc(r,"transform");if(/^matrix/.test(e)){var a=e.slice(7,-1).split(/,\s/).map(Number);t.x+=a[4],t.y+=a[5]}else if(/^matrix3d/.test(e)){var u=e.slice(9,-1).split(/,\s/).map(Number);t.x+=u[12],t.y+=u[13]}r=r.parentNode}var d={},p=Sc(n.target),g=Sc(l),E=g.width,O=n.offsetY-(g.top-p.top),W=n.offsetX-(g.left-p.left);return n.changedTouches&&(W=n.changedTouches[0].pageX-g.left,O=n.changedTouches[0].pageY+g.top,rs&&(W-=t.x,O-=t.y)),d.y=1-Math.max(0,Math.min(1,O/g.height)),d.x=Math.max(0,Math.min(1,W/E)),d}function Jy(l){return Wa(l)&&3===l.nodeType}function Jo(l){for(;l.firstChild;)l.removeChild(l.firstChild);return l}function Mi(l){return"function"==typeof l&&(l=l()),(Array.isArray(l)?l:[l]).map(function(n){return"function"==typeof n&&(n=n()),Wu(n)||Jy(n)?n:"string"==typeof n&&/\S/.test(n)?at().createTextNode(n):void 0}).filter(function(n){return n})}function Ec(l,n){return Mi(n).forEach(function(t){return l.appendChild(t)}),l}function Mh(l,n){return Ec(Jo(l),n)}function Ku(l){return void 0===l.button&&void 0===l.buttons||0===l.button&&void 0===l.buttons||"mouseup"===l.type&&0===l.button&&0===l.buttons||!(0!==l.button||1!==l.buttons)}var Ih,Ar=um("querySelector"),Xu=um("querySelectorAll"),$d=Object.freeze({__proto__:null,isReal:Qo,isEl:Wu,isInFrame:om,createEl:Mn,textContent:vo,prependTo:$u,hasClass:yo,addClass:Ys,removeClass:bc,toggleClass:Rr,setAttributes:wh,getAttributes:Xa,getAttribute:jd,setAttribute:Zo,removeAttribute:Wd,blockTextSelection:lm,unblockTextSelection:cm,getBoundingClientRect:zu,findPosition:Sc,getPointerPosition:Ah,isTextNode:Jy,emptyEl:Jo,normalizeContent:Mi,appendContent:Ec,insertContent:Mh,isSingleLeftClick:Ku,$:Ar,$$:Xu}),dm=!1,fm=function(){if(!1!==Ih.options.autoSetup){var n=Array.prototype.slice.call(at().getElementsByTagName("video")),t=Array.prototype.slice.call(at().getElementsByTagName("audio")),r=Array.prototype.slice.call(at().getElementsByTagName("video-js")),e=n.concat(t,r);if(e&&e.length>0)for(var a=0,u=e.length;a<u;a++){var d=e[a];if(!d||!d.getAttribute){Ph(1);break}void 0===d.player&&null!==d.getAttribute("data-setup")&&Ih(d)}else dm||Ph(1)}};function Ph(l,n){!Qo()||(n&&(Ih=n),oe().setTimeout(fm,l))}function zd(){dm=!0,oe().removeEventListener("load",zd)}Qo()&&("complete"===at().readyState?zd():oe().addEventListener("load",zd));var pm,hm=function(n){var t=at().createElement("style");return t.className=n,t},Oh=function(n,t){n.styleSheet?n.styleSheet.cssText=t:n.textContent=t},t_=3;function Ea(){return t_++}oe().WeakMap||(pm=function(){function l(){this.vdata="vdata"+Math.floor(oe().performance&&oe().performance.now()||Date.now()),this.data={}}var n=l.prototype;return n.set=function(r,e){var a=r[this.vdata]||Ea();return r[this.vdata]||(r[this.vdata]=a),this.data[a]=e,this},n.get=function(r){var e=r[this.vdata];if(e)return this.data[e];_n("We have no data for this element",r)},n.has=function(r){return r[this.vdata]in this.data},n.delete=function(r){var e=r[this.vdata];e&&(delete this.data[e],delete r[this.vdata])},l}());var Vi=oe().WeakMap?new WeakMap:new pm;function Kd(l,n){if(Vi.has(l)){var t=Vi.get(l);0===t.handlers[n].length&&(delete t.handlers[n],l.removeEventListener?l.removeEventListener(n,t.dispatcher,!1):l.detachEvent&&l.detachEvent("on"+n,t.dispatcher)),Object.getOwnPropertyNames(t.handlers).length<=0&&(delete t.handlers,delete t.dispatcher,delete t.disabled),0===Object.getOwnPropertyNames(t).length&&Vi.delete(l)}}function Rh(l,n,t,r){t.forEach(function(e){l(n,e,r)})}function Xd(l){if(l.fixed_)return l;function n(){return!0}function t(){return!1}if(!l||!l.isPropagationStopped||!l.isImmediatePropagationStopped){var r=l||oe().event;for(var e in l={},r)"layerX"!==e&&"layerY"!==e&&"keyLocation"!==e&&"webkitMovementX"!==e&&"webkitMovementY"!==e&&("returnValue"===e&&r.preventDefault||(l[e]=r[e]));if(l.target||(l.target=l.srcElement||at()),l.relatedTarget||(l.relatedTarget=l.fromElement===l.target?l.toElement:l.fromElement),l.preventDefault=function(){r.preventDefault&&r.preventDefault(),l.returnValue=!1,r.returnValue=!1,l.defaultPrevented=!0},l.defaultPrevented=!1,l.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),l.cancelBubble=!0,r.cancelBubble=!0,l.isPropagationStopped=n},l.isPropagationStopped=t,l.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),l.isImmediatePropagationStopped=n,l.stopPropagation()},l.isImmediatePropagationStopped=t,null!=l.clientX){var a=at().documentElement,u=at().body;l.pageX=l.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),l.pageY=l.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0)}l.which=l.charCode||l.keyCode,null!=l.button&&(l.button=1&l.button?0:4&l.button?1:2&l.button?2:0)}return l.fixed_=!0,l}var eu,r_=["touchstart","touchmove"];function gs(l,n,t){if(Array.isArray(n))return Rh(gs,l,n,t);Vi.has(l)||Vi.set(l,{});var r=Vi.get(l);if(r.handlers||(r.handlers={}),r.handlers[n]||(r.handlers[n]=[]),t.guid||(t.guid=Ea()),r.handlers[n].push(t),r.dispatcher||(r.disabled=!1,r.dispatcher=function(a,u){if(!r.disabled){a=Xd(a);var d=r.handlers[a.type];if(d)for(var p=d.slice(0),g=0,E=p.length;g<E&&!a.isImmediatePropagationStopped();g++)try{p[g].call(l,a,u)}catch(N){_n.error(N)}}}),1===r.handlers[n].length)if(l.addEventListener){var e=!1;(function(){if("boolean"!=typeof eu){eu=!1;try{var n=Object.defineProperty({},"passive",{get:function(){eu=!0}});oe().addEventListener("test",null,n),oe().removeEventListener("test",null,n)}catch(t){}}return eu})()&&r_.indexOf(n)>-1&&(e={passive:!0}),l.addEventListener(n,r.dispatcher,e)}else l.attachEvent&&l.attachEvent("on"+n,r.dispatcher)}function Ii(l,n,t){if(Vi.has(l)){var r=Vi.get(l);if(r.handlers){if(Array.isArray(n))return Rh(Ii,l,n,t);var e=function(g,E){r.handlers[E]=[],Kd(g,E)};if(void 0===n){for(var a in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},a)&&e(l,a);return}var u=r.handlers[n];if(u){if(!t)return void e(l,n);if(t.guid)for(var d=0;d<u.length;d++)u[d].guid===t.guid&&u.splice(d--,1);Kd(l,n)}}}}function qu(l,n,t){var r=Vi.has(l)?Vi.get(l):{},e=l.parentNode||l.ownerDocument;if("string"==typeof n?n={type:n,target:l}:n.target||(n.target=l),n=Xd(n),r.dispatcher&&r.dispatcher.call(l,n,t),e&&!n.isPropagationStopped()&&!0===n.bubbles)qu.call(null,e,n,t);else if(!e&&!n.defaultPrevented&&n.target&&n.target[n.type]){Vi.has(n.target)||Vi.set(n.target,{});var a=Vi.get(n.target);n.target[n.type]&&(a.disabled=!0,"function"==typeof n.target[n.type]&&n.target[n.type](),a.disabled=!1)}return!n.defaultPrevented}function Cc(l,n,t){if(Array.isArray(n))return Rh(Cc,l,n,t);var r=function e(){Ii(l,n,e),t.apply(this,arguments)};r.guid=t.guid=t.guid||Ea(),gs(l,n,r)}function gm(l,n,t){var r=function e(){Ii(l,n,e),t.apply(this,arguments)};r.guid=t.guid=t.guid||Ea(),gs(l,n,r)}var Dc,i_=Object.freeze({__proto__:null,fixEvent:Xd,on:gs,off:Ii,trigger:qu,one:Cc,any:gm}),cr=function(n,t,r){t.guid||(t.guid=Ea());var e=t.bind(n);return e.guid=r?r+"_"+t.guid:t.guid,e},qa=function(n,t){var r=oe().performance.now();return function(){var u=oe().performance.now();u-r>=t&&(n.apply(void 0,arguments),r=u)}},ci=function(){};ci.prototype.allowedEvents_={},ci.prototype.addEventListener=ci.prototype.on=function(l,n){var t=this.addEventListener;this.addEventListener=function(){},gs(this,l,n),this.addEventListener=t},ci.prototype.removeEventListener=ci.prototype.off=function(l,n){Ii(this,l,n)},ci.prototype.one=function(l,n){var t=this.addEventListener;this.addEventListener=function(){},Cc(this,l,n),this.addEventListener=t},ci.prototype.any=function(l,n){var t=this.addEventListener;this.addEventListener=function(){},gm(this,l,n),this.addEventListener=t},ci.prototype.dispatchEvent=ci.prototype.trigger=function(l){var n=l.type||l;"string"==typeof l&&(l={type:n}),l=Xd(l),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](l),qu(this,l)},ci.prototype.queueTrigger=function(l){var n=this;Dc||(Dc=new Map);var t=l.type||l,r=Dc.get(this);r||Dc.set(this,r=new Map);var e=r.get(t);r.delete(t),oe().clearTimeout(e);var a=oe().setTimeout(function(){0===r.size&&(r=null,Dc.delete(n)),n.trigger(l)},0);r.set(t,a)};var Ya=function(n){return"function"==typeof n.name?n.name():"string"==typeof n.name?n.name:n.name_?n.name_:n.constructor&&n.constructor.name?n.constructor.name:typeof n},di=function(n){return n instanceof ci||!!n.eventBusEl_&&["on","one","off","trigger"].every(function(t){return"function"==typeof n[t]})},vm=function(n){return"string"==typeof n&&/\S/.test(n)||Array.isArray(n)&&!!n.length},xc=function(n,t,r){if(!n||!n.nodeName&&!di(n))throw new Error("Invalid target for "+Ya(t)+"#"+r+"; must be a DOM node or evented object.")},s_=function(n,t,r){if(!vm(n))throw new Error("Invalid event type for "+Ya(t)+"#"+r+"; must be a non-empty string or array.")},Zs=function(n,t,r){if("function"!=typeof n)throw new Error("Invalid listener for "+Ya(t)+"#"+r+"; must be a function.")},wc=function(n,t,r){var a,u,d,e=t.length<3||t[0]===n||t[0]===n.eventBusEl_;return e?(a=n.eventBusEl_,t.length>=3&&t.shift(),u=t[0],d=t[1]):(a=t[0],u=t[1],d=t[2]),xc(a,n,r),s_(u,n,r),Zs(d,n,r),{isTargetingSelf:e,target:a,type:u,listener:d=cr(n,d)}},Qa=function(n,t,r,e){xc(n,n,t),n.nodeName?i_[t](n,r,e):n[t](r,e)},a_={on:function(){for(var n=this,t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var a=wc(this,r,"on"),u=a.isTargetingSelf,d=a.target,p=a.type,g=a.listener;if(Qa(d,"on",p,g),!u){var E=function(){return n.off(d,p,g)};E.guid=g.guid;var N=function(){return n.off("dispose",E)};N.guid=g.guid,Qa(this,"on","dispose",E),Qa(d,"on","dispose",N)}},one:function(){for(var n=this,t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var a=wc(this,r,"one"),u=a.isTargetingSelf,d=a.target,p=a.type,g=a.listener;if(u)Qa(d,"one",p,g);else{var E=function N(){n.off(d,p,N);for(var O=arguments.length,W=new Array(O),J=0;J<O;J++)W[J]=arguments[J];g.apply(null,W)};E.guid=g.guid,Qa(d,"one",p,E)}},any:function(){for(var n=this,t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];var a=wc(this,r,"any"),u=a.isTargetingSelf,d=a.target,p=a.type,g=a.listener;if(u)Qa(d,"any",p,g);else{var E=function N(){n.off(d,p,N);for(var O=arguments.length,W=new Array(O),J=0;J<O;J++)W[J]=arguments[J];g.apply(null,W)};E.guid=g.guid,Qa(d,"any",p,E)}},off:function(n,t,r){if(!n||vm(n))Ii(this.eventBusEl_,n,t);else{var e=n,a=t;xc(e,this,"off"),s_(a,this,"off"),Zs(r,this,"off"),r=cr(this,r),this.off("dispose",r),e.nodeName?(Ii(e,a,r),Ii(e,"dispose",r)):di(e)&&(e.off(a,r),e.off("dispose",r))}},trigger:function(n,t){if(xc(this.eventBusEl_,this,"trigger"),!vm(n&&"string"!=typeof n?n.type:n)){var e="Invalid event type for "+Ya(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!n)throw new Error(e);(this.log||_n).error(e)}return qu(this.eventBusEl_,n,t)}};function qd(l,n){void 0===n&&(n={});var r=n.eventBusKey;if(r){if(!l[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');l.eventBusEl_=l[r]}else l.eventBusEl_=Mn("span",{className:"vjs-event-bus"});return wr(l,a_),l.eventedCallbacks&&l.eventedCallbacks.forEach(function(e){e()}),l.on("dispose",function(){l.off(),[l,l.el_,l.eventBusEl_].forEach(function(e){e&&Vi.has(e)&&Vi.delete(e)}),oe().setTimeout(function(){l.eventBusEl_=null},0)}),l}var Ac={state:{},setState:function(n){var r,t=this;return"function"==typeof n&&(n=n()),ns(n,function(e,a){t.state[a]!==e&&((r=r||{})[a]={from:t.state[a],to:e}),t.state[a]=e}),r&&di(this)&&this.trigger({changes:r,type:"statechanged"}),r}};function kh(l,n){return wr(l,Ac),l.state=wr({},l.state,n),"function"==typeof l.handleStateChanged&&di(l)&&l.on("statechanged",l.handleStateChanged),l}var Mc=function(n){return"string"!=typeof n?n:n.replace(/./,function(t){return t.toLowerCase()})},Mr=function(n){return"string"!=typeof n?n:n.replace(/./,function(t){return t.toUpperCase()})};function dr(){for(var l={},n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.forEach(function(e){!e||ns(e,function(a,u){_c(a)?(_c(l[u])||(l[u]={}),l[u]=dr(l[u],a)):l[u]=a})}),l}var TS=function(){function l(){this.map_={}}var n=l.prototype;return n.has=function(r){return r in this.map_},n.delete=function(r){var e=this.has(r);return delete this.map_[r],e},n.set=function(r,e){return this.map_[r]=e,this},n.forEach=function(r,e){for(var a in this.map_)r.call(e,this.map_[a],a,this)},l}(),Yu=oe().Map?oe().Map:TS,Lh=function(){function l(){this.set_={}}var n=l.prototype;return n.has=function(r){return r in this.set_},n.delete=function(r){var e=this.has(r);return delete this.set_[r],e},n.add=function(r){return this.set_[r]=1,this},n.forEach=function(r,e){for(var a in this.set_)r.call(e,a,a,this)},l}(),Yd=oe().Set?oe().Set:Lh,pt=function(){function l(t,r,e){if(this.player_=!t&&this.play?t=this:t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=dr({},this.options_),r=this.options_=dr(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){var a=t&&t.id&&t.id()||"no_player";this.id_=a+"_component_"+Ea()}this.name_=r.name||null,r.el?this.el_=r.el:!1!==r.createEl&&(this.el_=this.createEl()),!1!==r.evented&&(qd(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),kh(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Yd,this.setIntervalIds_=new Yd,this.rafIds_=new Yd,this.namedRafs_=new Yu,this.clearingTimersOnDispose_=!1,!1!==r.initChildren&&this.initChildren(),this.ready(e),!1!==r.reportTouchActivity&&this.enableTouchActivity()}var n=l.prototype;return n.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var r=this.children_.length-1;r>=0;r--)this.children_[r].dispose&&this.children_[r].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},n.isDisposed=function(){return Boolean(this.isDisposed_)},n.player=function(){return this.player_},n.options=function(r){return r?(this.options_=dr(this.options_,r),this.options_):this.options_},n.el=function(){return this.el_},n.createEl=function(r,e,a){return Mn(r,e,a)},n.localize=function(r,e,a){void 0===a&&(a=r);var u=this.player_.language&&this.player_.language(),d=this.player_.languages&&this.player_.languages(),p=d&&d[u],g=u&&u.split("-")[0],E=d&&d[g],N=a;return p&&p[r]?N=p[r]:E&&E[r]&&(N=E[r]),e&&(N=N.replace(/\{(\d+)\}/g,function(O,W){var J=e[W-1],Y=J;return void 0===J&&(Y=O),Y})),N},n.handleLanguagechange=function(){},n.contentEl=function(){return this.contentEl_||this.el_},n.id=function(){return this.id_},n.name=function(){return this.name_},n.children=function(){return this.children_},n.getChildById=function(r){return this.childIndex_[r]},n.getChild=function(r){if(r)return this.childNameIndex_[r]},n.getDescendant=function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];e=e.reduce(function(p,g){return p.concat(g)},[]);for(var u=this,d=0;d<e.length;d++)if(!(u=u.getChild(e[d]))||!u.getChild)return;return u},n.addChild=function(r,e,a){var u,d;if(void 0===e&&(e={}),void 0===a&&(a=this.children_.length),"string"==typeof r){d=Mr(r);var p=e.componentClass||d;e.name=d;var g=l.getComponent(p);if(!g)throw new Error("Component "+p+" does not exist");if("function"!=typeof g)return null;u=new g(this.player_||this,e)}else u=r;if(u.parentComponent_&&u.parentComponent_.removeChild(u),this.children_.splice(a,0,u),u.parentComponent_=this,"function"==typeof u.id&&(this.childIndex_[u.id()]=u),(d=d||u.name&&Mr(u.name()))&&(this.childNameIndex_[d]=u,this.childNameIndex_[Mc(d)]=u),"function"==typeof u.el&&u.el()){var E=null;this.children_[a+1]&&(this.children_[a+1].el_?E=this.children_[a+1].el_:Wu(this.children_[a+1])&&(E=this.children_[a+1])),this.contentEl().insertBefore(u.el(),E)}return u},n.removeChild=function(r){if("string"==typeof r&&(r=this.getChild(r)),r&&this.children_){for(var e=!1,a=this.children_.length-1;a>=0;a--)if(this.children_[a]===r){e=!0,this.children_.splice(a,1);break}if(e){r.parentComponent_=null,this.childIndex_[r.id()]=null,this.childNameIndex_[Mr(r.name())]=null,this.childNameIndex_[Mc(r.name())]=null;var u=r.el();u&&u.parentNode===this.contentEl()&&this.contentEl().removeChild(r.el())}}},n.initChildren=function(){var r=this,e=this.options_.children;if(e){var d,a=this.options_,p=l.getComponent("Tech");(d=Array.isArray(e)?e:Object.keys(e)).concat(Object.keys(this.options_).filter(function(g){return!d.some(function(E){return"string"==typeof E?g===E:g===E.name})})).map(function(g){var E,N;return"string"==typeof g?N=e[E=g]||r.options_[E]||{}:(E=g.name,N=g),{name:E,opts:N}}).filter(function(g){var E=l.getComponent(g.opts.componentClass||Mr(g.name));return E&&!p.isTech(E)}).forEach(function(E){var N=E.name,O=E.opts;if(void 0!==a[N]&&(O=a[N]),!1!==O){!0===O&&(O={}),O.playerOptions=r.options_.playerOptions;var W=r.addChild(N,O);W&&(r[N]=W)}})}},n.buildCSSClass=function(){return""},n.ready=function(r,e){if(void 0===e&&(e=!1),r){if(!this.isReady_)return this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(r);e?r.call(this):this.setTimeout(r,1)}},n.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var r=this.readyQueue_;this.readyQueue_=[],r&&r.length>0&&r.forEach(function(e){e.call(this)},this),this.trigger("ready")},1)},n.$=function(r,e){return Ar(r,e||this.contentEl())},n.$$=function(r,e){return Xu(r,e||this.contentEl())},n.hasClass=function(r){return yo(this.el_,r)},n.addClass=function(r){Ys(this.el_,r)},n.removeClass=function(r){bc(this.el_,r)},n.toggleClass=function(r,e){Rr(this.el_,r,e)},n.show=function(){this.removeClass("vjs-hidden")},n.hide=function(){this.addClass("vjs-hidden")},n.lockShowing=function(){this.addClass("vjs-lock-showing")},n.unlockShowing=function(){this.removeClass("vjs-lock-showing")},n.getAttribute=function(r){return jd(this.el_,r)},n.setAttribute=function(r,e){Zo(this.el_,r,e)},n.removeAttribute=function(r){Wd(this.el_,r)},n.width=function(r,e){return this.dimension("width",r,e)},n.height=function(r,e){return this.dimension("height",r,e)},n.dimensions=function(r,e){this.width(r,!0),this.height(e)},n.dimension=function(r,e,a){if(void 0!==e)return(null===e||e!=e)&&(e=0),this.el_.style[r]=-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?e:"auto"===e?"":e+"px",void(a||this.trigger("componentresize"));if(!this.el_)return 0;var u=this.el_.style[r],d=u.indexOf("px");return parseInt(-1!==d?u.slice(0,d):this.el_["offset"+Mr(r)],10)},n.currentDimension=function(r){var e=0;if("width"!==r&&"height"!==r)throw new Error("currentDimension only accepts width or height value");if(e=Tc(this.el_,r),0===(e=parseFloat(e))||isNaN(e)){var a="offset"+Mr(r);e=this.el_[a]}return e},n.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},n.currentWidth=function(){return this.currentDimension("width")},n.currentHeight=function(){return this.currentDimension("height")},n.focus=function(){this.el_.focus()},n.blur=function(){this.el_.blur()},n.handleKeyDown=function(r){this.player_&&(Qt().isEventKey(r,"Tab")||r.stopPropagation(),this.player_.handleKeyDown(r))},n.handleKeyPress=function(r){this.handleKeyDown(r)},n.emitTapEvents=function(){var d,r=0,e=null;this.on("touchstart",function(g){1===g.touches.length&&(e={pageX:g.touches[0].pageX,pageY:g.touches[0].pageY},r=oe().performance.now(),d=!0)}),this.on("touchmove",function(g){if(g.touches.length>1)d=!1;else if(e){var E=g.touches[0].pageX-e.pageX,N=g.touches[0].pageY-e.pageY;Math.sqrt(E*E+N*N)>10&&(d=!1)}});var p=function(){d=!1};this.on("touchleave",p),this.on("touchcancel",p),this.on("touchend",function(g){e=null,!0===d&&oe().performance.now()-r<200&&(g.preventDefault(),this.trigger("tap"))})},n.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var e,r=cr(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){r(),this.clearInterval(e),e=this.setInterval(r,250)});var a=function(d){r(),this.clearInterval(e)};this.on("touchmove",r),this.on("touchend",a),this.on("touchcancel",a)}},n.setTimeout=function(r,e){var u,a=this;return r=cr(this,r),this.clearTimersOnDispose_(),u=oe().setTimeout(function(){a.setTimeoutIds_.has(u)&&a.setTimeoutIds_.delete(u),r()},e),this.setTimeoutIds_.add(u),u},n.clearTimeout=function(r){return this.setTimeoutIds_.has(r)&&(this.setTimeoutIds_.delete(r),oe().clearTimeout(r)),r},n.setInterval=function(r,e){r=cr(this,r),this.clearTimersOnDispose_();var a=oe().setInterval(r,e);return this.setIntervalIds_.add(a),a},n.clearInterval=function(r){return this.setIntervalIds_.has(r)&&(this.setIntervalIds_.delete(r),oe().clearInterval(r)),r},n.requestAnimationFrame=function(r){var a,e=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),r=cr(this,r),a=oe().requestAnimationFrame(function(){e.rafIds_.has(a)&&e.rafIds_.delete(a),r()}),this.rafIds_.add(a),a):this.setTimeout(r,1e3/60)},n.requestNamedAnimationFrame=function(r,e){var a=this;if(!this.namedRafs_.has(r)){this.clearTimersOnDispose_(),e=cr(this,e);var u=this.requestAnimationFrame(function(){e(),a.namedRafs_.has(r)&&a.namedRafs_.delete(r)});return this.namedRafs_.set(r,u),r}},n.cancelNamedAnimationFrame=function(r){!this.namedRafs_.has(r)||(this.cancelAnimationFrame(this.namedRafs_.get(r)),this.namedRafs_.delete(r))},n.cancelAnimationFrame=function(r){return this.supportsRaf_?(this.rafIds_.has(r)&&(this.rafIds_.delete(r),oe().cancelAnimationFrame(r)),r):this.clearTimeout(r)},n.clearTimersOnDispose_=function(){var r=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(e){var u=e[1];r[e[0]].forEach(function(d,p){return r[u](p)})}),r.clearingTimersOnDispose_=!1}))},l.registerComponent=function(r,e){if("string"!=typeof r||!r)throw new Error('Illegal component name, "'+r+'"; must be a non-empty string.');var a=l.getComponent("Tech"),u=a&&a.isTech(e),d=l===e||l.prototype.isPrototypeOf(e.prototype);if(u||!d)throw new Error('Illegal component, "'+r+'"; '+(u?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");r=Mr(r),l.components_||(l.components_={});var g=l.getComponent("Player");if("Player"===r&&g&&g.players){var E=g.players,N=Object.keys(E);if(E&&N.length>0&&N.map(function(O){return E[O]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return l.components_[r]=e,l.components_[Mc(r)]=e,e},l.getComponent=function(r){if(r&&l.components_)return l.components_[r]},l}();function ym(l,n,t,r){return function Fh(l,n,t){if("number"!=typeof n||n<0||n>t)throw new Error("Failed to execute '"+l+"' on 'TimeRanges': The index provided ("+n+") is non-numeric or out of bounds (0-"+t+").")}(l,r,t.length-1),t[r][n]}function Bh(l){var n;return n=void 0===l||0===l.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:l.length,start:ym.bind(null,"start",0,l),end:ym.bind(null,"end",1,l)},oe().Symbol&&oe().Symbol.iterator&&(n[oe().Symbol.iterator]=function(){return(l||[]).values()}),n}function tu(l,n){return Array.isArray(l)?Bh(l):void 0===l||void 0===n?Bh():Bh([[l,n]])}function _m(l,n){var r,e,t=0;if(!n)return 0;(!l||!l.length)&&(l=tu(0,0));for(var a=0;a<l.length;a++)r=l.start(a),(e=l.end(a))>n&&(e=n),t+=e-r;return t/n}function Hi(l){if(l instanceof Hi)return l;"number"==typeof l?this.code=l:"string"==typeof l?this.message=l:Wa(l)&&("number"==typeof l.code&&(this.code=l.code),wr(this,l)),this.message||(this.message=Hi.defaultMessages[this.code]||"")}pt.prototype.supportsRaf_="function"==typeof oe().requestAnimationFrame&&"function"==typeof oe().cancelAnimationFrame,pt.registerComponent("Component",pt),Hi.prototype.code=0,Hi.prototype.message="",Hi.prototype.status=null,Hi.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],Hi.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Qu=0;Qu<Hi.errorTypes.length;Qu++)Hi[Hi.errorTypes[Qu]]=Qu,Hi.prototype[Hi.errorTypes[Qu]]=Qu;function Zu(l){return null!=l&&"function"==typeof l.then}function Is(l){Zu(l)&&l.then(null,function(n){})}var Qd=function(n){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(r,e,a){return n[e]&&(r[e]=n[e]),r},{cues:n.cues&&Array.prototype.map.call(n.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})})},Zd="vjs-modal-dialog",nu=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).handleKeyDown_=function(u){return a.handleKeyDown(u)},a.close_=function(u){return a.close(u)},a.opened_=a.hasBeenOpened_=a.hasBeenFilled_=!1,a.closeable(!a.options_.uncloseable),a.content(a.options_.content),a.contentEl_=Mn("div",{className:Zd+"-content"},{role:"document"}),a.descEl_=Mn("p",{className:Zd+"-description vjs-control-text",id:a.el().getAttribute("aria-describedby")}),vo(a.descEl_,a.description()),a.el_.appendChild(a.descEl_),a.el_.appendChild(a.contentEl_),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){return l.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,l.prototype.dispose.call(this)},t.buildCSSClass=function(){return Zd+" vjs-hidden "+l.prototype.buildCSSClass.call(this)},t.label=function(){return this.localize(this.options_.label||"Modal Window")},t.description=function(){var e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e},t.open=function(){if(!this.opened_){var e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.opened=function(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_},t.close=function(){if(this.opened_){var e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.closeable=function(e){if("boolean"==typeof e){var a=this.closeable_=!!e,u=this.getChild("closeButton");if(a&&!u){var d=this.contentEl_;this.contentEl_=this.el_,u=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=d,this.on(u,"close",this.close_)}!a&&u&&(this.off(u,"close",this.close_),this.removeChild(u),u.dispose())}return this.closeable_},t.fill=function(){this.fillWith(this.content())},t.fillWith=function(e){var a=this.contentEl(),u=a.parentNode,d=a.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,u.removeChild(a),this.empty(),Mh(a,e),this.trigger("modalfill"),d?u.insertBefore(a,d):u.appendChild(a);var p=this.getChild("closeButton");p&&u.appendChild(p.el_)},t.empty=function(){this.trigger("beforemodalempty"),Jo(this.contentEl()),this.trigger("modalempty")},t.content=function(e){return void 0!==e&&(this.content_=e),this.content_},t.conditionalFocus_=function(){var e=at().activeElement,a=this.player_.el_;this.previouslyActiveEl_=null,(a.contains(e)||a===e)&&(this.previouslyActiveEl_=e,this.focus())},t.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},t.handleKeyDown=function(e){if(e.stopPropagation(),Qt().isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(Qt().isEventKey(e,"Tab")){for(var d,a=this.focusableEls_(),u=this.el_.querySelector(":focus"),p=0;p<a.length;p++)if(u===a[p]){d=p;break}at().activeElement===this.el_&&(d=0),e.shiftKey&&0===d?(a[a.length-1].focus(),e.preventDefault()):!e.shiftKey&&d===a.length-1&&(a[0].focus(),e.preventDefault())}},t.focusableEls_=function(){var e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,function(a){return(a instanceof oe().HTMLAnchorElement||a instanceof oe().HTMLAreaElement)&&a.hasAttribute("href")||(a instanceof oe().HTMLInputElement||a instanceof oe().HTMLSelectElement||a instanceof oe().HTMLTextAreaElement||a instanceof oe().HTMLButtonElement)&&!a.hasAttribute("disabled")||a instanceof oe().HTMLIFrameElement||a instanceof oe().HTMLObjectElement||a instanceof oe().HTMLEmbedElement||a.hasAttribute("tabindex")&&-1!==a.getAttribute("tabindex")||a.hasAttribute("contenteditable")})},n}(pt);nu.prototype.options_={pauseOnOpen:!0,temporary:!0},pt.registerComponent("ModalDialog",nu);var Ps=function(l){function n(r){var e;void 0===r&&(r=[]),(e=l.call(this)||this).tracks_=[],Object.defineProperty(Kt(e),"length",{get:function(){return this.tracks_.length}});for(var a=0;a<r.length;a++)e.addTrack(r[a]);return e}Dt(n,l);var t=n.prototype;return t.addTrack=function(e){var a=this,u=this.tracks_.length;""+u in this||Object.defineProperty(this,u,{get:function(){return this.tracks_[u]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=function(){a.trigger({track:e,type:"labelchange",target:a})},di(e)&&e.addEventListener("labelchange",e.labelchange_)},t.removeTrack=function(e){for(var a,u=0,d=this.length;u<d;u++)if(this[u]===e){(a=this[u]).off&&a.off(),this.tracks_.splice(u,1);break}!a||this.trigger({track:a,type:"removetrack",target:this})},t.getTrackById=function(e){for(var a=null,u=0,d=this.length;u<d;u++){var p=this[u];if(p.id===e){a=p;break}}return a},n}(ci);for(var bm in Ps.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Ps.prototype.allowedEvents_)Ps.prototype["on"+bm]=null;var Jd=function(n,t){for(var r=0;r<n.length;r++)!Object.keys(n[r]).length||t.id===n[r].id||(n[r].enabled=!1)},u_=function(l){function n(r){var e;void 0===r&&(r=[]);for(var a=r.length-1;a>=0;a--)if(r[a].enabled){Jd(r,r[a]);break}return(e=l.call(this,r)||this).changing_=!1,e}Dt(n,l);var t=n.prototype;return t.addTrack=function(e){var a=this;e.enabled&&Jd(this,e),l.prototype.addTrack.call(this,e),e.addEventListener&&(e.enabledChange_=function(){a.changing_||(a.changing_=!0,Jd(a,e),a.changing_=!1,a.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))},t.removeTrack=function(e){l.prototype.removeTrack.call(this,e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)},n}(Ps),Ju=function(n,t){for(var r=0;r<n.length;r++)!Object.keys(n[r]).length||t.id===n[r].id||(n[r].selected=!1)},l_=function(l){function n(r){var e;void 0===r&&(r=[]);for(var a=r.length-1;a>=0;a--)if(r[a].selected){Ju(r,r[a]);break}return(e=l.call(this,r)||this).changing_=!1,Object.defineProperty(Kt(e),"selectedIndex",{get:function(){for(var d=0;d<this.length;d++)if(this[d].selected)return d;return-1},set:function(){}}),e}Dt(n,l);var t=n.prototype;return t.addTrack=function(e){var a=this;e.selected&&Ju(this,e),l.prototype.addTrack.call(this,e),e.addEventListener&&(e.selectedChange_=function(){a.changing_||(a.changing_=!0,Ju(a,e),a.changing_=!1,a.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))},t.removeTrack=function(e){l.prototype.removeTrack.call(this,e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)},n}(Ps),Vh=function(l){function n(){return l.apply(this,arguments)||this}Dt(n,l);var t=n.prototype;return t.addTrack=function(e){var a=this;l.prototype.addTrack.call(this,e),this.queueChange_||(this.queueChange_=function(){return a.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return a.trigger("selectedlanguagechange")}),e.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)},t.removeTrack=function(e){l.prototype.removeTrack.call(this,e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},n}(Ps),Sm=function(){function l(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var r=0,e=t.length;r<e;r++)this.addTrackElement_(t[r])}var n=l.prototype;return n.addTrackElement_=function(r){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(r)&&this.trackElements_.push(r)},n.getTrackElementByTrack_=function(r){for(var e,a=0,u=this.trackElements_.length;a<u;a++)if(r===this.trackElements_[a].track){e=this.trackElements_[a];break}return e},n.removeTrackElement_=function(r){for(var e=0,a=this.trackElements_.length;e<a;e++)if(r===this.trackElements_[e]){this.trackElements_[e].track&&"function"==typeof this.trackElements_[e].track.off&&this.trackElements_[e].track.off(),"function"==typeof this.trackElements_[e].off&&this.trackElements_[e].off(),this.trackElements_.splice(e,1);break}},l}(),Hh=function(){function l(t){l.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var n=l.prototype;return n.setCues_=function(r){var e=this.length||0,a=0,u=r.length;this.cues_=r,this.length_=r.length;var d=function(g){""+g in this||Object.defineProperty(this,""+g,{get:function(){return this.cues_[g]}})};if(e<u)for(a=e;a<u;a++)d.call(this,a)},n.getCueById=function(r){for(var e=null,a=0,u=this.length;a<u;a++){var d=this[a];if(d.id===r){e=d;break}}return e},l}(),Gh={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Em={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},ef={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Ic={disabled:"disabled",hidden:"hidden",showing:"showing"},tf=function(l){function n(t){var r;void 0===t&&(t={}),r=l.call(this)||this;var e={id:t.id||"vjs_track_"+Ea(),kind:t.kind||"",language:t.language||""},a=t.label||"",u=function(g){Object.defineProperty(Kt(r),g,{get:function(){return e[g]},set:function(){}})};for(var d in e)u(d);return Object.defineProperty(Kt(r),"label",{get:function(){return a},set:function(g){g!==a&&(a=g,this.trigger("labelchange"))}}),r}return Dt(n,l),n}(ci),Pc=function(n){var t=["protocol","hostname","port","pathname","search","hash","host"],r=at().createElement("a");r.href=n;for(var e={},a=0;a<t.length;a++)e[t[a]]=r[t[a]];return"http:"===e.protocol&&(e.host=e.host.replace(/:80$/,"")),"https:"===e.protocol&&(e.host=e.host.replace(/:443$/,"")),e.protocol||(e.protocol=oe().location.protocol),e.host||(e.host=oe().location.host),e},jh=function(n){if(!n.match(/^https?:\/\//)){var t=at().createElement("a");t.href=n,n=t.href}return n},Oc=function(n){if("string"==typeof n){var r=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(n);if(r)return r.pop().toLowerCase()}return""},_o=function(n,t){void 0===t&&(t=oe().location);var r=Pc(n);return(":"===r.protocol?t.protocol:r.protocol)+r.host!==t.protocol+t.host},c_=Object.freeze({__proto__:null,parseUrl:Pc,getAbsoluteURL:jh,getFileExtension:Oc,isCrossOrigin:_o}),Wh=function(n,t){var r=new(oe().WebVTT.Parser)(oe(),oe().vttjs,oe().WebVTT.StringDecoder()),e=[];r.oncue=function(a){t.addCue(a)},r.onparsingerror=function(a){e.push(a)},r.onflush=function(){t.trigger({type:"loadeddata",target:t})},r.parse(n),e.length>0&&(oe().console&&oe().console.groupCollapsed&&oe().console.groupCollapsed("Text Track parsing errors for "+t.src),e.forEach(function(a){return _n.error(a)}),oe().console&&oe().console.groupEnd&&oe().console.groupEnd()),r.flush()},Cm=function(n,t){var r={uri:n},e=_o(n);e&&(r.cors=e);var a="use-credentials"===t.tech_.crossOrigin();a&&(r.withCredentials=a),M()(r,cr(this,function(u,d,p){if(u)return _n.error(u,d);t.loaded_=!0,"function"!=typeof oe().WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],function(g){if("vttjserror"!==g.type)return Wh(p,t);_n.error("vttjs failed to load, stopping trying to process "+t.src)}):Wh(p,t)}))},Rc=function(l){function n(r){var e;if(void 0===r&&(r={}),!r.tech)throw new Error("A tech was not provided.");var a=dr(r,{kind:ef[r.kind]||"subtitles",language:r.language||r.srclang||""}),u=Ic[a.mode]||"disabled",d=a.default;("metadata"===a.kind||"chapters"===a.kind)&&(u="hidden"),(e=l.call(this,a)||this).tech_=a.tech,e.cues_=[],e.activeCues_=[],e.preload_=!1!==e.tech_.preloadTextTracks;var p=new Hh(e.cues_),g=new Hh(e.activeCues_),E=!1,N=cr(Kt(e),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,E&&(this.trigger("cuechange"),E=!1))});return e.tech_.one("dispose",function(){e.tech_.off("timeupdate",N)}),"disabled"!==u&&e.tech_.on("timeupdate",N),Object.defineProperties(Kt(e),{default:{get:function(){return d},set:function(){}},mode:{get:function(){return u},set:function(J){!Ic[J]||u!==J&&(u=J,!this.preload_&&"disabled"!==u&&0===this.cues.length&&Cm(this.src,this),this.tech_.off("timeupdate",N),"disabled"!==u&&this.tech_.on("timeupdate",N),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?p:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return g;for(var J=this.tech_.currentTime(),Y=[],Q=0,Pe=this.cues.length;Q<Pe;Q++){var ke=this.cues[Q];(ke.startTime<=J&&ke.endTime>=J||ke.startTime===ke.endTime&&ke.startTime<=J&&ke.startTime+.5>=J)&&Y.push(ke)}if(E=!1,Y.length!==this.activeCues_.length)E=!0;else for(var je=0;je<Y.length;je++)-1===this.activeCues_.indexOf(Y[je])&&(E=!0);return this.activeCues_=Y,g.setCues_(this.activeCues_),g},set:function(){}}}),a.src?(e.src=a.src,e.preload_||(e.loaded_=!0),(e.preload_||"subtitles"!==a.kind&&"captions"!==a.kind)&&Cm(e.src,Kt(e))):e.loaded_=!0,e}Dt(n,l);var t=n.prototype;return t.addCue=function(e){var a=e;if(oe().vttjs&&!(e instanceof oe().vttjs.VTTCue)){for(var u in a=new(oe().vttjs.VTTCue)(e.startTime,e.endTime,e.text),e)u in a||(a[u]=e[u]);a.id=e.id,a.originalCue_=e}for(var d=this.tech_.textTracks(),p=0;p<d.length;p++)d[p]!==this&&d[p].removeCue(a);this.cues_.push(a),this.cues.setCues_(this.cues_)},t.removeCue=function(e){for(var a=this.cues_.length;a--;){var u=this.cues_[a];if(u===e||u.originalCue_&&u.originalCue_===e){this.cues_.splice(a,1),this.cues.setCues_(this.cues_);break}}},n}(tf);Rc.prototype.allowedEvents_={cuechange:"cuechange"};var $h=function(l){function n(t){var r;void 0===t&&(t={});var e=dr(t,{kind:Em[t.kind]||""});r=l.call(this,e)||this;var a=!1;return Object.defineProperty(Kt(r),"enabled",{get:function(){return a},set:function(d){"boolean"!=typeof d||d===a||(a=d,this.trigger("enabledchange"))}}),e.enabled&&(r.enabled=e.enabled),r.loaded_=!0,r}return Dt(n,l),n}(tf),nf=function(l){function n(t){var r;void 0===t&&(t={});var e=dr(t,{kind:Gh[t.kind]||""});r=l.call(this,e)||this;var a=!1;return Object.defineProperty(Kt(r),"selected",{get:function(){return a},set:function(d){"boolean"!=typeof d||d===a||(a=d,this.trigger("selectedchange"))}}),e.selected&&(r.selected=e.selected),r}return Dt(n,l),n}(tf),ru=function(l){function n(t){var r;void 0===t&&(t={}),r=l.call(this)||this;var e,a=new Rc(t);return r.kind=a.kind,r.src=a.src,r.srclang=a.language,r.label=a.label,r.default=a.default,Object.defineProperties(Kt(r),{readyState:{get:function(){return e}},track:{get:function(){return a}}}),e=0,a.addEventListener("loadeddata",function(){e=2,r.trigger({type:"load",target:Kt(r)})}),r}return Dt(n,l),n}(ci);ru.prototype.allowedEvents_={load:"load"},ru.NONE=0,ru.LOADING=1,ru.LOADED=2,ru.ERROR=3;var Os={audio:{ListClass:u_,TrackClass:$h,capitalName:"Audio"},video:{ListClass:l_,TrackClass:nf,capitalName:"Video"},text:{ListClass:Vh,TrackClass:Rc,capitalName:"Text"}};Object.keys(Os).forEach(function(l){Os[l].getterName=l+"Tracks",Os[l].privateName=l+"Tracks_"});var el={remoteText:{ListClass:Vh,TrackClass:Rc,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Sm,TrackClass:ru,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},vr=kn({},Os,el);el.names=Object.keys(el),Os.names=Object.keys(Os),vr.names=[].concat(el.names).concat(Os.names);var ar=function(l){function n(r,e){var a;return void 0===r&&(r={}),void 0===e&&(e=function(){}),r.reportTouchActivity=!1,(a=l.call(this,null,r,e)||this).onDurationChange_=function(u){return a.onDurationChange(u)},a.trackProgress_=function(u){return a.trackProgress(u)},a.trackCurrentTime_=function(u){return a.trackCurrentTime(u)},a.stopTrackingCurrentTime_=function(u){return a.stopTrackingCurrentTime(u)},a.disposeSourceHandler_=function(u){return a.disposeSourceHandler(u)},a.hasStarted_=!1,a.on("playing",function(){this.hasStarted_=!0}),a.on("loadstart",function(){this.hasStarted_=!1}),vr.names.forEach(function(u){var d=vr[u];r&&r[d.getterName]&&(a[d.privateName]=r[d.getterName])}),a.featuresProgressEvents||a.manualProgressOn(),a.featuresTimeupdateEvents||a.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(u){!1===r["native"+u+"Tracks"]&&(a["featuresNative"+u+"Tracks"]=!1)}),!1===r.nativeCaptions||!1===r.nativeTextTracks?a.featuresNativeTextTracks=!1:(!0===r.nativeCaptions||!0===r.nativeTextTracks)&&(a.featuresNativeTextTracks=!0),a.featuresNativeTextTracks||a.emulateTextTracks(),a.preloadTextTracks=!1!==r.preloadTextTracks,a.autoRemoteTextTracks_=new vr.text.ListClass,a.initTrackListeners(),r.nativeControlsForTouch||a.emitTapEvents(),a.constructor&&(a.name_=a.constructor.name||"Unknown Tech"),a}Dt(n,l);var t=n.prototype;return t.triggerSourceset=function(e){var a=this;this.isReady_||this.one("ready",function(){return a.setTimeout(function(){return a.triggerSourceset(e)},1)}),this.trigger({src:e,type:"sourceset"})},t.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},t.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},t.trackProgress=function(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(cr(this,function(){var a=this.bufferedPercent();this.bufferedPercent_!==a&&this.trigger("progress"),this.bufferedPercent_=a,1===a&&this.stopTrackingProgress()}),500)},t.onDurationChange=function(e){this.duration_=this.duration()},t.buffered=function(){return tu(0,0)},t.bufferedPercent=function(){return _m(this.buffered(),this.duration_)},t.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},t.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},t.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.dispose=function(){this.clearTracks(Os.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),l.prototype.dispose.call(this)},t.clearTracks=function(e){var a=this;(e=[].concat(e)).forEach(function(u){for(var d=a[u+"Tracks"]()||[],p=d.length;p--;){var g=d[p];"text"===u&&a.removeRemoteTextTrack(g),d.removeTrack(g)}})},t.cleanupAutoTextTracks=function(){for(var e=this.autoRemoteTextTracks_||[],a=e.length;a--;)this.removeRemoteTextTrack(e[a])},t.reset=function(){},t.crossOrigin=function(){},t.setCrossOrigin=function(){},t.error=function(e){return void 0!==e&&(this.error_=new Hi(e),this.trigger("error")),this.error_},t.played=function(){return this.hasStarted_?tu(0,0):tu()},t.play=function(){},t.setScrubbing=function(){},t.scrubbing=function(){},t.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.initTrackListeners=function(){var e=this;Os.names.forEach(function(a){var d=function(){e.trigger(a+"trackchange")},p=e[Os[a].getterName]();p.addEventListener("removetrack",d),p.addEventListener("addtrack",d),e.on("dispose",function(){p.removeEventListener("removetrack",d),p.removeEventListener("addtrack",d)})})},t.addWebVttScript_=function(){var e=this;if(!oe().WebVTT)if(at().body.contains(this.el())){if(!this.options_["vtt.js"]&&_c(Je())&&Object.keys(Je()).length>0)return void this.trigger("vttjsloaded");var a=at().createElement("script");a.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",a.onload=function(){e.trigger("vttjsloaded")},a.onerror=function(){e.trigger("vttjserror")},this.on("dispose",function(){a.onload=null,a.onerror=null}),oe().WebVTT=!0,this.el().parentNode.appendChild(a)}else this.ready(this.addWebVttScript_)},t.emulateTextTracks=function(){var e=this,a=this.textTracks(),u=this.remoteTextTracks(),d=function(O){return a.addTrack(O.track)},p=function(O){return a.removeTrack(O.track)};u.on("addtrack",d),u.on("removetrack",p),this.addWebVttScript_();var g=function(){return e.trigger("texttrackchange")},E=function(){g();for(var O=0;O<a.length;O++){var W=a[O];W.removeEventListener("cuechange",g),"showing"===W.mode&&W.addEventListener("cuechange",g)}};E(),a.addEventListener("change",E),a.addEventListener("addtrack",E),a.addEventListener("removetrack",E),this.on("dispose",function(){u.off("addtrack",d),u.off("removetrack",p),a.removeEventListener("change",E),a.removeEventListener("addtrack",E),a.removeEventListener("removetrack",E);for(var N=0;N<a.length;N++)a[N].removeEventListener("cuechange",g)})},t.addTextTrack=function(e,a,u){if(!e)throw new Error("TextTrack kind is required but was not provided");return function f_(l,n,t,r,e){void 0===e&&(e={});var a=l.textTracks();e.kind=n,t&&(e.label=t),r&&(e.language=r),e.tech=l;var u=new vr.text.TrackClass(e);return a.addTrack(u),u}(this,e,a,u)},t.createRemoteTextTrack=function(e){var a=dr(e,{tech:this});return new el.remoteTextEl.TrackClass(a)},t.addRemoteTextTrack=function(e,a){var u=this;void 0===e&&(e={});var d=this.createRemoteTextTrack(e);return!0!==a&&!1!==a&&(_n.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),a=!0),this.remoteTextTrackEls().addTrackElement_(d),this.remoteTextTracks().addTrack(d.track),!0!==a&&this.ready(function(){return u.autoRemoteTextTracks_.addTrack(d.track)}),d},t.removeRemoteTextTrack=function(e){var a=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(a),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)},t.getVideoPlaybackQuality=function(){return{}},t.requestPictureInPicture=function(){var e=this.options_.Promise||oe().Promise;if(e)return e.reject()},t.disablePictureInPicture=function(){return!0},t.setDisablePictureInPicture=function(){},t.setPoster=function(){},t.playsinline=function(){},t.setPlaysinline=function(){},t.overrideNativeAudioTracks=function(){},t.overrideNativeVideoTracks=function(){},t.canPlayType=function(){return""},n.canPlayType=function(){return""},n.canPlaySource=function(e,a){return n.canPlayType(e.type)},n.isTech=function(e){return e.prototype instanceof n||e instanceof n||e===n},n.registerTech=function(e,a){if(n.techs_||(n.techs_={}),!n.isTech(a))throw new Error("Tech "+e+" must be a Tech");if(!n.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!n.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Mr(e),n.techs_[e]=a,n.techs_[Mc(e)]=a,"Tech"!==e&&n.defaultTechOrder_.push(e),a},n.getTech=function(e){if(e){if(n.techs_&&n.techs_[e])return n.techs_[e];if(e=Mr(e),oe()&&oe().videojs&&oe().videojs[e])return _n.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),oe().videojs[e]}},n}(pt);vr.names.forEach(function(l){var n=vr[l];ar.prototype[n.getterName]=function(){return this[n.privateName]=this[n.privateName]||new n.ListClass,this[n.privateName]}}),ar.prototype.featuresVolumeControl=!0,ar.prototype.featuresMuteControl=!0,ar.prototype.featuresFullscreenResize=!1,ar.prototype.featuresPlaybackRate=!1,ar.prototype.featuresProgressEvents=!1,ar.prototype.featuresSourceset=!1,ar.prototype.featuresTimeupdateEvents=!1,ar.prototype.featuresNativeTextTracks=!1,ar.withSourceHandlers=function(l){l.registerSourceHandler=function(t,r){var e=l.sourceHandlers;e||(e=l.sourceHandlers=[]),void 0===r&&(r=e.length),e.splice(r,0,t)},l.canPlayType=function(t){for(var e,r=l.sourceHandlers||[],a=0;a<r.length;a++)if(e=r[a].canPlayType(t))return e;return""},l.selectSourceHandler=function(t,r){for(var e=l.sourceHandlers||[],u=0;u<e.length;u++)if(e[u].canHandleSource(t,r))return e[u];return null},l.canPlaySource=function(t,r){var e=l.selectSourceHandler(t,r);return e?e.canHandleSource(t,r):""},["seekable","seeking","duration"].forEach(function(t){var r=this[t];"function"==typeof r&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},l.prototype),l.prototype.setSource=function(t){var r=l.selectSourceHandler(t,this.options_);r||(l.nativeSourceHandler?r=l.nativeSourceHandler:_n.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==l.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=r.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},l.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},pt.registerComponent("Tech",ar),ar.registerTech("Tech",ar),ar.defaultTechOrder_=[];var iu={},Xh={},rf={};function Dm(l,n,t){l.setTimeout(function(){return Za(n,iu[n.type],t,l)},1)}function ln(l,n,t,r){void 0===r&&(r=null);var e="call"+Mr(t),a=l.reduce(tl(e),r),u=a===rf,d=u?null:n[t](a);return function Js(l,n,t,r){for(var e=l.length-1;e>=0;e--){var a=l[e];a[n]&&a[n](r,t)}}(l,t,d,u),d}var xm={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},wm={setCurrentTime:1,setMuted:1,setVolume:1},qh={play:1,pause:1};function tl(l){return function(n,t){return n===rf?rf:t[l]?t[l](n):n}}function Za(l,n,t,r,e,a){void 0===l&&(l={}),void 0===n&&(n=[]),void 0===e&&(e=[]),void 0===a&&(a=!1);var d=n[0],p=n.slice(1);if("string"==typeof d)Za(l,iu[d],t,r,e,a);else if(d){var g=function v_(l,n){var t=Xh[l.id()],r=null;if(null==t)return r=n(l),Xh[l.id()]=[[n,r]],r;for(var e=0;e<t.length;e++){var a=t[e];a[0]===n&&(r=a[1])}return null===r&&(r=n(l),t.push([n,r])),r}(r,d);if(!g.setSource)return e.push(g),Za(l,p,t,r,e,a);g.setSource(wr({},l),function(E,N){if(E)return Za(l,p,t,r,e,a);e.push(g),Za(N,l.type===N.type?p:iu[N.type],t,r,e,a)})}else p.length?Za(l,p,t,r,e,a):a?t(l,e):Za(l,iu["*"],t,r,e,!0)}var Ja={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},nl=function(n){void 0===n&&(n="");var t=Oc(n);return Ja[t.toLowerCase()]||""},Yh=function l(n){if(Array.isArray(n)){var t=[];n.forEach(function(r){r=l(r),Array.isArray(r)?t=t.concat(r):Wa(r)&&t.push(r)}),n=t}else n="string"==typeof n&&n.trim()?[y_({src:n})]:Wa(n)&&"string"==typeof n.src&&n.src&&n.src.trim()?[y_(n)]:[];return n};function y_(l){if(!l.type){var n=nl(l.src);n&&(l.type=n)}return l}var Im=function(l){function n(t,r,e){var a,u=dr({createEl:!1},r);if(a=l.call(this,t,u,e)||this,r.playerOptions.sources&&0!==r.playerOptions.sources.length)t.src(r.playerOptions.sources);else for(var d=0,p=r.playerOptions.techOrder;d<p.length;d++){var g=Mr(p[d]),E=ar.getTech(g);if(g||(E=pt.getComponent(g)),E&&E.isSupported()){t.loadTech_(g);break}}return a}return Dt(n,l),n}(pt);pt.registerComponent("MediaLoader",Im);var Qh=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).handleMouseOver_=function(u){return a.handleMouseOver(u)},a.handleMouseOut_=function(u){return a.handleMouseOut(u)},a.handleClick_=function(u){return a.handleClick(u)},a.handleKeyDown_=function(u){return a.handleKeyDown(u)},a.emitTapEvents(),a.enable(),a}Dt(n,l);var t=n.prototype;return t.createEl=function(e,a,u){void 0===e&&(e="div"),void 0===a&&(a={}),void 0===u&&(u={}),a=wr({className:this.buildCSSClass(),tabIndex:0},a),"button"===e&&_n.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),u=wr({role:"button"},u),this.tabIndex_=a.tabIndex;var d=Mn(e,a,u);return d.appendChild(Mn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(d),d},t.dispose=function(){this.controlTextEl_=null,l.prototype.dispose.call(this)},t.createControlTextEl=function(e){return this.controlTextEl_=Mn("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_},t.controlText=function(e,a){if(void 0===a&&(a=this.el()),void 0===e)return this.controlText_||"Need Text";var u=this.localize(e);this.controlText_=e,vo(this.controlTextEl_,u),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&a.setAttribute("title",u)},t.buildCSSClass=function(){return"vjs-control vjs-button "+l.prototype.buildCSSClass.call(this)},t.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},t.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},t.handleLanguagechange=function(){this.controlText(this.controlText_)},t.handleClick=function(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},t.handleKeyDown=function(e){Qt().isEventKey(e,"Space")||Qt().isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):l.prototype.handleKeyDown.call(this,e)},n}(pt);pt.registerComponent("ClickableComponent",Qh);var sf=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).update(),a.update_=function(u){return a.update(u)},r.on("posterchange",a.update_),a}Dt(n,l);var t=n.prototype;return t.dispose=function(){this.player().off("posterchange",this.update_),l.prototype.dispose.call(this)},t.createEl=function(){return Mn("div",{className:"vjs-poster",tabIndex:-1})},t.update=function(e){var a=this.player().poster();this.setSrc(a),a?this.show():this.hide()},t.setSrc=function(e){var a="";e&&(a='url("'+e+'")'),this.el_.style.backgroundImage=a},t.handleClick=function(e){if(this.player_.controls()){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((Ka||za)&&a)&&this.player_.tech(!0).focus(),this.player_.paused()?Is(this.player_.play()):this.player_.pause()}},n}(Qh);pt.registerComponent("PosterImage",sf);var Gi="#222",Zh={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function kc(l,n){var t;if(4===l.length)t=l[1]+l[1]+l[2]+l[2]+l[3]+l[3];else{if(7!==l.length)throw new Error("Invalid color code provided, "+l+"; must be formatted as e.g. #f0e or #f604e2.");t=l.slice(1)}return"rgba("+parseInt(t.slice(0,2),16)+","+parseInt(t.slice(2,4),16)+","+parseInt(t.slice(4,6),16)+","+n+")"}function Pm(l,n,t){try{l.style[n]=t}catch(r){return}}var __=function(l){function n(r,e,a){var u;u=l.call(this,r,e,a)||this;var d=function(g){return u.updateDisplay(g)};return r.on("loadstart",function(p){return u.toggleDisplay(p)}),r.on("texttrackchange",d),r.on("loadedmetadata",function(p){return u.preselectTrack(p)}),r.ready(cr(Kt(u),function(){if(r.tech_&&r.tech_.featuresNativeTextTracks)this.hide();else{r.on("fullscreenchange",d),r.on("playerresize",d),oe().addEventListener("orientationchange",d),r.on("dispose",function(){return oe().removeEventListener("orientationchange",d)});for(var p=this.options_.playerOptions.tracks||[],g=0;g<p.length;g++)this.player_.addRemoteTextTrack(p[g],!0);this.preselectTrack()}})),u}Dt(n,l);var t=n.prototype;return t.preselectTrack=function(){for(var d,p,g,e={captions:1,subtitles:1},a=this.player_.textTracks(),u=this.player_.cache_.selectedLanguage,E=0;E<a.length;E++){var N=a[E];u&&u.enabled&&u.language&&u.language===N.language&&N.kind in e?N.kind===u.kind?g=N:g||(g=N):u&&!u.enabled?(g=null,d=null,p=null):N.default&&("descriptions"!==N.kind||d?N.kind in e&&!p&&(p=N):d=N)}g?g.mode="showing":p?p.mode="showing":d&&(d.mode="showing")},t.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},t.clearDisplay=function(){"function"==typeof oe().WebVTT&&oe().WebVTT.processCues(oe(),[],this.el_)},t.updateDisplay=function(){var e=this.player_.textTracks(),a=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),a){for(var u=[],d=0;d<e.length;++d){var p=e[d];"showing"===p.mode&&u.push(p)}this.updateForTrack(u)}else{for(var g=null,E=null,N=e.length;N--;){var O=e[N];"showing"===O.mode&&("descriptions"===O.kind?g=O:E=O)}E?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(E)):g&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(g))}},t.updateDisplayState=function(e){for(var a=this.player_.textTrackSettings.getValues(),u=e.activeCues,d=u.length;d--;){var p=u[d];if(p){var g=p.displayState;if(a.color&&(g.firstChild.style.color=a.color),a.textOpacity&&Pm(g.firstChild,"color",kc(a.color||"#fff",a.textOpacity)),a.backgroundColor&&(g.firstChild.style.backgroundColor=a.backgroundColor),a.backgroundOpacity&&Pm(g.firstChild,"backgroundColor",kc(a.backgroundColor||"#000",a.backgroundOpacity)),a.windowColor&&(a.windowOpacity?Pm(g,"backgroundColor",kc(a.windowColor,a.windowOpacity)):g.style.backgroundColor=a.windowColor),a.edgeStyle&&("dropshadow"===a.edgeStyle?g.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+Gi:"raised"===a.edgeStyle?g.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+Gi:"depressed"===a.edgeStyle?g.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+Gi:"uniform"===a.edgeStyle&&(g.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+Gi)),a.fontPercent&&1!==a.fontPercent){var E=oe().parseFloat(g.style.fontSize);g.style.fontSize=E*a.fontPercent+"px",g.style.height="auto",g.style.top="auto"}a.fontFamily&&"default"!==a.fontFamily&&("small-caps"===a.fontFamily?g.firstChild.style.fontVariant="small-caps":g.firstChild.style.fontFamily=Zh[a.fontFamily])}}},t.updateForTrack=function(e){if(Array.isArray(e)||(e=[e]),"function"==typeof oe().WebVTT&&!e.every(function(W){return!W.activeCues})){for(var a=[],u=0;u<e.length;++u)for(var d=e[u],p=0;p<d.activeCues.length;++p)a.push(d.activeCues[p]);oe().WebVTT.processCues(oe(),a,this.el_);for(var g=0;g<e.length;++g){for(var E=e[g],N=0;N<E.activeCues.length;++N){var O=E.activeCues[N].displayState;Ys(O,"vjs-text-track-cue"),Ys(O,"vjs-text-track-cue-"+(E.language?E.language:g)),E.language&&Zo(O,"lang",E.language)}this.player_.textTrackSettings&&this.updateDisplayState(E)}}},n}(pt);pt.registerComponent("TextTrackDisplay",__);var T_=function(l){function n(){return l.apply(this,arguments)||this}return Dt(n,l),n.prototype.createEl=function(){var e=this.player_.isAudio(),a=this.localize(e?"Audio Player":"Video Player"),u=Mn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[a])}),d=l.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return d.appendChild(u),d},n}(pt);pt.registerComponent("LoadingSpinner",T_);var ea=function(l){function n(){return l.apply(this,arguments)||this}Dt(n,l);var t=n.prototype;return t.createEl=function(e,a,u){void 0===a&&(a={}),void 0===u&&(u={});var d=Mn("button",a=wr({className:this.buildCSSClass()},a),u=wr({type:"button"},u));return d.appendChild(Mn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(d),d},t.addChild=function(e,a){return void 0===a&&(a={}),_n.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),pt.prototype.addChild.call(this,e,a)},t.enable=function(){l.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.disable=function(){l.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.handleKeyDown=function(e){Qt().isEventKey(e,"Space")||Qt().isEventKey(e,"Enter")?e.stopPropagation():l.prototype.handleKeyDown.call(this,e)},n}(Qh);pt.registerComponent("Button",ea);var Om=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).mouseused_=!1,a.on("mousedown",function(u){return a.handleMouseDown(u)}),a}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-big-play-button"},t.handleClick=function(e){var a=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY){var u=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return Is(a),void(this.player_.tech(!0)&&(!Ka&&!za||!u)&&this.player_.tech(!0).focus())}var d=this.player_.getChild("controlBar"),p=d&&d.getChild("playToggle");if(p){var g=function(){return p.focus()};Zu(a)?a.then(g,function(){}):this.setTimeout(g,1)}else this.player_.tech(!0).focus()},t.handleKeyDown=function(e){this.mouseused_=!1,l.prototype.handleKeyDown.call(this,e)},t.handleMouseDown=function(e){this.mouseused_=!0},n}(ea);Om.prototype.controlText_="Play Video",pt.registerComponent("BigPlayButton",Om);var Rm=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).controlText(e&&e.controlText||a.localize("Close")),a}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-close-button "+l.prototype.buildCSSClass.call(this)},t.handleClick=function(e){this.trigger({type:"close",bubbles:!1})},t.handleKeyDown=function(e){Qt().isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):l.prototype.handleKeyDown.call(this,e)},n}(ea);pt.registerComponent("CloseButton",Rm);var b_=function(l){function n(r,e){var a;return void 0===e&&(e={}),a=l.call(this,r,e)||this,e.replay=void 0===e.replay||e.replay,a.on(r,"play",function(u){return a.handlePlay(u)}),a.on(r,"pause",function(u){return a.handlePause(u)}),e.replay&&a.on(r,"ended",function(u){return a.handleEnded(u)}),a}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-play-control "+l.prototype.buildCSSClass.call(this)},t.handleClick=function(e){this.player_.paused()?Is(this.player_.play()):this.player_.pause()},t.handleSeeked=function(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)},t.handlePlay=function(e){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.handlePause=function(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.handleEnded=function(e){var a=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(u){return a.handleSeeked(u)})},n}(ea);b_.prototype.controlText_="Play",pt.registerComponent("PlayToggle",b_);var km=function(n,t){n=n<0?0:n;var r=Math.floor(n%60),e=Math.floor(n/60%60),a=Math.floor(n/3600),u=Math.floor(t/60%60),d=Math.floor(t/3600);return(isNaN(n)||n===1/0)&&(a=e=r="-"),(a=a>0||d>0?a+":":"")+(e=((a||u>=10)&&e<10?"0"+e:e)+":")+(r<10?"0"+r:r)},Nm=km;function rl(l,n){return void 0===n&&(n=l),Nm(l,n)}var To=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).on(r,["timeupdate","ended"],function(u){return a.updateContent(u)}),a.updateTextNode_(),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){var e=this.buildCSSClass(),a=l.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control"}),u=Mn("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xa0"},{role:"presentation"});return a.appendChild(u),this.contentEl_=Mn("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"}),a.appendChild(this.contentEl_),a},t.dispose=function(){this.contentEl_=null,this.textNode_=null,l.prototype.dispose.call(this)},t.updateTextNode_=function(e){var a=this;void 0===e&&(e=0),e=rl(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(a.contentEl_){var u=a.textNode_;u&&a.contentEl_.firstChild!==u&&(u=null,_n.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),a.textNode_=at().createTextNode(a.formattedTime_),a.textNode_&&(u?a.contentEl_.replaceChild(a.textNode_,u):a.contentEl_.appendChild(a.textNode_))}}))},t.updateContent=function(e){},n}(pt);To.prototype.labelText_="Time",To.prototype.controlText_="Time",pt.registerComponent("TimeDisplay",To);var Bm=function(l){function n(){return l.apply(this,arguments)||this}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-current-time"},t.updateContent=function(e){var a;a=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(a)},n}(To);Bm.prototype.labelText_="Current Time",Bm.prototype.controlText_="Current Time",pt.registerComponent("CurrentTimeDisplay",Bm);var Um=function(l){function n(r,e){var a,u=function(p){return a.updateContent(p)};return(a=l.call(this,r,e)||this).on(r,"durationchange",u),a.on(r,"loadstart",u),a.on(r,"loadedmetadata",u),a}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-duration"},t.updateContent=function(e){var a=this.player_.duration();this.updateTextNode_(a)},n}(To);Um.prototype.labelText_="Duration",Um.prototype.controlText_="Duration",pt.registerComponent("DurationDisplay",Um);var SS=function(l){function n(){return l.apply(this,arguments)||this}return Dt(n,l),n.prototype.createEl=function(){var e=l.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),a=l.prototype.createEl.call(this,"div"),u=l.prototype.createEl.call(this,"span",{textContent:"/"});return a.appendChild(u),e.appendChild(a),e},n}(pt);pt.registerComponent("TimeDivider",SS);var Vm=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).on(r,"durationchange",function(u){return a.updateContent(u)}),a}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-remaining-time"},t.createEl=function(){var e=l.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&e.insertBefore(Mn("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e},t.updateContent=function(e){var a;"number"==typeof this.player_.duration()&&(a=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(a))},n}(To);Vm.prototype.labelText_="Remaining Time",Vm.prototype.controlText_="Remaining Time",pt.registerComponent("RemainingTimeDisplay",Vm);var ES=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).updateShowing(),a.on(a.player(),"durationchange",function(u){return a.updateShowing(u)}),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){var e=l.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Mn("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Mn("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xa0"})),this.contentEl_.appendChild(at().createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e},t.dispose=function(){this.contentEl_=null,l.prototype.dispose.call(this)},t.updateShowing=function(e){this.player().duration()===1/0?this.show():this.hide()},n}(pt);pt.registerComponent("LiveDisplay",ES);var S_=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).updateLiveEdgeStatus(),a.player_.liveTracker&&(a.updateLiveEdgeStatusHandler_=function(u){return a.updateLiveEdgeStatus(u)},a.on(a.player_.liveTracker,"liveedgechange",a.updateLiveEdgeStatusHandler_)),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){var e=l.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Mn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},t.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},t.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},t.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,l.prototype.dispose.call(this)},n}(ea);S_.prototype.controlText_="Seek to live, currently playing live",pt.registerComponent("SeekToLive",S_);var Jh=function(n,t,r){return n=Number(n),Math.min(r,Math.max(t,isNaN(n)?t:n))},Hm=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).handleMouseDown_=function(u){return a.handleMouseDown(u)},a.handleMouseUp_=function(u){return a.handleMouseUp(u)},a.handleKeyDown_=function(u){return a.handleKeyDown(u)},a.handleClick_=function(u){return a.handleClick(u)},a.handleMouseMove_=function(u){return a.handleMouseMove(u)},a.update_=function(u){return a.update(u)},a.bar=a.getChild(a.options_.barName),a.vertical(!!a.options_.vertical),a.enable(),a}Dt(n,l);var t=n.prototype;return t.enabled=function(){return this.enabled_},t.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.disable=function(){if(this.enabled()){var e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},t.createEl=function(e,a,u){return void 0===a&&(a={}),void 0===u&&(u={}),a.className=a.className+" vjs-slider",a=wr({tabIndex:0},a),u=wr({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},u),l.prototype.createEl.call(this,e,a,u)},t.handleMouseDown=function(e){var a=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"===e.type&&!Sa&&e.preventDefault(),lm(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a,"mousemove",this.handleMouseMove_),this.on(a,"mouseup",this.handleMouseUp_),this.on(a,"touchmove",this.handleMouseMove_),this.on(a,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)},t.handleMouseMove=function(e){},t.handleMouseUp=function(){var e=this.bar.el_.ownerDocument;cm(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.update()},t.update=function(){var e=this;if(this.el_&&this.bar){var a=this.getProgress();return a===this.progress_||(this.progress_=a,this.requestNamedAnimationFrame("Slider#update",function(){var u=e.vertical()?"height":"width";e.bar.el().style[u]=(100*a).toFixed(2)+"%"})),a}},t.getProgress=function(){return Number(Jh(this.getPercent(),0,1).toFixed(4))},t.calculateDistance=function(e){var a=Ah(this.el_,e);return this.vertical()?a.y:a.x},t.handleKeyDown=function(e){Qt().isEventKey(e,"Left")||Qt().isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):Qt().isEventKey(e,"Right")||Qt().isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):l.prototype.handleKeyDown.call(this,e)},t.handleClick=function(e){e.stopPropagation(),e.preventDefault()},t.vertical=function(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},n}(pt);pt.registerComponent("Slider",Hm);var Gm=function(n,t){return Jh(n/t*100,0,100).toFixed(2)+"%"},CS=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).partEls_=[],a.on(r,"progress",function(u){return a.update(u)}),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){var e=l.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),a=Mn("span",{className:"vjs-control-text"}),u=Mn("span",{textContent:this.localize("Loaded")}),d=at().createTextNode(": ");return this.percentageEl_=Mn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(a),a.appendChild(u),a.appendChild(d),a.appendChild(this.percentageEl_),e},t.dispose=function(){this.partEls_=null,this.percentageEl_=null,l.prototype.dispose.call(this)},t.update=function(e){var a=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var u=a.player_.liveTracker,d=a.player_.buffered(),p=u&&u.isLive()?u.seekableEnd():a.player_.duration(),g=a.player_.bufferedEnd(),E=a.partEls_,N=Gm(g,p);a.percent_!==N&&(a.el_.style.width=N,vo(a.percentageEl_,N),a.percent_=N);for(var O=0;O<d.length;O++){var W=d.start(O),J=d.end(O),Y=E[O];Y||(Y=a.el_.appendChild(Mn()),E[O]=Y),(Y.dataset.start!==W||Y.dataset.end!==J)&&(Y.dataset.start=W,Y.dataset.end=J,Y.style.left=Gm(W,g),Y.style.width=Gm(J-W,g))}for(var Q=E.length;Q>d.length;Q--)a.el_.removeChild(E[Q-1]);E.length=d.length})},n}(pt);pt.registerComponent("LoadProgressBar",CS);var bo=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).update=qa(cr(Kt(a),a.update),30),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},t.update=function(e,a,u){var d=Sc(this.el_),p=zu(this.player_.el()),g=e.width*a;if(p&&d){var E=e.left-p.left+g,N=e.width-g+(p.right-e.right),O=d.width/2;E<O?O+=O-E:N<O&&(O=N),O<0?O=0:O>d.width&&(O=d.width),O=Math.round(O),this.el_.style.right="-"+O+"px",this.write(u)}},t.write=function(e){vo(this.el_,e)},t.updateTime=function(e,a,u,d){var p=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var g,E=p.player_.duration();if(p.player_.liveTracker&&p.player_.liveTracker.isLive()){var N=p.player_.liveTracker.liveWindow(),O=N-a*N;g=(O<1?"":"-")+rl(O,N)}else g=rl(u,E);p.update(e,a,g),d&&d()})},n}(pt);pt.registerComponent("TimeTooltip",bo);var Nc=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).update=qa(cr(Kt(a),a.update),30),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},t.update=function(e,a){var u=this.getChild("timeTooltip");if(u){var d=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();u.updateTime(e,a,d)}},n}(pt);Nc.prototype.options_={children:[]},!rs&&!$a&&Nc.prototype.options_.children.push("timeTooltip"),pt.registerComponent("PlayProgressBar",Nc);var jm=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).update=qa(cr(Kt(a),a.update),30),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.update=function(e,a){var u=this,d=a*this.player_.duration();this.getChild("timeTooltip").updateTime(e,a,d,function(){u.el_.style.left=e.width*a+"px"})},n}(pt);jm.prototype.options_={children:["timeTooltip"]},pt.registerComponent("MouseTimeDisplay",jm);var uf=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).setEventHandlers_(),a}Dt(n,l);var t=n.prototype;return t.setEventHandlers_=function(){var e=this;this.update_=cr(this,this.update),this.update=qa(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(a){return e.enableInterval_(a)},this.disableIntervalHandler_=function(a){return e.disableInterval_(a)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in at()&&"visibilityState"in at()&&this.on(at(),"visibilitychange",this.toggleVisibility_)},t.toggleVisibility_=function(e){"hidden"===at().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},t.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},t.disableInterval_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},t.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.update=function(e){var a=this;if("hidden"!==at().visibilityState){var u=l.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var d=a.player_.ended()?a.player_.duration():a.getCurrentTime_(),p=a.player_.liveTracker,g=a.player_.duration();p&&p.isLive()&&(g=a.player_.liveTracker.liveCurrentTime()),a.percent_!==u&&(a.el_.setAttribute("aria-valuenow",(100*u).toFixed(2)),a.percent_=u),(a.currentTime_!==d||a.duration_!==g)&&(a.el_.setAttribute("aria-valuetext",a.localize("progress bar timing: currentTime={1} duration={2}",[rl(d,g),rl(g,g)],"{1} of {2}")),a.currentTime_=d,a.duration_=g),a.bar&&a.bar.update(zu(a.el()),a.getProgress())}),u}},t.userSeek_=function(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)},t.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.getPercent=function(){var a,e=this.getCurrentTime_(),u=this.player_.liveTracker;return u&&u.isLive()?(a=(e-u.seekableStart())/u.liveWindow(),u.atLiveEdge()&&(a=1)):a=e/this.player_.duration(),a},t.handleMouseDown=function(e){!Ku(e)||(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),l.prototype.handleMouseDown.call(this,e))},t.handleMouseMove=function(e,a){if(void 0===a&&(a=!1),Ku(e)){!a&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var u,d=this.calculateDistance(e),p=this.player_.liveTracker;if(p&&p.isLive()){if(d>=.99)return void p.seekToLiveEdge();var g=p.seekableStart(),E=p.liveCurrentTime();if((u=g+d*p.liveWindow())>=E&&(u=E),u<=g&&(u=g+.1),u===1/0)return}else(u=d*this.player_.duration())===this.player_.duration()&&(u-=.1);this.userSeek_(u)}},t.enable=function(){l.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");!e||e.show()},t.disable=function(){l.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");!e||e.hide()},t.handleMouseUp=function(e){l.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Is(this.player_.play()):this.update_()},t.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},t.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},t.handleAction=function(e){this.player_.paused()?this.player_.play():this.player_.pause()},t.handleKeyDown=function(e){var a=this.player_.liveTracker;if(Qt().isEventKey(e,"Space")||Qt().isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(Qt().isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(Qt().isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),a&&a.isLive()?this.userSeek_(a.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Qt()(e))){e.preventDefault(),e.stopPropagation();var u=10*(Qt().codes[Qt()(e)]-Qt().codes[0])/100;a&&a.isLive()?this.userSeek_(a.seekableStart()+a.liveWindow()*u):this.userSeek_(this.player_.duration()*u)}else Qt().isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):Qt().isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):l.prototype.handleKeyDown.call(this,e)},t.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in at()&&"visibilityState"in at()&&this.off(at(),"visibilitychange",this.toggleVisibility_),l.prototype.dispose.call(this)},n}(Hm);uf.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},!rs&&!$a&&uf.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),pt.registerComponent("SeekBar",uf);var lf=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).handleMouseMove=qa(cr(Kt(a),a.handleMouseMove),30),a.throttledHandleMouseSeek=qa(cr(Kt(a),a.handleMouseSeek),30),a.handleMouseUpHandler_=function(u){return a.handleMouseUp(u)},a.handleMouseDownHandler_=function(u){return a.handleMouseDown(u)},a.enable(),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.handleMouseMove=function(e){var a=this.getChild("seekBar");if(a){var u=a.getChild("playProgressBar"),d=a.getChild("mouseTimeDisplay");if(u||d){var p=a.el(),g=Sc(p),E=Ah(p,e).x;E=Jh(E,0,1),d&&d.update(g,E),u&&u.update(g,a.getProgress())}}},t.handleMouseSeek=function(e){var a=this.getChild("seekBar");a&&a.handleMouseMove(e)},t.enabled=function(){return this.enabled_},t.disable=function(){if(this.children().forEach(function(a){return a.disable&&a.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Is(this.player_.play())}},t.enable=function(){this.children().forEach(function(e){return e.enable&&e.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.removeListenersAddedOnMousedownAndTouchstart=function(){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)},t.handleMouseDown=function(e){var a=this.el_.ownerDocument,u=this.getChild("seekBar");u&&u.handleMouseDown(e),this.on(a,"mousemove",this.throttledHandleMouseSeek),this.on(a,"touchmove",this.throttledHandleMouseSeek),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},t.handleMouseUp=function(e){var a=this.getChild("seekBar");a&&a.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()},n}(pt);lf.prototype.options_={children:["seekBar"]},pt.registerComponent("ProgressControl",lf);var Wm=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).on(r,["enterpictureinpicture","leavepictureinpicture"],function(u){return a.handlePictureInPictureChange(u)}),a.on(r,["disablepictureinpicturechanged","loadedmetadata"],function(u){return a.handlePictureInPictureEnabledChange(u)}),a.disable(),a}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-picture-in-picture-control "+l.prototype.buildCSSClass.call(this)},t.handlePictureInPictureEnabledChange=function(){at().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},t.handlePictureInPictureChange=function(e){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},t.handleClick=function(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},n}(ea);Wm.prototype.controlText_="Picture-in-Picture",pt.registerComponent("PictureInPictureToggle",Wm);var eo=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).on(r,"fullscreenchange",function(u){return a.handleFullscreenChange(u)}),!1===at()[r.fsApi_.fullscreenEnabled]&&a.disable(),a}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-fullscreen-control "+l.prototype.buildCSSClass.call(this)},t.handleFullscreenChange=function(e){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.handleClick=function(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},n}(ea);eo.prototype.controlText_="Fullscreen",pt.registerComponent("FullscreenToggle",eo);var E_=function(l){function n(){return l.apply(this,arguments)||this}return Dt(n,l),n.prototype.createEl=function(){var e=l.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return e.appendChild(l.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),e},n}(pt);pt.registerComponent("VolumeLevel",E_);var ep=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).update=qa(cr(Kt(a),a.update),30),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},t.update=function(e,a,u,d){if(!u){var p=zu(this.el_),g=zu(this.player_.el()),E=e.width*a;if(!g||!p)return;var N=e.left-g.left+E,O=e.width-E+(g.right-e.right),W=p.width/2;N<W?W+=W-N:O<W&&(W=O),W<0?W=0:W>p.width&&(W=p.width),this.el_.style.right="-"+W+"px"}this.write(d+"%")},t.write=function(e){vo(this.el_,e)},t.updateVolume=function(e,a,u,d,p){var g=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){g.update(e,a,u,d.toFixed(0)),p&&p()})},n}(pt);pt.registerComponent("VolumeLevelTooltip",ep);var zm=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).update=qa(cr(Kt(a),a.update),30),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.update=function(e,a,u){var d=this,p=100*a;this.getChild("volumeLevelTooltip").updateVolume(e,a,u,p,function(){u?d.el_.style.bottom=e.height*a+"px":d.el_.style.left=e.width*a+"px"})},n}(pt);zm.prototype.options_={children:["volumeLevelTooltip"]},pt.registerComponent("MouseVolumeLevelDisplay",zm);var Fc=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).on("slideractive",function(u){return a.updateLastVolume_(u)}),a.on(r,"volumechange",function(u){return a.updateARIAAttributes(u)}),r.ready(function(){return a.updateARIAAttributes()}),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.handleMouseDown=function(e){!Ku(e)||l.prototype.handleMouseDown.call(this,e)},t.handleMouseMove=function(e){var a=this.getChild("mouseVolumeLevelDisplay");if(a){var u=this.el(),d=zu(u),p=this.vertical(),g=Ah(u,e);g=Jh(g=p?g.y:g.x,0,1),a.update(d,g,p)}!Ku(e)||(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))},t.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.updateARIAAttributes=function(e){var a=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",a),this.el_.setAttribute("aria-valuetext",a+"%")},t.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},t.updateLastVolume_=function(){var e=this,a=this.player_.volume();this.one("sliderinactive",function(){0===e.player_.volume()&&e.player_.lastVolume_(a)})},n}(Hm);Fc.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},!rs&&!$a&&Fc.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),Fc.prototype.playerEvent="volumechange",pt.registerComponent("VolumeBar",Fc);var Km=function(l){function n(r,e){var a;return void 0===e&&(e={}),e.vertical=e.vertical||!1,(void 0===e.volumeBar||_c(e.volumeBar))&&(e.volumeBar=e.volumeBar||{},e.volumeBar.vertical=e.vertical),function(n,t){t.tech_&&!t.tech_.featuresVolumeControl&&n.addClass("vjs-hidden"),n.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})}(Kt(a=l.call(this,r,e)||this),r),a.throttledHandleMouseMove=qa(cr(Kt(a),a.handleMouseMove),30),a.handleMouseUpHandler_=function(u){return a.handleMouseUp(u)},a.on("mousedown",function(u){return a.handleMouseDown(u)}),a.on("touchstart",function(u){return a.handleMouseDown(u)}),a.on("mousemove",function(u){return a.handleMouseMove(u)}),a.on(a.volumeBar,["focus","slideractive"],function(){a.volumeBar.addClass("vjs-slider-active"),a.addClass("vjs-slider-active"),a.trigger("slideractive")}),a.on(a.volumeBar,["blur","sliderinactive"],function(){a.volumeBar.removeClass("vjs-slider-active"),a.removeClass("vjs-slider-active"),a.trigger("sliderinactive")}),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),l.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},t.handleMouseDown=function(e){var a=this.el_.ownerDocument;this.on(a,"mousemove",this.throttledHandleMouseMove),this.on(a,"touchmove",this.throttledHandleMouseMove),this.on(a,"mouseup",this.handleMouseUpHandler_),this.on(a,"touchend",this.handleMouseUpHandler_)},t.handleMouseUp=function(e){var a=this.el_.ownerDocument;this.off(a,"mousemove",this.throttledHandleMouseMove),this.off(a,"touchmove",this.throttledHandleMouseMove),this.off(a,"mouseup",this.handleMouseUpHandler_),this.off(a,"touchend",this.handleMouseUpHandler_)},t.handleMouseMove=function(e){this.volumeBar.handleMouseMove(e)},n}(pt);Km.prototype.options_={children:["volumeBar"]},pt.registerComponent("VolumeControl",Km);var il=function(l){function n(r,e){var a;return function(n,t){t.tech_&&!t.tech_.featuresMuteControl&&n.addClass("vjs-hidden"),n.on(t,"loadstart",function(){t.tech_.featuresMuteControl?n.removeClass("vjs-hidden"):n.addClass("vjs-hidden")})}(Kt(a=l.call(this,r,e)||this),r),a.on(r,["loadstart","volumechange"],function(u){return a.update(u)}),a}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-mute-control "+l.prototype.buildCSSClass.call(this)},t.handleClick=function(e){var a=this.player_.volume(),u=this.player_.lastVolume_();0===a?(this.player_.volume(u<.1?.1:u),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},t.update=function(e){this.updateIcon_(),this.updateControlText_()},t.updateIcon_=function(){var e=this.player_.volume(),a=3;rs&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?a=0:e<.33?a=1:e<.67&&(a=2);for(var u=0;u<4;u++)bc(this.el_,"vjs-vol-"+u);Ys(this.el_,"vjs-vol-"+a)},t.updateControlText_=function(){var a=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==a&&this.controlText(a)},n}(ea);il.prototype.controlText_="Mute",pt.registerComponent("MuteToggle",il);var su=function(l){function n(r,e){var a;return void 0===e&&(e={}),e.inline=void 0===e.inline||e.inline,(void 0===e.volumeControl||_c(e.volumeControl))&&(e.volumeControl=e.volumeControl||{},e.volumeControl.vertical=!e.inline),(a=l.call(this,r,e)||this).handleKeyPressHandler_=function(u){return a.handleKeyPress(u)},a.on(r,["loadstart"],function(u){return a.volumePanelState_(u)}),a.on(a.muteToggle,"keyup",function(u){return a.handleKeyPress(u)}),a.on(a.volumeControl,"keyup",function(u){return a.handleVolumeControlKeyUp(u)}),a.on("keydown",function(u){return a.handleKeyPress(u)}),a.on("mouseover",function(u){return a.handleMouseOver(u)}),a.on("mouseout",function(u){return a.handleMouseOut(u)}),a.on(a.volumeControl,["slideractive"],a.sliderActive_),a.on(a.volumeControl,["sliderinactive"],a.sliderInactive_),a}Dt(n,l);var t=n.prototype;return t.sliderActive_=function(){this.addClass("vjs-slider-active")},t.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},t.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),l.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},t.dispose=function(){this.handleMouseOut(),l.prototype.dispose.call(this)},t.handleVolumeControlKeyUp=function(e){Qt().isEventKey(e,"Esc")&&this.muteToggle.focus()},t.handleMouseOver=function(e){this.addClass("vjs-hover"),gs(at(),"keyup",this.handleKeyPressHandler_)},t.handleMouseOut=function(e){this.removeClass("vjs-hover"),Ii(at(),"keyup",this.handleKeyPressHandler_)},t.handleKeyPress=function(e){Qt().isEventKey(e,"Esc")&&this.handleMouseOut()},n}(pt);su.prototype.options_={children:["muteToggle","volumeControl"]},pt.registerComponent("VolumePanel",su);var cf=function(l){function n(r,e){var a;return a=l.call(this,r,e)||this,e&&(a.menuButton_=e.menuButton),a.focusedChild_=-1,a.on("keydown",function(u){return a.handleKeyDown(u)}),a.boundHandleBlur_=function(u){return a.handleBlur(u)},a.boundHandleTapClick_=function(u){return a.handleTapClick(u)},a}Dt(n,l);var t=n.prototype;return t.addEventListenerForItem=function(e){e instanceof pt&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))},t.removeEventListenerForItem=function(e){e instanceof pt&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))},t.removeChild=function(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),l.prototype.removeChild.call(this,e)},t.addItem=function(e){var a=this.addChild(e);a&&this.addEventListenerForItem(a)},t.createEl=function(){this.contentEl_=Mn(this.options_.contentElType||"ul",{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var a=l.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return a.appendChild(this.contentEl_),gs(a,"click",function(u){u.preventDefault(),u.stopImmediatePropagation()}),a},t.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,l.prototype.dispose.call(this)},t.handleBlur=function(e){var a=e.relatedTarget||at().activeElement;if(!this.children().some(function(d){return d.el()===a})){var u=this.menuButton_;u&&u.buttonPressed_&&a!==u.el().firstChild&&u.unpressButton()}},t.handleTapClick=function(e){if(this.menuButton_){this.menuButton_.unpressButton();var a=this.children();if(!Array.isArray(a))return;var u=a.filter(function(d){return d.el()===e.target})[0];if(!u)return;"CaptionSettingsMenuItem"!==u.name()&&this.menuButton_.focus()}},t.handleKeyDown=function(e){Qt().isEventKey(e,"Left")||Qt().isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(Qt().isEventKey(e,"Right")||Qt().isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())},t.stepForward=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)},t.stepBack=function(){var e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)},t.focus=function(e){void 0===e&&(e=0);var a=this.children().slice();a.length&&a[0].hasClass("vjs-menu-title")&&a.shift(),a.length>0&&(e<0?e=0:e>=a.length&&(e=a.length-1),this.focusedChild_=e,a[e].el_.focus())},n}(pt);pt.registerComponent("Menu",cf);var So=function(l){function n(r,e){var a;void 0===e&&(e={}),(a=l.call(this,r,e)||this).menuButton_=new ea(r,e),a.menuButton_.controlText(a.controlText_),a.menuButton_.el_.setAttribute("aria-haspopup","true");var u=ea.prototype.buildCSSClass();a.menuButton_.el_.className=a.buildCSSClass()+" "+u,a.menuButton_.removeClass("vjs-control"),a.addChild(a.menuButton_),a.update(),a.enabled_=!0;var d=function(g){return a.handleClick(g)};return a.handleMenuKeyUp_=function(p){return a.handleMenuKeyUp(p)},a.on(a.menuButton_,"tap",d),a.on(a.menuButton_,"click",d),a.on(a.menuButton_,"keydown",function(p){return a.handleKeyDown(p)}),a.on(a.menuButton_,"mouseenter",function(){a.addClass("vjs-hover"),a.menu.show(),gs(at(),"keyup",a.handleMenuKeyUp_)}),a.on("mouseleave",function(p){return a.handleMouseLeave(p)}),a.on("keydown",function(p){return a.handleSubmenuKeyDown(p)}),a}Dt(n,l);var t=n.prototype;return t.update=function(){var e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},t.createMenu=function(){var e=new cf(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var a=Mn("li",{className:"vjs-menu-title",textContent:Mr(this.options_.title),tabIndex:-1}),u=new pt(this.player_,{el:a});e.addItem(u)}if(this.items=this.createItems(),this.items)for(var d=0;d<this.items.length;d++)e.addItem(this.items[d]);return e},t.createItems=function(){},t.createEl=function(){return l.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.buildWrapperCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+ea.prototype.buildCSSClass()+" "+l.prototype.buildCSSClass.call(this)},t.buildCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+l.prototype.buildCSSClass.call(this)},t.controlText=function(e,a){return void 0===a&&(a=this.menuButton_.el()),this.menuButton_.controlText(e,a)},t.dispose=function(){this.handleMouseLeave(),l.prototype.dispose.call(this)},t.handleClick=function(e){this.buttonPressed_?this.unpressButton():this.pressButton()},t.handleMouseLeave=function(e){this.removeClass("vjs-hover"),Ii(at(),"keyup",this.handleMenuKeyUp_)},t.focus=function(){this.menuButton_.focus()},t.blur=function(){this.menuButton_.blur()},t.handleKeyDown=function(e){Qt().isEventKey(e,"Esc")||Qt().isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),Qt().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(Qt().isEventKey(e,"Up")||Qt().isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))},t.handleMenuKeyUp=function(e){(Qt().isEventKey(e,"Esc")||Qt().isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")},t.handleSubmenuKeyPress=function(e){this.handleSubmenuKeyDown(e)},t.handleSubmenuKeyDown=function(e){(Qt().isEventKey(e,"Esc")||Qt().isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Qt().isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))},t.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),rs&&om())return;this.menu.focus()}},t.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},n}(pt);pt.registerComponent("MenuButton",So);var au=function(l){function n(t,r){var e,a=r.tracks;if((e=l.call(this,t,r)||this).items.length<=1&&e.hide(),!a)return Kt(e);var u=cr(Kt(e),e.update);return a.addEventListener("removetrack",u),a.addEventListener("addtrack",u),a.addEventListener("labelchange",u),e.player_.on("ready",u),e.player_.on("dispose",function(){a.removeEventListener("removetrack",u),a.removeEventListener("addtrack",u),a.removeEventListener("labelchange",u)}),e}return Dt(n,l),n}(So);pt.registerComponent("TrackButton",au);var sl=["Tab","Esc","Up","Down","Right","Left"],Bc=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).selectable=e.selectable,a.isSelected_=e.selected||!1,a.multiSelectable=e.multiSelectable,a.selected(a.isSelected_),a.el_.setAttribute("role",a.selectable?a.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),a}Dt(n,l);var t=n.prototype;return t.createEl=function(e,a,u){this.nonIconControl=!0;var d=l.prototype.createEl.call(this,"li",wr({className:"vjs-menu-item",tabIndex:-1},a),u);return d.replaceChild(Mn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),d.querySelector(".vjs-icon-placeholder")),d},t.handleKeyDown=function(e){sl.some(function(a){return Qt().isEventKey(e,a)})||l.prototype.handleKeyDown.call(this,e)},t.handleClick=function(e){this.selected(!0)},t.selected=function(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},n}(Qh);pt.registerComponent("MenuItem",Bc);var al=function(l){function n(r,e){var a,u=e.track,d=r.textTracks();e.label=u.label||u.language||"Unknown",e.selected="showing"===u.mode,(a=l.call(this,r,e)||this).track=u,a.kinds=(e.kinds||[e.kind||a.track.kind]).filter(Boolean);var E,p=function(){for(var O=arguments.length,W=new Array(O),J=0;J<O;J++)W[J]=arguments[J];a.handleTracksChange.apply(Kt(a),W)},g=function(){for(var O=arguments.length,W=new Array(O),J=0;J<O;J++)W[J]=arguments[J];a.handleSelectedLanguageChange.apply(Kt(a),W)};return r.on(["loadstart","texttrackchange"],p),d.addEventListener("change",p),d.addEventListener("selectedlanguagechange",g),a.on("dispose",function(){r.off(["loadstart","texttrackchange"],p),d.removeEventListener("change",p),d.removeEventListener("selectedlanguagechange",g)}),void 0===d.onchange&&a.on(["tap","click"],function(){if("object"!=typeof oe().Event)try{E=new(oe().Event)("change")}catch(N){}E||(E=at().createEvent("Event")).initEvent("change",!0,!0),d.dispatchEvent(E)}),a.handleTracksChange(),a}Dt(n,l);var t=n.prototype;return t.handleClick=function(e){var a=this.track,u=this.player_.textTracks();if(l.prototype.handleClick.call(this,e),u)for(var d=0;d<u.length;d++){var p=u[d];-1!==this.kinds.indexOf(p.kind)&&(p===a?"showing"!==p.mode&&(p.mode="showing"):"disabled"!==p.mode&&(p.mode="disabled"))}},t.handleTracksChange=function(e){var a="showing"===this.track.mode;a!==this.isSelected_&&this.selected(a)},t.handleSelectedLanguageChange=function(e){if("showing"===this.track.mode){var a=this.player_.cache_.selectedLanguage;if(a&&a.enabled&&a.language===this.track.language&&a.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t.dispose=function(){this.track=null,l.prototype.dispose.call(this)},n}(Bc);pt.registerComponent("TextTrackMenuItem",al);var tp=function(l){function n(r,e){return e.track={player:r,kind:e.kind,kinds:e.kinds,default:!1,mode:"disabled"},e.kinds||(e.kinds=[e.kind]),e.track.label=e.label?e.label:e.kinds.join(" and ")+" off",e.selectable=!0,e.multiSelectable=!1,l.call(this,r,e)||this}Dt(n,l);var t=n.prototype;return t.handleTracksChange=function(e){for(var a=this.player().textTracks(),u=!0,d=0,p=a.length;d<p;d++){var g=a[d];if(this.options_.kinds.indexOf(g.kind)>-1&&"showing"===g.mode){u=!1;break}}u!==this.isSelected_&&this.selected(u)},t.handleSelectedLanguageChange=function(e){for(var a=this.player().textTracks(),u=!0,d=0,p=a.length;d<p;d++){var g=a[d];if(["captions","descriptions","subtitles"].indexOf(g.kind)>-1&&"showing"===g.mode){u=!1;break}}u&&(this.player_.cache_.selectedLanguage={enabled:!1})},n}(al);pt.registerComponent("OffTextTrackMenuItem",tp);var Eo=function(l){function n(r,e){return void 0===e&&(e={}),e.tracks=r.textTracks(),l.call(this,r,e)||this}return Dt(n,l),n.prototype.createItems=function(e,a){var u;void 0===e&&(e=[]),void 0===a&&(a=al),this.label_&&(u=this.label_+" off"),e.push(new tp(this.player_,{kinds:this.kinds_,kind:this.kind_,label:u})),this.hideThreshold_+=1;var d=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var p=0;p<d.length;p++){var g=d[p];if(this.kinds_.indexOf(g.kind)>-1){var E=new a(this.player_,{track:g,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});E.addClass("vjs-"+g.kind+"-menu-item"),e.push(E)}}return e},n}(au);pt.registerComponent("TextTrackButton",Eo);var df=function(l){function n(r,e){var a,u=e.track,d=e.cue,p=r.currentTime();return e.selectable=!0,e.multiSelectable=!1,e.label=d.text,e.selected=d.startTime<=p&&p<d.endTime,(a=l.call(this,r,e)||this).track=u,a.cue=d,u.addEventListener("cuechange",cr(Kt(a),a.update)),a}Dt(n,l);var t=n.prototype;return t.handleClick=function(e){l.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},t.update=function(e){var a=this.cue,u=this.player_.currentTime();this.selected(a.startTime<=u&&u<a.endTime)},n}(Bc);pt.registerComponent("ChaptersTrackMenuItem",df);var ff=function(l){function n(r,e,a){return l.call(this,r,e,a)||this}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-chapters-button "+l.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-chapters-button "+l.prototype.buildWrapperCSSClass.call(this)},t.update=function(e){(!this.track_||e&&("addtrack"===e.type||"removetrack"===e.type))&&this.setTrack(this.findChaptersTrack()),l.prototype.update.call(this)},t.setTrack=function(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";var u=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);u&&u.addEventListener("load",this.updateHandler_)}}},t.findChaptersTrack=function(){for(var e=this.player_.textTracks()||[],a=e.length-1;a>=0;a--){var u=e[a];if(u.kind===this.kind_)return u}},t.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(Mr(this.kind_))},t.createMenu=function(){return this.options_.title=this.getMenuCaption(),l.prototype.createMenu.call(this)},t.createItems=function(){var e=[];if(!this.track_)return e;var a=this.track_.cues;if(!a)return e;for(var u=0,d=a.length;u<d;u++){var g=new df(this.player_,{track:this.track_,cue:a[u]});e.push(g)}return e},n}(Eo);ff.prototype.kind_="chapters",ff.prototype.controlText_="Chapters",pt.registerComponent("ChaptersButton",ff);var ol=function(l){function n(r,e,a){var u;u=l.call(this,r,e,a)||this;var d=r.textTracks(),p=cr(Kt(u),u.handleTracksChange);return d.addEventListener("change",p),u.on("dispose",function(){d.removeEventListener("change",p)}),u}Dt(n,l);var t=n.prototype;return t.handleTracksChange=function(e){for(var a=this.player().textTracks(),u=!1,d=0,p=a.length;d<p;d++){var g=a[d];if(g.kind!==this.kind_&&"showing"===g.mode){u=!0;break}}u?this.disable():this.enable()},t.buildCSSClass=function(){return"vjs-descriptions-button "+l.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+l.prototype.buildWrapperCSSClass.call(this)},n}(Eo);ol.prototype.kind_="descriptions",ol.prototype.controlText_="Descriptions",pt.registerComponent("DescriptionsButton",ol);var np=function(l){function n(r,e,a){return l.call(this,r,e,a)||this}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-subtitles-button "+l.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+l.prototype.buildWrapperCSSClass.call(this)},n}(Eo);np.prototype.kind_="subtitles",np.prototype.controlText_="Subtitles",pt.registerComponent("SubtitlesButton",np);var hf=function(l){function n(r,e){var a;return e.track={player:r,kind:e.kind,label:e.kind+" settings",selectable:!1,default:!1,mode:"disabled"},e.selectable=!1,e.name="CaptionSettingsMenuItem",(a=l.call(this,r,e)||this).addClass("vjs-texttrack-settings"),a.controlText(", opens "+e.kind+" settings dialog"),a}return Dt(n,l),n.prototype.handleClick=function(e){this.player().getChild("textTrackSettings").open()},n}(al);pt.registerComponent("CaptionSettingsMenuItem",hf);var Xm=function(l){function n(r,e,a){return l.call(this,r,e,a)||this}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-captions-button "+l.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-captions-button "+l.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){var e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new hf(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),l.prototype.createItems.call(this,e)},n}(Eo);Xm.prototype.kind_="captions",Xm.prototype.controlText_="Captions",pt.registerComponent("CaptionsButton",Xm);var rp=function(l){function n(){return l.apply(this,arguments)||this}return Dt(n,l),n.prototype.createEl=function(e,a,u){var d=l.prototype.createEl.call(this,e,a,u),p=d.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(p.appendChild(Mn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),p.appendChild(Mn("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),d},n}(al);pt.registerComponent("SubsCapsMenuItem",rp);var pf=function(l){function n(r,e){var a;return void 0===e&&(e={}),(a=l.call(this,r,e)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(a.player_.language_)>-1&&(a.label_="captions"),a.menuButton_.controlText(Mr(a.label_)),a}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-subs-caps-button "+l.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+l.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){var e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new hf(this.player_,{kind:this.label_})),this.hideThreshold_+=1),l.prototype.createItems.call(this,e,rp)},n}(Eo);pf.prototype.kinds_=["captions","subtitles"],pf.prototype.controlText_="Subtitles",pt.registerComponent("SubsCapsButton",pf);var qm=function(l){function n(r,e){var a,u=e.track,d=r.audioTracks();e.label=u.label||u.language||"Unknown",e.selected=u.enabled,(a=l.call(this,r,e)||this).track=u,a.addClass("vjs-"+u.kind+"-menu-item");var p=function(){for(var E=arguments.length,N=new Array(E),O=0;O<E;O++)N[O]=arguments[O];a.handleTracksChange.apply(Kt(a),N)};return d.addEventListener("change",p),a.on("dispose",function(){d.removeEventListener("change",p)}),a}Dt(n,l);var t=n.prototype;return t.createEl=function(e,a,u){var d=l.prototype.createEl.call(this,e,a,u),p=d.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(p.appendChild(Mn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),p.appendChild(Mn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),d},t.handleClick=function(e){if(l.prototype.handleClick.call(this,e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var a=this.player_.audioTracks(),u=0;u<a.length;u++){var d=a[u];d!==this.track&&(d.enabled=d===this.track)}},t.handleTracksChange=function(e){this.selected(this.track.enabled)},n}(Bc);pt.registerComponent("AudioTrackMenuItem",qm);var ip=function(l){function n(r,e){return void 0===e&&(e={}),e.tracks=r.audioTracks(),l.call(this,r,e)||this}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-audio-button "+l.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-audio-button "+l.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(e){void 0===e&&(e=[]),this.hideThreshold_=1;for(var a=this.player_.audioTracks(),u=0;u<a.length;u++)e.push(new qm(this.player_,{track:a[u],selectable:!0,multiSelectable:!1}));return e},n}(au);ip.prototype.controlText_="Audio Track",pt.registerComponent("AudioTrackButton",ip);var sp=function(l){function n(r,e){var a,u=e.rate,d=parseFloat(u,10);return e.label=u,e.selected=d===r.playbackRate(),e.selectable=!0,e.multiSelectable=!1,(a=l.call(this,r,e)||this).label=u,a.rate=d,a.on(r,"ratechange",function(p){return a.update(p)}),a}Dt(n,l);var t=n.prototype;return t.handleClick=function(e){l.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.update=function(e){this.selected(this.player().playbackRate()===this.rate)},n}(Bc);sp.prototype.contentElType="button",pt.registerComponent("PlaybackRateMenuItem",sp);var Ym=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).menuButton_.el_.setAttribute("aria-describedby",a.labelElId_),a.updateVisibility(),a.updateLabel(),a.on(r,"loadstart",function(u){return a.updateVisibility(u)}),a.on(r,"ratechange",function(u){return a.updateLabel(u)}),a.on(r,"playbackrateschange",function(u){return a.handlePlaybackRateschange(u)}),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){var e=l.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Mn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e},t.dispose=function(){this.labelEl_=null,l.prototype.dispose.call(this)},t.buildCSSClass=function(){return"vjs-playback-rate "+l.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-playback-rate "+l.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){for(var e=this.playbackRates(),a=[],u=e.length-1;u>=0;u--)a.push(new sp(this.player(),{rate:e[u]+"x"}));return a},t.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.handleClick=function(e){var a=this.player().playbackRate(),u=this.playbackRates(),p=(u.indexOf(a)+1)%u.length;this.player().playbackRate(u[p])},t.handlePlaybackRateschange=function(e){this.update()},t.playbackRates=function(){var e=this.player();return e.playbackRates&&e.playbackRates()||[]},t.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.updateVisibility=function(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.updateLabel=function(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},n}(So);Ym.prototype.controlText_="Playback Rate",pt.registerComponent("PlaybackRateMenuButton",Ym);var is=function(l){function n(){return l.apply(this,arguments)||this}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-spacer "+l.prototype.buildCSSClass.call(this)},t.createEl=function(e,a,u){return void 0===e&&(e="div"),void 0===a&&(a={}),void 0===u&&(u={}),a.className||(a.className=this.buildCSSClass()),l.prototype.createEl.call(this,e,a,u)},n}(pt);pt.registerComponent("Spacer",is);var D_=function(l){function n(){return l.apply(this,arguments)||this}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-custom-control-spacer "+l.prototype.buildCSSClass.call(this)},t.createEl=function(){return l.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xa0"})},n}(is);pt.registerComponent("CustomControlSpacer",D_);var gf=function(l){function n(){return l.apply(this,arguments)||this}return Dt(n,l),n.prototype.createEl=function(){return l.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},n}(pt);gf.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in at()&&gf.prototype.options_.children.splice(gf.prototype.options_.children.length-1,0,"pictureInPictureToggle"),pt.registerComponent("ControlBar",gf);var x_=function(l){function n(r,e){var a;return(a=l.call(this,r,e)||this).on(r,"error",function(u){return a.open(u)}),a}Dt(n,l);var t=n.prototype;return t.buildCSSClass=function(){return"vjs-error-display "+l.prototype.buildCSSClass.call(this)},t.content=function(){var e=this.player().error();return e?this.localize(e.message):""},n}(nu);x_.prototype.options_=kn({},nu.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),pt.registerComponent("ErrorDisplay",x_);var Qm="vjs-text-track-settings",ap=["#000","Black"],w_=["#00F","Blue"],Zm=["#0FF","Cyan"],mf=["#0F0","Green"],op=["#F0F","Magenta"],Jm=["#F00","Red"],ev=["#FFF","White"],tv=["#FF0","Yellow"],vf=["1","Opaque"],up=["0.5","Semi-Transparent"],lp=["0","Transparent"],ou={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ap,ev,Jm,mf,w_,tv,op,Zm]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[vf,up,lp]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[ev,ap,Jm,mf,w_,tv,op,Zm]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(n){return"1.00"===n?null:Number(n)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[vf,up]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[lp,up,vf]}};function nv(l,n){if(n&&(l=n(l)),l&&"none"!==l)return l}ou.windowColor.options=ou.backgroundColor.options;var A_=function(l){function n(r,e){var a;return e.temporary=!1,(a=l.call(this,r,e)||this).updateDisplay=a.updateDisplay.bind(Kt(a)),a.fill(),a.hasBeenOpened_=a.hasBeenFilled_=!0,a.endDialog=Mn("p",{className:"vjs-control-text",textContent:a.localize("End of dialog window.")}),a.el().appendChild(a.endDialog),a.setDefaults(),void 0===e.persistTextTrackSettings&&(a.options_.persistTextTrackSettings=a.options_.playerOptions.persistTextTrackSettings),a.on(a.$(".vjs-done-button"),"click",function(){a.saveSettings(),a.close()}),a.on(a.$(".vjs-default-button"),"click",function(){a.setDefaults(),a.updateDisplay()}),ns(ou,function(u){a.on(a.$(u.selector),"change",a.updateDisplay)}),a.options_.persistTextTrackSettings&&a.restoreSettings(),a}Dt(n,l);var t=n.prototype;return t.dispose=function(){this.endDialog=null,l.prototype.dispose.call(this)},t.createElSelect_=function(e,a,u){var d=this;void 0===a&&(a=""),void 0===u&&(u="label");var p=ou[e],g=p.id.replace("%s",this.id_),E=[a,g].join(" ").trim();return["<"+u+' id="'+g+'" class="'+("label"===u?"vjs-label":"")+'">',this.localize(p.label),"</"+u+">",'<select aria-labelledby="'+E+'">'].concat(p.options.map(function(N){var O=g+"-"+N[1].replace(/\W+/g,"");return['<option id="'+O+'" value="'+N[0]+'" ','aria-labelledby="'+E+" "+O+'">',d.localize(N[1]),"</option>"].join("")})).concat("</select>").join("")},t.createElFgColor_=function(){var e="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",e),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")},t.createElBgColor_=function(){var e="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",e),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")},t.createElWinColor_=function(){var e="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+e+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",e),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")},t.createElColors_=function(){return Mn("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},t.createElFont_=function(){return Mn("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},t.createElControls_=function(){var e=this.localize("restore all settings to the default values");return Mn("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+e+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+e+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},t.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},t.label=function(){return this.localize("Caption Settings Dialog")},t.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},t.buildCSSClass=function(){return l.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},t.getValues=function(){var e=this;return function Gu(l,n,t){return void 0===t&&(t=0),em(l).reduce(function(r,e){return n(r,l[e],e)},t)}(ou,function(a,u,d){var p=function rv(l,n){return nv(l.options[l.options.selectedIndex].value,n)}(e.$(u.selector),u.parser);return void 0!==p&&(a[d]=p),a},{})},t.setValues=function(e){var a=this;ns(ou,function(u,d){!function iv(l,n,t){if(n)for(var r=0;r<l.options.length;r++)if(nv(l.options[r].value,t)===n){l.selectedIndex=r;break}}(a.$(u.selector),e[d],u.parser)})},t.setDefaults=function(){var e=this;ns(ou,function(a){var u=a.hasOwnProperty("default")?a.default:0;e.$(a.selector).selectedIndex=u})},t.restoreSettings=function(){var e;try{e=JSON.parse(oe().localStorage.getItem(Qm))}catch(a){_n.warn(a)}e&&this.setValues(e)},t.saveSettings=function(){if(this.options_.persistTextTrackSettings){var e=this.getValues();try{Object.keys(e).length?oe().localStorage.setItem(Qm,JSON.stringify(e)):oe().localStorage.removeItem(Qm)}catch(a){_n.warn(a)}}},t.updateDisplay=function(){var e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()},t.conditionalBlur_=function(){this.previouslyActiveEl_=null;var e=this.player_.controlBar,a=e&&e.subsCapsButton,u=e&&e.captionsButton;a?a.focus():u&&u.focus()},n}(nu);pt.registerComponent("TextTrackSettings",A_);var Ca=function(l){function n(r,e){var a,u=e.ResizeObserver||oe().ResizeObserver;null===e.ResizeObserver&&(u=!1);var d=dr({createEl:!u,reportTouchActivity:!1},e);return(a=l.call(this,r,d)||this).ResizeObserver=e.ResizeObserver||oe().ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=function(n,t,r,e){void 0===e&&(e=oe());var a,d=function(){var g=this,E=arguments,N=function(){a=null,N=null,n.apply(g,E)};e.clearTimeout(a),a=e.setTimeout(N,100)};return d.cancel=function(){e.clearTimeout(a),a=null},d}(function(){a.resizeHandler()},0,0,Kt(a)),u?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(r.el())):(a.loadListener_=function(){if(a.el_&&a.el_.contentWindow){var p=a.debouncedHandler_,g=a.unloadListener_=function(){Ii(this,"resize",p),Ii(this,"unload",g),g=null};gs(a.el_.contentWindow,"unload",g),gs(a.el_.contentWindow,"resize",p)}},a.one("load",a.loadListener_)),a}Dt(n,l);var t=n.prototype;return t.createEl=function(){return l.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},t.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},t.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,l.prototype.dispose.call(this)},n}(pt);pt.registerComponent("ResizeManager",Ca);var cp={trackingThreshold:20,liveTolerance:15},M_=function(l){function n(r,e){var a,u=dr(cp,e,{createEl:!1});return(a=l.call(this,r,u)||this).handleVisibilityChange_=function(d){return a.handleVisibilityChange(d)},a.trackLiveHandler_=function(){return a.trackLive_()},a.handlePlay_=function(d){return a.handlePlay(d)},a.handleFirstTimeupdate_=function(d){return a.handleFirstTimeupdate(d)},a.handleSeeked_=function(d){return a.handleSeeked(d)},a.seekToLiveEdge_=function(d){return a.seekToLiveEdge(d)},a.reset_(),a.on(a.player_,"durationchange",function(d){return a.handleDurationchange(d)}),a.on(a.player_,"canplay",function(){return a.toggleTracking()}),Ka&&"hidden"in at()&&"visibilityState"in at()&&a.on(at(),"visibilitychange",a.handleVisibilityChange_),a}Dt(n,l);var t=n.prototype;return t.handleVisibilityChange=function(){this.player_.duration()===1/0&&(at().hidden?this.stopTracking():this.startTracking())},t.trackLive_=function(){var e=this.player_.seekable();if(e&&e.length){var a=Number(oe().performance.now().toFixed(4)),u=-1===this.lastTime_?0:(a-this.lastTime_)/1e3;this.lastTime_=a,this.pastSeekEnd_=this.pastSeekEnd()+u;var d=this.liveCurrentTime(),p=this.player_.currentTime(),g=this.player_.paused()||this.seekedBehindLive_||Math.abs(d-p)>this.options_.liveTolerance;(!this.timeupdateSeen_||d===1/0)&&(g=!1),g!==this.behindLiveEdge_&&(this.behindLiveEdge_=g,this.trigger("liveedgechange"))}},t.handleDurationchange=function(){this.toggleTracking()},t.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},t.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},t.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},t.handleSeeked=function(){var e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()},t.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},t.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},t.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},t.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},t.seekableEnd=function(){for(var e=this.player_.seekable(),a=[],u=e?e.length:0;u--;)a.push(e.end(u));return a.length?a.sort()[a.length-1]:1/0},t.seekableStart=function(){for(var e=this.player_.seekable(),a=[],u=e?e.length:0;u--;)a.push(e.start(u));return a.length?a.sort()[0]:0},t.liveWindow=function(){var e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()},t.isLive=function(){return this.isTracking()},t.atLiveEdge=function(){return!this.behindLiveEdge()},t.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},t.pastSeekEnd=function(){var e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_},t.behindLiveEdge=function(){return this.behindLiveEdge_},t.isTracking=function(){return"number"==typeof this.trackingInterval_},t.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},t.dispose=function(){this.off(at(),"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),l.prototype.dispose.call(this)},n}(pt);pt.registerComponent("LiveTracker",M_);var ul,dp=function(n){var t=n.el();if(t.hasAttribute("src"))return n.triggerSourceset(t.src),!0;var r=n.$$("source"),e=[],a="";if(!r.length)return!1;for(var u=0;u<r.length;u++){var d=r[u].src;d&&-1===e.indexOf(d)&&e.push(d)}return!!e.length&&(1===e.length&&(a=e[0]),n.triggerSourceset(a),!0)},DS=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(n){var t=at().createElement(this.nodeName.toLowerCase());t.innerHTML=n;for(var r=at().createDocumentFragment();t.childNodes.length;)r.appendChild(t.childNodes[0]);return this.innerText="",oe().Element.prototype.appendChild.call(this,r),this.innerHTML}}),fp=function(n,t){for(var r={},e=0;e<n.length&&!((r=Object.getOwnPropertyDescriptor(n[e],t))&&r.set&&r.get);e++);return r.enumerable=!0,r.configurable=!0,r},sv=function(n){var t=n.el();if(!t.resetSourceWatch_){var r={},e=function(n){return fp([n.el(),oe().HTMLMediaElement.prototype,oe().Element.prototype,DS],"innerHTML")}(n),a=function(d){return function(){for(var p=arguments.length,g=new Array(p),E=0;E<p;E++)g[E]=arguments[E];var N=d.apply(t,g);return dp(n),N}};["append","appendChild","insertAdjacentHTML"].forEach(function(u){!t[u]||(r[u]=t[u],t[u]=a(r[u]))}),Object.defineProperty(t,"innerHTML",dr(e,{set:a(e.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(r).forEach(function(u){t[u]=r[u]}),Object.defineProperty(t,"innerHTML",e)},n.one("sourceset",t.resetSourceWatch_)}},P_=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?jh(oe().Element.prototype.getAttribute.call(this,"src")):""},set:function(n){return oe().Element.prototype.setAttribute.call(this,"src",n),n}}),pp=function(n,t,r,e){void 0===e&&(e=!0);var a=function(p){return Object.defineProperty(n,t,{value:p,enumerable:!0,writable:!0})},u={configurable:!0,enumerable:!0,get:function(){var p=r();return a(p),p}};return e&&(u.set=a),Object.defineProperty(n,t,u)},Ft=function(l){function n(r,e){var a;a=l.call(this,r,e)||this;var u=r.source,d=!1;if(u&&(a.el_.currentSrc!==u.src||r.tag&&3===r.tag.initNetworkState_)?a.setSource(u):a.handleLateInit_(a.el_),r.enableSourceset&&a.setupSourcesetHandling_(),a.isScrubbing_=!1,a.el_.hasChildNodes()){for(var p=a.el_.childNodes,g=p.length,E=[];g--;){var N=p[g];"track"===N.nodeName.toLowerCase()&&(a.featuresNativeTextTracks?(a.remoteTextTrackEls().addTrackElement_(N),a.remoteTextTracks().addTrack(N.track),a.textTracks().addTrack(N.track),!d&&!a.el_.hasAttribute("crossorigin")&&_o(N.src)&&(d=!0)):E.push(N))}for(var W=0;W<E.length;W++)a.el_.removeChild(E[W])}return a.proxyNativeTracks_(),a.featuresNativeTextTracks&&d&&_n.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),a.restoreMetadataTracksInIOSNativePlayer_(),(Yo||am||Qy)&&!0===r.nativeControlsForTouch&&a.setControls(!0),a.proxyWebkitFullscreen_(),a.triggerReady(),a}Dt(n,l);var t=n.prototype;return t.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),n.disposeMediaElement(this.el_),this.options_=null,l.prototype.dispose.call(this)},t.setupSourcesetHandling_=function(){!function(n){if(n.featuresSourceset){var t=n.el();if(!t.resetSourceset_){var r=function(n){return fp([n.el(),oe().HTMLMediaElement.prototype,P_],"src")}(n),e=t.setAttribute,a=t.load;Object.defineProperty(t,"src",dr(r,{set:function(d){var p=r.set.call(t,d);return n.triggerSourceset(t.src),p}})),t.setAttribute=function(u,d){var p=e.call(t,u,d);return/src/i.test(u)&&n.triggerSourceset(t.src),p},t.load=function(){var u=a.call(t);return dp(n)||(n.triggerSourceset(""),sv(n)),u},t.currentSrc?n.triggerSourceset(t.currentSrc):dp(n)||sv(n),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=a,t.setAttribute=e,Object.defineProperty(t,"src",r),t.resetSourceWatch_&&t.resetSourceWatch_()}}}}(this)},t.restoreMetadataTracksInIOSNativePlayer_=function(){var a,e=this.textTracks(),u=function(){a=[];for(var g=0;g<e.length;g++){var E=e[g];"metadata"===E.kind&&a.push({track:E,storedMode:E.mode})}};u(),e.addEventListener("change",u),this.on("dispose",function(){return e.removeEventListener("change",u)});var d=function p(){for(var g=0;g<a.length;g++){var E=a[g];"disabled"===E.track.mode&&E.track.mode!==E.storedMode&&(E.track.mode=E.storedMode)}e.removeEventListener("change",p)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",u),e.removeEventListener("change",d),e.addEventListener("change",d)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",u),e.addEventListener("change",u),e.removeEventListener("change",d)})},t.overrideNative_=function(e,a){var u=this;if(a===this["featuresNative"+e+"Tracks"]){var d=e.toLowerCase();this[d+"TracksListeners_"]&&Object.keys(this[d+"TracksListeners_"]).forEach(function(p){u.el()[d+"Tracks"].removeEventListener(p,u[d+"TracksListeners_"][p])}),this["featuresNative"+e+"Tracks"]=!a,this[d+"TracksListeners_"]=null,this.proxyNativeTracksForType_(d)}},t.overrideNativeAudioTracks=function(e){this.overrideNative_("Audio",e)},t.overrideNativeVideoTracks=function(e){this.overrideNative_("Video",e)},t.proxyNativeTracksForType_=function(e){var a=this,u=Os[e],d=this.el()[u.getterName],p=this[u.getterName]();if(this["featuresNative"+u.capitalName+"Tracks"]&&d&&d.addEventListener){var g={change:function(O){var W={type:"change",target:p,currentTarget:p,srcElement:p};p.trigger(W),"text"===e&&a[el.remoteText.getterName]().trigger(W)},addtrack:function(O){p.addTrack(O.track)},removetrack:function(O){p.removeTrack(O.track)}},E=function(){for(var O=[],W=0;W<p.length;W++){for(var J=!1,Y=0;Y<d.length;Y++)if(d[Y]===p[W]){J=!0;break}J||O.push(p[W])}for(;O.length;)p.removeTrack(O.shift())};this[u.getterName+"Listeners_"]=g,Object.keys(g).forEach(function(N){var O=g[N];d.addEventListener(N,O),a.on("dispose",function(W){return d.removeEventListener(N,O)})}),this.on("loadstart",E),this.on("dispose",function(N){return a.off("loadstart",E)})}},t.proxyNativeTracks_=function(){var e=this;Os.names.forEach(function(a){e.proxyNativeTracksForType_(a)})},t.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var a=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(a,e),n.disposeMediaElement(e),e=a}else{e=at().createElement("video");var d=dr({},this.options_.tag&&Xa(this.options_.tag));(!Yo||!0!==this.options_.nativeControlsForTouch)&&delete d.controls,wh(e,wr(d,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&Zo(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);for(var p=["loop","muted","playsinline","autoplay"],g=0;g<p.length;g++){var E=p[g],N=this.options_[E];void 0!==N&&(N?Zo(e,E,E):Wd(e,E),e[E]=N)}return e},t.handleLateInit_=function(e){if(0!==e.networkState&&3!==e.networkState){if(0===e.readyState){var a=!1,u=function(){a=!0};this.on("loadstart",u);var d=function(){a||this.trigger("loadstart")};return this.on("loadedmetadata",d),void this.ready(function(){this.off("loadstart",u),this.off("loadedmetadata",d),a||this.trigger("loadstart")})}var p=["loadstart"];p.push("loadedmetadata"),e.readyState>=2&&p.push("loadeddata"),e.readyState>=3&&p.push("canplay"),e.readyState>=4&&p.push("canplaythrough"),this.ready(function(){p.forEach(function(g){this.trigger(g)},this)})}},t.setScrubbing=function(e){this.isScrubbing_=e},t.scrubbing=function(){return this.isScrubbing_},t.setCurrentTime=function(e){try{this.isScrubbing_&&this.el_.fastSeek&&ju?this.el_.fastSeek(e):this.el_.currentTime=e}catch(a){_n(a,"Video is not ready. (Video.js)")}},t.duration=function(){var e=this;return this.el_.duration===1/0&&$a&&Sa&&0===this.el_.currentTime?(this.on("timeupdate",function u(){e.el_.currentTime>0&&(e.el_.duration===1/0&&e.trigger("durationchange"),e.off("timeupdate",u))}),NaN):this.el_.duration||NaN},t.width=function(){return this.el_.offsetWidth},t.height=function(){return this.el_.offsetHeight},t.proxyWebkitFullscreen_=function(){var e=this;if("webkitDisplayingFullscreen"in this.el_){var a=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},u=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",a),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",u),this.on("dispose",function(){e.off("webkitbeginfullscreen",u),e.off("webkitendfullscreen",a)})}},t.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var e=oe().navigator&&oe().navigator.userAgent||"";if(/Android/.test(e)||!/Chrome|Mac OS X 10.5/.test(e))return!0}return!1},t.enterFullScreen=function(){var e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Is(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},0);else try{e.webkitEnterFullScreen()}catch(a){this.trigger("fullscreenerror",a)}},t.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},t.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},t.src=function(e){if(void 0===e)return this.el_.src;this.setSrc(e)},t.reset=function(){n.resetMediaElement(this.el_)},t.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.setControls=function(e){this.el_.controls=!!e},t.addTextTrack=function(e,a,u){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,a,u):l.prototype.addTextTrack.call(this,e,a,u)},t.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return l.prototype.createRemoteTextTrack.call(this,e);var a=at().createElement("track");return e.kind&&(a.kind=e.kind),e.label&&(a.label=e.label),(e.language||e.srclang)&&(a.srclang=e.language||e.srclang),e.default&&(a.default=e.default),e.id&&(a.id=e.id),e.src&&(a.src=e.src),a},t.addRemoteTextTrack=function(e,a){var u=l.prototype.addRemoteTextTrack.call(this,e,a);return this.featuresNativeTextTracks&&this.el().appendChild(u),u},t.removeRemoteTextTrack=function(e){if(l.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks)for(var a=this.$$("track"),u=a.length;u--;)(e===a[u]||e===a[u].track)&&this.el().removeChild(a[u])},t.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),oe().performance&&"function"==typeof oe().performance.now?e.creationTime=oe().performance.now():oe().performance&&oe().performance.timing&&"number"==typeof oe().performance.timing.navigationStart&&(e.creationTime=oe().Date.now()-oe().performance.timing.navigationStart),e},n}(ar);pp(Ft,"TEST_VID",function(){if(Qo()){var l=at().createElement("video"),n=at().createElement("track");return n.kind="captions",n.srclang="en",n.label="English",l.appendChild(n),l}}),Ft.isSupported=function(){try{Ft.TEST_VID.volume=.5}catch(l){return!1}return!(!Ft.TEST_VID||!Ft.TEST_VID.canPlayType)},Ft.canPlayType=function(l){return Ft.TEST_VID.canPlayType(l)},Ft.canPlaySource=function(l,n){return Ft.canPlayType(l.type)},Ft.canControlVolume=function(){try{var l=Ft.TEST_VID.volume;Ft.TEST_VID.volume=l/2+.1;var n=l!==Ft.TEST_VID.volume;return n&&rs?(oe().setTimeout(function(){Ft&&Ft.prototype&&(Ft.prototype.featuresVolumeControl=l!==Ft.TEST_VID.volume)}),!1):n}catch(t){return!1}},Ft.canMuteVolume=function(){try{var l=Ft.TEST_VID.muted;return Ft.TEST_VID.muted=!l,Ft.TEST_VID.muted?Zo(Ft.TEST_VID,"muted","muted"):Wd(Ft.TEST_VID,"muted"),l!==Ft.TEST_VID.muted}catch(n){return!1}},Ft.canControlPlaybackRate=function(){if($a&&Sa&&qs<58)return!1;try{var l=Ft.TEST_VID.playbackRate;return Ft.TEST_VID.playbackRate=l/2+.1,l!==Ft.TEST_VID.playbackRate}catch(n){return!1}},Ft.canOverrideAttributes=function(){try{var l=function(){};Object.defineProperty(at().createElement("video"),"src",{get:l,set:l}),Object.defineProperty(at().createElement("audio"),"src",{get:l,set:l}),Object.defineProperty(at().createElement("video"),"innerHTML",{get:l,set:l}),Object.defineProperty(at().createElement("audio"),"innerHTML",{get:l,set:l})}catch(n){return!1}return!0},Ft.supportsNativeTextTracks=function(){return ju||rs&&Sa},Ft.supportsNativeVideoTracks=function(){return!(!Ft.TEST_VID||!Ft.TEST_VID.videoTracks)},Ft.supportsNativeAudioTracks=function(){return!(!Ft.TEST_VID||!Ft.TEST_VID.audioTracks)},Ft.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(l){var t=l[1];pp(Ft.prototype,l[0],function(){return Ft[t]()},!0)}),Ft.prototype.featuresVolumeControl=Ft.canControlVolume(),Ft.prototype.movingMediaElementInDOM=!rs,Ft.prototype.featuresFullscreenResize=!0,Ft.prototype.featuresProgressEvents=!0,Ft.prototype.featuresTimeupdateEvents=!0,Ft.patchCanPlayType=function(){Ch>=4&&!im&&!Sa&&(ul=Ft.TEST_VID&&Ft.TEST_VID.constructor.prototype.canPlayType,Ft.TEST_VID.constructor.prototype.canPlayType=function(l){return l&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(l)?"maybe":ul.call(this,l)})},Ft.unpatchCanPlayType=function(){var l=Ft.TEST_VID.constructor.prototype.canPlayType;return ul&&(Ft.TEST_VID.constructor.prototype.canPlayType=ul),l},Ft.patchCanPlayType(),Ft.disposeMediaElement=function(l){if(l){for(l.parentNode&&l.parentNode.removeChild(l);l.hasChildNodes();)l.removeChild(l.firstChild);l.removeAttribute("src"),"function"==typeof l.load&&function(){try{l.load()}catch(n){}}()}},Ft.resetMediaElement=function(l){if(l){for(var n=l.querySelectorAll("source"),t=n.length;t--;)l.removeChild(n[t]);l.removeAttribute("src"),"function"==typeof l.load&&function(){try{l.load()}catch(r){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(l){Ft.prototype[l]=function(){return this.el_[l]||this.el_.hasAttribute(l)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(l){Ft.prototype["set"+Mr(l)]=function(n){this.el_[l]=n,n?this.el_.setAttribute(l,l):this.el_.removeAttribute(l)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(l){Ft.prototype[l]=function(){return this.el_[l]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(l){Ft.prototype["set"+Mr(l)]=function(n){this.el_[l]=n}}),["pause","load","play"].forEach(function(l){Ft.prototype[l]=function(){return this.el_[l]()}}),ar.withSourceHandlers(Ft),Ft.nativeSourceHandler={},Ft.nativeSourceHandler.canPlayType=function(l){try{return Ft.TEST_VID.canPlayType(l)}catch(n){return""}},Ft.nativeSourceHandler.canHandleSource=function(l,n){if(l.type)return Ft.nativeSourceHandler.canPlayType(l.type);if(l.src){var t=Oc(l.src);return Ft.nativeSourceHandler.canPlayType("video/"+t)}return""},Ft.nativeSourceHandler.handleSource=function(l,n,t){n.setSrc(l.src)},Ft.nativeSourceHandler.dispose=function(){},Ft.registerSourceHandler(Ft.nativeSourceHandler),ar.registerTech("Html5",Ft);var av=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Uc={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Vc=["tiny","xsmall","small","medium","large","xlarge","huge"],Hc={};Vc.forEach(function(l){var n="x"===l.charAt(0)?"x-"+l.substring(1):l;Hc[l]="vjs-layout-"+n});var R_={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Kr=function(l){function n(r,e,a){var u;if(r.id=r.id||e.id||"vjs_video_"+Ea(),(e=wr(n.getTagSettings(r),e)).initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof r.closest){var d=r.closest("[lang]");d&&d.getAttribute&&(e.language=d.getAttribute("lang"))}else for(var p=r;p&&1===p.nodeType;){if(Xa(p).hasOwnProperty("lang")){e.language=p.getAttribute("lang");break}p=p.parentNode}if((u=l.call(this,null,e,a)||this).boundDocumentFullscreenChange_=function(O){return u.documentFullscreenChange_(O)},u.boundFullWindowOnEscKey_=function(O){return u.fullWindowOnEscKey(O)},u.boundUpdateStyleEl_=function(O){return u.updateStyleEl_(O)},u.boundApplyInitTime_=function(O){return u.applyInitTime_(O)},u.boundUpdateCurrentBreakpoint_=function(O){return u.updateCurrentBreakpoint_(O)},u.boundHandleTechClick_=function(O){return u.handleTechClick_(O)},u.boundHandleTechDoubleClick_=function(O){return u.handleTechDoubleClick_(O)},u.boundHandleTechTouchStart_=function(O){return u.handleTechTouchStart_(O)},u.boundHandleTechTouchMove_=function(O){return u.handleTechTouchMove_(O)},u.boundHandleTechTouchEnd_=function(O){return u.handleTechTouchEnd_(O)},u.boundHandleTechTap_=function(O){return u.handleTechTap_(O)},u.isFullscreen_=!1,u.log=Jg(u.id_),u.fsApi_=Vd,u.isPosterFromTech_=!1,u.queuedCallbacks_=[],u.isReady_=!1,u.hasStarted_=!1,u.userActive_=!1,u.debugEnabled_=!1,!u.options_||!u.options_.techOrder||!u.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(u.tag=r,u.tagAttributes=r&&Xa(r),u.language(u.options_.language),e.languages){var g={};Object.getOwnPropertyNames(e.languages).forEach(function(O){g[O.toLowerCase()]=e.languages[O]}),u.languages_=g}else u.languages_=n.prototype.options_.languages;u.resetCache_(),u.poster_=e.poster||"",u.controls_=!!e.controls,r.controls=!1,r.removeAttribute("controls"),u.changingSrc_=!1,u.playCallbacks_=[],u.playTerminatedQueue_=[],r.hasAttribute("autoplay")?u.autoplay(!0):u.autoplay(u.options_.autoplay),e.plugins&&Object.keys(e.plugins).forEach(function(O){if("function"!=typeof u[O])throw new Error('plugin "'+O+'" does not exist')}),u.scrubbing_=!1,u.el_=u.createEl(),qd(Kt(u),{eventBusKey:"el_"}),u.fsApi_.requestFullscreen&&(gs(at(),u.fsApi_.fullscreenchange,u.boundDocumentFullscreenChange_),u.on(u.fsApi_.fullscreenchange,u.boundDocumentFullscreenChange_)),u.fluid_&&u.on(["playerreset","resize"],u.boundUpdateStyleEl_);var E=dr(u.options_);e.plugins&&Object.keys(e.plugins).forEach(function(O){u[O](e.plugins[O])}),e.debug&&u.debug(!0),u.options_.playerOptions=E,u.middleware_=[],u.playbackRates(e.playbackRates),u.initChildren(),u.isAudio("audio"===r.nodeName.toLowerCase()),u.controls()?u.addClass("vjs-controls-enabled"):u.addClass("vjs-controls-disabled"),u.el_.setAttribute("role","region"),u.isAudio()?u.el_.setAttribute("aria-label",u.localize("Audio Player")):u.el_.setAttribute("aria-label",u.localize("Video Player")),u.isAudio()&&u.addClass("vjs-audio"),u.flexNotSupported_()&&u.addClass("vjs-no-flex"),Yo&&u.addClass("vjs-touch-enabled"),rs||u.addClass("vjs-workinghover"),n.players[u.id_]=Kt(u);var N="7.18.1".split(".")[0];return u.addClass("vjs-v"+N),u.userActive(!0),u.reportUserActivity(),u.one("play",function(O){return u.listenForUserActivity_(O)}),u.on("stageclick",function(O){return u.handleStageClick_(O)}),u.on("keydown",function(O){return u.handleKeyDown(O)}),u.on("languagechange",function(O){return u.handleLanguagechange(O)}),u.breakpoints(u.options_.breakpoints),u.responsive(u.options_.responsive),u}Dt(n,l);var t=n.prototype;return t.dispose=function(){var e=this;this.trigger("dispose"),this.off("dispose"),Ii(at(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Ii(at(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),n.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function Am(l){Xh[l.id()]=null}(this),vr.names.forEach(function(a){var d=e[vr[a].getterName]();d&&d.off&&d.off()}),l.prototype.dispose.call(this)},t.createEl=function(){var a,e=this.tag,u=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),d="video-js"===this.tag.tagName.toLowerCase();u?a=this.el_=e.parentNode:d||(a=this.el_=l.prototype.createEl.call(this,"div"));var p=Xa(e);if(d){for(a=this.el_=e,e=this.tag=at().createElement("video");a.children.length;)e.appendChild(a.firstChild);yo(a,"video-js")||Ys(a,"video-js"),a.appendChild(e),u=this.playerElIngest_=a,Object.keys(a).forEach(function(J){try{e[J]=a[J]}catch(Y){}})}if(e.setAttribute("tabindex","-1"),p.tabindex="-1",(Ka||Sa&&Dh)&&(e.setAttribute("role","application"),p.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in p&&delete p.width,"height"in p&&delete p.height,Object.getOwnPropertyNames(p).forEach(function(J){d&&"class"===J||a.setAttribute(J,p[J]),d&&e.setAttribute(J,p[J])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=a.player=this,this.addClass("vjs-paused"),!0!==oe().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=hm("vjs-styles-dimensions");var g=Ar(".vjs-styles-defaults"),E=Ar("head");E.insertBefore(this.styleEl_,g?g.nextSibling:E.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var N=e.getElementsByTagName("a"),O=0;O<N.length;O++){var W=N.item(O);Ys(W,"vjs-hidden"),W.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!u&&e.parentNode.insertBefore(a,e),$u(e,a),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=a,a},t.crossOrigin=function(e){if(!e)return this.techGet_("crossOrigin");"anonymous"===e||"use-credentials"===e?this.techCall_("setCrossOrigin",e):_n.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+e+'"')},t.width=function(e){return this.dimension("width",e)},t.height=function(e){return this.dimension("height",e)},t.dimension=function(e,a){var u=e+"_";if(void 0===a)return this[u]||0;if(""===a||"auto"===a)return this[u]=void 0,void this.updateStyleEl_();var d=parseFloat(a);isNaN(d)?_n.error('Improper value "'+a+'" supplied for for '+e):(this[u]=d,this.updateStyleEl_())},t.fluid=function(e){var a=this;if(void 0===e)return!!this.fluid_;this.fluid_=!!e,di(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),function(n,t){di(n)?t():(n.eventedCallbacks||(n.eventedCallbacks=[]),n.eventedCallbacks.push(t))}(this,function(){a.on(["playerreset","resize"],a.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.fill=function(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},t.aspectRatio=function(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()},t.updateStyleEl_=function(){if(!0!==oe().VIDEOJS_NO_DYNAMIC_STYLE){var d,p,E,N=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),O=N[1]/N[0];d=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/O:this.videoWidth()||300,p=void 0!==this.height_?this.height_:d*O,E=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(E),Oh(this.styleEl_,"\n      ."+E+" {\n        width: "+d+"px;\n        height: "+p+"px;\n      }\n\n      ."+E+".vjs-fluid {\n        padding-top: "+100*O+"%;\n      }\n    ")}else{var e="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(e>=0&&(u.width=e),a>=0&&(u.height=a))}},t.loadTech_=function(e,a){var u=this;this.tech_&&this.unloadTech_();var d=Mr(e),p=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==d&&this.tag&&(ar.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=d,this.isReady_=!1;var g=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(g=!1);var E={source:a,autoplay:g,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+p+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};vr.names.forEach(function(O){var W=vr[O];E[W.getterName]=u[W.privateName]}),wr(E,this.options_[d]),wr(E,this.options_[p]),wr(E,this.options_[e.toLowerCase()]),this.tag&&(E.tag=this.tag),a&&a.src===this.cache_.src&&this.cache_.currentTime>0&&(E.startTime=this.cache_.currentTime);var N=ar.getTech(e);if(!N)throw new Error("No Tech named '"+d+"' exists! '"+d+"' should be registered using videojs.registerTech()'");this.tech_=new N(E),this.tech_.ready(cr(this,this.handleTechReady_),!0),function(n,t){n.forEach(function(r){var e=t.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(function(a){return e.addCue(a)})}),t.textTracks()}(this.textTracksJson_||[],this.tech_),av.forEach(function(O){u.on(u.tech_,O,function(W){return u["handleTech"+Mr(O)+"_"](W)})}),Object.keys(Uc).forEach(function(O){u.on(u.tech_,O,function(W){0===u.tech_.playbackRate()&&u.tech_.seeking()?u.queuedCallbacks_.push({callback:u["handleTech"+Uc[O]+"_"].bind(u),event:W}):u["handleTech"+Uc[O]+"_"](W)})}),this.on(this.tech_,"loadstart",function(O){return u.handleTechLoadStart_(O)}),this.on(this.tech_,"sourceset",function(O){return u.handleTechSourceset_(O)}),this.on(this.tech_,"waiting",function(O){return u.handleTechWaiting_(O)}),this.on(this.tech_,"ended",function(O){return u.handleTechEnded_(O)}),this.on(this.tech_,"seeking",function(O){return u.handleTechSeeking_(O)}),this.on(this.tech_,"play",function(O){return u.handleTechPlay_(O)}),this.on(this.tech_,"firstplay",function(O){return u.handleTechFirstPlay_(O)}),this.on(this.tech_,"pause",function(O){return u.handleTechPause_(O)}),this.on(this.tech_,"durationchange",function(O){return u.handleTechDurationChange_(O)}),this.on(this.tech_,"fullscreenchange",function(O,W){return u.handleTechFullscreenChange_(O,W)}),this.on(this.tech_,"fullscreenerror",function(O,W){return u.handleTechFullscreenError_(O,W)}),this.on(this.tech_,"enterpictureinpicture",function(O){return u.handleTechEnterPictureInPicture_(O)}),this.on(this.tech_,"leavepictureinpicture",function(O){return u.handleTechLeavePictureInPicture_(O)}),this.on(this.tech_,"error",function(O){return u.handleTechError_(O)}),this.on(this.tech_,"posterchange",function(O){return u.handleTechPosterChange_(O)}),this.on(this.tech_,"textdata",function(O){return u.handleTechTextData_(O)}),this.on(this.tech_,"ratechange",function(O){return u.handleTechRateChange_(O)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&("Html5"!==d||!this.tag)&&$u(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.unloadTech_=function(){var e=this;vr.names.forEach(function(a){var u=vr[a];e[u.privateName]=e[u.getterName]()}),this.textTracksJson_=function(n){var t=n.$$("track"),r=Array.prototype.map.call(t,function(a){return a.track});return Array.prototype.map.call(t,function(a){var u=Qd(a.track);return a.src&&(u.src=a.src),u}).concat(Array.prototype.filter.call(n.textTracks(),function(a){return-1===r.indexOf(a)}).map(Qd))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},t.tech=function(e){return void 0===e&&_n.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},t.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},t.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},t.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},t.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},t.manualAutoplay_=function(e){var a=this;if(this.tech_&&"string"==typeof e){var d,u=function(){var g=a.muted();a.muted(!0);var E=function(){a.muted(g)};a.playTerminatedQueue_.push(E);var N=a.play();if(Zu(N))return N.catch(function(O){throw E(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(O||""))})};if("any"!==e||this.muted()?d="muted"!==e||this.muted()?this.play():u():Zu(d=this.play())&&(d=d.catch(u)),Zu(d))return d.then(function(){a.trigger({type:"autoplay-success",autoplay:e})}).catch(function(){a.trigger({type:"autoplay-failure",autoplay:e})})}},t.updateSourceCaches_=function(e){void 0===e&&(e="");var a=e,u="";"string"!=typeof a&&(a=e.src,u=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],a&&!u&&(u=function(n,t){if(!t)return"";if(n.cache_.source.src===t&&n.cache_.source.type)return n.cache_.source.type;var r=n.cache_.sources.filter(function(d){return d.src===t});if(r.length)return r[0].type;for(var e=n.$$("source"),a=0;a<e.length;a++){var u=e[a];if(u.type&&u.src&&u.src===t)return u.type}return nl(t)}(this,a)),this.cache_.source=dr({},e,{src:a,type:u});for(var d=this.cache_.sources.filter(function(W){return W.src&&W.src===a}),p=[],g=this.$$("source"),E=[],N=0;N<g.length;N++){var O=Xa(g[N]);p.push(O),O.src&&O.src===a&&E.push(O.src)}E.length&&!d.length?this.cache_.sources=p:d.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=a},t.handleTechSourceset_=function(e){var a=this;if(!this.changingSrc_){var u=function(E){return a.updateSourceCaches_(E)},d=this.currentSource().src,p=e.src;d&&!/^blob:/.test(d)&&/^blob:/.test(p)&&(!this.lastSource_||this.lastSource_.tech!==p&&this.lastSource_.player!==d)&&(u=function(){}),u(p),e.src||this.tech_.any(["sourceset","loadstart"],function(g){if("sourceset"!==g.type){var E=a.techGet("currentSrc");a.lastSource_.tech=E,a.updateSourceCaches_(E)}})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})},t.hasStarted=function(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},t.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(e){return e.callback(e.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},t.handleTechWaiting_=function(){var e=this;this.addClass("vjs-waiting"),this.trigger("waiting");var a=this.currentTime();this.on("timeupdate",function d(){a!==e.currentTime()&&(e.removeClass("vjs-waiting"),e.off("timeupdate",d))})},t.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},t.handleTechFirstPlay_=function(){this.options_.starttime&&(_n.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.handleTechClick_=function(e){!this.controls_||(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.click||!1!==this.options_.userActions.click)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?Is(this.play()):this.pause())},t.handleTechDoubleClick_=function(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(u){return u.contains(e.target)})||(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.doubleClick||!1!==this.options_.userActions.doubleClick)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},t.handleTechTap_=function(){this.userActive(!this.userActive())},t.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.handleTechTouchEnd_=function(e){e.cancelable&&e.preventDefault()},t.handleStageClick_=function(){this.reportUserActivity()},t.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.documentFullscreenChange_=function(e){var a=e.target.player;if(!a||a===this){var u=this.el(),d=at()[this.fsApi_.fullscreenElement]===u;!d&&u.matches?d=u.matches(":"+this.fsApi_.fullscreen):!d&&u.msMatchesSelector&&(d=u.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(d)}},t.handleTechFullscreenChange_=function(e,a){var u=this;a&&(a.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){u.removeClass("vjs-ios-native-fs")})),this.isFullscreen(a.isFullscreen))},t.handleTechFullscreenError_=function(e,a){this.trigger("fullscreenerror",a)},t.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},t.handleTechEnterPictureInPicture_=function(e){this.isInPictureInPicture(!0)},t.handleTechLeavePictureInPicture_=function(e){this.isInPictureInPicture(!1)},t.handleTechError_=function(){var e=this.tech_.error();this.error(e)},t.handleTechTextData_=function(){var e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)},t.getCache=function(){return this.cache_},t.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},t.techCall_=function(e,a){this.ready(function(){if(e in wm)return function m_(l,n,t,r){return n[t](l.reduce(tl(t),r))}(this.middleware_,this.tech_,e,a);if(e in qh)return ln(this.middleware_,this.tech_,e,a);try{this.tech_&&this.tech_[e](a)}catch(u){throw _n(u),u}},!0)},t.techGet_=function(e){if(this.tech_&&this.tech_.isReady_){if(e in xm)return function g_(l,n,t){return l.reduceRight(tl(t),n[t]())}(this.middleware_,this.tech_,e);if(e in qh)return ln(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(a){throw void 0===this.tech_[e]?(_n("Video.js: "+e+" method not defined for "+this.techName_+" playback technology.",a),a):"TypeError"===a.name?(_n("Video.js: "+e+" unavailable on "+this.techName_+" playback technology element.",a),this.tech_.isReady_=!1,a):(_n(a),a)}}},t.play=function(){var e=this,a=this.options_.Promise||oe().Promise;return a?new a(function(u){e.play_(u)}):this.play_()},t.play_=function(e){var a=this;void 0===e&&(e=Is),this.playCallbacks_.push(e);var u=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!u)return this.waitToPlay_=function(p){a.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!u&&(ju||rs)&&this.load());var d=this.techGet_("play");null===d?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(d)},t.runPlayTerminatedQueue_=function(){var e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(a){a()})},t.runPlayCallbacks_=function(e){var a=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],a.forEach(function(u){u(e)})},t.pause=function(){this.techCall_("pause")},t.paused=function(){return!1!==this.techGet_("paused")},t.played=function(){return this.techGet_("played")||tu(0,0)},t.scrubbing=function(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},t.currentTime=function(e){return void 0!==e?(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),void(this.cache_.initTime=0)):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},t.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},t.duration=function(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))},t.remainingTime=function(){return this.duration()-this.currentTime()},t.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},t.buffered=function(){var e=this.techGet_("buffered");return(!e||!e.length)&&(e=tu(0,0)),e},t.bufferedPercent=function(){return _m(this.buffered(),this.duration())},t.bufferedEnd=function(){var e=this.buffered(),a=this.duration(),u=e.end(e.length-1);return u>a&&(u=a),u},t.volume=function(e){var a;return void 0!==e?(a=Math.max(0,Math.min(1,parseFloat(e))),this.cache_.volume=a,this.techCall_("setVolume",a),void(a>0&&this.lastVolume_(a))):(a=parseFloat(this.techGet_("volume")),isNaN(a)?1:a)},t.muted=function(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)},t.defaultMuted=function(e){return void 0!==e?this.techCall_("setDefaultMuted",e):this.techGet_("defaultMuted")||!1},t.lastVolume_=function(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e},t.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.isFullscreen=function(e){if(void 0!==e){var a=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==a&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},t.requestFullscreen=function(e){var a=this.options_.Promise||oe().Promise;if(a){var u=this;return new a(function(d,p){function g(){u.off("fullscreenerror",N),u.off("fullscreenchange",E)}function E(){g(),d()}function N(W,J){g(),p(J)}u.one("fullscreenchange",E),u.one("fullscreenerror",N);var O=u.requestFullscreenHelper_(e);O&&(O.then(g,g),O.then(d,p))})}return this.requestFullscreenHelper_()},t.requestFullscreenHelper_=function(e){var u,a=this;if(this.fsApi_.prefixed||(u=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(u=e)),this.fsApi_.requestFullscreen){var d=this.el_[this.fsApi_.requestFullscreen](u);return d&&d.then(function(){return a.isFullscreen(!0)},function(){return a.isFullscreen(!1)}),d}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},t.exitFullscreen=function(){var e=this.options_.Promise||oe().Promise;if(e){var a=this;return new e(function(u,d){function p(){a.off("fullscreenerror",E),a.off("fullscreenchange",g)}function g(){p(),u()}function E(O,W){p(),d(W)}a.one("fullscreenchange",g),a.one("fullscreenerror",E);var N=a.exitFullscreenHelper_();N&&(N.then(p,p),N.then(u,d))})}return this.exitFullscreenHelper_()},t.exitFullscreenHelper_=function(){var e=this;if(this.fsApi_.requestFullscreen){var a=at()[this.fsApi_.exitFullscreen]();return a&&Is(a.then(function(){return e.isFullscreen(!1)})),a}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},t.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=at().documentElement.style.overflow,gs(at(),"keydown",this.boundFullWindowOnEscKey_),at().documentElement.style.overflow="hidden",Ys(at().body,"vjs-full-window"),this.trigger("enterFullWindow")},t.fullWindowOnEscKey=function(e){Qt().isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},t.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Ii(at(),"keydown",this.boundFullWindowOnEscKey_),at().documentElement.style.overflow=this.docOrigOverflow,bc(at().body,"vjs-full-window"),this.trigger("exitFullWindow")},t.disablePictureInPicture=function(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")},t.isInPictureInPicture=function(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},t.requestPictureInPicture=function(){if("pictureInPictureEnabled"in at()&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},t.exitPictureInPicture=function(){if("pictureInPictureEnabled"in at())return at().exitPictureInPicture()},t.handleKeyDown=function(e){var p,g,a=this.options_.userActions;a&&a.hotkeys&&(g=(p=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),p.isContentEditable||("input"===g?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(p.type):-1!==["textarea"].indexOf(g))||("function"==typeof a.hotkeys?a.hotkeys.call(this,e):this.handleHotkeys(e)))},t.handleHotkeys=function(e){var a=this.options_.userActions?this.options_.userActions.hotkeys:{},u=a.fullscreenKey,p=a.muteKey,g=void 0===p?function(Y){return Qt().isEventKey(Y,"m")}:p,E=a.playPauseKey,N=void 0===E?function(Y){return Qt().isEventKey(Y,"k")||Qt().isEventKey(Y,"Space")}:E;if((void 0===u?function(Y){return Qt().isEventKey(Y,"f")}:u).call(this,e)){e.preventDefault(),e.stopPropagation();var O=pt.getComponent("FullscreenToggle");!1!==at()[this.fsApi_.fullscreenEnabled]&&O.prototype.handleClick.call(this,e)}else g.call(this,e)?(e.preventDefault(),e.stopPropagation(),pt.getComponent("MuteToggle").prototype.handleClick.call(this,e)):N.call(this,e)&&(e.preventDefault(),e.stopPropagation(),pt.getComponent("PlayToggle").prototype.handleClick.call(this,e))},t.canPlayType=function(e){for(var a,u=0,d=this.options_.techOrder;u<d.length;u++){var p=d[u],g=ar.getTech(p);if(g||(g=pt.getComponent(p)),g){if(g.isSupported()&&(a=g.canPlayType(e)))return a}else _n.error('The "'+p+'" tech is undefined. Skipped browser support check for that tech.')}return""},t.selectSource=function(e){var O,a=this,u=this.options_.techOrder.map(function(N){return[N,ar.getTech(N)]}).filter(function(N){var O=N[0],W=N[1];return W?W.isSupported():(_n.error('The "'+O+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),d=function(O,W,J){var Y;return O.some(function(Q){return W.some(function(Pe){if(Y=J(Q,Pe))return!0})}),Y},E=function(O,W){var J=O[0];if(O[1].canPlaySource(W,a.options_[J.toLowerCase()]))return{source:W,tech:J}};return(this.options_.sourceOrder?d(e,u,(O=E,function(W,J){return O(J,W)})):d(u,e,E))||!1},t.handleSrc_=function(e,a){var u=this;if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var d=Yh(e);if(d.length){if(this.changingSrc_=!0,a||(this.cache_.sources=d),this.updateSourceCaches_(d[0]),Dm(this,d[0],function(E,N){if(u.middleware_=N,a||(u.cache_.sources=d),u.updateSourceCaches_(E),u.src_(E))return d.length>1?u.handleSrc_(d.slice(1)):(u.changingSrc_=!1,u.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void u.triggerReady());!function p_(l,n){l.forEach(function(t){return t.setTech&&t.setTech(n)})}(N,u.tech_)}),this.options_.retryOnError&&d.length>1){var p=function(){u.error(null),u.handleSrc_(d.slice(1),!0)},g=function(){u.off("error",p)};this.one("error",p),this.one("playing",g),this.resetRetryOnError_=function(){u.off("error",p),u.off("playing",g)}}}else this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},t.src=function(e){return this.handleSrc_(e,!1)},t.src_=function(e){var a=this,u=this.selectSource([e]);return!u||(function(n,t){return Mr(n)===Mr(t)}(u.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(u.tech,u.source),this.tech_.ready(function(){a.changingSrc_=!1}),!1))},t.load=function(){this.techCall_("load")},t.reset=function(){var e=this,a=this.options_.Promise||oe().Promise;this.paused()||!a?this.doReset_():Is(this.play().then(function(){return e.doReset_()}))},t.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),di(this)&&this.trigger("playerreset")},t.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},t.resetProgressBar_=function(){this.currentTime(0);var e=this.controlBar,a=e.durationDisplay,u=e.remainingTimeDisplay;a&&a.updateContent(),u&&u.updateContent()},t.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},t.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},t.currentSources=function(){var e=this.currentSource(),a=[];return 0!==Object.keys(e).length&&a.push(e),this.cache_.sources||a},t.currentSource=function(){return this.cache_.source||{}},t.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},t.currentType=function(){return this.currentSource()&&this.currentSource().type||""},t.preload=function(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")},t.autoplay=function(e){if(void 0===e)return this.options_.autoplay||!1;var a;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),a=!1):this.options_.autoplay=!!e,a=void 0===a?this.options_.autoplay:a,this.tech_&&this.techCall_("setAutoplay",a)},t.playsinline=function(e){return void 0!==e?(this.techCall_("setPlaysinline",e),this.options_.playsinline=e,this):this.techGet_("playsinline")},t.loop=function(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")},t.poster=function(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))},t.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},t.controls=function(e){if(void 0===e)return!!this.controls_;this.controls_!==(e=!!e)&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},t.usingNativeControls=function(e){if(void 0===e)return!!this.usingNativeControls_;this.usingNativeControls_!==(e=!!e)&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},t.error=function(e){var a=this;if(void 0===e)return this.error_||null;if(Xs("beforeerror").forEach(function(d){var p=d(a,e);Wa(p)&&!Array.isArray(p)||"string"==typeof p||"number"==typeof p||null===p?e=p:a.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&e&&4===e.code){var u=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],u),void this.one("loadstart",function(){this.off(["click","touchstart"],u)})}if(null===e)return this.error_=e,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new Hi(e),this.addClass("vjs-error"),_n.error("(CODE:"+this.error_.code+" "+Hi.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Xs("error").forEach(function(d){return d(a,a.error_)})},t.reportUserActivity=function(e){this.userActivity_=!0},t.userActive=function(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(a){a.stopPropagation(),a.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},t.listenForUserActivity_=function(){var e,a,u,d=cr(this,this.reportUserActivity),E=function(J){d(),this.clearInterval(e)};this.on("mousedown",function(){d(),this.clearInterval(e),e=this.setInterval(d,250)}),this.on("mousemove",function(J){(J.screenX!==a||J.screenY!==u)&&(a=J.screenX,u=J.screenY,d())}),this.on("mouseup",E),this.on("mouseleave",E);var O,N=this.getChild("controlBar");N&&!rs&&!$a&&(N.on("mouseenter",function(W){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),N.on("mouseleave",function(W){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",d),this.on("keyup",d),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(O);var W=this.options_.inactivityTimeout;W<=0||(O=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},W))}},250)},t.playbackRate=function(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)},t.defaultPlaybackRate=function(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},t.isAudio=function(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e},t.addTextTrack=function(e,a,u){if(this.tech_)return this.tech_.addTextTrack(e,a,u)},t.addRemoteTextTrack=function(e,a){if(this.tech_)return this.tech_.addRemoteTextTrack(e,a)},t.removeRemoteTextTrack=function(e){void 0===e&&(e={});var u=e.track;if(u||(u=e),this.tech_)return this.tech_.removeRemoteTextTrack(u)},t.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.language=function(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),di(this)&&this.trigger("languagechange"))},t.languages=function(){return dr(n.prototype.options_.languages,this.languages_)},t.toJSON=function(){var e=dr(this.options_),a=e.tracks;e.tracks=[];for(var u=0;u<a.length;u++){var d=a[u];(d=dr(d)).player=void 0,e.tracks[u]=d}return e},t.createModal=function(e,a){var u=this;(a=a||{}).content=e||"";var d=new nu(this,a);return this.addChild(d),d.on("dispose",function(){u.removeChild(d)}),d.open(),d},t.updateCurrentBreakpoint_=function(){if(this.responsive())for(var e=this.currentBreakpoint(),a=this.currentWidth(),u=0;u<Vc.length;u++){var d=Vc[u];if(a<=this.breakpoints_[d]){if(e===d)return;e&&this.removeClass(Hc[e]),this.addClass(Hc[d]),this.breakpoint_=d;break}}},t.removeCurrentBreakpoint_=function(){var e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)},t.breakpoints=function(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=wr({},R_,e),this.updateCurrentBreakpoint_()),wr(this.breakpoints_)},t.responsive=function(e){return void 0===e?this.responsive_:(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0},t.currentBreakpoint=function(){return this.breakpoint_},t.currentBreakpointClass=function(){return Hc[this.breakpoint_]||""},t.loadMedia=function(e,a){var u=this;if(e&&"object"==typeof e){this.reset(),this.cache_.media=dr(e);var d=this.cache_.media,g=d.poster,E=d.src,N=d.textTracks;!d.artwork&&g&&(this.cache_.media.artwork=[{src:g,type:nl(g)}]),E&&this.src(E),g&&this.poster(g),Array.isArray(N)&&N.forEach(function(O){return u.addRemoteTextTrack(O,!1)}),this.ready(a)}},t.getMedia=function(){if(!this.cache_.media){var e=this.poster(),d={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(p){return{kind:p.kind,label:p.label,language:p.language,src:p.src}})};return e&&(d.poster=e,d.artwork=[{src:d.poster,type:nl(d.poster)}]),d}return dr(this.cache_.media)},n.getTagSettings=function(e){var a={sources:[],tracks:[]},u=Xa(e),d=u["data-setup"];if(yo(e,"vjs-fill")&&(u.fill=!0),yo(e,"vjs-fluid")&&(u.fluid=!0),null!==d){var p=k()(d||"{}"),g=p[0],E=p[1];g&&_n.error(g),wr(u,E)}if(wr(a,u),e.hasChildNodes())for(var N=e.childNodes,O=0,W=N.length;O<W;O++){var J=N[O],Y=J.nodeName.toLowerCase();"source"===Y?a.sources.push(Xa(J)):"track"===Y&&a.tracks.push(Xa(J))}return a},t.flexNotSupported_=function(){var e=at().createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},t.debug=function(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},t.playbackRates=function(e){if(void 0===e)return this.cache_.playbackRates;!Array.isArray(e)||!e.every(function(a){return"number"==typeof a})||(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))},n}(pt);vr.names.forEach(function(l){var n=vr[l];Kr.prototype[n.getterName]=function(){return this.tech_?this.tech_[n.getterName]():(this[n.privateName]=this[n.privateName]||new n.ListClass,this[n.privateName])}}),Kr.prototype.crossorigin=Kr.prototype.crossOrigin,Kr.players={};var uu=oe().navigator;Kr.prototype.options_={techOrder:ar.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:uu&&(uu.languages&&uu.languages[0]||uu.userLanguage||uu.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(l){Kr.prototype[l]=function(){return this.techGet_(l)}}),av.forEach(function(l){Kr.prototype["handleTech"+Mr(l)+"_"]=function(){return this.trigger(l)}}),pt.registerComponent("Player",Kr);var gp="plugin",ll="activePlugins_",lu={},Gc=function(n){return lu.hasOwnProperty(n)},jc=function(n){return Gc(n)?lu[n]:void 0},mp=function(n,t){n[ll]=n[ll]||{},n[ll][t]=!0},Wc=function(n,t,r){var e=(r?"before":"")+"pluginsetup";n.trigger(e,t),n.trigger(e+":"+t.name,t)},$c=function(n,t){return t.prototype.name=n,function(){Wc(this,{name:n,plugin:t,instance:null},!0);for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];var u=Zn(t,[this].concat(e));return this[n]=function(){return u},Wc(this,u.getEventHash()),u}},Da=function(){function l(t){if(this.constructor===l)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),qd(this),delete this.trigger,kh(this,this.constructor.defaultState),mp(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}var n=l.prototype;return n.version=function(){return this.constructor.VERSION},n.getEventHash=function(r){return void 0===r&&(r={}),r.name=this.name,r.plugin=this.constructor,r.instance=this,r},n.trigger=function(r,e){return void 0===e&&(e={}),qu(this.eventBusEl_,r,this.getEventHash(e))},n.handleStateChanged=function(r){},n.dispose=function(){var r=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[ll][r]=!1,this.player=this.state=null,e[r]=$c(r,lu[r])},l.isBasic=function(r){var e="string"==typeof r?jc(r):r;return"function"==typeof e&&!l.prototype.isPrototypeOf(e.prototype)},l.registerPlugin=function(r,e){if("string"!=typeof r)throw new Error('Illegal plugin name, "'+r+'", must be a string, was '+typeof r+".");if(Gc(r))_n.warn('A plugin named "'+r+'" already exists. You may want to avoid re-registering plugins!');else if(Kr.prototype.hasOwnProperty(r))throw new Error('Illegal plugin name, "'+r+'", cannot share a name with an existing player method!');if("function"!=typeof e)throw new Error('Illegal plugin for "'+r+'", must be a function, was '+typeof e+".");return lu[r]=e,r!==gp&&(Kr.prototype[r]=l.isBasic(e)?function(n,t){var r=function(){Wc(this,{name:n,plugin:t,instance:null},!0);var a=t.apply(this,arguments);return mp(this,n),Wc(this,{name:n,plugin:t,instance:a}),a};return Object.keys(t).forEach(function(e){r[e]=t[e]}),r}(r,e):$c(r,e)),e},l.deregisterPlugin=function(r){if(r===gp)throw new Error("Cannot de-register base plugin.");Gc(r)&&(delete lu[r],delete Kr.prototype[r])},l.getPlugins=function(r){var e;return void 0===r&&(r=Object.keys(lu)),r.forEach(function(a){var u=jc(a);u&&((e=e||{})[a]=u)}),e},l.getPluginVersion=function(r){var e=jc(r);return e&&e.VERSION||""},l}();Da.getPlugin=jc,Da.BASE_PLUGIN_NAME=gp,Da.registerPlugin(gp,Da),Kr.prototype.usingPlugin=function(l){return!!this[ll]&&!0===this[ll][l]},Kr.prototype.hasPlugin=function(l){return!!Gc(l)};var N_=function(n){return 0===n.indexOf("#")?n.slice(1):n};function Ie(l,n,t){var r=Ie.getPlayer(l);if(r)return n&&_n.warn('Player "'+l+'" is already initialised. Options will not be applied.'),t&&r.ready(t),r;var e="string"==typeof l?Ar("#"+N_(l)):l;if(!Wu(e))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!e.ownerDocument.defaultView||!e.ownerDocument.body.contains(e))&&_n.warn("The element supplied is not included in the DOM"),n=n||{},Xs("beforesetup").forEach(function(u){var d=u(e,dr(n));Wa(d)&&!Array.isArray(d)?n=dr(n,d):_n.error("please return an object in beforesetup hooks")});var a=pt.getComponent("Player");return r=new a(e,n,t),Xs("setup").forEach(function(u){return u(r)}),r}if(Ie.hooks_=ja,Ie.hooks=Xs,Ie.hook=function(n,t){Xs(n,t)},Ie.hookOnce=function(n,t){Xs(n,[].concat(t).map(function(r){return function a(){return Ko(n,a),r.apply(void 0,arguments)}}))},Ie.removeHook=Ko,!0!==oe().VIDEOJS_NO_DYNAMIC_STYLE&&Qo()){var zc=Ar(".vjs-styles-defaults");if(!zc){zc=hm("vjs-styles-defaults");var Kc=Ar("head");Kc&&Kc.insertBefore(zc,Kc.firstChild),Oh(zc,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Ph(1,Ie),Ie.VERSION="7.18.1",Ie.options=Kr.prototype.options_,Ie.getPlayers=function(){return Kr.players},Ie.getPlayer=function(l){var t,n=Kr.players;if("string"==typeof l){var r=N_(l),e=n[r];if(e)return e;t=Ar("#"+r)}else t=l;if(Wu(t)){var u=t.player,d=t.playerId;if(u||n[d])return u||n[d]}},Ie.getAllPlayers=function(){return Object.keys(Kr.players).map(function(l){return Kr.players[l]}).filter(Boolean)},Ie.players=Kr.players,Ie.getComponent=pt.getComponent,Ie.registerComponent=function(l,n){ar.isTech(n)&&_n.warn("The "+l+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),pt.registerComponent.call(pt,l,n)},Ie.getTech=ar.getTech,Ie.registerTech=ar.registerTech,Ie.use=function h_(l,n){iu[l]=iu[l]||[],iu[l].push(n)},Object.defineProperty(Ie,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Ie.middleware,"TERMINATOR",{value:rf,writeable:!1,enumerable:!0}),Ie.browser=xh,Ie.TOUCH_ENABLED=Yo,Ie.extend=function(n,t){void 0===t&&(t={});var r=function(){n.apply(this,arguments)},e={};for(var a in"object"==typeof t?(t.constructor!==Object.prototype.constructor&&(r=t.constructor),e=t):"function"==typeof t&&(r=t),function zr(l,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),n&&ai(l,n)}(r,n),n&&(r.super_=n),e)e.hasOwnProperty(a)&&(r.prototype[a]=e[a]);return r},Ie.mergeOptions=dr,Ie.bind=cr,Ie.registerPlugin=Da.registerPlugin,Ie.deregisterPlugin=Da.deregisterPlugin,Ie.plugin=function(l,n){return _n.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Da.registerPlugin(l,n)},Ie.getPlugins=Da.getPlugins,Ie.getPlugin=Da.getPlugin,Ie.getPluginVersion=Da.getPluginVersion,Ie.addLanguage=function(l,n){var t;return l=(""+l).toLowerCase(),(Ie.options.languages=dr(Ie.options.languages,((t={})[l]=n,t)))[l]},Ie.log=_n,Ie.createLogger=Jg,Ie.createTimeRange=Ie.createTimeRanges=tu,Ie.formatTime=rl,Ie.setFormatTime=function Lm(l){Nm=l},Ie.resetFormatTime=function Fm(){Nm=km},Ie.parseUrl=Pc,Ie.isCrossOrigin=_o,Ie.EventTarget=ci,Ie.on=gs,Ie.one=Cc,Ie.off=Ii,Ie.trigger=qu,Ie.xhr=M(),Ie.TextTrack=Rc,Ie.AudioTrack=$h,Ie.VideoTrack=nf,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(l){Ie[l]=function(){return _n.warn("videojs."+l+"() is deprecated; use videojs.dom."+l+"() instead"),$d[l].apply(null,arguments)}}),Ie.computedStyle=Tc,Ie.dom=$d,Ie.url=c_,Ie.defineLazyProperty=pp,Ie.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});
/*! @name @videojs/http-streaming @version 2.13.1 @license Apache-2.0 */
var ji=Ba,yf=function(n,t,r){return n&&r&&r.responseURL&&t!==r.responseURL?r.responseURL:t},ms=function(n){return Ie.log.debug?Ie.log.debug.bind(Ie,"VHS:",n+" >"):function(){}},no=1/30,ta=.1,vp=function(n,t){var e,r=[];if(n&&n.length)for(e=0;e<n.length;e++)t(n.start(e),n.end(e))&&r.push([n.start(e),n.end(e)]);return Ie.createTimeRanges(r)},cl=function(n,t){return vp(n,function(r,e){return r-ta<=t&&e+ta>=t})},dl=function(n,t){return vp(n,function(r){return r-no>=t})},yp=function(n){var t=[];if(!n||!n.length)return"";for(var r=0;r<n.length;r++)t.push(n.start(r)+" => "+n.end(r));return t.join(", ")},Co=function(n){for(var t=[],r=0;r<n.length;r++)t.push({start:n.start(r),end:n.end(r)});return t},ov=function(n){if(n&&n.length&&n.end)return n.end(n.length-1)},Do=function(n,t){var r=0;if(!n||!n.length)return r;for(var e=0;e<n.length;e++){var a=n.start(e),u=n.end(e);if(!(t>u)){if(t>a&&t<=u){r+=u-t;continue}r+=u-a}}return r},uv=Ie.createTimeRange,_p=function(n,t){if(!t.preload)return t.duration;var r=0;return(t.parts||[]).forEach(function(e){r+=e.duration}),(t.preloadHints||[]).forEach(function(e){"PART"===e.type&&(r+=n.partTargetDuration)}),r},Tp=function(n){return(n.segments||[]).reduce(function(t,r,e){return r.parts?r.parts.forEach(function(a,u){t.push({duration:a.duration,segmentIndex:e,partIndex:u,part:a,segment:r})}):t.push({duration:r.duration,segmentIndex:e,partIndex:null,segment:r,part:null}),t},[])},lv=function(n){var t=n.segments&&n.segments.length&&n.segments[n.segments.length-1];return t&&t.parts||[]},na=function(n){var t=n.preloadSegment;if(t){var r=t.parts;return(t.preloadHints||[]).reduce(function(u,d){return u+("PART"===d.type?1:0)},0)+(r&&r.length?r.length:0)}},_f=function(n,t){if(t.endList)return 0;if(n&&n.suggestedPresentationDelay)return n.suggestedPresentationDelay;var r=lv(t).length>0;return r&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:r&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},bp=function(n,t,r){if(void 0===t&&(t=n.mediaSequence+n.segments.length),t<n.mediaSequence)return 0;var e=function(n,t){var r=0,e=t-n.mediaSequence,a=n.segments[e];if(a){if(void 0!==a.start)return{result:a.start,precise:!0};if(void 0!==a.end)return{result:a.end-a.duration,precise:!0}}for(;e--;){if(void 0!==(a=n.segments[e]).end)return{result:r+a.end,precise:!0};if(r+=_p(n,a),void 0!==a.start)return{result:r+a.start,precise:!0}}return{result:r,precise:!1}}(n,t);if(e.precise)return e.result;var a=function(n,t){for(var e,r=0,a=t-n.mediaSequence;a<n.segments.length;a++){if(void 0!==(e=n.segments[a]).start)return{result:e.start-r,precise:!0};if(r+=_p(n,e),void 0!==e.end)return{result:e.end-r,precise:!0}}return{result:-1,precise:!1}}(n,t);return a.precise?a.result:e.result+r},Sp=function(n,t,r){if(!n)return 0;if("number"!=typeof r&&(r=0),void 0===t){if(n.totalDuration)return n.totalDuration;if(!n.endList)return oe()[1/0]}return bp(n,t,r)},Xc=function(n){var t=n.defaultDuration,r=n.durationList,e=n.startIndex,a=n.endIndex,u=0;if(e>a){var d=[a,e];e=d[0],a=d[1]}if(e<0){for(var p=e;p<Math.min(0,a);p++)u+=t;e=0}for(var g=e;g<a;g++)u+=r[g].duration;return u},fv=function(n,t,r,e){if(!n||!n.segments)return null;if(n.endList)return Sp(n);if(null===t)return null;var a=bp(n,n.mediaSequence+n.segments.length,t=t||0);return r&&(a-=e="number"==typeof e?e:_f(null,n)),Math.max(0,a)},Ep=function(n){return n.excludeUntil&&n.excludeUntil>Date.now()},hv=function(n){return n.excludeUntil&&n.excludeUntil===1/0},qc=function(n){var t=Ep(n);return!n.disabled&&!t},j_=function(n,t){return t.attributes&&t.attributes[n]},Yc=function(n,t){if(1===n.playlists.length)return!0;var r=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===n.playlists.filter(function(e){return!!qc(e)&&(e.attributes.BANDWIDTH||0)<r}).length},Cp=function(n,t){return!(!n&&!t||!n&&t||n&&!t||!(n===t||n.id&&t.id&&n.id===t.id||n.resolvedUri&&t.resolvedUri&&n.resolvedUri===t.resolvedUri||n.uri&&t.uri&&n.uri===t.uri))},Dp=function(n,t){var r=n&&n.mediaGroups&&n.mediaGroups.AUDIO||{},e=!1;for(var a in r){for(var u in r[a])if(e=t(r[a][u]))break;if(e)break}return!!e},hl=function(n){if(!n||!n.playlists||!n.playlists.length)return Dp(n,function(u){return u.playlists&&u.playlists.length||u.uri});for(var r=function(d){var p=n.playlists[d],g=p.attributes&&p.attributes.CODECS;return g&&g.split(",").every(function(N){return Ql(N)})||Dp(n,function(N){return Cp(p,N)})?"continue":{v:!1}},e=0;e<n.playlists.length;e++){var a=r(e);if("continue"!==a&&"object"==typeof a)return a.v}return!0},vs={liveEdgeDelay:_f,duration:Sp,seekable:function(n,t,r){var a=t||0,u=fv(n,t,!0,r);return null===u?uv():uv(a,u)},getMediaInfoForTime:function(n){for(var t=n.playlist,r=n.currentTime,e=n.startingSegmentIndex,a=n.startingPartIndex,u=n.startTime,d=n.experimentalExactManifestTimings,p=r-u,g=Tp(t),E=0,N=0;N<g.length;N++){var O=g[N];if(e===O.segmentIndex&&("number"!=typeof a||"number"!=typeof O.partIndex||a===O.partIndex)){E=N;break}}if(p<0){if(E>0)for(var W=E-1;W>=0;W--){var J=g[W];if(p+=J.duration,d){if(p<0)continue}else if(p+no<=0)continue;return{partIndex:J.partIndex,segmentIndex:J.segmentIndex,startTime:u-Xc({defaultDuration:t.targetDuration,durationList:g,startIndex:E,endIndex:W})}}return{partIndex:g[0]&&g[0].partIndex||null,segmentIndex:g[0]&&g[0].segmentIndex||0,startTime:r}}if(E<0){for(var Y=E;Y<0;Y++)if((p-=t.targetDuration)<0)return{partIndex:g[0]&&g[0].partIndex||null,segmentIndex:g[0]&&g[0].segmentIndex||0,startTime:r};E=0}for(var Q=E;Q<g.length;Q++){var Pe=g[Q];if(p-=Pe.duration,d){if(p>0)continue}else if(p-no>=0)continue;return{partIndex:Pe.partIndex,segmentIndex:Pe.segmentIndex,startTime:u+Xc({defaultDuration:t.targetDuration,durationList:g,startIndex:E,endIndex:Q})}}return{segmentIndex:g[g.length-1].segmentIndex,partIndex:g[g.length-1].partIndex,startTime:r}},isEnabled:qc,isDisabled:function(n){return n.disabled},isBlacklisted:Ep,isIncompatible:hv,playlistEnd:fv,isAes:function(n){for(var t=0;t<n.segments.length;t++)if(n.segments[t].key)return!0;return!1},hasAttribute:j_,estimateSegmentRequestTime:function(n,t,r,e){return void 0===e&&(e=0),j_("BANDWIDTH",r)?(n*r.attributes.BANDWIDTH-8*e)/t:NaN},isLowestEnabledRendition:Yc,isAudioOnly:hl,playlistMatch:Cp,segmentDurationWithParts:_p},Rs=Ie.log,pv=function(n,t){return n+"-"+t},pl=function(n,t){!n.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(r){if(n.mediaGroups[r])for(var e in n.mediaGroups[r])for(var a in n.mediaGroups[r][e])t(n.mediaGroups[r][e][a],r,e,a)})},xp=function(n){var t=n.playlist,r=n.uri;t.id=n.id,t.playlistErrors_=0,r&&(t.uri=r),t.attributes=t.attributes||{}},wp=function(n,t){n.uri=t;for(var r=0;r<n.playlists.length;r++)n.playlists[r].uri||(n.playlists[r].uri="placeholder-uri-"+r);var a=hl(n);pl(n,function(u,d,p,g){var E="placeholder-uri-"+d+"-"+p+"-"+g;if(!u.playlists||!u.playlists.length){if(a&&"AUDIO"===d&&!u.uri)for(var N=0;N<n.playlists.length;N++){var O=n.playlists[N];if(O.attributes&&O.attributes.AUDIO&&O.attributes.AUDIO===p)return}u.playlists=[kn({},u)]}u.playlists.forEach(function(W,J){var Y=pv(J,E);W.uri?W.resolvedUri=W.resolvedUri||ji(n.uri,W.uri):(W.uri=0===J?E:Y,W.resolvedUri=W.uri),W.id=W.id||Y,W.attributes=W.attributes||{},n.playlists[W.id]=W,n.playlists[W.uri]=W})}),function(n){for(var t=n.playlists.length;t--;){var r=n.playlists[t];xp({playlist:r,id:pv(t,r.uri)}),r.resolvedUri=ji(n.uri,r.uri),n.playlists[r.id]=r,n.playlists[r.uri]=r,r.attributes.BANDWIDTH||Rs.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(n),function(n){pl(n,function(t){t.uri&&(t.resolvedUri=ji(n.uri,t.uri))})}(n)},gl=Ie.mergeOptions,z_=function(n,t){if(!n)return t;var r=gl(n,t);if(n.preloadHints&&!t.preloadHints&&delete r.preloadHints,n.parts&&!t.parts)delete r.parts;else if(n.parts&&t.parts)for(var e=0;e<t.parts.length;e++)n.parts&&n.parts[e]&&(r.parts[e]=gl(n.parts[e],t.parts[e]));return!n.skipped&&t.skipped&&(r.skipped=!1),n.preload&&!t.preload&&(r.preload=!1),r},mv=function(n,t){!n.resolvedUri&&n.uri&&(n.resolvedUri=ji(t,n.uri)),n.key&&!n.key.resolvedUri&&(n.key.resolvedUri=ji(t,n.key.uri)),n.map&&!n.map.resolvedUri&&(n.map.resolvedUri=ji(t,n.map.uri)),n.map&&n.map.key&&!n.map.key.resolvedUri&&(n.map.key.resolvedUri=ji(t,n.map.key.uri)),n.parts&&n.parts.length&&n.parts.forEach(function(r){r.resolvedUri||(r.resolvedUri=ji(t,r.uri))}),n.preloadHints&&n.preloadHints.length&&n.preloadHints.forEach(function(r){r.resolvedUri||(r.resolvedUri=ji(t,r.uri))})},vv=function(n){var t=n.segments||[],r=n.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints)for(var e=0;e<r.preloadHints.length;e++)if("MAP"===r.preloadHints[e].type)return t;r.duration=n.targetDuration,r.preload=!0,t.push(r)}return t},yv=function(n,t){return n===t||n.segments&&t.segments&&n.segments.length===t.segments.length&&n.endList===t.endList&&n.mediaSequence===t.mediaSequence&&n.preloadSegment===t.preloadSegment},Mp=function(n,t,r){void 0===r&&(r=yv);var e=gl(n,{}),a=e.playlists[t.id];if(!a||r(a,t))return null;t.segments=vv(t);var u=gl(a,t);if(u.preloadSegment&&!t.preloadSegment&&delete u.preloadSegment,a.segments){if(t.skip){t.segments=t.segments||[];for(var d=0;d<t.skip.skippedSegments;d++)t.segments.unshift({skipped:!0})}u.segments=function(n,t,r){var e=n.slice(),a=t.slice();r=r||0;for(var d,u=[],p=0;p<a.length;p++){var g=e[p+r],E=a[p];g?(d=g.map||d,u.push(z_(g,E))):(d&&!E.map&&(E.map=d),u.push(E))}return u}(a.segments,t.segments,t.mediaSequence-a.mediaSequence)}u.segments.forEach(function(g){mv(g,u.resolvedUri)});for(var p=0;p<e.playlists.length;p++)e.playlists[p].id===t.id&&(e.playlists[p]=u);return e.playlists[t.id]=u,e.playlists[t.uri]=u,pl(n,function(g,E,N,O){if(g.playlists)for(var W=0;W<g.playlists.length;W++)t.id===g.playlists[W].id&&(g.playlists[W]=t)}),e},ml=function(n,t){var r=n.segments||[],e=r[r.length-1],a=e&&e.parts&&e.parts[e.parts.length-1],u=a&&a.duration||e&&e.duration;return t&&u?1e3*u:500*(n.partTargetDuration||n.targetDuration||10)},ra=function(l){function n(r,e,a){var u;if(void 0===a&&(a={}),u=l.call(this)||this,!r)throw new Error("A non-empty playlist URL or object is required");u.logger_=ms("PlaylistLoader");var p=a.withCredentials,g=void 0!==p&&p,E=a.handleManifestRedirects,N=void 0!==E&&E;u.src=r,u.vhs_=e,u.withCredentials=g,u.handleManifestRedirects=N;var O=e.options_;return u.customTagParsers=O&&O.customTagParsers||[],u.customTagMappers=O&&O.customTagMappers||[],u.experimentalLLHLS=O&&O.experimentalLLHLS||!1,Ie.browser.IE_VERSION&&(u.experimentalLLHLS=!1),u.state="HAVE_NOTHING",u.handleMediaupdatetimeout_=u.handleMediaupdatetimeout_.bind(Kt(u)),u.on("mediaupdatetimeout",u.handleMediaupdatetimeout_),u}Dt(n,l);var t=n.prototype;return t.handleMediaupdatetimeout_=function(){var e=this;if("HAVE_METADATA"===this.state){var a=this.media(),u=ji(this.master.uri,a.uri);this.experimentalLLHLS&&(u=function(n,t){if(t.endList||!t.serverControl)return n;var r={};if(t.serverControl.canBlockReload){var e=t.preloadSegment,a=t.mediaSequence+t.segments.length;if(e){var u=e.parts||[],d=na(t)-1;d>-1&&d!==u.length-1&&(r._HLS_part=d),(d>-1||u.length)&&a--}r._HLS_msn=a}if(t.serverControl&&t.serverControl.canSkipUntil&&(r._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){var p=new(oe().URL)(n);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(g){!r.hasOwnProperty(g)||p.searchParams.set(g,r[g])}),n=p.toString()}return n}(u,a)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:u,withCredentials:this.withCredentials},function(d,p){if(e.request){if(d)return e.playlistRequestError(e.request,e.media(),"HAVE_METADATA");e.haveMetadata({playlistString:e.request.responseText,url:e.media().uri,id:e.media().id})}})}},t.playlistRequestError=function(e,a,u){var d=a.uri,p=a.id;this.request=null,u&&(this.state=u),this.error={playlist:this.master.playlists[p],status:e.status,message:"HLS playlist request error at URL: "+d+".",responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")},t.parseManifest_=function(e){var a=this,u=e.url;return function(n){var t=n.onwarn,r=n.oninfo,e=n.manifestString,a=n.customTagParsers,u=void 0===a?[]:a,d=n.customTagMappers,p=void 0===d?[]:d,g=n.experimentalLLHLS,E=new Hs;t&&E.on("warn",t),r&&E.on("info",r),u.forEach(function(Y){return E.addParser(Y)}),p.forEach(function(Y){return E.addTagMapper(Y)}),E.push(e),E.end();var N=E.manifest;if(g||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(Y){N.hasOwnProperty(Y)&&delete N[Y]}),N.segments&&N.segments.forEach(function(Y){["parts","preloadHints"].forEach(function(Q){Y.hasOwnProperty(Q)&&delete Y[Q]})})),!N.targetDuration){var O=10;N.segments&&N.segments.length&&(O=N.segments.reduce(function(Y,Q){return Math.max(Y,Q.duration)},0)),t&&t("manifest has no targetDuration defaulting to "+O),N.targetDuration=O}var W=lv(N);if(W.length&&!N.partTargetDuration){var J=W.reduce(function(Y,Q){return Math.max(Y,Q.duration)},0);t&&(t("manifest has no partTargetDuration defaulting to "+J),Rs.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),N.partTargetDuration=J}return N}({onwarn:function(g){return a.logger_("m3u8-parser warn for "+u+": "+g.message)},oninfo:function(g){return a.logger_("m3u8-parser info for "+u+": "+g.message)},manifestString:e.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},t.haveMetadata=function(e){var a=e.playlistString,u=e.playlistObject,d=e.url,p=e.id;this.request=null,this.state="HAVE_METADATA";var g=u||this.parseManifest_({url:d,manifestString:a});g.lastRequest=Date.now(),xp({playlist:g,uri:d,id:p});var E=Mp(this.master,g);this.targetDuration=g.partTargetDuration||g.targetDuration,this.pendingMedia_=null,E?(this.master=E,this.media_=this.master.playlists[p]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(ml(this.media(),!!E)),this.trigger("loadedplaylist")},t.dispose=function(){this.trigger("dispose"),this.stopRequest(),oe().clearTimeout(this.mediaUpdateTimeout),oe().clearTimeout(this.finalRenditionTimeout),this.off()},t.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},t.media=function(e,a){var u=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.master.playlists[e]}if(oe().clearTimeout(this.finalRenditionTimeout),a){var d=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=oe().setTimeout(this.media.bind(this,e,!1),d)}else{var p=this.state,g=!this.media_||e.id!==this.media_.id,E=this.master.playlists[e.id];if(E&&E.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(g&&(this.trigger("mediachanging"),this.trigger("HAVE_MASTER"===p?"loadedmetadata":"mediachange")));if(this.updateMediaUpdateTimeout_(ml(e,!0)),g){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},function(N,O){if(u.request){if(e.lastRequest=Date.now(),e.resolvedUri=yf(u.handleManifestRedirects,e.resolvedUri,O),N)return u.playlistRequestError(u.request,e,p);u.haveMetadata({playlistString:O.responseText,url:e.uri,id:e.id}),u.trigger("HAVE_MASTER"===p?"loadedmetadata":"mediachange")}})}}},t.pause=function(){this.mediaUpdateTimeout&&(oe().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},t.load=function(e){var a=this;this.mediaUpdateTimeout&&(oe().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var u=this.media();if(e){var d=u?(u.partTargetDuration||u.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=oe().setTimeout(function(){a.mediaUpdateTimeout=null,a.load()},d)}else this.started?this.trigger(u&&!u.endList?"mediaupdatetimeout":"loadedplaylist"):this.start()},t.updateMediaUpdateTimeout_=function(e){var a=this;this.mediaUpdateTimeout&&(oe().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=oe().setTimeout(function(){a.mediaUpdateTimeout=null,a.trigger("mediaupdatetimeout"),a.updateMediaUpdateTimeout_(e)},e))},t.start=function(){var e=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=oe().location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){e.setupInitialPlaylist(e.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(a,u){if(e.request){if(e.request=null,a)return e.error={status:u.status,message:"HLS playlist request error at URL: "+e.src+".",responseText:u.responseText,code:2},"HAVE_NOTHING"===e.state&&(e.started=!1),e.trigger("error");e.src=yf(e.handleManifestRedirects,e.src,u);var d=e.parseManifest_({manifestString:u.responseText,url:e.src});e.setupInitialPlaylist(d)}})},t.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},t.setupInitialPlaylist=function(e){if(this.state="HAVE_MASTER",e.playlists)return this.master=e,wp(this.master,this.srcUri()),e.playlists.forEach(function(u){u.segments=vv(u),u.segments.forEach(function(d){mv(d,u.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var a=this.srcUri()||oe().location.href;this.master=function(n,t){var r=pv(0,t),e={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:oe().location.href,resolvedUri:oe().location.href,playlists:[{uri:t,id:r,resolvedUri:t,attributes:{}}]};return e.playlists[r]=e.playlists[0],e.playlists[t]=e.playlists[0],e}(0,a),this.haveMetadata({playlistObject:e,url:a,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},n}(Ie.EventTarget),X_=Ie.xhr,Qc=Ie.mergeOptions,Ip=function(n,t,r,e){var a="arraybuffer"===n.responseType?n.response:n.responseText;!t&&a&&(n.responseTime=Date.now(),n.roundTripTime=n.responseTime-n.requestTime,n.bytesReceived=a.byteLength||a.length,n.bandwidth||(n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3))),r.headers&&(n.responseHeaders=r.headers),t&&"ETIMEDOUT"===t.code&&(n.timedout=!0),!t&&!n.aborted&&200!==r.statusCode&&206!==r.statusCode&&0!==r.statusCode&&(t=new Error("XHR Failed with a response of: "+(n&&(a||n.responseText)))),e(t,n)},_v=function(){var n=function t(r,e){r=Qc({timeout:45e3},r);var a=t.beforeRequest||Ie.Vhs.xhr.beforeRequest;if(a&&"function"==typeof a){var u=a(r);u&&(r=u)}var p=(!0===Ie.Vhs.xhr.original?X_:Ie.Vhs.xhr)(r,function(E,N){return Ip(p,E,N,e)}),g=p.abort;return p.abort=function(){return p.aborted=!0,g.apply(p,arguments)},p.uri=r.uri,p.requestTime=Date.now(),p};return n.original=!0,n},ks=function(n){var t={};return n.byterange&&(t.Range=function(n){return"bytes="+n.offset+"-"+("bigint"==typeof n.offset||"bigint"==typeof n.length?oe().BigInt(n.offset)+oe().BigInt(n.length)-oe().BigInt(1):n.offset+n.length-1)}(n.byterange)),t},Zc=function(n,t){return n.start(t)+"-"+n.end(t)},Pi=function(n,t){var r=n.toString(16);return"00".substring(0,2-r.length)+r+(t%2?" ":"")},cu=function(n){return n>=32&&n<126?String.fromCharCode(n):"."},Jc=function(n){var t={};return Object.keys(n).forEach(function(r){var e=n[r];t[r]=ArrayBuffer.isView(e)?{bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:e}),t},Wi=function(n){var t=n.byterange||{length:1/0,offset:0};return[t.length,t.offset,n.resolvedUri].join(",")},Tf=function(n){return n.resolvedUri},du=function(n){for(var t=Array.prototype.slice.call(n),r=16,e="",d=0;d<t.length/r;d++)e+=t.slice(d*r,d*r+r).map(Pi).join("")+" "+t.slice(d*r,d*r+r).map(cu).join("")+"\n";return e},_l=Object.freeze({__proto__:null,createTransferableMessage:Jc,initSegmentId:Wi,segmentKeyId:Tf,hexDump:du,tagDump:function(n){return du(n.bytes)},textRanges:function(n){var r,t="";for(r=0;r<n.length;r++)t+=Zc(n,r)+" ";return t}}),Ev=function l(n){var t=n.programTime,r=n.playlist,e=n.retryCount,a=void 0===e?2:e,u=n.seekTo,d=n.pauseAfterSeek,p=void 0===d||d,g=n.tech,E=n.callback;if(!E)throw new Error("seekToProgramTime: callback must be provided");if(void 0===t||!r||!u)return E({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!g.hasStarted_)return E({message:"player must be playing a live stream to start buffering"});if(!function(n){if(!n.segments||0===n.segments.length)return!1;for(var t=0;t<n.segments.length;t++)if(!n.segments[t].dateTimeObject)return!1;return!0}(r))return E({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var N=function(n,t){var r;try{r=new Date(n)}catch(N){return null}if(!t||!t.segments||0===t.segments.length)return null;var e=t.segments[0];if(r<e.dateTimeObject)return null;for(var a=0;a<t.segments.length-1&&(e=t.segments[a],!(r<t.segments[a+1].dateTimeObject));a++);var d=t.segments[t.segments.length-1],p=d.dateTimeObject,g=d.videoTimingInfo?function(n){return n.transmuxedPresentationEnd-n.transmuxedPresentationStart-n.transmuxerPrependedSeconds}(d.videoTimingInfo):d.duration+.25*d.duration;return r>new Date(p.getTime()+1e3*g)?null:(r>p&&(e=d),{segment:e,estimatedStart:e.videoTimingInfo?e.videoTimingInfo.transmuxedPresentationStart:vs.duration(t,t.mediaSequence+t.segments.indexOf(e)),type:e.videoTimingInfo?"accurate":"estimate"})}(t,r);if(!N)return E({message:t+" was not found in the stream"});var O=N.segment,W=function(n,t){var r,e;try{r=new Date(n),e=new Date(t)}catch(d){}var a=r.getTime();return(e.getTime()-a)/1e3}(O.dateTimeObject,t);if("estimate"===N.type)return 0===a?E({message:t+" is not buffered yet. Try again"}):(u(N.estimatedStart+W),void g.one("seeked",function(){l({programTime:t,playlist:r,retryCount:a-1,seekTo:u,pauseAfterSeek:p,tech:g,callback:E})}));var J=O.start+W;g.one("seeked",function(){return E(null,g.currentTime())}),p&&g.pause(),u(J)},bf=function(n,t){if(4===n.readyState)return t()},Op=Ie.mergeOptions,Rp=function(n,t){if(!yv(n,t)||n.sidx&&t.sidx&&(n.sidx.offset!==t.sidx.offset||n.sidx.length!==t.sidx.length))return!1;if(!n.sidx&&t.sidx||n.sidx&&!t.sidx||n.segments&&!t.segments||!n.segments&&t.segments)return!1;if(!n.segments&&!t.segments)return!0;for(var r=0;r<n.segments.length;r++){var e=n.segments[r],a=t.segments[r];if(e.uri!==a.uri)return!1;if(e.byterange||a.byterange){var u=e.byterange,d=a.byterange;if(u&&!d||!u&&d||u.offset!==d.offset||u.length!==d.length)return!1}}return!0},Y_=function(n,t){return(Boolean(!n.map&&!t.map)||Boolean(n.map&&t.map&&n.map.byterange.offset===t.map.byterange.offset&&n.map.byterange.length===t.map.byterange.length))&&n.uri===t.uri&&n.byterange.offset===t.byterange.offset&&n.byterange.length===t.byterange.length},kp=function(n,t){var r={};for(var e in n){var u=n[e].sidx;if(u){var d=Wo(u);if(!t[d])break;Y_(t[d].sidxInfo,u)&&(r[d]=t[d])}}return r},Np=function(l){function n(r,e,a,u){var d;void 0===a&&(a={}),(d=l.call(this)||this).masterPlaylistLoader_=u||Kt(d),u||(d.isMaster_=!0);var g=a.withCredentials,E=void 0!==g&&g,N=a.handleManifestRedirects,O=void 0!==N&&N;if(d.vhs_=e,d.withCredentials=E,d.handleManifestRedirects=O,!r)throw new Error("A non-empty playlist URL or object is required");return d.on("minimumUpdatePeriod",function(){d.refreshXml_()}),d.on("mediaupdatetimeout",function(){d.refreshMedia_(d.media().id)}),d.state="HAVE_NOTHING",d.loadedPlaylists_={},d.logger_=ms("DashPlaylistLoader"),d.isMaster_?(d.masterPlaylistLoader_.srcUrl=r,d.masterPlaylistLoader_.sidxMapping_={}):d.childPlaylist_=r,d}Dt(n,l);var t=n.prototype;return t.requestErrored_=function(e,a,u){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:a.status,message:"DASH request error at URL: "+a.uri,response:a.response,code:2}:e,u&&(this.state=u),this.trigger("error"),!0):void 0)},t.addSidxSegments_=function(e,a,u){var d=this,p=e.sidx&&Wo(e.sidx);if(e.sidx&&p&&!this.masterPlaylistLoader_.sidxMapping_[p]){var g=yf(this.handleManifestRedirects,e.sidx.resolvedUri),E=function(O,W){if(!d.requestErrored_(O,W,a)){var Y,J=d.masterPlaylistLoader_.sidxMapping_;try{Y=cS()(jt(W.response).subarray(8))}catch(Q){return void d.requestErrored_(Q,W,a)}return J[p]={sidxInfo:e.sidx,sidx:Y},zs(e,Y,e.sidx.resolvedUri),u(!0)}};this.request=function(n,t,r){var a,e=[],u=!1,d=function(O,W,J,Y){return W.abort(),u=!0,r(O,W,J,Y)},p=function(O,W){if(!u){if(O)return d(O,W,"",e);var J=W.responseText.substring(e&&e.byteLength||0,W.responseText.length);if(e=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];if((t=t.filter(function(d){return d&&(d.byteLength||d.length)&&"string"!=typeof d})).length<=1)return jt(t[0]);var e=t.reduce(function(d,p,g){return d+(p.byteLength||p.length)},0),a=new Uint8Array(e),u=0;return t.forEach(function(d){d=jt(d),a.set(d,u),u+=d.byteLength}),a}(e,Nd(J,!0)),a=a||cc(e),e.length<10||a&&e.length<a+2)return bf(W,function(){return d(O,W,"",e)});var Y=bh(e);return"ts"===Y&&e.length<188||!Y&&e.length<376?bf(W,function(){return d(O,W,"",e)}):d(null,W,Y,e)}},E=t({uri:n,beforeSend:function(O){O.overrideMimeType("text/plain; charset=x-user-defined"),O.addEventListener("progress",function(W){return Ip(O,null,{statusCode:O.status},p)})}},function(N,O){return Ip(E,N,O,p)});return E}(g,this.vhs_.xhr,function(N,O,W,J){if(N)return E(N,O);if(!W||"mp4"!==W)return E({status:O.status,message:"Unsupported "+(W||"unknown")+" container type for sidx segment at URL: "+g,response:"",playlist:e,internal:!0,blacklistDuration:1/0,code:2},O);var Y=e.sidx.byterange,Q=Y.offset,Pe=Y.length;if(J.length>=Pe+Q)return E(N,{response:J.subarray(Q,Q+Pe),status:O.status,uri:O.uri});d.request=d.vhs_.xhr({uri:g,responseType:"arraybuffer",headers:ks({byterange:e.sidx.byterange})},E)})}else this.mediaRequest_=oe().setTimeout(function(){return u(!1)},0)},t.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},oe().clearTimeout(this.minimumUpdatePeriodTimeout_),oe().clearTimeout(this.mediaRequest_),oe().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},t.hasPendingRequest=function(){return this.request||this.mediaRequest_},t.stopRequest=function(){if(this.request){var e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}},t.media=function(e){var a=this;if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var u=this.state;if("string"==typeof e){if(!this.masterPlaylistLoader_.master.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.masterPlaylistLoader_.master.playlists[e]}var d=!this.media_||e.id!==this.media_.id;if(d&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(d&&(this.trigger("mediachanging"),this.trigger("mediachange")));!d||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,u,function(p){a.haveMetadata({startingState:u,playlist:e})}))},t.haveMetadata=function(e){var a=e.startingState,u=e.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[u.id]=u,this.mediaRequest_=null,this.refreshMedia_(u.id),this.trigger("HAVE_MASTER"===a?"loadedmetadata":"mediachange")},t.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),oe().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(oe().clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},t.load=function(e){var a=this;oe().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var u=this.media();if(e){var d=u?u.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=oe().setTimeout(function(){return a.load()},d)}else this.started?u&&!u.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},t.start=function(){var e=this;this.started=!0,this.isMaster_?this.requestMaster_(function(a,u){e.haveMaster_(),!e.hasPendingRequest()&&!e.media_&&e.media(e.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=oe().setTimeout(function(){return e.haveMaster_()},0)},t.requestMaster_=function(e){var a=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(u,d){if(!a.requestErrored_(u,d)){var p=d.responseText!==a.masterPlaylistLoader_.masterXml_;return a.masterPlaylistLoader_.masterXml_=d.responseText,a.masterLoaded_=d.responseHeaders&&d.responseHeaders.date?Date.parse(d.responseHeaders.date):Date.now(),a.masterPlaylistLoader_.srcUrl=yf(a.handleManifestRedirects,a.masterPlaylistLoader_.srcUrl,d),p?(a.handleMaster_(),void a.syncClientServerClock_(function(){return e(d,p)})):e(d,p)}"HAVE_NOTHING"===a.state&&(a.started=!1)})},t.syncClientServerClock_=function(e){var a=this,u=function(n){return function(n){var t=rr(n,"UTCTiming")[0];if(!t)return null;var r=Vr(t);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return r}(Fy(n))}(this.masterPlaylistLoader_.masterXml_);return null===u?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),e()):"DIRECT"===u.method?(this.masterPlaylistLoader_.clientOffset_=u.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:ji(this.masterPlaylistLoader_.srcUrl,u.value),method:u.method,withCredentials:this.withCredentials},function(d,p){if(a.request){if(d)return a.masterPlaylistLoader_.clientOffset_=a.masterLoaded_-Date.now(),e();var g;g="HEAD"===u.method?p.responseHeaders&&p.responseHeaders.date?Date.parse(p.responseHeaders.date):a.masterLoaded_:Date.parse(p.responseText),a.masterPlaylistLoader_.clientOffset_=g-Date.now(),e()}}))},t.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},t.handleMaster_=function(){this.mediaRequest_=null;var e=this.masterPlaylistLoader_.master,a=function(n){var r=n.srcUrl,d=function(n,t){void 0===t&&(t={});var r=function(n,t){void 0===t&&(t={});var r=t,e=r.manifestUri,a=void 0===e?"":e,u=r.NOW,d=void 0===u?Date.now():u,p=r.clientOffset,g=void 0===p?0:p,E=rr(n,"Period");if(!E.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var N=rr(n,"Location"),O=Vr(n),W=Ga([a],rr(n,"BaseURL"));O.type=O.type||"static",O.sourceDuration=O.mediaPresentationDuration||0,O.NOW=d,O.clientOffset=g,N.length&&(O.locations=N.map(ba));var J=[];return E.forEach(function(Y,Q){var Pe=Vr(Y),ke=J[Q-1];Pe.start=function(n){var t=n.attributes,r=n.priorPeriodAttributes;return"number"==typeof t.start?t.start:r&&"number"==typeof r.start&&"number"==typeof r.duration?r.start+r.duration:r||"static"!==n.mpdType?null:0}({attributes:Pe,priorPeriodAttributes:ke?ke.attributes:null,mpdType:O.type}),J.push({node:Y,attributes:Pe})}),{locations:O.locations,representationInfo:Ou(J.map(Or(O,W)))}}(Fy(n),t),e=function(n){return n.map(ac)}(r.representationInfo);return se({dashPlaylists:e,locations:r.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})}(n.masterXml,{manifestUri:r,clientOffset:n.clientOffset,sidxMapping:n.sidxMapping,previousManifest:n.previousManifest});return wp(d,r),d}({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(a=function(n,t,r){for(var e=!0,a=Op(n,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),u=0;u<t.playlists.length;u++){var d=t.playlists[u];if(d.sidx){var p=Wo(d.sidx);r&&r[p]&&r[p].sidx&&zs(d,r[p].sidx,d.sidx.resolvedUri)}var g=Mp(a,d,Rp);g&&(a=g,e=!1)}return pl(t,function(E,N,O,W){if(E.playlists&&E.playlists.length){var J=E.playlists[0].id,Y=Mp(a,E.playlists[0],Rp);Y&&((a=Y).mediaGroups[N][O][W].playlists[0]=a.playlists[J],e=!1)}}),t.minimumUpdatePeriod!==n.minimumUpdatePeriod&&(e=!1),e?null:a}(e,a,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=a||e;var u=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return u&&u!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=u),(!e||a&&a.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(a)},t.updateMinimumUpdatePeriodTimeout_=function(){var e=this.masterPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(oe().clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);var a=e.master&&e.master.minimumUpdatePeriod;0===a&&(e.media()?a=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof a||a<=0?a<0&&this.logger_("found invalid minimumUpdatePeriod of "+a+", not setting a timeout"):this.createMUPTimeout_(a)},t.createMUPTimeout_=function(e){var a=this.masterPlaylistLoader_;a.minimumUpdatePeriodTimeout_=oe().setTimeout(function(){a.minimumUpdatePeriodTimeout_=null,a.trigger("minimumUpdatePeriod"),a.createMUPTimeout_(e)},e)},t.refreshXml_=function(){var e=this;this.requestMaster_(function(a,u){!u||(e.media_&&(e.media_=e.masterPlaylistLoader_.master.playlists[e.media_.id]),e.masterPlaylistLoader_.sidxMapping_=function(n,t){var e=kp(n.playlists,t);return pl(n,function(a,u,d,p){a.playlists&&a.playlists.length&&(e=Op(e,kp(a.playlists,t)))}),e}(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.sidxMapping_),e.addSidxSegments_(e.media(),e.state,function(d){e.refreshMedia_(e.media().id)}))})},t.refreshMedia_=function(e){var a=this;if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var u=this.masterPlaylistLoader_.master.playlists,d=!this.media_||this.media_!==u[e];d?this.media_=u[e]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function g(){a.media().endList||(a.mediaUpdateTimeout=oe().setTimeout(function(){a.trigger("mediaupdatetimeout"),g()},ml(a.media(),Boolean(d))))}(),this.trigger("loadedplaylist")},n}(Ie.EventTarget),fi={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},Mv=function(n){return n.on=n.addEventListener,n.off=n.removeEventListener,n},Pv=function(n){return function(){var t=function(n){try{return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))}catch(r){var t=new BlobBuilder;return t.append(n),URL.createObjectURL(t.getBlob())}}(n),r=Mv(new Worker(t));r.objURL=t;var e=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(t),e.call(this)},r}},Ov=function(n){return"var browserWorkerPolyFill = "+Mv.toString()+";\nbrowserWorkerPolyFill(self);\n"+n},Q_=function(n){return n.toString().replace(/^function.+?{/,"").slice(0,-1)},Z_=Ov(Q_(function(){var l=function(){this.init=function(){var v={};this.on=function(D,C){v[D]||(v[D]=[]),v[D]=v[D].concat(C)},this.off=function(D,C){var w;return!!v[D]&&(w=v[D].indexOf(C),v[D]=v[D].slice(),v[D].splice(w,1),w>-1)},this.trigger=function(D){var C,w,F,U;if(C=v[D])if(2===arguments.length)for(F=C.length,w=0;w<F;++w)C[w].call(this,arguments[1]);else{for(U=[],w=arguments.length,w=1;w<arguments.length;++w)U.push(arguments[w]);for(F=C.length,w=0;w<F;++w)C[w].apply(this,U)}},this.dispose=function(){v={}}}};l.prototype.pipe=function(j){return this.on("data",function(v){j.push(v)}),this.on("done",function(v){j.flush(v)}),this.on("partialdone",function(v){j.partialFlush(v)}),this.on("endedtimeline",function(v){j.endTimeline(v)}),this.on("reset",function(v){j.reset(v)}),j},l.prototype.push=function(j){this.trigger("data",j)},l.prototype.flush=function(j){this.trigger("done",j)},l.prototype.partialFlush=function(j){this.trigger("partialdone",j)},l.prototype.endTimeline=function(j){this.trigger("endedtimeline",j)},l.prototype.reset=function(j){this.trigger("reset",j)};var u,d,p,g,E,N,O,W,J,Y,Q,Pe,ke,je,Ze,Qe,St,Ot,ct,Lt,kt,In,$t,fr,hi,Kn,Mo,as,Ls,Ia,oa,mu,Pa,vu,Io,$0,j,v,n=l,t=Math.pow(2,32),e={getUint64:function(v){var C,D=new DataView(v.buffer,v.byteOffset,v.byteLength);return D.getBigUint64?(C=D.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(C):C:D.getUint32(0)*t+D.getUint32(4)},MAX_UINT32:t},a=e.MAX_UINT32;(function(){var j;if($t={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(j in $t)$t.hasOwnProperty(j)&&($t[j]=[j.charCodeAt(0),j.charCodeAt(1),j.charCodeAt(2),j.charCodeAt(3)]);fr=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Kn=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),hi=new Uint8Array([0,0,0,1]),Mo=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),as=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Ls={video:Mo,audio:as},mu=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),oa=new Uint8Array([0,0,0,0,0,0,0,0]),Pa=new Uint8Array([0,0,0,0,0,0,0,0]),vu=Pa,Io=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),$0=Pa,Ia=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),u=function(v){var w,F,D=[],C=0;for(w=1;w<arguments.length;w++)D.push(arguments[w]);for(w=D.length;w--;)C+=D[w].byteLength;for(F=new Uint8Array(C+8),new DataView(F.buffer,F.byteOffset,F.byteLength).setUint32(0,F.byteLength),F.set(v,4),w=0,C=8;w<D.length;w++)F.set(D[w],C),C+=D[w].byteLength;return F},d=function(){return u($t.dinf,u($t.dref,mu))},p=function(v){return u($t.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,v.audioobjecttype<<3|v.samplingfrequencyindex>>>1,v.samplingfrequencyindex<<7|v.channelcount<<3,6,1,2]))},g=function(){return u($t.ftyp,fr,hi,fr,Kn)},Qe=function(v){return u($t.hdlr,Ls[v])},E=function(v){return u($t.mdat,v)},Ze=function(v){var D=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,v.duration>>>24&255,v.duration>>>16&255,v.duration>>>8&255,255&v.duration,85,196,0,0]);return v.samplerate&&(D[12]=v.samplerate>>>24&255,D[13]=v.samplerate>>>16&255,D[14]=v.samplerate>>>8&255,D[15]=255&v.samplerate),u($t.mdhd,D)},je=function(v){return u($t.mdia,Ze(v),Qe(v.type),O(v))},N=function(v){return u($t.mfhd,new Uint8Array([0,0,0,0,(4278190080&v)>>24,(16711680&v)>>16,(65280&v)>>8,255&v]))},O=function(v){return u($t.minf,"video"===v.type?u($t.vmhd,Ia):u($t.smhd,oa),d(),Ot(v))},W=function(v,D){for(var C=[],w=D.length;w--;)C[w]=Lt(D[w]);return u.apply(null,[$t.moof,N(v)].concat(C))},J=function(v){for(var D=v.length,C=[];D--;)C[D]=Pe(v[D]);return u.apply(null,[$t.moov,Q(4294967295)].concat(C).concat(Y(v)))},Y=function(v){for(var D=v.length,C=[];D--;)C[D]=kt(v[D]);return u.apply(null,[$t.mvex].concat(C))},Q=function(v){var D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&v)>>24,(16711680&v)>>16,(65280&v)>>8,255&v,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return u($t.mvhd,D)},St=function(v){var w,F,D=v.samples||[],C=new Uint8Array(4+D.length);for(F=0;F<D.length;F++)C[F+4]=(w=D[F].flags).dependsOn<<4|w.isDependedOn<<2|w.hasRedundancy;return u($t.sdtp,C)},Ot=function(v){return u($t.stbl,ct(v),u($t.stts,$0),u($t.stsc,vu),u($t.stsz,Io),u($t.stco,Pa))},ct=function(C){return u($t.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===C.type?j(C):v(C))},j=function(C){var ae,ve,w=C.sps||[],F=C.pps||[],U=[],ne=[];for(ae=0;ae<w.length;ae++)U.push((65280&w[ae].byteLength)>>>8),U.push(255&w[ae].byteLength),U=U.concat(Array.prototype.slice.call(w[ae]));for(ae=0;ae<F.length;ae++)ne.push((65280&F[ae].byteLength)>>>8),ne.push(255&F[ae].byteLength),ne=ne.concat(Array.prototype.slice.call(F[ae]));if(ve=[$t.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&C.width)>>8,255&C.width,(65280&C.height)>>8,255&C.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),u($t.avcC,new Uint8Array([1,C.profileIdc,C.profileCompatibility,C.levelIdc,255].concat([w.length],U,[F.length],ne))),u($t.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],C.sarRatio){var fe=C.sarRatio[0],Me=C.sarRatio[1];ve.push(u($t.pasp,new Uint8Array([(4278190080&fe)>>24,(16711680&fe)>>16,(65280&fe)>>8,255&fe,(4278190080&Me)>>24,(16711680&Me)>>16,(65280&Me)>>8,255&Me])))}return u.apply(null,ve)},v=function(C){return u($t.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&C.channelcount)>>8,255&C.channelcount,(65280&C.samplesize)>>8,255&C.samplesize,0,0,0,0,(65280&C.samplerate)>>8,255&C.samplerate,0,0]),p(C))},ke=function(v){var D=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&v.id)>>24,(16711680&v.id)>>16,(65280&v.id)>>8,255&v.id,0,0,0,0,(4278190080&v.duration)>>24,(16711680&v.duration)>>16,(65280&v.duration)>>8,255&v.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&v.width)>>8,255&v.width,0,0,(65280&v.height)>>8,255&v.height,0,0]);return u($t.tkhd,D)},Lt=function(v){var D,C,w,F,ne,ae;return D=u($t.tfhd,new Uint8Array([0,0,0,58,(4278190080&v.id)>>24,(16711680&v.id)>>16,(65280&v.id)>>8,255&v.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),ne=Math.floor(v.baseMediaDecodeTime/a),ae=Math.floor(v.baseMediaDecodeTime%a),C=u($t.tfdt,new Uint8Array([1,0,0,0,ne>>>24&255,ne>>>16&255,ne>>>8&255,255&ne,ae>>>24&255,ae>>>16&255,ae>>>8&255,255&ae])),"audio"===v.type?(w=In(v,92),u($t.traf,D,C,w)):(F=St(v),w=In(v,F.length+92),u($t.traf,D,C,w,F))},Pe=function(v){return v.duration=v.duration||4294967295,u($t.trak,ke(v),je(v))},kt=function(v){var D=new Uint8Array([0,0,0,0,(4278190080&v.id)>>24,(16711680&v.id)>>16,(65280&v.id)>>8,255&v.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==v.type&&(D[D.length-1]=0),u($t.trex,D)},function(){var j,v,D;D=function(w,F){var U=0,ne=0,ae=0,ve=0;return w.length&&(void 0!==w[0].duration&&(U=1),void 0!==w[0].size&&(ne=2),void 0!==w[0].flags&&(ae=4),void 0!==w[0].compositionTimeOffset&&(ve=8)),[0,0,U|ne|ae|ve,1,(4278190080&w.length)>>>24,(16711680&w.length)>>>16,(65280&w.length)>>>8,255&w.length,(4278190080&F)>>>24,(16711680&F)>>>16,(65280&F)>>>8,255&F]},v=function(w,F){var U,ne,ae,ve,fe,Me;for(ae=D(ve=w.samples||[],F+=20+16*ve.length),(ne=new Uint8Array(ae.length+16*ve.length)).set(ae),U=ae.length,Me=0;Me<ve.length;Me++)ne[U++]=(4278190080&(fe=ve[Me]).duration)>>>24,ne[U++]=(16711680&fe.duration)>>>16,ne[U++]=(65280&fe.duration)>>>8,ne[U++]=255&fe.duration,ne[U++]=(4278190080&fe.size)>>>24,ne[U++]=(16711680&fe.size)>>>16,ne[U++]=(65280&fe.size)>>>8,ne[U++]=255&fe.size,ne[U++]=fe.flags.isLeading<<2|fe.flags.dependsOn,ne[U++]=fe.flags.isDependedOn<<6|fe.flags.hasRedundancy<<4|fe.flags.paddingValue<<1|fe.flags.isNonSyncSample,ne[U++]=61440&fe.flags.degradationPriority,ne[U++]=15&fe.flags.degradationPriority,ne[U++]=(4278190080&fe.compositionTimeOffset)>>>24,ne[U++]=(16711680&fe.compositionTimeOffset)>>>16,ne[U++]=(65280&fe.compositionTimeOffset)>>>8,ne[U++]=255&fe.compositionTimeOffset;return u($t.trun,ne)},j=function(w,F){var U,ne,ae,ve,fe,Me;for(ae=D(ve=w.samples||[],F+=20+8*ve.length),(U=new Uint8Array(ae.length+8*ve.length)).set(ae),ne=ae.length,Me=0;Me<ve.length;Me++)U[ne++]=(4278190080&(fe=ve[Me]).duration)>>>24,U[ne++]=(16711680&fe.duration)>>>16,U[ne++]=(65280&fe.duration)>>>8,U[ne++]=255&fe.duration,U[ne++]=(4278190080&fe.size)>>>24,U[ne++]=(16711680&fe.size)>>>16,U[ne++]=(65280&fe.size)>>>8,U[ne++]=255&fe.size;return u($t.trun,U)},In=function(w,F){return"audio"===w.type?j(w,F):v(w,F)}}();var vg,_u,_g,fd,Vf,X0,q0,Hf,Rl_mdat=E,Rl_moof=W,yu=function(v,D){var C={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return C.dataOffset=D,C.compositionTimeOffset=v.pts-v.dts,C.duration=v.duration,C.size=4*v.length,C.size+=v.byteLength,v.keyFrame&&(C.flags.dependsOn=2,C.flags.isNonSyncSample=0),C},Po=[33,16,5,32,164,27],mg=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],er=function(v){for(var D=[];v--;)D.push(0);return D};_u=function(v){return 9e4*v},_g=function(v,D){return v*D},fd=function(v){return v/9e4},Vf=function(v,D){return v/D},X0=function(v,D){return _u(Vf(v,D))},q0=function(v,D){return _g(fd(v),D)},Hf=function(v,D,C){return fd(C?v:v-D)};var Xn_secondsToVideoTs=_u,Xn_videoTsToSeconds=fd,Xn_audioTsToVideoTs=X0,Xn_videoTsToAudioTs=q0,Xn_metadataTsToSeconds=Hf,io_prefixWithSilence=function(v,D,C,w){var F,fe,Me,Ye,U=0,ne=0,ae=0,ve=0;if(D.length&&(F=Xn_audioTsToVideoTs(v.baseMediaDecodeTime,v.samplerate),U=Math.ceil(9e4/(v.samplerate/1024)),C&&w&&(ne=F-Math.max(C,w),ve=(ae=Math.floor(ne/U))*U),!(ae<1||ve>45e3))){for((fe=function(){if(!vg){var v={96e3:[Po,[227,64],er(154),[56]],88200:[Po,[231],er(170),[56]],64e3:[Po,[248,192],er(240),[56]],48e3:[Po,[255,192],er(268),[55,148,128],er(54),[112]],44100:[Po,[255,192],er(268),[55,163,128],er(84),[112]],32e3:[Po,[255,192],er(268),[55,234],er(226),[112]],24e3:[Po,[255,192],er(268),[55,255,128],er(268),[111,112],er(126),[224]],16e3:[Po,[255,192],er(268),[55,255,128],er(268),[111,255],er(269),[223,108],er(195),[1,192]],12e3:[mg,er(268),[3,127,248],er(268),[6,255,240],er(268),[13,255,224],er(268),[27,253,128],er(259),[56]],11025:[mg,er(268),[3,127,248],er(268),[6,255,240],er(268),[13,255,224],er(268),[27,255,192],er(268),[55,175,128],er(108),[112]],8e3:[mg,er(268),[3,121,16],er(47),[7]]};vg=function(v){return Object.keys(v).reduce(function(D,C){return D[C]=new Uint8Array(v[C].reduce(function(w,F){return w.concat(F)},[])),D},{})}(v)}return vg}()[v.samplerate])||(fe=D[0].data),Me=0;Me<ae;Me++)D.splice(0,0,{data:fe,dts:(Ye=D[0]).dts-U,pts:Ye.pts-U});return v.baseMediaDecodeTime-=Math.floor(Xn_videoTsToAudioTs(ve,v.samplerate)),ve}},Fs_clearDtsInfo=function(v){delete v.minSegmentDts,delete v.maxSegmentDts,delete v.minSegmentPts,delete v.maxSegmentPts},Fs_calculateTrackBaseMediaDecodeTime=function(v,D){var C,F=v.minSegmentDts;return D||(F-=v.timelineStartInfo.dts),C=v.timelineStartInfo.baseMediaDecodeTime,C+=F,C=Math.max(0,C),"audio"===v.type&&(C*=v.samplerate/9e4,C=Math.floor(C)),C},Fs_collectDtsInfo=function(v,D){"number"==typeof D.pts&&(void 0===v.timelineStartInfo.pts&&(v.timelineStartInfo.pts=D.pts),v.minSegmentPts=void 0===v.minSegmentPts?D.pts:Math.min(v.minSegmentPts,D.pts),v.maxSegmentPts=void 0===v.maxSegmentPts?D.pts:Math.max(v.maxSegmentPts,D.pts)),"number"==typeof D.dts&&(void 0===v.timelineStartInfo.dts&&(v.timelineStartInfo.dts=D.dts),v.minSegmentDts=void 0===v.minSegmentDts?D.dts:Math.min(v.minSegmentDts,D.dts),v.maxSegmentDts=void 0===v.maxSegmentDts?D.dts:Math.max(v.maxSegmentDts,D.dts))},_s=function j(v){v=v||{},j.prototype.init.call(this),this.parse708captions_="boolean"!=typeof v.parse708captions||v.parse708captions,this.captionPackets_=[],this.ccStreams_=[new br(0,0),new br(0,1),new br(1,0),new br(1,1)],this.parse708captions_&&(this.cc708Stream_=new Jn({captionServices:v.captionServices})),this.reset(),this.ccStreams_.forEach(function(D){D.on("data",this.trigger.bind(this,"data")),D.on("partialdone",this.trigger.bind(this,"partialdone")),D.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};(_s.prototype=new n).push=function(j){var v,D,C;if("sei_rbsp"===j.nalUnitType&&(v=function(v){for(var D=0,C={payloadType:-1,payloadSize:0},w=0,F=0;D<v.byteLength&&128!==v[D];){for(;255===v[D];)w+=255,D++;for(w+=v[D++];255===v[D];)F+=255,D++;if(F+=v[D++],!C.payload&&4===w){if("GA94"===String.fromCharCode(v[D+3],v[D+4],v[D+5],v[D+6])){C.payloadType=w,C.payloadSize=F,C.payload=v.subarray(D,D+F);break}C.payload=void 0}D+=F,w=0,F=0}return C}(j.escapedRBSP)).payload&&4===v.payloadType&&(D=function(v){return 181!==v.payload[0]||49!=(v.payload[1]<<8|v.payload[2])||"GA94"!==String.fromCharCode(v.payload[3],v.payload[4],v.payload[5],v.payload[6])||3!==v.payload[7]?null:v.payload.subarray(8,v.payload.length-1)}(v))){if(j.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(j.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));C=function(v,D){var w,F,U,ne,C=[];if(!(64&D[0]))return C;for(F=31&D[0],w=0;w<F;w++)ne={type:3&D[2+(U=3*w)],pts:v},4&D[U+2]&&(ne.ccData=D[U+3]<<8|D[U+4],C.push(ne));return C}(j.pts,D),this.captionPackets_=this.captionPackets_.concat(C),this.latestDts_!==j.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=j.dts}},_s.prototype.flushCCStreams=function(j){this.ccStreams_.forEach(function(v){return"flush"===j?v.flush():v.partialFlush()},this)},_s.prototype.flushStream=function(j){this.captionPackets_.length?(this.captionPackets_.forEach(function(v,D){v.presortIndex=D}),this.captionPackets_.sort(function(v,D){return v.pts===D.pts?v.presortIndex-D.presortIndex:v.pts-D.pts}),this.captionPackets_.forEach(function(v){v.type<2?this.dispatchCea608Packet(v):this.dispatchCea708Packet(v)},this),this.captionPackets_.length=0,this.flushCCStreams(j)):this.flushCCStreams(j)},_s.prototype.flush=function(){return this.flushStream("flush")},_s.prototype.partialFlush=function(){return this.flushStream("partialFlush")},_s.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(j){j.reset()})},_s.prototype.dispatchCea608Packet=function(j){this.setsTextOrXDSActive(j)?this.activeCea608Channel_[j.type]=null:this.setsChannel1Active(j)?this.activeCea608Channel_[j.type]=0:this.setsChannel2Active(j)&&(this.activeCea608Channel_[j.type]=1),null!==this.activeCea608Channel_[j.type]&&this.ccStreams_[(j.type<<1)+this.activeCea608Channel_[j.type]].push(j)},_s.prototype.setsChannel1Active=function(j){return 4096==(30720&j.ccData)},_s.prototype.setsChannel2Active=function(j){return 6144==(30720&j.ccData)},_s.prototype.setsTextOrXDSActive=function(j){return 256==(28928&j.ccData)||4138==(30974&j.ccData)||6186==(30974&j.ccData)},_s.prototype.dispatchCea708Packet=function(j){this.parse708captions_&&this.cc708Stream_.push(j)};var lb={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Gf=function(v){return 32<=v&&v<=127||160<=v&&v<=255},so=function(v){this.windowNum=v,this.reset()};so.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},so.prototype.getText=function(){return this.rows.join("\n")},so.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},so.prototype.newLine=function(j){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(j),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},so.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},so.prototype.addText=function(j){this.rows[this.rowIdx]+=j},so.prototype.backspace=function(){if(!this.isEmpty()){var j=this.rows[this.rowIdx];this.rows[this.rowIdx]=j.substr(0,j.length-1)}};var jf=function(v,D,C){this.serviceNum=v,this.text="",this.currentWindow=new so(-1),this.windows=[],this.stream=C,"string"==typeof D&&this.createTextDecoder(D)};jf.prototype.init=function(j,v){this.startPts=j;for(var D=0;D<8;D++)this.windows[D]=new so(D),"function"==typeof v&&(this.windows[D].beforeRowOverflow=v)},jf.prototype.setCurrentWindow=function(j){this.currentWindow=this.windows[j]},jf.prototype.createTextDecoder=function(j){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(j)}catch(v){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+j+" encoding. "+v})}};var Jn=function j(v){v=v||{},j.prototype.init.call(this);var F,D=this,C=v.captionServices||{},w={};Object.keys(C).forEach(function(U){F=C[U],/^SERVICE/.test(U)&&(w[U]=F.encoding)}),this.serviceEncodings=w,this.current708Packet=null,this.services={},this.push=function(U){3===U.type?(D.new708Packet(),D.add708Bytes(U)):(null===D.current708Packet&&D.new708Packet(),D.add708Bytes(U))}};Jn.prototype=new n,Jn.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Jn.prototype.add708Bytes=function(j){var v=j.ccData,D=v>>>8,C=255&v;this.current708Packet.ptsVals.push(j.pts),this.current708Packet.data.push(D),this.current708Packet.data.push(C)},Jn.prototype.push708Packet=function(){var j=this.current708Packet,v=j.data,D=null,C=null,w=0,F=v[w++];for(j.seq=F>>6,j.sizeCode=63&F;w<v.length;w++)C=31&(F=v[w++]),7==(D=F>>5)&&C>0&&(D=F=v[w++]),this.pushServiceBlock(D,w,C),C>0&&(w+=C-1)},Jn.prototype.pushServiceBlock=function(j,v,D){var C,w=v,F=this.current708Packet.data,U=this.services[j];for(U||(U=this.initService(j,w));w<v+D&&w<F.length;w++)Gf(C=F[w])?w=this.handleText(w,U):24===C?w=this.multiByteCharacter(w,U):16===C?w=this.extendedCommands(w,U):128<=C&&C<=135?w=this.setCurrentWindow(w,U):152<=C&&C<=159?w=this.defineWindow(w,U):136===C?w=this.clearWindows(w,U):140===C?w=this.deleteWindows(w,U):137===C?w=this.displayWindows(w,U):138===C?w=this.hideWindows(w,U):139===C?w=this.toggleWindows(w,U):151===C?w=this.setWindowAttributes(w,U):144===C?w=this.setPenAttributes(w,U):145===C?w=this.setPenColor(w,U):146===C?w=this.setPenLocation(w,U):143===C?U=this.reset(w,U):8===C?U.currentWindow.backspace():12===C?U.currentWindow.clearText():13===C?U.currentWindow.pendingNewLine=!0:14===C?U.currentWindow.clearText():141===C&&w++},Jn.prototype.extendedCommands=function(j,v){var C=this.current708Packet.data[++j];return Gf(C)&&(j=this.handleText(j,v,{isExtended:!0})),j},Jn.prototype.getPts=function(j){return this.current708Packet.ptsVals[Math.floor(j/2)]},Jn.prototype.initService=function(j,v){var C,w,D=this;return(C="SERVICE"+j)in this.serviceEncodings&&(w=this.serviceEncodings[C]),this.services[j]=new jf(j,w,D),this.services[j].init(this.getPts(v),function(F){D.flushDisplayed(F,D.services[j])}),this.services[j]},Jn.prototype.handleText=function(j,v,D){var fe,Me,C=D&&D.isExtended,F=this.current708Packet.data,U=C?4096:0,ne=F[j],ve=v.currentWindow;return v.textDecoder_&&!C?(D&&D.isMultiByte?(Me=[ne,F[j+1]],j++):Me=[ne],fe=v.textDecoder_.decode(new Uint8Array(Me))):fe=function(v){var D=lb[v]||v;return 4096&v&&v===D?"":String.fromCharCode(D)}(U|ne),ve.pendingNewLine&&!ve.isEmpty()&&ve.newLine(this.getPts(j)),ve.pendingNewLine=!1,ve.addText(fe),j},Jn.prototype.multiByteCharacter=function(j,v){var D=this.current708Packet.data,w=D[j+2];return Gf(D[j+1])&&Gf(w)&&(j=this.handleText(++j,v,{isMultiByte:!0})),j},Jn.prototype.setCurrentWindow=function(j,v){return v.setCurrentWindow(7&this.current708Packet.data[j]),j},Jn.prototype.defineWindow=function(j,v){var D=this.current708Packet.data,C=D[j];v.setCurrentWindow(7&C);var F=v.currentWindow;return C=D[++j],F.visible=(32&C)>>5,F.rowLock=(16&C)>>4,F.columnLock=(8&C)>>3,F.priority=7&C,C=D[++j],F.relativePositioning=(128&C)>>7,F.anchorVertical=127&C,C=D[++j],F.anchorHorizontal=C,C=D[++j],F.anchorPoint=(240&C)>>4,F.rowCount=15&C,C=D[++j],F.columnCount=63&C,C=D[++j],F.windowStyle=(56&C)>>3,F.penStyle=7&C,F.virtualRowCount=F.rowCount+1,j},Jn.prototype.setWindowAttributes=function(j,v){var D=this.current708Packet.data,C=D[j],w=v.currentWindow.winAttr;return C=D[++j],w.fillOpacity=(192&C)>>6,w.fillRed=(48&C)>>4,w.fillGreen=(12&C)>>2,w.fillBlue=3&C,C=D[++j],w.borderType=(192&C)>>6,w.borderRed=(48&C)>>4,w.borderGreen=(12&C)>>2,w.borderBlue=3&C,C=D[++j],w.borderType+=(128&C)>>5,w.wordWrap=(64&C)>>6,w.printDirection=(48&C)>>4,w.scrollDirection=(12&C)>>2,w.justify=3&C,C=D[++j],w.effectSpeed=(240&C)>>4,w.effectDirection=(12&C)>>2,w.displayEffect=3&C,j},Jn.prototype.flushDisplayed=function(j,v){for(var D=[],C=0;C<8;C++)v.windows[C].visible&&!v.windows[C].isEmpty()&&D.push(v.windows[C].getText());v.endPts=j,v.text=D.join("\n\n"),this.pushCaption(v),v.startPts=j},Jn.prototype.pushCaption=function(j){""!==j.text&&(this.trigger("data",{startPts:j.startPts,endPts:j.endPts,text:j.text,stream:"cc708_"+j.serviceNum}),j.text="",j.startPts=j.endPts)},Jn.prototype.displayWindows=function(j,v){var C=this.current708Packet.data[++j],w=this.getPts(j);this.flushDisplayed(w,v);for(var F=0;F<8;F++)C&1<<F&&(v.windows[F].visible=1);return j},Jn.prototype.hideWindows=function(j,v){var C=this.current708Packet.data[++j],w=this.getPts(j);this.flushDisplayed(w,v);for(var F=0;F<8;F++)C&1<<F&&(v.windows[F].visible=0);return j},Jn.prototype.toggleWindows=function(j,v){var C=this.current708Packet.data[++j],w=this.getPts(j);this.flushDisplayed(w,v);for(var F=0;F<8;F++)C&1<<F&&(v.windows[F].visible^=1);return j},Jn.prototype.clearWindows=function(j,v){var C=this.current708Packet.data[++j],w=this.getPts(j);this.flushDisplayed(w,v);for(var F=0;F<8;F++)C&1<<F&&v.windows[F].clearText();return j},Jn.prototype.deleteWindows=function(j,v){var C=this.current708Packet.data[++j],w=this.getPts(j);this.flushDisplayed(w,v);for(var F=0;F<8;F++)C&1<<F&&v.windows[F].reset();return j},Jn.prototype.setPenAttributes=function(j,v){var D=this.current708Packet.data,C=D[j],w=v.currentWindow.penAttr;return C=D[++j],w.textTag=(240&C)>>4,w.offset=(12&C)>>2,w.penSize=3&C,C=D[++j],w.italics=(128&C)>>7,w.underline=(64&C)>>6,w.edgeType=(56&C)>>3,w.fontStyle=7&C,j},Jn.prototype.setPenColor=function(j,v){var D=this.current708Packet.data,C=D[j],w=v.currentWindow.penColor;return C=D[++j],w.fgOpacity=(192&C)>>6,w.fgRed=(48&C)>>4,w.fgGreen=(12&C)>>2,w.fgBlue=3&C,C=D[++j],w.bgOpacity=(192&C)>>6,w.bgRed=(48&C)>>4,w.bgGreen=(12&C)>>2,w.bgBlue=3&C,C=D[++j],w.edgeRed=(48&C)>>4,w.edgeGreen=(12&C)>>2,w.edgeBlue=3&C,j},Jn.prototype.setPenLocation=function(j,v){var D=this.current708Packet.data,C=D[j],w=v.currentWindow.penLoc;return v.currentWindow.pendingNewLine=!0,C=D[++j],w.row=15&C,C=D[++j],w.column=63&C,j},Jn.prototype.reset=function(j,v){var D=this.getPts(j);return this.flushDisplayed(D,v),this.initService(v.serviceNum,j)};var ty={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},pd=function(v){return null===v?"":(v=ty[v]||v,String.fromCharCode(v))},ny=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Oo=function(){for(var v=[],D=15;D--;)v.push("");return v},br=function j(v,D){j.prototype.init.call(this),this.field_=v||0,this.dataChannel_=D||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(C){var w,F,U,ne,ae;if((w=32639&C.ccData)!==this.lastControlCode_){if(4096==(61440&w)?this.lastControlCode_=w:w!==this.PADDING_&&(this.lastControlCode_=null),U=w>>>8,ne=255&w,w!==this.PADDING_)if(w===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(w===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(C.pts),this.flushDisplayed(C.pts),F=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=F,this.startPts_=C.pts;else if(w===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(C.pts);else if(w===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(C.pts);else if(w===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(C.pts);else if(w===this.CARRIAGE_RETURN_)this.clearFormatting(C.pts),this.flushDisplayed(C.pts),this.shiftRowsUp_(),this.startPts_=C.pts;else if(w===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(w===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(C.pts),this.displayed_=Oo();else if(w===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Oo();else if(w===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(C.pts),this.displayed_=Oo()),this.mode_="paintOn",this.startPts_=C.pts;else if(this.isSpecialCharacter(U,ne))ae=pd((U=(3&U)<<8)|ne),this[this.mode_](C.pts,ae),this.column_++;else if(this.isExtCharacter(U,ne))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),ae=pd((U=(3&U)<<8)|ne),this[this.mode_](C.pts,ae),this.column_++;else if(this.isMidRowCode(U,ne))this.clearFormatting(C.pts),this[this.mode_](C.pts," "),this.column_++,14==(14&ne)&&this.addFormatting(C.pts,["i"]),1==(1&ne)&&this.addFormatting(C.pts,["u"]);else if(this.isOffsetControlCode(U,ne))this.column_+=3&ne;else if(this.isPAC(U,ne)){var ve=ny.indexOf(7968&w);"rollUp"===this.mode_&&(ve-this.rollUpRows_+1<0&&(ve=this.rollUpRows_-1),this.setRollUp(C.pts,ve)),ve!==this.row_&&(this.clearFormatting(C.pts),this.row_=ve),1&ne&&-1===this.formatting_.indexOf("u")&&this.addFormatting(C.pts,["u"]),16==(16&w)&&(this.column_=4*((14&w)>>1)),this.isColorPAC(ne)&&14==(14&ne)&&this.addFormatting(C.pts,["i"])}else this.isNormalChar(U)&&(0===ne&&(ne=null),ae=pd(U),ae+=pd(ne),this[this.mode_](C.pts,ae),this.column_+=ae.length)}else this.lastControlCode_=null}};br.prototype=new n,br.prototype.flushDisplayed=function(j){var v=this.displayed_.map(function(D,C){try{return D.trim()}catch(w){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+C+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");v.length&&this.trigger("data",{startPts:this.startPts_,endPts:j,text:v,stream:this.name_})},br.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Oo(),this.nonDisplayed_=Oo(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},br.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},br.prototype.isSpecialCharacter=function(j,v){return j===this.EXT_&&v>=48&&v<=63},br.prototype.isExtCharacter=function(j,v){return(j===this.EXT_+1||j===this.EXT_+2)&&v>=32&&v<=63},br.prototype.isMidRowCode=function(j,v){return j===this.EXT_&&v>=32&&v<=47},br.prototype.isOffsetControlCode=function(j,v){return j===this.OFFSET_&&v>=33&&v<=35},br.prototype.isPAC=function(j,v){return j>=this.BASE_&&j<this.BASE_+8&&v>=64&&v<=127},br.prototype.isColorPAC=function(j){return j>=64&&j<=79||j>=96&&j<=127},br.prototype.isNormalChar=function(j){return j>=32&&j<=127},br.prototype.setRollUp=function(j,v){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(j),this.nonDisplayed_=Oo(),this.displayed_=Oo()),void 0!==v&&v!==this.row_)for(var D=0;D<this.rollUpRows_;D++)this.displayed_[v-D]=this.displayed_[this.row_-D],this.displayed_[this.row_-D]="";void 0===v&&(v=this.row_),this.topRow_=v-this.rollUpRows_+1},br.prototype.addFormatting=function(j,v){this.formatting_=this.formatting_.concat(v);var D=v.reduce(function(C,w){return C+"<"+w+">"},"");this[this.mode_](j,D)},br.prototype.clearFormatting=function(j){if(this.formatting_.length){var v=this.formatting_.reverse().reduce(function(D,C){return D+"</"+C+">"},"");this.formatting_=[],this[this.mode_](j,v)}},br.prototype.popOn=function(j,v){var D=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=D+=v},br.prototype.rollUp=function(j,v){var D=this.displayed_[this.row_];this.displayed_[this.row_]=D+=v},br.prototype.shiftRowsUp_=function(){var j;for(j=0;j<this.topRow_;j++)this.displayed_[j]="";for(j=this.row_+1;j<15;j++)this.displayed_[j]="";for(j=this.topRow_;j<this.row_;j++)this.displayed_[j]=this.displayed_[j+1];this.displayed_[this.row_]=""},br.prototype.paintOn=function(j,v){var D=this.displayed_[this.row_];this.displayed_[this.row_]=D+=v};var Wf={CaptionStream:_s,Cea608Stream:br,Cea708Stream:Jn},pi={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},bg=function(v,D){var C=1;for(v>D&&(C=-1);Math.abs(D-v)>4294967296;)v+=8589934592*C;return v},Ll=function j(v){var D,C;j.prototype.init.call(this),this.type_=v||"shared",this.push=function(w){"shared"!==this.type_&&w.type!==this.type_||(void 0===C&&(C=w.dts),w.dts=bg(w.dts,C),w.pts=bg(w.pts,C),D=w.dts,this.trigger("data",w))},this.flush=function(){C=D,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){C=void 0,D=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ll.prototype=new n;var zf,iy_TimestampRolloverStream=Ll,iy_handleRollover=bg,$f=function(v,D,C){var w,F="";for(w=D;w<C;w++)F+="%"+("00"+v[w].toString(16)).slice(-2);return F},Ts=function(v,D,C){return decodeURIComponent($f(v,D,C))},hb=function(v,D,C){return unescape($f(v,D,C))},Fl=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},Bl={TXXX:function(v){var D;if(3===v.data[0]){for(D=1;D<v.data.length;D++)if(0===v.data[D]){v.description=Ts(v.data,1,D),v.value=Ts(v.data,D+1,v.data.length).replace(/\0*$/,"");break}v.data=v.value}},WXXX:function(v){var D;if(3===v.data[0])for(D=1;D<v.data.length;D++)if(0===v.data[D]){v.description=Ts(v.data,1,D),v.url=Ts(v.data,D+1,v.data.length);break}},PRIV:function(v){var D;for(D=0;D<v.data.length;D++)if(0===v.data[D]){v.owner=hb(v.data,0,D);break}v.privateData=v.data.subarray(D+1),v.data=v.privateData}};zf=function(v){var U,D={descriptor:v&&v.descriptor},C=0,w=[],F=0;if(zf.prototype.init.call(this),this.dispatchType=pi.METADATA_STREAM_TYPE.toString(16),D.descriptor)for(U=0;U<D.descriptor.length;U++)this.dispatchType+=("00"+D.descriptor[U].toString(16)).slice(-2);this.push=function(ne){var ae,ve,fe,Me,Ye;if("timed-metadata"===ne.type){if(ne.dataAlignmentIndicator&&(F=0,w.length=0),0===w.length&&(ne.data.length<10||ne.data[0]!=="I".charCodeAt(0)||ne.data[1]!=="D".charCodeAt(0)||ne.data[2]!=="3".charCodeAt(0)))return void this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});if(w.push(ne),F+=ne.data.byteLength,1===w.length&&(C=Fl(ne.data.subarray(6,10)),C+=10),!(F<C)){for(ae={data:new Uint8Array(C),frames:[],pts:w[0].pts,dts:w[0].dts},Ye=0;Ye<C;)ae.data.set(w[0].data.subarray(0,C-Ye),Ye),Ye+=w[0].data.byteLength,F-=w[0].data.byteLength,w.shift();ve=10,64&ae.data[5]&&(ve+=4,ve+=Fl(ae.data.subarray(10,14)),C-=Fl(ae.data.subarray(16,20)));do{if((fe=Fl(ae.data.subarray(ve+4,ve+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((Me={id:String.fromCharCode(ae.data[ve],ae.data[ve+1],ae.data[ve+2],ae.data[ve+3]),data:ae.data.subarray(ve+10,ve+fe+10)}).key=Me.id,Bl[Me.id]&&(Bl[Me.id](Me),"com.apple.streaming.transportStreamTimestamp"===Me.owner)){var Vt=Me.data,Et=(1&Vt[3])<<30|Vt[4]<<22|Vt[5]<<14|Vt[6]<<6|Vt[7]>>>2;Et*=4,Me.timeStamp=Et+=3&Vt[7],void 0===ae.pts&&void 0===ae.dts&&(ae.pts=Me.timeStamp,ae.dts=Me.timeStamp),this.trigger("timestamp",Me)}ae.frames.push(Me),ve+=10,ve+=fe}while(ve<C);this.trigger("data",ae)}}}},zf.prototype=new n;var Tu,Ro,Kf,pb=zf,gb=iy_TimestampRolloverStream;Tu=function(){var v=new Uint8Array(188),D=0;Tu.prototype.init.call(this),this.push=function(C){var U,w=0,F=188;for(D?((U=new Uint8Array(C.byteLength+D)).set(v.subarray(0,D)),U.set(C,D),D=0):U=C;F<U.byteLength;)71!==U[w]||71!==U[F]?(w++,F++):(this.trigger("data",U.subarray(w,F)),w+=188,F+=188);w<U.byteLength&&(v.set(U.subarray(w),0),D=U.byteLength-w)},this.flush=function(){188===D&&71===v[0]&&(this.trigger("data",v),D=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){D=0,this.trigger("reset")}},Tu.prototype=new n,Ro=function(){var v,D,C,w;Ro.prototype.init.call(this),w=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,v=function(U,ne){var ae=0;ne.payloadUnitStartIndicator&&(ae+=U[ae]+1),"pat"===ne.type?D(U.subarray(ae),ne):C(U.subarray(ae),ne)},D=function(U,ne){ne.section_number=U[7],ne.last_section_number=U[8],w.pmtPid=(31&U[10])<<8|U[11],ne.pmtPid=w.pmtPid},C=function(U,ne){var ve,Me;if(1&U[5]){for(w.programMapTable={video:null,audio:null,"timed-metadata":{}},ve=3+((15&U[1])<<8|U[2])-4,Me=12+((15&U[10])<<8|U[11]);Me<ve;){var Ye=U[Me],Pt=(31&U[Me+1])<<8|U[Me+2];Ye===pi.H264_STREAM_TYPE&&null===w.programMapTable.video?w.programMapTable.video=Pt:Ye===pi.ADTS_STREAM_TYPE&&null===w.programMapTable.audio?w.programMapTable.audio=Pt:Ye===pi.METADATA_STREAM_TYPE&&(w.programMapTable["timed-metadata"][Pt]=Ye),Me+=5+((15&U[Me+3])<<8|U[Me+4])}ne.programMapTable=w.programMapTable}},this.push=function(F){var U={},ne=4;if(U.payloadUnitStartIndicator=!!(64&F[1]),U.pid=31&F[1],U.pid<<=8,U.pid|=F[2],(48&F[3])>>>4>1&&(ne+=F[ne]+1),0===U.pid)U.type="pat",v(F.subarray(ne),U),this.trigger("data",U);else if(U.pid===this.pmtPid)for(U.type="pmt",v(F.subarray(ne),U),this.trigger("data",U);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([F,ne,U]):this.processPes_(F,ne,U)},this.processPes_=function(F,U,ne){ne.streamType=ne.pid===this.programMapTable.video?pi.H264_STREAM_TYPE:ne.pid===this.programMapTable.audio?pi.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][ne.pid],ne.type="pes",ne.data=F.subarray(U),this.trigger("data",ne)}},Ro.prototype=new n,Ro.STREAM_TYPES={h264:27,adts:15},Kf=function(){var U,v=this,D=!1,C={data:[],size:0},w={data:[],size:0},F={data:[],size:0},ae=function(fe,Me,Ye){var zi,Pt=new Uint8Array(fe.size),Vt={type:Me},Et=0,rn=0,ni=!1;if(fe.data.length&&!(fe.size<9)){for(Vt.trackId=fe.data[0].pid,Et=0;Et<fe.data.length;Et++)Pt.set((zi=fe.data[Et]).data,rn),rn+=zi.data.byteLength;(function(fe,Me){var Ye,Pt=fe[0]<<16|fe[1]<<8|fe[2];Me.data=new Uint8Array,1===Pt&&(Me.packetLength=6+(fe[4]<<8|fe[5]),Me.dataAlignmentIndicator=0!=(4&fe[6]),192&(Ye=fe[7])&&(Me.pts=(14&fe[9])<<27|(255&fe[10])<<20|(254&fe[11])<<12|(255&fe[12])<<5|(254&fe[13])>>>3,Me.pts*=4,Me.pts+=(6&fe[13])>>>1,Me.dts=Me.pts,64&Ye&&(Me.dts=(14&fe[14])<<27|(255&fe[15])<<20|(254&fe[16])<<12|(255&fe[17])<<5|(254&fe[18])>>>3,Me.dts*=4,Me.dts+=(6&fe[18])>>>1)),Me.data=fe.subarray(9+fe[8]))})(Pt,Vt),ni="video"===Me||Vt.packetLength<=fe.size,(Ye||ni)&&(fe.size=0,fe.data.length=0),ni&&v.trigger("data",Vt)}};Kf.prototype.init.call(this),this.push=function(ve){({pat:function(){},pes:function(){var Me,Ye;switch(ve.streamType){case pi.H264_STREAM_TYPE:Me=C,Ye="video";break;case pi.ADTS_STREAM_TYPE:Me=w,Ye="audio";break;case pi.METADATA_STREAM_TYPE:Me=F,Ye="timed-metadata";break;default:return}ve.payloadUnitStartIndicator&&ae(Me,Ye,!0),Me.data.push(ve),Me.size+=ve.data.byteLength},pmt:function(){var Me={type:"metadata",tracks:[]};null!==(U=ve.programMapTable).video&&Me.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+U.video,codec:"avc",type:"video"}),null!==U.audio&&Me.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+U.audio,codec:"adts",type:"audio"}),D=!0,v.trigger("data",Me)}})[ve.type]()},this.reset=function(){C.size=0,C.data.length=0,w.size=0,w.data.length=0,this.trigger("reset")},this.flushStreams_=function(){ae(C,"video"),ae(w,"audio"),ae(F,"timed-metadata")},this.flush=function(){if(!D&&U){var ve={type:"metadata",tracks:[]};null!==U.video&&ve.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+U.video,codec:"avc",type:"video"}),null!==U.audio&&ve.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+U.audio,codec:"adts",type:"audio"}),v.trigger("data",ve)}D=!1,this.flushStreams_(),this.trigger("done")}},Kf.prototype=new n;var Sg={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:Tu,TransportParseStream:Ro,ElementaryStream:Kf,TimestampRolloverStream:gb,CaptionStream:Wf.CaptionStream,Cea608Stream:Wf.Cea608Stream,Cea708Stream:Wf.Cea708Stream,MetadataStream:pb};for(var md in pi)pi.hasOwnProperty(md)&&(Sg[md]=pi[md]);var qf,Oa=Sg,vb=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];qf=function(v){var D,C=0;qf.prototype.init.call(this),this.skipWarn_=function(w,F){this.trigger("log",{level:"warn",message:"adts skiping bytes "+w+" to "+F+" in frame "+C+" outside syncword"})},this.push=function(w){var U,ne,ae,ve,fe,F=0;if(v||(C=0),"audio"===w.type){D&&D.length?(ae=D,(D=new Uint8Array(ae.byteLength+w.data.byteLength)).set(ae),D.set(w.data,ae.byteLength)):D=w.data;for(var Me;F+7<D.length;)if(255===D[F]&&240==(246&D[F+1])){if("number"==typeof Me&&(this.skipWarn_(Me,F),Me=null),ne=2*(1&~D[F+1]),fe=9e4*(ve=1024*(1+(3&D[F+6])))/vb[(60&D[F+2])>>>2],D.byteLength-F<(U=(3&D[F+3])<<11|D[F+4]<<3|(224&D[F+5])>>5))break;this.trigger("data",{pts:w.pts+C*fe,dts:w.dts+C*fe,sampleCount:ve,audioobjecttype:1+(D[F+2]>>>6&3),channelcount:(1&D[F+2])<<2|(192&D[F+3])>>>6,samplerate:vb[(60&D[F+2])>>>2],samplingfrequencyindex:(60&D[F+2])>>>2,samplesize:16,data:D.subarray(F+7+ne,F+U)}),C++,F+=U}else"number"!=typeof Me&&(Me=F),F++;"number"==typeof Me&&(this.skipWarn_(Me,F),Me=null),D=D.subarray(F)}},this.flush=function(){C=0,this.trigger("done")},this.reset=function(){D=void 0,this.trigger("reset")},this.endTimeline=function(){D=void 0,this.trigger("endedtimeline")}},qf.prototype=new n;var Qf,Yf=qf;Qf=function(v){var D=v.byteLength,C=0,w=0;this.length=function(){return 8*D},this.bitsAvailable=function(){return 8*D+w},this.loadWord=function(){var F=v.byteLength-D,U=new Uint8Array(4),ne=Math.min(4,D);if(0===ne)throw new Error("no bytes available");U.set(v.subarray(F,F+ne)),C=new DataView(U.buffer).getUint32(0),w=8*ne,D-=ne},this.skipBits=function(F){var U;w>F?(C<<=F,w-=F):(F-=w,F-=8*(U=Math.floor(F/8)),D-=U,this.loadWord(),C<<=F,w-=F)},this.readBits=function(F){var U=Math.min(w,F),ne=C>>>32-U;return(w-=U)>0?C<<=U:D>0&&this.loadWord(),(U=F-U)>0?ne<<U|this.readBits(U):ne},this.skipLeadingZeros=function(){var F;for(F=0;F<w;++F)if(0!=(C&2147483648>>>F))return C<<=F,w-=F,F;return this.loadWord(),F+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var F=this.skipLeadingZeros();return this.readBits(F+1)-1},this.readExpGolomb=function(){var F=this.readUnsignedExpGolomb();return 1&F?1+F>>>1:-1*(F>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Vl,bu,ay,sy=Qf;bu=function(){var D,C,v=0;bu.prototype.init.call(this),this.push=function(w){var F;C?((F=new Uint8Array(C.byteLength+w.data.byteLength)).set(C),F.set(w.data,C.byteLength),C=F):C=w.data;for(var U=C.byteLength;v<U-3;v++)if(1===C[v+2]){D=v+5;break}for(;D<U;)switch(C[D]){case 0:if(0!==C[D-1]){D+=2;break}if(0!==C[D-2]){D++;break}v+3!==D-2&&this.trigger("data",C.subarray(v+3,D-2));do{D++}while(1!==C[D]&&D<U);v=D-2,D+=3;break;case 1:if(0!==C[D-1]||0!==C[D-2]){D+=3;break}this.trigger("data",C.subarray(v+3,D-2)),v=D-2,D+=3;break;default:D+=3}C=C.subarray(v),D-=v,v=0},this.reset=function(){C=null,v=0,this.trigger("reset")},this.flush=function(){C&&C.byteLength>3&&this.trigger("data",C.subarray(v+3)),C=null,v=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},bu.prototype=new n,ay={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Vl=function(){var D,C,w,F,U,ne,ae,v=new bu;Vl.prototype.init.call(this),D=this,this.push=function(ve){"video"===ve.type&&(C=ve.trackId,w=ve.pts,F=ve.dts,v.push(ve))},v.on("data",function(ve){var fe={trackId:C,pts:w,dts:F,data:ve,nalUnitTypeCode:31&ve[0]};switch(fe.nalUnitTypeCode){case 5:fe.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:fe.nalUnitType="sei_rbsp",fe.escapedRBSP=U(ve.subarray(1));break;case 7:fe.nalUnitType="seq_parameter_set_rbsp",fe.escapedRBSP=U(ve.subarray(1)),fe.config=ne(fe.escapedRBSP);break;case 8:fe.nalUnitType="pic_parameter_set_rbsp";break;case 9:fe.nalUnitType="access_unit_delimiter_rbsp"}D.trigger("data",fe)}),v.on("done",function(){D.trigger("done")}),v.on("partialdone",function(){D.trigger("partialdone")}),v.on("reset",function(){D.trigger("reset")}),v.on("endedtimeline",function(){D.trigger("endedtimeline")}),this.flush=function(){v.flush()},this.partialFlush=function(){v.partialFlush()},this.reset=function(){v.reset()},this.endTimeline=function(){v.endTimeline()},ae=function(fe,Me){var Vt,Ye=8,Pt=8;for(Vt=0;Vt<fe;Vt++)0!==Pt&&(Pt=(Ye+Me.readExpGolomb()+256)%256),Ye=0===Pt?Ye:Pt},U=function(fe){for(var Vt,Et,Me=fe.byteLength,Ye=[],Pt=1;Pt<Me-2;)0===fe[Pt]&&0===fe[Pt+1]&&3===fe[Pt+2]?(Ye.push(Pt+2),Pt+=2):Pt++;if(0===Ye.length)return fe;Vt=Me-Ye.length,Et=new Uint8Array(Vt);var rn=0;for(Pt=0;Pt<Vt;rn++,Pt++)rn===Ye[0]&&(rn++,Ye.shift()),Et[Pt]=fe[rn];return Et},ne=function(fe){var Et,rn,ni,zi,Du,sh,Iy,Py,Hb,Ed,Lg,Lo,Me=0,Ye=0,Pt=0,Vt=0,Gr=[1,1];if(rn=(Et=new sy(fe)).readUnsignedByte(),zi=Et.readUnsignedByte(),ni=Et.readUnsignedByte(),Et.skipUnsignedExpGolomb(),ay[rn]&&(3===(Du=Et.readUnsignedExpGolomb())&&Et.skipBits(1),Et.skipUnsignedExpGolomb(),Et.skipUnsignedExpGolomb(),Et.skipBits(1),Et.readBoolean()))for(Lg=3!==Du?8:12,Lo=0;Lo<Lg;Lo++)Et.readBoolean()&&ae(Lo<6?16:64,Et);if(Et.skipUnsignedExpGolomb(),0===(sh=Et.readUnsignedExpGolomb()))Et.readUnsignedExpGolomb();else if(1===sh)for(Et.skipBits(1),Et.skipExpGolomb(),Et.skipExpGolomb(),Iy=Et.readUnsignedExpGolomb(),Lo=0;Lo<Iy;Lo++)Et.skipExpGolomb();if(Et.skipUnsignedExpGolomb(),Et.skipBits(1),Py=Et.readUnsignedExpGolomb(),Hb=Et.readUnsignedExpGolomb(),0===(Ed=Et.readBits(1))&&Et.skipBits(1),Et.skipBits(1),Et.readBoolean()&&(Me=Et.readUnsignedExpGolomb(),Ye=Et.readUnsignedExpGolomb(),Pt=Et.readUnsignedExpGolomb(),Vt=Et.readUnsignedExpGolomb()),Et.readBoolean()&&Et.readBoolean())switch(Et.readUnsignedByte()){case 1:Gr=[1,1];break;case 2:Gr=[12,11];break;case 3:Gr=[10,11];break;case 4:Gr=[16,11];break;case 5:Gr=[40,33];break;case 6:Gr=[24,11];break;case 7:Gr=[20,11];break;case 8:Gr=[32,11];break;case 9:Gr=[80,33];break;case 10:Gr=[18,11];break;case 11:Gr=[15,11];break;case 12:Gr=[64,33];break;case 13:Gr=[160,99];break;case 14:Gr=[4,3];break;case 15:Gr=[3,2];break;case 16:Gr=[2,1];break;case 255:Gr=[Et.readUnsignedByte()<<8|Et.readUnsignedByte(),Et.readUnsignedByte()<<8|Et.readUnsignedByte()]}return{profileIdc:rn,levelIdc:ni,profileCompatibility:zi,width:16*(Py+1)-2*Me-2*Ye,height:(2-Ed)*(Hb+1)*16-2*Pt-2*Vt,sarRatio:Gr}}},Vl.prototype=new n;var vd,yb={H264Stream:Vl,NalByteStream:bu},_b=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],oy=function(v,D){var C=v[D+6]<<21|v[D+7]<<14|v[D+8]<<7|v[D+9];return C=C>=0?C:0,(16&v[D+5])>>4?C+20:C+10},uy=function j(v,D){return v.length-D<10||v[D]!=="I".charCodeAt(0)||v[D+1]!=="D".charCodeAt(0)||v[D+2]!=="3".charCodeAt(0)?D:j(v,D+=oy(v,D))},Cg=function(v){return v[0]<<21|v[1]<<14|v[2]<<7|v[3]},cy=function(v,D,C){return unescape(function(v,D,C){var w,F="";for(w=D;w<C;w++)F+="%"+("00"+v[w].toString(16)).slice(-2);return F}(v,D,C))},Zf={isLikelyAacData:function(v){var D=uy(v,0);return v.length>=D+2&&255==(255&v[D])&&240==(240&v[D+1])&&16==(22&v[D+1])},parseId3TagSize:oy,parseAdtsSize:function(v,D){return 6144&v[D+3]|v[D+4]<<3|(224&v[D+5])>>5},parseType:function(v,D){return v[D]==="I".charCodeAt(0)&&v[D+1]==="D".charCodeAt(0)&&v[D+2]==="3".charCodeAt(0)?"timed-metadata":!0&v[D]&&240==(240&v[D+1])?"audio":null},parseSampleRate:function(v){for(var D=0;D+5<v.length;){if(255===v[D]&&240==(246&v[D+1]))return _b[(60&v[D+2])>>>2];D++}return null},parseAacTimestamp:function(v){var D,C,w;D=10,64&v[5]&&(D+=4,D+=Cg(v.subarray(10,14)));do{if((C=Cg(v.subarray(D+4,D+8)))<1)return null;if("PRIV"===String.fromCharCode(v[D],v[D+1],v[D+2],v[D+3])){w=v.subarray(D+10,D+C+10);for(var U=0;U<w.byteLength;U++)if(0===w[U]){if("com.apple.streaming.transportStreamTimestamp"===cy(w,0,U)){var ae=w.subarray(U+1),ve=(1&ae[3])<<30|ae[4]<<22|ae[5]<<14|ae[6]<<6|ae[7]>>>2;return(ve*=4)+(3&ae[7])}break}}D+=10,D+=C}while(D<v.byteLength);return null}};vd=function(){var v=new Uint8Array,D=0;vd.prototype.init.call(this),this.setTimestamp=function(C){D=C},this.push=function(C){var ne,ae,ve,w=0,F=0;for(v.length?(ve=v.length,(v=new Uint8Array(C.byteLength+ve)).set(v.subarray(0,ve)),v.set(C,ve)):v=C;v.length-F>=3;)if(v[F]!=="I".charCodeAt(0)||v[F+1]!=="D".charCodeAt(0)||v[F+2]!=="3".charCodeAt(0))if(255!=(255&v[F])||240!=(240&v[F+1]))F++;else{if(v.length-F<7||F+(w=Zf.parseAdtsSize(v,F))>v.length)break;ae={type:"audio",data:v.subarray(F,F+w),pts:D,dts:D},this.trigger("data",ae),F+=w}else{if(v.length-F<10||F+(w=Zf.parseId3TagSize(v,F))>v.length)break;ne={type:"timed-metadata",data:v.subarray(F,F+w)},this.trigger("data",ne),F+=w}v=v.length-F>0?v.subarray(F):new Uint8Array},this.reset=function(){v=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){v=new Uint8Array,this.trigger("endedtimeline")}},vd.prototype=new n;var Su,Hl,_d,Eu,py=vd,ko=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Dg=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],XS=yb.H264Stream,yd=Zf.isLikelyAacData,Eb=function(v,D){D.stream=v,this.trigger("log",D)},Jf=function(v,D){for(var C=Object.keys(D),w=0;w<C.length;w++){var F=C[w];"headOfPipeline"===F||!D[F].on||D[F].on("log",Eb.bind(v,F))}},xg=function(v,D){var C;if(v.length!==D.length)return!1;for(C=0;C<v.length;C++)if(v[C]!==D[C])return!1;return!0},eh=function(v,D,C,w,F,U){return{start:{dts:v,pts:v+(C-D)},end:{dts:v+(w-D),pts:v+(F-C)},prependedContentDuration:U,baseMediaDecodeTime:v}};Hl=function(v,D){var w,C=[],F=0,U=0,ne=1/0;w=(D=D||{}).firstSequenceNumber||0,Hl.prototype.init.call(this),this.push=function(ae){Fs_collectDtsInfo(v,ae),v&&ko.forEach(function(ve){v[ve]=ae[ve]}),C.push(ae)},this.setEarliestDts=function(ae){F=ae},this.setVideoBaseMediaDecodeTime=function(ae){ne=ae},this.setAudioAppendStart=function(ae){U=ae},this.flush=function(){var ae,ve,fe,Me,Ye,Pt,Vt;0!==C.length?(ae=function(v,D,C){return D.minSegmentDts>=C?v:(D.minSegmentDts=1/0,v.filter(function(w){return w.dts>=C&&(D.minSegmentDts=Math.min(D.minSegmentDts,w.dts),D.minSegmentPts=D.minSegmentDts,!0)}))}(C,v,F),v.baseMediaDecodeTime=Fs_calculateTrackBaseMediaDecodeTime(v,D.keepOriginalTimestamps),Vt=io_prefixWithSilence(v,ae,U,ne),v.samples=function(v){var D,w=[];for(D=0;D<v.length;D++)w.push({size:v[D].data.byteLength,duration:1024});return w}(ae),fe=Rl_mdat(function(v){var D,C,w=0,F=new Uint8Array(function(v){var D,w=0;for(D=0;D<v.length;D++)w+=v[D].data.byteLength;return w}(v));for(D=0;D<v.length;D++)F.set((C=v[D]).data,w),w+=C.data.byteLength;return F}(ae)),C=[],ve=Rl_moof(w,[v]),Me=new Uint8Array(ve.byteLength+fe.byteLength),w++,Me.set(ve),Me.set(fe,ve.byteLength),Fs_clearDtsInfo(v),Ye=Math.ceil(9216e4/v.samplerate),ae.length&&(Pt=ae.length*Ye,this.trigger("segmentTimingInfo",eh(Xn_audioTsToVideoTs(v.baseMediaDecodeTime,v.samplerate),ae[0].dts,ae[0].pts,ae[0].dts+Pt,ae[0].pts+Pt,Vt||0)),this.trigger("timingInfo",{start:ae[0].pts,end:ae[0].pts+Pt})),this.trigger("data",{track:v,boxes:Me}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Fs_clearDtsInfo(v),C=[],this.trigger("reset")}},Hl.prototype=new n,Su=function(v,D){var C,U,ne,w=[],F=[];C=(D=D||{}).firstSequenceNumber||0,Su.prototype.init.call(this),delete v.minPTS,this.gopCache_=[],this.push=function(ae){Fs_collectDtsInfo(v,ae),"seq_parameter_set_rbsp"===ae.nalUnitType&&!U&&(U=ae.config,v.sps=[ae.data],Dg.forEach(function(ve){v[ve]=U[ve]},this)),"pic_parameter_set_rbsp"===ae.nalUnitType&&!ne&&(ne=ae.data,v.pps=[ae.data]),w.push(ae)},this.flush=function(){for(var ae,ve,fe,Me,Ye,Pt,Et,rn,Vt=0;w.length&&"access_unit_delimiter_rbsp"!==w[0].nalUnitType;)w.shift();if(0===w.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(ae=function(v){var D,C,w=[],F=[];for(F.byteLength=0,F.nalCount=0,F.duration=0,w.byteLength=0,D=0;D<v.length;D++)"access_unit_delimiter_rbsp"===(C=v[D]).nalUnitType?(w.length&&(w.duration=C.dts-w.dts,F.byteLength+=w.byteLength,F.nalCount+=w.length,F.duration+=w.duration,F.push(w)),(w=[C]).byteLength=C.data.byteLength,w.pts=C.pts,w.dts=C.dts):("slice_layer_without_partitioning_rbsp_idr"===C.nalUnitType&&(w.keyFrame=!0),w.duration=C.dts-w.dts,w.byteLength+=C.data.byteLength,w.push(C));return F.length&&(!w.duration||w.duration<=0)&&(w.duration=F[F.length-1].duration),F.byteLength+=w.byteLength,F.nalCount+=w.length,F.duration+=w.duration,F.push(w),F}(w),(fe=function(v){var D,C,w=[],F=[];for(w.byteLength=0,w.nalCount=0,w.duration=0,w.pts=v[0].pts,w.dts=v[0].dts,F.byteLength=0,F.nalCount=0,F.duration=0,F.pts=v[0].pts,F.dts=v[0].dts,D=0;D<v.length;D++)(C=v[D]).keyFrame?(w.length&&(F.push(w),F.byteLength+=w.byteLength,F.nalCount+=w.nalCount,F.duration+=w.duration),(w=[C]).nalCount=C.length,w.byteLength=C.byteLength,w.pts=C.pts,w.dts=C.dts,w.duration=C.duration):(w.duration+=C.duration,w.nalCount+=C.length,w.byteLength+=C.byteLength,w.push(C));return F.length&&w.duration<=0&&(w.duration=F[F.length-1].duration),F.byteLength+=w.byteLength,F.nalCount+=w.nalCount,F.duration+=w.duration,F.push(w),F}(ae))[0][0].keyFrame||((ve=this.getGopForFusion_(w[0],v))?(Vt=ve.duration,fe.unshift(ve),fe.byteLength+=ve.byteLength,fe.nalCount+=ve.nalCount,fe.pts=ve.pts,fe.dts=ve.dts,fe.duration+=ve.duration):fe=function(v){var D;return!v[0][0].keyFrame&&v.length>1&&(D=v.shift(),v.byteLength-=D.byteLength,v.nalCount-=D.nalCount,v[0][0].dts=D.dts,v[0][0].pts=D.pts,v[0][0].duration+=D.duration),v}(fe)),F.length){var ni;if(!(ni=D.alignGopsAtEnd?this.alignGopsAtEnd_(fe):this.alignGopsAtStart_(fe)))return this.gopCache_.unshift({gop:fe.pop(),pps:v.pps,sps:v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),w=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Fs_clearDtsInfo(v),fe=ni}Fs_collectDtsInfo(v,fe),v.samples=function(v,D){var C,w,F,U,ae=D||0,ve=[];for(C=0;C<v.length;C++)for(U=v[C],w=0;w<U.length;w++)ae+=(F=yu(U[w],ae)).size,ve.push(F);return ve}(fe),Ye=Rl_mdat(function(v){var D,C,w,F,U,ne,ae=0,Ye=new Uint8Array(v.byteLength+4*v.nalCount),Pt=new DataView(Ye.buffer);for(D=0;D<v.length;D++)for(F=v[D],C=0;C<F.length;C++)for(U=F[C],w=0;w<U.length;w++)Pt.setUint32(ae,(ne=U[w]).data.byteLength),Ye.set(ne.data,ae+=4),ae+=ne.data.byteLength;return Ye}(fe)),v.baseMediaDecodeTime=Fs_calculateTrackBaseMediaDecodeTime(v,D.keepOriginalTimestamps),this.trigger("processedGopsInfo",fe.map(function(zi){return{pts:zi.pts,dts:zi.dts,byteLength:zi.byteLength}})),this.trigger("segmentTimingInfo",eh(v.baseMediaDecodeTime,(Et=fe[0]).dts,Et.pts,(rn=fe[fe.length-1]).dts+rn.duration,rn.pts+rn.duration,Vt)),this.trigger("timingInfo",{start:fe[0].pts,end:fe[fe.length-1].pts+fe[fe.length-1].duration}),this.gopCache_.unshift({gop:fe.pop(),pps:v.pps,sps:v.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),w=[],this.trigger("baseMediaDecodeTime",v.baseMediaDecodeTime),this.trigger("timelineStartInfo",v.timelineStartInfo),Me=Rl_moof(C,[v]),Pt=new Uint8Array(Me.byteLength+Ye.byteLength),C++,Pt.set(Me),Pt.set(Ye,Me.byteLength),this.trigger("data",{track:v,boxes:Pt}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),w=[],this.gopCache_.length=0,F.length=0,this.trigger("reset")},this.resetStream_=function(){Fs_clearDtsInfo(v),U=void 0,ne=void 0},this.getGopForFusion_=function(ae){var Ye,Pt,Vt,Et,rn,Me=1/0;for(rn=0;rn<this.gopCache_.length;rn++)Vt=(Et=this.gopCache_[rn]).gop,v.pps&&xg(v.pps[0],Et.pps[0])&&v.sps&&xg(v.sps[0],Et.sps[0])&&(Vt.dts<v.timelineStartInfo.dts||(Ye=ae.dts-Vt.dts-Vt.duration)>=-1e4&&Ye<=45e3&&(!Pt||Me>Ye)&&(Pt=Et,Me=Ye));return Pt?Pt.gop:null},this.alignGopsAtStart_=function(ae){var ve,fe,Me,Ye,Pt,Vt,Et,rn;for(Pt=ae.byteLength,Vt=ae.nalCount,Et=ae.duration,ve=fe=0;ve<F.length&&fe<ae.length&&(Me=F[ve]).pts!==(Ye=ae[fe]).pts;)Ye.pts>Me.pts?ve++:(fe++,Pt-=Ye.byteLength,Vt-=Ye.nalCount,Et-=Ye.duration);return 0===fe?ae:fe===ae.length?null:((rn=ae.slice(fe)).byteLength=Pt,rn.duration=Et,rn.nalCount=Vt,rn.pts=rn[0].pts,rn.dts=rn[0].dts,rn)},this.alignGopsAtEnd_=function(ae){var ve,fe,Me,Ye,Pt,Vt,Et;for(ve=F.length-1,fe=ae.length-1,Pt=null,Vt=!1;ve>=0&&fe>=0;){if((Me=F[ve]).pts===(Ye=ae[fe]).pts){Vt=!0;break}Me.pts>Ye.pts?ve--:(ve===F.length-1&&(Pt=fe),fe--)}if(!Vt&&null===Pt)return null;if(0===(Et=Vt?fe:Pt))return ae;var rn=ae.slice(Et),ni=rn.reduce(function(zi,Du){return zi.byteLength+=Du.byteLength,zi.duration+=Du.duration,zi.nalCount+=Du.nalCount,zi},{byteLength:0,duration:0,nalCount:0});return rn.byteLength=ni.byteLength,rn.duration=ni.duration,rn.nalCount=ni.nalCount,rn.pts=rn[0].pts,rn.dts=rn[0].dts,rn},this.alignGopsWith=function(ae){F=ae}},Su.prototype=new n,Eu=function(v,D){this.numberOfTracks=0,this.metadataStream=D,this.remuxTracks=void 0===(v=v||{}).remux||!!v.remux,this.keepOriginalTimestamps="boolean"==typeof v.keepOriginalTimestamps&&v.keepOriginalTimestamps,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Eu.prototype.init.call(this),this.push=function(C){return C.text?this.pendingCaptions.push(C):C.frames?this.pendingMetadata.push(C):(this.pendingTracks.push(C.track),this.pendingBytes+=C.boxes.byteLength,"video"===C.track.type&&(this.videoTrack=C.track,this.pendingBoxes.push(C.boxes)),void("audio"===C.track.type&&(this.audioTrack=C.track,this.pendingBoxes.unshift(C.boxes))))}},Eu.prototype=new n,Eu.prototype.flush=function(j){var C,w,F,ne,v=0,D={captions:[],captionStreams:{},metadata:[],info:{}},U=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==j&&"AudioSegmentStream"!==j)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(U=this.videoTrack.timelineStartInfo.pts,Dg.forEach(function(ae){D.info[ae]=this.videoTrack[ae]},this)):this.audioTrack&&(U=this.audioTrack.timelineStartInfo.pts,ko.forEach(function(ae){D.info[ae]=this.audioTrack[ae]},this)),this.videoTrack||this.audioTrack){for(D.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,F=function(v){var w,D=g(),C=J(v);return(w=new Uint8Array(D.byteLength+C.byteLength)).set(D),w.set(C,D.byteLength),w}(this.pendingTracks),D.initSegment=new Uint8Array(F.byteLength),D.initSegment.set(F),D.data=new Uint8Array(this.pendingBytes),ne=0;ne<this.pendingBoxes.length;ne++)D.data.set(this.pendingBoxes[ne],v),v+=this.pendingBoxes[ne].byteLength;for(ne=0;ne<this.pendingCaptions.length;ne++)(C=this.pendingCaptions[ne]).startTime=Xn_metadataTsToSeconds(C.startPts,U,this.keepOriginalTimestamps),C.endTime=Xn_metadataTsToSeconds(C.endPts,U,this.keepOriginalTimestamps),D.captionStreams[C.stream]=!0,D.captions.push(C);for(ne=0;ne<this.pendingMetadata.length;ne++)(w=this.pendingMetadata[ne]).cueTime=Xn_metadataTsToSeconds(w.pts,U,this.keepOriginalTimestamps),D.metadata.push(w);for(D.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",D),ne=0;ne<D.captions.length;ne++)this.trigger("caption",C=D.captions[ne]);for(ne=0;ne<D.metadata.length;ne++)this.trigger("id3Frame",w=D.metadata[ne])}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Eu.prototype.setRemux=function(j){this.remuxTracks=j},_d=function(v){var w,F,D=this,C=!0;_d.prototype.init.call(this),this.baseMediaDecodeTime=(v=v||{}).baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var U={};this.transmuxPipeline_=U,U.type="aac",U.metadataStream=new Oa.MetadataStream,U.aacStream=new py,U.audioTimestampRolloverStream=new Oa.TimestampRolloverStream("audio"),U.timedMetadataTimestampRolloverStream=new Oa.TimestampRolloverStream("timed-metadata"),U.adtsStream=new Yf,U.coalesceStream=new Eu(v,U.metadataStream),U.headOfPipeline=U.aacStream,U.aacStream.pipe(U.audioTimestampRolloverStream).pipe(U.adtsStream),U.aacStream.pipe(U.timedMetadataTimestampRolloverStream).pipe(U.metadataStream).pipe(U.coalesceStream),U.metadataStream.on("timestamp",function(ne){U.aacStream.setTimestamp(ne.timeStamp)}),U.aacStream.on("data",function(ne){"timed-metadata"!==ne.type&&"audio"!==ne.type||U.audioSegmentStream||(F=F||{timelineStartInfo:{baseMediaDecodeTime:D.baseMediaDecodeTime},codec:"adts",type:"audio"},U.coalesceStream.numberOfTracks++,U.audioSegmentStream=new Hl(F,v),U.audioSegmentStream.on("log",D.getLogTrigger_("audioSegmentStream")),U.audioSegmentStream.on("timingInfo",D.trigger.bind(D,"audioTimingInfo")),U.adtsStream.pipe(U.audioSegmentStream).pipe(U.coalesceStream),D.trigger("trackinfo",{hasAudio:!!F,hasVideo:!!w}))}),U.coalesceStream.on("data",this.trigger.bind(this,"data")),U.coalesceStream.on("done",this.trigger.bind(this,"done")),Jf(this,U)},this.setupTsPipeline=function(){var U={};this.transmuxPipeline_=U,U.type="ts",U.metadataStream=new Oa.MetadataStream,U.packetStream=new Oa.TransportPacketStream,U.parseStream=new Oa.TransportParseStream,U.elementaryStream=new Oa.ElementaryStream,U.timestampRolloverStream=new Oa.TimestampRolloverStream,U.adtsStream=new Yf,U.h264Stream=new XS,U.captionStream=new Oa.CaptionStream(v),U.coalesceStream=new Eu(v,U.metadataStream),U.headOfPipeline=U.packetStream,U.packetStream.pipe(U.parseStream).pipe(U.elementaryStream).pipe(U.timestampRolloverStream),U.timestampRolloverStream.pipe(U.h264Stream),U.timestampRolloverStream.pipe(U.adtsStream),U.timestampRolloverStream.pipe(U.metadataStream).pipe(U.coalesceStream),U.h264Stream.pipe(U.captionStream).pipe(U.coalesceStream),U.elementaryStream.on("data",function(ne){var ae;if("metadata"===ne.type){for(ae=ne.tracks.length;ae--;)w||"video"!==ne.tracks[ae].type?!F&&"audio"===ne.tracks[ae].type&&((F=ne.tracks[ae]).timelineStartInfo.baseMediaDecodeTime=D.baseMediaDecodeTime):(w=ne.tracks[ae]).timelineStartInfo.baseMediaDecodeTime=D.baseMediaDecodeTime;w&&!U.videoSegmentStream&&(U.coalesceStream.numberOfTracks++,U.videoSegmentStream=new Su(w,v),U.videoSegmentStream.on("log",D.getLogTrigger_("videoSegmentStream")),U.videoSegmentStream.on("timelineStartInfo",function(ve){F&&!v.keepOriginalTimestamps&&(F.timelineStartInfo=ve,U.audioSegmentStream.setEarliestDts(ve.dts-D.baseMediaDecodeTime))}),U.videoSegmentStream.on("processedGopsInfo",D.trigger.bind(D,"gopInfo")),U.videoSegmentStream.on("segmentTimingInfo",D.trigger.bind(D,"videoSegmentTimingInfo")),U.videoSegmentStream.on("baseMediaDecodeTime",function(ve){F&&U.audioSegmentStream.setVideoBaseMediaDecodeTime(ve)}),U.videoSegmentStream.on("timingInfo",D.trigger.bind(D,"videoTimingInfo")),U.h264Stream.pipe(U.videoSegmentStream).pipe(U.coalesceStream)),F&&!U.audioSegmentStream&&(U.coalesceStream.numberOfTracks++,U.audioSegmentStream=new Hl(F,v),U.audioSegmentStream.on("log",D.getLogTrigger_("audioSegmentStream")),U.audioSegmentStream.on("timingInfo",D.trigger.bind(D,"audioTimingInfo")),U.audioSegmentStream.on("segmentTimingInfo",D.trigger.bind(D,"audioSegmentTimingInfo")),U.adtsStream.pipe(U.audioSegmentStream).pipe(U.coalesceStream)),D.trigger("trackinfo",{hasAudio:!!F,hasVideo:!!w})}}),U.coalesceStream.on("data",this.trigger.bind(this,"data")),U.coalesceStream.on("id3Frame",function(ne){ne.dispatchType=U.metadataStream.dispatchType,D.trigger("id3Frame",ne)}),U.coalesceStream.on("caption",this.trigger.bind(this,"caption")),U.coalesceStream.on("done",this.trigger.bind(this,"done")),Jf(this,U)},this.setBaseMediaDecodeTime=function(U){var ne=this.transmuxPipeline_;v.keepOriginalTimestamps||(this.baseMediaDecodeTime=U),F&&(F.timelineStartInfo.dts=void 0,F.timelineStartInfo.pts=void 0,Fs_clearDtsInfo(F),ne.audioTimestampRolloverStream&&ne.audioTimestampRolloverStream.discontinuity()),w&&(ne.videoSegmentStream&&(ne.videoSegmentStream.gopCache_=[]),w.timelineStartInfo.dts=void 0,w.timelineStartInfo.pts=void 0,Fs_clearDtsInfo(w),ne.captionStream.reset()),ne.timestampRolloverStream&&ne.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(U){F&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(U)},this.setRemux=function(U){var ne=this.transmuxPipeline_;v.remux=U,ne&&ne.coalesceStream&&ne.coalesceStream.setRemux(U)},this.alignGopsWith=function(U){w&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(U)},this.getLogTrigger_=function(U){var ne=this;return function(ae){ae.stream=U,ne.trigger("log",ae)}},this.push=function(U){if(C){var ne=yd(U);ne&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():!ne&&"ts"!==this.transmuxPipeline_.type&&this.setupTsPipeline(),C=!1}this.transmuxPipeline_.headOfPipeline.push(U)},this.flush=function(){C=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},_d.prototype=new n;var Ib,Rb,jl,th={Transmuxer:_d,VideoSegmentStream:Su,AudioSegmentStream:Hl,AUDIO_PROPERTIES:ko,VIDEO_PROPERTIES:Dg,generateSegmentTimingInfo:eh},Td_toUnsigned=function(v){return v>>>0},No=function(v){var D="";return D+=String.fromCharCode(v[0]),D+=String.fromCharCode(v[1]),(D+=String.fromCharCode(v[2]))+String.fromCharCode(v[3])},nh=Td_toUnsigned,yr=function j(v,D){var w,F,U,ne,ae,C=[];if(!D.length)return null;for(w=0;w<v.byteLength;)F=nh(v[w]<<24|v[w+1]<<16|v[w+2]<<8|v[w+3]),U=No(v.subarray(w+4,w+8)),ne=F>1?w+F:v.byteLength,U===D[0]&&(1===D.length?C.push(v.subarray(w+8,ne)):(ae=j(v.subarray(w+8,ne),D.slice(1))).length&&(C=C.concat(ae))),w=ne;return C},Ag=Td_toUnsigned,Mg=e.getUint64,Ig=function(v){return{isLeading:(12&v[0])>>>2,dependsOn:3&v[0],isDependedOn:(192&v[1])>>>6,hasRedundancy:(48&v[1])>>>4,paddingValue:(14&v[1])>>>1,isNonSyncSample:1&v[1],degradationPriority:v[2]<<8|v[3]}},Ty="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Gl="undefined"!=typeof window?window:void 0!==Ty?Ty:"undefined"!=typeof self?self:{},xb=function(v){for(var F,U,D=v.byteLength,C=[],w=1;w<D-2;)0===v[w]&&0===v[w+1]&&3===v[w+2]?(C.push(w+2),w+=2):w++;if(0===C.length)return v;F=D-C.length,U=new Uint8Array(F);var ne=0;for(w=0;w<F;ne++,w++)ne===C[0]&&(ne++,C.shift()),U[w]=v[ne];return U},by=Wf.CaptionStream,Sy=function(v,D){for(var C=v,w=0;w<D.length;w++){var F=D[w];if(C<F.size)return F;C-=F.size}return null},wb=function(v,D){var C=yr(v,["moof","traf"]),w=yr(v,["mdat"]),F={},U=[];return w.forEach(function(ne,ae){U.push({mdat:ne,traf:C[ae]})}),U.forEach(function(ne){var rn,ni,ae=ne.mdat,ve=ne.traf,Me=function(v){var Me,D=new DataView(v.buffer,v.byteOffset,v.byteLength),C={version:v[0],flags:new Uint8Array(v.subarray(1,4)),trackId:D.getUint32(4)},w=1&C.flags[2],F=2&C.flags[2],U=8&C.flags[2],ne=16&C.flags[2],ae=32&C.flags[2],ve=65536&C.flags[0],fe=131072&C.flags[0];return Me=8,w&&(Me+=4,C.baseDataOffset=D.getUint32(12),Me+=4),F&&(C.sampleDescriptionIndex=D.getUint32(Me),Me+=4),U&&(C.defaultSampleDuration=D.getUint32(Me),Me+=4),ne&&(C.defaultSampleSize=D.getUint32(Me),Me+=4),ae&&(C.defaultSampleFlags=D.getUint32(Me)),ve&&(C.durationIsEmpty=!0),!w&&fe&&(C.baseDataOffsetIsMoof=!0),C}(yr(ve,["tfhd"])[0]),Ye=Me.trackId,Pt=yr(ve,["tfdt"]),Vt=Pt.length>0?function(v){var D={version:v[0],flags:new Uint8Array(v.subarray(1,4))};return D.baseMediaDecodeTime=1===D.version?Mg(v.subarray(4)):Ag(v[4]<<24|v[5]<<16|v[6]<<8|v[7]),D}(Pt[0]).baseMediaDecodeTime:0,Et=yr(ve,["trun"]);D===Ye&&Et.length>0&&(rn=function(v,D,C){var w=D,F=C.defaultSampleDuration||0,U=C.defaultSampleSize||0,ne=C.trackId,ae=[];return v.forEach(function(ve){var Me=function(v){var Ye,D={version:v[0],flags:new Uint8Array(v.subarray(1,4)),samples:[]},C=new DataView(v.buffer,v.byteOffset,v.byteLength),w=1&D.flags[2],F=4&D.flags[2],U=1&D.flags[1],ne=2&D.flags[1],ae=4&D.flags[1],ve=8&D.flags[1],fe=C.getUint32(4),Me=8;for(w&&(D.dataOffset=C.getInt32(Me),Me+=4),F&&fe&&(Ye={flags:Ig(v.subarray(Me,Me+4))},Me+=4,U&&(Ye.duration=C.getUint32(Me),Me+=4),ne&&(Ye.size=C.getUint32(Me),Me+=4),ve&&(Ye.compositionTimeOffset=1===D.version?C.getInt32(Me):C.getUint32(Me),Me+=4),D.samples.push(Ye),fe--);fe--;)Ye={},U&&(Ye.duration=C.getUint32(Me),Me+=4),ne&&(Ye.size=C.getUint32(Me),Me+=4),ae&&(Ye.flags=Ig(v.subarray(Me,Me+4)),Me+=4),ve&&(Ye.compositionTimeOffset=1===D.version?C.getInt32(Me):C.getUint32(Me),Me+=4),D.samples.push(Ye);return D}(ve).samples;Me.forEach(function(Ye){void 0===Ye.duration&&(Ye.duration=F),void 0===Ye.size&&(Ye.size=U),Ye.trackId=ne,Ye.dts=w,void 0===Ye.compositionTimeOffset&&(Ye.compositionTimeOffset=0),"bigint"==typeof w?(Ye.pts=w+Gl.BigInt(Ye.compositionTimeOffset),w+=Gl.BigInt(Ye.duration)):(Ye.pts=w+Ye.compositionTimeOffset,w+=Ye.duration)}),ae=ae.concat(Me)}),ae}(Et,Vt,Me),ni=function(v,D,C){var U,ne,ae,ve,w=new DataView(v.buffer,v.byteOffset,v.byteLength),F={logs:[],seiNals:[]};for(ne=0;ne+4<v.length;ne+=ae)if(ae=w.getUint32(ne),ne+=4,!(ae<=0))switch(31&v[ne]){case 6:var fe=v.subarray(ne+1,ne+1+ae),Me=Sy(ne,D);if(U={nalUnitType:"sei_rbsp",size:ae,data:fe,escapedRBSP:xb(fe),trackId:C},Me)U.pts=Me.pts,U.dts=Me.dts,ve=Me;else{if(!ve){F.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+ne+" for trackId "+C+". See mux.js#223."});break}U.pts=ve.pts,U.dts=ve.dts}F.seiNals.push(U)}return F}(ae,rn,Ye),F[Ye]||(F[Ye]={seiNals:[],logs:[]}),F[Ye].seiNals=F[Ye].seiNals.concat(ni.seiNals),F[Ye].logs=F[Ye].logs.concat(ni.logs))}),F},Dy=function(){var D,C,w,F,U,ne,v=!1;this.isInitialized=function(){return v},this.init=function(ae){D=new by,v=!0,ne=!!ae&&ae.isPartial,D.on("data",function(ve){ve.startTime=ve.startPts/F,ve.endTime=ve.endPts/F,U.captions.push(ve),U.captionStreams[ve.stream]=!0}),D.on("log",function(ve){U.logs.push(ve)})},this.isNewInit=function(ae,ve){return!(ae&&0===ae.length||ve&&"object"==typeof ve&&0===Object.keys(ve).length||w===ae[0]&&F===ve[w])},this.parse=function(ae,ve,fe){var Me;if(!this.isInitialized())return null;if(!ve||!fe)return null;if(this.isNewInit(ve,fe))F=fe[w=ve[0]];else if(null===w||!F)return C.push(ae),null;for(;C.length>0;){var Ye=C.shift();this.parse(Ye,ve,fe)}return Me=function(v,D,C){if(null===D)return null;var F=wb(v,D)[D]||{};return{seiNals:F.seiNals,logs:F.logs,timescale:C}}(ae,w,F),Me&&Me.logs&&(U.logs=U.logs.concat(Me.logs)),null!==Me&&Me.seiNals?(this.pushNals(Me.seiNals),this.flushStream(),U):U.logs.length?{logs:U.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(ae){if(!this.isInitialized()||!ae||0===ae.length)return null;ae.forEach(function(ve){D.push(ve)})},this.flushStream=function(){if(!this.isInitialized())return null;ne?D.partialFlush():D.flush()},this.clearParsedCaptions=function(){U.captions=[],U.captionStreams={},U.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;D.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){C=[],w=null,F=null,U?this.clearParsedCaptions():U={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Og=Td_toUnsigned,rh=function(v){return("00"+v.toString(16)).slice(-2)},ZS=e.getUint64;Ib=function(v,D){var w=yr(D,["moof","traf"]).reduce(function(F,U){var Ye,Pt,ne=yr(U,["tfhd"])[0],ae=Og(ne[4]<<24|ne[5]<<16|ne[6]<<8|ne[7]),ve=v[ae]||9e4,fe=yr(U,["tfdt"])[0],Me=new DataView(fe.buffer,fe.byteOffset,fe.byteLength);return"bigint"==typeof(Ye=1===fe[0]?ZS(fe.subarray(4,12)):Me.getUint32(4))?Pt=Ye/Gl.BigInt(ve):"number"==typeof Ye&&!isNaN(Ye)&&(Pt=Ye/ve),Pt<Number.MAX_SAFE_INTEGER&&(Pt=Number(Pt)),Pt<F&&(F=Pt),F},1/0);return"bigint"==typeof w||isFinite(w)?w:0},jl=function(v){var C=0===v[0]?12:20;return Og(v[C]<<24|v[C+1]<<16|v[C+2]<<8|v[C+3])},Rb=function(v){var D=yr(v,["moov","trak"]),C=[];return D.forEach(function(w){var ne,ae,F={},U=yr(w,["tkhd"])[0];U&&(ae=(ne=new DataView(U.buffer,U.byteOffset,U.byteLength)).getUint8(0),F.id=ne.getUint32(0===ae?12:20));var ve=yr(w,["mdia","hdlr"])[0];if(ve){var fe=No(ve.subarray(8,12));F.type="vide"===fe?"video":"soun"===fe?"audio":fe}var Me=yr(w,["mdia","minf","stbl","stsd"])[0];if(Me){var Ye=Me.subarray(8);F.codec=No(Ye.subarray(4,8));var Vt,Pt=yr(Ye,[F.codec])[0];Pt&&(/^[asm]vc[1-9]$/i.test(F.codec)?(Vt=Pt.subarray(78),"avcC"===No(Vt.subarray(4,8))&&Vt.length>11?(F.codec+=".",F.codec+=rh(Vt[9]),F.codec+=rh(Vt[10]),F.codec+=rh(Vt[11])):F.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(F.codec)?(Vt=Pt.subarray(28),"esds"===No(Vt.subarray(4,8))&&Vt.length>20&&0!==Vt[19]?(F.codec+="."+rh(Vt[19]),F.codec+="."+rh(Vt[20]>>>2&63).replace(/^0/,"")):F.codec="mp4a.40.2"):F.codec=F.codec.toLowerCase())}var rn=yr(w,["mdia","mdhd"])[0];rn&&(F.timescale=jl(rn)),C.push(F)}),C};var kb_startTime=Ib,kb_tracks=Rb,Rg=function(v){var D=31&v[1];return(D<<=8)|v[2]},Wl=function(v){return!!(64&v[1])},Sd=function(v){var D=0;return(48&v[3])>>>4>1&&(D+=v[4]+1),D},ih=function(v){switch(v){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Lb={parseType:function(v,D){var C=Rg(v);return 0===C?"pat":C===D?"pmt":D?"pes":null},parsePat:function(v){var D=Wl(v),C=4+Sd(v);return D&&(C+=v[C]+1),(31&v[C+10])<<8|v[C+11]},parsePmt:function(v){var D={},C=Wl(v),w=4+Sd(v);if(C&&(w+=v[w]+1),1&v[w+5]){var U;U=3+((15&v[w+1])<<8|v[w+2])-4;for(var ae=12+((15&v[w+10])<<8|v[w+11]);ae<U;){var ve=w+ae;D[(31&v[ve+1])<<8|v[ve+2]]=v[ve],ae+=5+((15&v[ve+3])<<8|v[ve+4])}return D}},parsePayloadUnitStartIndicator:Wl,parsePesType:function(v,D){switch(D[Rg(v)]){case pi.H264_STREAM_TYPE:return"video";case pi.ADTS_STREAM_TYPE:return"audio";case pi.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(v){if(!Wl(v))return null;var C=4+Sd(v);if(C>=v.byteLength)return null;var F,w=null;return 192&(F=v[C+7])&&((w={}).pts=(14&v[C+9])<<27|(255&v[C+10])<<20|(254&v[C+11])<<12|(255&v[C+12])<<5|(254&v[C+13])>>>3,w.pts*=4,w.pts+=(6&v[C+13])>>>1,w.dts=w.pts,64&F&&(w.dts=(14&v[C+14])<<27|(255&v[C+15])<<20|(254&v[C+16])<<12|(255&v[C+17])<<5|(254&v[C+18])>>>3,w.dts*=4,w.dts+=(6&v[C+18])>>>1)),w},videoPacketContainsKeyFrame:function(v){for(var D=4+Sd(v),C=v.subarray(D),w=0,F=0,U=!1;F<C.byteLength-3;F++)if(1===C[F+2]){w=F+5;break}for(;w<C.byteLength;)switch(C[w]){case 0:if(0!==C[w-1]){w+=2;break}if(0!==C[w-2]){w++;break}F+3!==w-2&&"slice_layer_without_partitioning_rbsp_idr"===ih(31&C[F+3])&&(U=!0);do{w++}while(1!==C[w]&&w<C.length);F=w-2,w+=3;break;case 1:if(0!==C[w-1]||0!==C[w-2]){w+=3;break}"slice_layer_without_partitioning_rbsp_idr"===ih(31&C[F+3])&&(U=!0),F=w-2,w+=3;break;default:w+=3}return C=C.subarray(F),w-=F,F=0,C&&C.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===ih(31&C[F+3])&&(U=!0),U}},$l=iy_handleRollover,qn={};qn.ts=Lb,qn.aac=Zf;var Cu=9e4,os=188,Ay=function(v,D,C){for(var U,ae,ve,fe,w=0,F=os,Me=!1;F<=v.byteLength;)if(71!==v[w]||71!==v[F]&&F!==v.byteLength)w++,F++;else{if("pes"===(U=v.subarray(w,F),qn.ts.parseType(U,D.pid))&&(ae=qn.ts.parsePesType(U,D.table),ve=qn.ts.parsePayloadUnitStartIndicator(U),"audio"===ae&&ve&&(fe=qn.ts.parsePesTime(U))&&(fe.type="audio",C.audio.push(fe),Me=!0)),Me)break;w+=os,F+=os}for(w=(F=v.byteLength)-os,Me=!1;w>=0;)if(71!==v[w]||71!==v[F]&&F!==v.byteLength)w--,F--;else{if("pes"===(U=v.subarray(w,F),qn.ts.parseType(U,D.pid))&&(ae=qn.ts.parsePesType(U,D.table),ve=qn.ts.parsePayloadUnitStartIndicator(U),"audio"===ae&&ve&&(fe=qn.ts.parsePesTime(U))&&(fe.type="audio",C.audio.push(fe),Me=!0)),Me)break;w-=os,F-=os}},Fb=function(v,D,C){for(var U,ae,ve,fe,Me,Ye,Pt,w=0,F=os,Vt=!1,Et={data:[],size:0};F<v.byteLength;)if(71!==v[w]||71!==v[F])w++,F++;else{if("pes"===(U=v.subarray(w,F),qn.ts.parseType(U,D.pid))&&(ae=qn.ts.parsePesType(U,D.table),ve=qn.ts.parsePayloadUnitStartIndicator(U),"video"===ae&&(ve&&!Vt&&(fe=qn.ts.parsePesTime(U))&&(fe.type="video",C.video.push(fe),Vt=!0),!C.firstKeyFrame))){if(ve&&0!==Et.size){for(Me=new Uint8Array(Et.size),Ye=0;Et.data.length;)Pt=Et.data.shift(),Me.set(Pt,Ye),Ye+=Pt.byteLength;if(qn.ts.videoPacketContainsKeyFrame(Me)){var rn=qn.ts.parsePesTime(Me);rn?(C.firstKeyFrame=rn,C.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}Et.size=0}Et.data.push(U),Et.size+=U.byteLength}if(Vt&&C.firstKeyFrame)break;w+=os,F+=os}for(w=(F=v.byteLength)-os,Vt=!1;w>=0;)if(71!==v[w]||71!==v[F])w--,F--;else{if("pes"===(U=v.subarray(w,F),qn.ts.parseType(U,D.pid))&&(ae=qn.ts.parsePesType(U,D.table),ve=qn.ts.parsePayloadUnitStartIndicator(U),"video"===ae&&ve&&(fe=qn.ts.parsePesTime(U))&&(fe.type="video",C.video.push(fe),Vt=!0)),Vt)break;w-=os,F-=os}},Vb_inspect=function(v,D){var w;return w=qn.aac.isLikelyAacData(v)?function(v){for(var ae,D=!1,C=0,w=null,F=null,U=0,ne=0;v.length-ne>=3;){switch(qn.aac.parseType(v,ne)){case"timed-metadata":if(v.length-ne<10){D=!0;break}if((U=qn.aac.parseId3TagSize(v,ne))>v.length){D=!0;break}null===F&&(ae=v.subarray(ne,ne+U),F=qn.aac.parseAacTimestamp(ae)),ne+=U;break;case"audio":if(v.length-ne<7){D=!0;break}if((U=qn.aac.parseAdtsSize(v,ne))>v.length){D=!0;break}null===w&&(ae=v.subarray(ne,ne+U),w=qn.aac.parseSampleRate(ae)),C++,ne+=U;break;default:ne++}if(D)return null}if(null===w||null===F)return null;var fe=Cu/w;return{audio:[{type:"audio",dts:F,pts:F},{type:"audio",dts:F+1024*C*fe,pts:F+1024*C*fe}]}}(v):function(v){var D={pid:null,table:null},C={};for(var w in function(v,D){for(var F,C=0,w=os;w<v.byteLength;)if(71!==v[C]||71!==v[w])C++,w++;else{switch(F=v.subarray(C,w),qn.ts.parseType(F,D.pid)){case"pat":D.pid=qn.ts.parsePat(F);break;case"pmt":var ne=qn.ts.parsePmt(F);D.table=D.table||{},Object.keys(ne).forEach(function(ae){D.table[ae]=ne[ae]})}C+=os,w+=os}}(v,D),D.table)if(D.table.hasOwnProperty(w))switch(D.table[w]){case pi.H264_STREAM_TYPE:C.video=[],Fb(v,D,C),0===C.video.length&&delete C.video;break;case pi.ADTS_STREAM_TYPE:C.audio=[],Ay(v,D,C),0===C.audio.length&&delete C.audio}return C}(v),w&&(w.audio||w.video)?(function(v,D){if(v.audio&&v.audio.length){var C=D;(void 0===C||isNaN(C))&&(C=v.audio[0].dts),v.audio.forEach(function(U){U.dts=$l(U.dts,C),U.pts=$l(U.pts,C),U.dtsTime=U.dts/Cu,U.ptsTime=U.pts/Cu})}if(v.video&&v.video.length){var w=D;if((void 0===w||isNaN(w))&&(w=v.video[0].dts),v.video.forEach(function(U){U.dts=$l(U.dts,w),U.pts=$l(U.pts,w),U.dtsTime=U.dts/Cu,U.ptsTime=U.pts/Cu}),v.firstKeyFrame){var F=v.firstKeyFrame;F.dts=$l(F.dts,w),F.pts=$l(F.pts,w),F.dtsTime=F.dts/Cu,F.ptsTime=F.pts/Cu}}}(w,D),w):null},My=function(){function j(D,C){this.options=C||{},this.self=D,this.init()}var v=j.prototype;return v.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new th.Transmuxer(this.options),function(v,D){D.on("data",function(C){var w=C.initSegment;C.initSegment={data:w.buffer,byteOffset:w.byteOffset,byteLength:w.byteLength};var F=C.data;C.data=F.buffer,v.postMessage({action:"data",segment:C,byteOffset:F.byteOffset,byteLength:F.byteLength},[C.data])}),D.on("done",function(C){v.postMessage({action:"done"})}),D.on("gopInfo",function(C){v.postMessage({action:"gopInfo",gopInfo:C})}),D.on("videoSegmentTimingInfo",function(C){var w={start:{decode:Xn_videoTsToSeconds(C.start.dts),presentation:Xn_videoTsToSeconds(C.start.pts)},end:{decode:Xn_videoTsToSeconds(C.end.dts),presentation:Xn_videoTsToSeconds(C.end.pts)},baseMediaDecodeTime:Xn_videoTsToSeconds(C.baseMediaDecodeTime)};C.prependedContentDuration&&(w.prependedContentDuration=Xn_videoTsToSeconds(C.prependedContentDuration)),v.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:w})}),D.on("audioSegmentTimingInfo",function(C){var w={start:{decode:Xn_videoTsToSeconds(C.start.dts),presentation:Xn_videoTsToSeconds(C.start.pts)},end:{decode:Xn_videoTsToSeconds(C.end.dts),presentation:Xn_videoTsToSeconds(C.end.pts)},baseMediaDecodeTime:Xn_videoTsToSeconds(C.baseMediaDecodeTime)};C.prependedContentDuration&&(w.prependedContentDuration=Xn_videoTsToSeconds(C.prependedContentDuration)),v.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:w})}),D.on("id3Frame",function(C){v.postMessage({action:"id3Frame",id3Frame:C})}),D.on("caption",function(C){v.postMessage({action:"caption",caption:C})}),D.on("trackinfo",function(C){v.postMessage({action:"trackinfo",trackInfo:C})}),D.on("audioTimingInfo",function(C){v.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Xn_videoTsToSeconds(C.start),end:Xn_videoTsToSeconds(C.end)}})}),D.on("videoTimingInfo",function(C){v.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Xn_videoTsToSeconds(C.start),end:Xn_videoTsToSeconds(C.end)}})}),D.on("log",function(C){v.postMessage({action:"log",log:C})})}(this.self,this.transmuxer)},v.pushMp4Captions=function(C){this.captionParser||(this.captionParser=new Dy,this.captionParser.init());var w=new Uint8Array(C.data,C.byteOffset,C.byteLength),F=this.captionParser.parse(w,C.trackIds,C.timescales);this.self.postMessage({action:"mp4Captions",captions:F&&F.captions||[],logs:F&&F.logs||[],data:w.buffer},[w.buffer])},v.probeMp4StartTime=function(C){var F=C.data,U=kb_startTime(C.timescales,F);this.self.postMessage({action:"probeMp4StartTime",startTime:U,data:F},[F.buffer])},v.probeMp4Tracks=function(C){var w=C.data,F=kb_tracks(w);this.self.postMessage({action:"probeMp4Tracks",tracks:F,data:w},[w.buffer])},v.probeTs=function(C){var w=C.data,F=C.baseStartTime,U="number"!=typeof F||isNaN(F)?void 0:9e4*F,ne=Vb_inspect(w,U),ae=null;ne&&((ae={hasVideo:ne.video&&2===ne.video.length||!1,hasAudio:ne.audio&&2===ne.audio.length||!1}).hasVideo&&(ae.videoStart=ne.video[0].ptsTime),ae.hasAudio&&(ae.audioStart=ne.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:ae,data:w},[w.buffer])},v.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},v.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},v.push=function(C){var w=new Uint8Array(C.data,C.byteOffset,C.byteLength);this.transmuxer.push(w)},v.reset=function(){this.transmuxer.reset()},v.setTimestampOffset=function(C){this.transmuxer.setBaseMediaDecodeTime(Math.round(Xn_secondsToVideoTs(C.timestampOffset||0)))},v.setAudioAppendStart=function(C){this.transmuxer.setAudioAppendStart(Math.ceil(Xn_secondsToVideoTs(C.appendStart)))},v.setRemux=function(C){this.transmuxer.setRemux(C.remux)},v.flush=function(C){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},v.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},v.alignGopsWith=function(C){this.transmuxer.alignGopsWith(C.gopsToAlignWith.slice())},j}();self.onmessage=function(j){"init"===j.data.action&&j.data.options?this.messageHandlers=new My(self,j.data.options):(this.messageHandlers||(this.messageHandlers=new My(self)),j.data&&j.data.action&&"init"!==j.data.action&&this.messageHandlers[j.data.action]&&this.messageHandlers[j.data.action](j.data))}})),Lp=Pv(Z_),eT=function(n){var t=n.transmuxer,r=n.bytes,e=n.audioAppendStart,a=n.gopsToAlignWith,u=n.remux,d=n.onData,p=n.onTrackInfo,g=n.onAudioTimingInfo,E=n.onVideoTimingInfo,N=n.onVideoSegmentTimingInfo,O=n.onAudioSegmentTimingInfo,W=n.onId3,J=n.onCaptions,Y=n.onDone,Q=n.onEndedTimeline,Pe=n.onTransmuxerLog,ke=n.isEndOfTimeline,je={buffer:[]},Ze=ke;if(t.onmessage=function(Lt){t.currentTransmux===n&&("data"===Lt.data.action&&function(n,t,r){var e=n.data.segment,a=e.type,u=e.initSegment,E=e.videoFrameDtsTime,N=e.videoFramePtsTime;t.buffer.push({captions:e.captions,captionStreams:e.captionStreams,metadata:e.metadata});var O=n.data.segment.boxes||{data:n.data.segment.data},W={type:a,data:new Uint8Array(O.data,O.data.byteOffset,O.data.byteLength),initSegment:new Uint8Array(u.data,u.byteOffset,u.byteLength)};void 0!==E&&(W.videoFrameDtsTime=E),void 0!==N&&(W.videoFramePtsTime=N),r(W)}(Lt,je,d),"trackinfo"===Lt.data.action&&p(Lt.data.trackInfo),"gopInfo"===Lt.data.action&&function(n,t){t.gopInfo=n.data.gopInfo}(Lt,je),"audioTimingInfo"===Lt.data.action&&g(Lt.data.audioTimingInfo),"videoTimingInfo"===Lt.data.action&&E(Lt.data.videoTimingInfo),"videoSegmentTimingInfo"===Lt.data.action&&N(Lt.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===Lt.data.action&&O(Lt.data.audioSegmentTimingInfo),"id3Frame"===Lt.data.action&&W([Lt.data.id3Frame],Lt.data.id3Frame.dispatchType),"caption"===Lt.data.action&&J(Lt.data.caption),"endedtimeline"===Lt.data.action&&(Ze=!1,Q()),"log"===Lt.data.action&&Pe(Lt.data.log),"transmuxed"===Lt.data.type&&(Ze||(t.onmessage=null,function(n){var t=n.transmuxedData,r=n.callback;t.buffer=[],r(t)}({transmuxedData:je,callback:Y}),tT(t))))},e&&t.postMessage({action:"setAudioAppendStart",appendStart:e}),Array.isArray(a)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:a}),void 0!==u&&t.postMessage({action:"setRemux",remux:u}),r.byteLength){var St=r instanceof ArrayBuffer?r:r.buffer,Ot=r instanceof ArrayBuffer?0:r.byteOffset;t.postMessage({action:"push",data:St,byteOffset:Ot,byteLength:r.byteLength},[St])}ke&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},tT=function(n){n.currentTransmux=null,n.transmuxQueue.length&&(n.currentTransmux=n.transmuxQueue.shift(),"function"==typeof n.currentTransmux?n.currentTransmux():eT(n.currentTransmux))},Rv=function(n,t){n.postMessage({action:t}),tT(n)},Sf_reset=function(n){!function(n,t){if(!t.currentTransmux)return t.currentTransmux=n,void Rv(t,n);t.transmuxQueue.push(Rv.bind(null,t,n))}("reset",n)},Ef=function(n){var t=n.transmuxer,r=n.endAction||n.action,e=n.callback,a=kn({},n,{endAction:null,transmuxer:null,callback:null});if(t.addEventListener("message",function g(E){E.data.action===r&&(t.removeEventListener("message",g),E.data.data&&(E.data.data=new Uint8Array(E.data.data,n.byteOffset||0,n.byteLength||E.data.data.byteLength),n.data&&(n.data=E.data.data)),e(E.data))}),n.data){var d=n.data instanceof ArrayBuffer;a.byteOffset=d?0:n.data.byteOffset,a.byteLength=n.data.byteLength,t.postMessage(a,[d?n.data:n.data.buffer])}else t.postMessage(a)},Cl=function(n){n.forEach(function(t){t.abort()})},Up=function(n,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:-101,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:-102,xhr:t}:n?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:2,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:2,xhr:t}:null},Nv=function(n,t,r){return function(e,a){var u=a.response,d=Up(e,a);if(d)return r(d,n);if(16!==u.byteLength)return r({status:a.status,message:"Invalid HLS key at URL: "+a.uri,code:2,xhr:a},n);for(var p=new DataView(u),g=new Uint32Array([p.getUint32(0),p.getUint32(4),p.getUint32(8),p.getUint32(12)]),E=0;E<t.length;E++)t[E].bytes=g;return r(null,n)}},Lv=function(n,t){var r=bh(n.map.bytes);if("mp4"!==r)return t({internal:!0,message:"Found unsupported "+(r||"unknown")+" container for initialization segment at URL: "+(n.map.resolvedUri||n.map.uri),code:2});Ef({action:"probeMp4Tracks",data:n.map.bytes,transmuxer:n.transmuxer,callback:function(u){var d=u.tracks;return n.map.bytes=u.data,d.forEach(function(g){n.map.tracks=n.map.tracks||{},!n.map.tracks[g.type]&&(n.map.tracks[g.type]=g,"number"==typeof g.id&&g.timescale&&(n.map.timescales=n.map.timescales||{},n.map.timescales[g.id]=g.timescale))}),t(null)}})},Fv=function(n){var t=n.segment,r=n.bytes,e=n.trackInfoFn,a=n.timingInfoFn,u=n.videoSegmentTimingInfoFn,d=n.audioSegmentTimingInfoFn,p=n.id3Fn,g=n.captionsFn,E=n.isEndOfTimeline,N=n.endedTimelineFn,O=n.dataFn,W=n.doneFn,J=n.onTransmuxerLog,Y=t.map&&t.map.tracks||{},Q=Boolean(Y.audio&&Y.video),Pe=a.bind(null,t,"audio","start"),ke=a.bind(null,t,"audio","end"),je=a.bind(null,t,"video","start"),Ze=a.bind(null,t,"video","end");Ef({action:"probeTs",transmuxer:t.transmuxer,data:r,baseStartTime:t.baseStartTime,callback:function(Ot){t.bytes=r=Ot.data;var ct=Ot.result;ct&&(e(t,{hasAudio:ct.hasAudio,hasVideo:ct.hasVideo,isMuxed:Q}),e=null,ct.hasAudio&&!Q&&Pe(ct.audioStart),ct.hasVideo&&je(ct.videoStart),Pe=null,je=null),function(n){if(!n.transmuxer.currentTransmux)return n.transmuxer.currentTransmux=n,void eT(n);n.transmuxer.transmuxQueue.push(n)}({bytes:r,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:Q,onData:function(ct){ct.type="combined"===ct.type?"video":ct.type,O(t,ct)},onTrackInfo:function(ct){e&&(Q&&(ct.isMuxed=!0),e(t,ct))},onAudioTimingInfo:function(ct){Pe&&void 0!==ct.start&&(Pe(ct.start),Pe=null),ke&&void 0!==ct.end&&ke(ct.end)},onVideoTimingInfo:function(ct){je&&void 0!==ct.start&&(je(ct.start),je=null),Ze&&void 0!==ct.end&&Ze(ct.end)},onVideoSegmentTimingInfo:function(ct){u(ct)},onAudioSegmentTimingInfo:function(ct){d(ct)},onId3:function(ct,Lt){p(t,ct,Lt)},onCaptions:function(ct){g(t,[ct])},isEndOfTimeline:E,onEndedTimeline:function(){N()},onTransmuxerLog:J,onDone:function(ct){!W||(ct.type="combined"===ct.type?"video":ct.type,W(null,t,ct))}})}})},Bv=function(n){var t=n.segment,r=n.bytes,e=n.trackInfoFn,a=n.timingInfoFn,u=n.videoSegmentTimingInfoFn,d=n.audioSegmentTimingInfoFn,p=n.id3Fn,g=n.captionsFn,E=n.isEndOfTimeline,N=n.endedTimelineFn,O=n.dataFn,W=n.doneFn,J=n.onTransmuxerLog,Y=new Uint8Array(r);if(function(n){return ts(n,["moof"]).length>0}(Y)){t.isFmp4=!0;var Q=t.map.tracks,Pe={isFmp4:!0,hasVideo:!!Q.video,hasAudio:!!Q.audio};Q.audio&&Q.audio.codec&&"enca"!==Q.audio.codec&&(Pe.audioCodec=Q.audio.codec),Q.video&&Q.video.codec&&"encv"!==Q.video.codec&&(Pe.videoCodec=Q.video.codec),Q.video&&Q.audio&&(Pe.isMuxed=!0),e(t,Pe);var ke=function(Ze){O(t,{data:Y,type:Pe.hasAudio&&!Pe.isMuxed?"audio":"video"}),Ze&&Ze.length&&g(t,Ze),W(null,t,{})};Ef({action:"probeMp4StartTime",timescales:t.map.timescales,data:Y,transmuxer:t.transmuxer,callback:function(Ze){var Qe=Ze.data,St=Ze.startTime;r=Qe.buffer,t.bytes=Y=Qe,Pe.hasAudio&&!Pe.isMuxed&&a(t,"audio","start",St),Pe.hasVideo&&a(t,"video","start",St),Q.video&&Qe.byteLength&&t.transmuxer?Ef({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:Y,timescales:t.map.timescales,trackIds:[Q.video.id],callback:function(ct){r=ct.data.buffer,t.bytes=Y=ct.data,ct.logs.forEach(function(Lt){J(Ie.mergeOptions(Lt,{stream:"mp4CaptionParser"}))}),ke(ct.captions)}}):ke()}})}else{if(t.transmuxer)return void 0===t.container&&(t.container=bh(Y)),"ts"!==t.container&&"aac"!==t.container?(e(t,{hasAudio:!1,hasVideo:!1}),void W(null,t,{})):void Fv({segment:t,bytes:r,trackInfoFn:e,timingInfoFn:a,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:d,id3Fn:p,captionsFn:g,isEndOfTimeline:E,endedTimelineFn:N,dataFn:O,doneFn:W,onTransmuxerLog:J});W(null,t,{})}},Vp=function(n,t){var p,r=n.id,e=n.key,a=n.encryptedBytes,u=n.decryptionWorker;u.addEventListener("message",function g(E){if(E.data.source===r){u.removeEventListener("message",g);var N=E.data.decrypted;t(new Uint8Array(N.bytes,N.byteOffset,N.byteLength))}}),p=e.bytes.slice?e.bytes.slice():new Uint32Array(Array.prototype.slice.call(e.bytes)),u.postMessage(Jc({source:r,encrypted:a,key:p,iv:e.iv}),[a.buffer,p.buffer])},oT=function(n){var t=n.xhr,r=n.xhrOptions,a=n.segment,u=n.abortFn,d=n.progressFn,p=n.trackInfoFn,g=n.timingInfoFn,E=n.videoSegmentTimingInfoFn,N=n.audioSegmentTimingInfoFn,O=n.id3Fn,W=n.captionsFn,J=n.isEndOfTimeline,Y=n.endedTimelineFn,Q=n.dataFn,je=[],Ze=function(n){var t=n.activeXhrs,r=n.decryptionWorker,e=n.trackInfoFn,a=n.timingInfoFn,u=n.videoSegmentTimingInfoFn,d=n.audioSegmentTimingInfoFn,p=n.id3Fn,g=n.captionsFn,E=n.isEndOfTimeline,N=n.endedTimelineFn,O=n.dataFn,W=n.doneFn,J=n.onTransmuxerLog,Y=0,Q=!1;return function(Pe,ke){if(!Q){if(Pe)return Q=!0,Cl(t),W(Pe,ke);if((Y+=1)===t.length){var je=function(){if(ke.encryptedBytes)return function(n){var r=n.segment,e=n.trackInfoFn,a=n.timingInfoFn,u=n.videoSegmentTimingInfoFn,d=n.audioSegmentTimingInfoFn,p=n.id3Fn,g=n.captionsFn,E=n.isEndOfTimeline,N=n.endedTimelineFn,O=n.dataFn,W=n.doneFn,J=n.onTransmuxerLog;Vp({id:r.requestId,key:r.key,encryptedBytes:r.encryptedBytes,decryptionWorker:n.decryptionWorker},function(Y){r.bytes=Y,Bv({segment:r,bytes:r.bytes,trackInfoFn:e,timingInfoFn:a,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:d,id3Fn:p,captionsFn:g,isEndOfTimeline:E,endedTimelineFn:N,dataFn:O,doneFn:W,onTransmuxerLog:J})})}({decryptionWorker:r,segment:ke,trackInfoFn:e,timingInfoFn:a,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:d,id3Fn:p,captionsFn:g,isEndOfTimeline:E,endedTimelineFn:N,dataFn:O,doneFn:W,onTransmuxerLog:J});Bv({segment:ke,bytes:ke.bytes,trackInfoFn:e,timingInfoFn:a,videoSegmentTimingInfoFn:u,audioSegmentTimingInfoFn:d,id3Fn:p,captionsFn:g,isEndOfTimeline:E,endedTimelineFn:N,dataFn:O,doneFn:W,onTransmuxerLog:J})};if(ke.endOfAllRequests=Date.now(),ke.map&&ke.map.encryptedBytes&&!ke.map.bytes)return Vp({decryptionWorker:r,id:ke.requestId+"-init",encryptedBytes:ke.map.encryptedBytes,key:ke.map.key},function(Ze){ke.map.bytes=Ze,Lv(ke,function(Qe){if(Qe)return Cl(t),W(Qe,ke);je()})});je()}}}}({activeXhrs:je,decryptionWorker:n.decryptionWorker,trackInfoFn:p,timingInfoFn:g,videoSegmentTimingInfoFn:E,audioSegmentTimingInfoFn:N,id3Fn:O,captionsFn:W,isEndOfTimeline:J,endedTimelineFn:Y,dataFn:Q,doneFn:n.doneFn,onTransmuxerLog:n.onTransmuxerLog});if(a.key&&!a.key.bytes){var Qe=[a.key];a.map&&!a.map.bytes&&a.map.key&&a.map.key.resolvedUri===a.key.resolvedUri&&Qe.push(a.map.key);var ct=t(Ie.mergeOptions(r,{uri:a.key.resolvedUri,responseType:"arraybuffer"}),Nv(a,Qe,Ze));je.push(ct)}if(a.map&&!a.map.bytes){if(a.map.key&&(!a.key||a.key.resolvedUri!==a.map.key.resolvedUri)){var $t=t(Ie.mergeOptions(r,{uri:a.map.key.resolvedUri,responseType:"arraybuffer"}),Nv(a,[a.map.key],Ze));je.push($t)}var fr=Ie.mergeOptions(r,{uri:a.map.resolvedUri,responseType:"arraybuffer",headers:ks(a.map)}),hi=function(n){var t=n.segment,r=n.finishProcessingFn;return function(e,a){var u=Up(e,a);if(u)return r(u,t);var d=new Uint8Array(a.response);if(t.map.key)return t.map.encryptedBytes=d,r(null,t);t.map.bytes=d,Lv(t,function(p){if(p)return p.xhr=a,p.status=a.status,r(p,t);r(null,t)})}}({segment:a,finishProcessingFn:Ze}),Kn=t(fr,hi);je.push(Kn)}var Mo=Ie.mergeOptions(r,{uri:a.part&&a.part.resolvedUri||a.resolvedUri,responseType:"arraybuffer",headers:ks(a)}),Ls=t(Mo,function(n){var t=n.segment,r=n.finishProcessingFn,e=n.responseType;return function(a,u){var d=Up(a,u);if(d)return r(d,t);var p="arraybuffer"!==e&&u.responseText?function(n){for(var t=new Uint8Array(new ArrayBuffer(n.length)),r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t.buffer}(u.responseText.substring(t.lastReachedChar||0)):u.response;return t.stats=function(n){return{bandwidth:n.bandwidth,bytesReceived:n.bytesReceived||0,roundTripTime:n.roundTripTime||0}}(u),t.key?t.encryptedBytes=new Uint8Array(p):t.bytes=new Uint8Array(p),r(null,t)}}({segment:a,finishProcessingFn:Ze,responseType:Mo.responseType}));Ls.addEventListener("progress",function(n){var t=n.segment,r=n.progressFn;return function(e){if(!e.target.aborted)return t.stats=Ie.mergeOptions(t.stats,function(n){var t=n.target,e={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return e.bytesReceived=n.loaded,e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3),e}(e)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),r(e,t)}}({segment:a,progressFn:d,trackInfoFn:p,timingInfoFn:g,videoSegmentTimingInfoFn:E,audioSegmentTimingInfoFn:N,id3Fn:O,captionsFn:W,isEndOfTimeline:J,endedTimelineFn:Y,dataFn:Q})),je.push(Ls);var Ia={};return je.forEach(function(oa){oa.addEventListener("loadend",function(n){var t=n.loadendState,r=n.abortFn;return function(e){e.target.aborted&&r&&!t.calledAbortFn&&(r(),t.calledAbortFn=!0)}}({loadendState:Ia,abortFn:u}))}),function(){return Cl(je)}},OS=ms("CodecUtils"),jp=function(n,t){var r=t.attributes||{};return n&&n.mediaGroups&&n.mediaGroups.AUDIO&&r.AUDIO&&n.mediaGroups.AUDIO[r.AUDIO]},Dl=function(n){var t={};return n.forEach(function(r){var e=r.mediaType,a=r.type,u=r.details;t[e]=t[e]||[],t[e].push(Au(""+a+u))}),Object.keys(t).forEach(function(r){if(t[r].length>1)return OS("multiple "+r+" codecs found as attributes: "+t[r].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(t[r]=null);t[r]=t[r][0]}),t},Vv=function(n){var t=0;return n.audio&&t++,n.video&&t++,t},xo=function(n,t){var r=t.attributes||{},e=Dl(function(n){var t=n.attributes||{};if(t.CODECS)return fs(t.CODECS)}(t)||[]);if(jp(n,t)&&!e.audio&&!function(n,t){if(!jp(n,t))return!0;var e=n.mediaGroups.AUDIO[(t.attributes||{}).AUDIO];for(var a in e)if(!e[a].uri&&!e[a].playlists)return!0;return!1}(n,t)){var a=Dl(function(n,t){if(!n.mediaGroups.AUDIO||!t)return null;var r=n.mediaGroups.AUDIO[t];if(!r)return null;for(var e in r){var a=r[e];if(a.default&&a.playlists)return fs(a.playlists[0].attributes.CODECS)}return null}(n,r.AUDIO)||[]);a.audio&&(e.audio=a.audio)}return e},pu=ms("PlaylistSelector"),Cf=function(n){if(n&&n.playlist){var t=n.playlist;return JSON.stringify({id:t.id,bandwidth:n.bandwidth,width:n.width,height:n.height,codecs:t.attributes&&t.attributes.CODECS||""})}},$p=function(n,t){if(!n)return"";var r=oe().getComputedStyle(n);return r?r[t]:""},xl=function(n,t){var r=n.slice();n.sort(function(e,a){var u=t(e,a);return 0===u?r.indexOf(e)-r.indexOf(a):u})},wl=function(n,t){var r,e;return n.attributes.BANDWIDTH&&(r=n.attributes.BANDWIDTH),r=r||oe().Number.MAX_VALUE,t.attributes.BANDWIDTH&&(e=t.attributes.BANDWIDTH),r-(e||oe().Number.MAX_VALUE)},zp=function(n,t,r,e,a,u){if(n){var d={bandwidth:t,width:r,height:e,limitRenditionByPlayerDimensions:a},p=n.playlists;vs.isAudioOnly(n)&&(p=u.getAudioTrackPlaylists_(),d.audioOnly=!0);var g=p.map(function(kt){var $t=kt.attributes&&kt.attributes.RESOLUTION&&kt.attributes.RESOLUTION.width,fr=kt.attributes&&kt.attributes.RESOLUTION&&kt.attributes.RESOLUTION.height;return{bandwidth:kt.attributes&&kt.attributes.BANDWIDTH||oe().Number.MAX_VALUE,width:$t,height:fr,playlist:kt}});xl(g,function(kt,In){return kt.bandwidth-In.bandwidth});var E=(g=g.filter(function(kt){return!vs.isIncompatible(kt.playlist)})).filter(function(kt){return vs.isEnabled(kt.playlist)});E.length||(E=g.filter(function(kt){return!vs.isDisabled(kt.playlist)}));var N=E.filter(function(kt){return kt.bandwidth*fi.BANDWIDTH_VARIANCE<t}),O=N[N.length-1],W=N.filter(function(kt){return kt.bandwidth===O.bandwidth})[0];if(!1===a){var J=W||E[0]||g[0];if(J&&J.playlist){var Y="sortedPlaylistReps";return W&&(Y="bandwidthBestRep"),E[0]&&(Y="enabledPlaylistReps"),pu("choosing "+Cf(J)+" using "+Y+" with options",d),J.playlist}return pu("could not choose a playlist with options",d),null}var Q=N.filter(function(kt){return kt.width&&kt.height});xl(Q,function(kt,In){return kt.width-In.width});var Pe=Q.filter(function(kt){return kt.width===r&&kt.height===e});O=Pe[Pe.length-1];var je,Ze,Qe,St,ke=Pe.filter(function(kt){return kt.bandwidth===O.bandwidth})[0];if(ke||(Ze=(je=Q.filter(function(kt){return kt.width>r||kt.height>e})).filter(function(kt){return kt.width===je[0].width&&kt.height===je[0].height}),O=Ze[Ze.length-1],Qe=Ze.filter(function(kt){return kt.bandwidth===O.bandwidth})[0]),u.experimentalLeastPixelDiffSelector){var Ot=Q.map(function(kt){return kt.pixelDiff=Math.abs(kt.width-r)+Math.abs(kt.height-e),kt});xl(Ot,function(kt,In){return kt.pixelDiff===In.pixelDiff?In.bandwidth-kt.bandwidth:kt.pixelDiff-In.pixelDiff}),St=Ot[0]}var ct=St||Qe||ke||W||E[0]||g[0];if(ct&&ct.playlist){var Lt="sortedPlaylistReps";return St?Lt="leastPixelDiffRep":Qe?Lt="resolutionPlusOneRep":ke?Lt="resolutionBestRep":W?Lt="bandwidthBestRep":E[0]&&(Lt="enabledPlaylistReps"),pu("choosing "+Cf(ct)+" using "+Lt+" with options",d),ct.playlist}return pu("could not choose a playlist with options",d),null}},Kp=function(){var n=this.useDevicePixelRatio&&oe().devicePixelRatio||1;return zp(this.playlists.master,this.systemBandwidth,parseInt($p(this.tech_.el(),"width"),10)*n,parseInt($p(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Al=function(n,t,r){var e,a;if(r&&r.cues)for(e=r.cues.length;e--;)(a=r.cues[e]).startTime>=n&&a.endTime<=t&&r.removeCue(a)},Jp=function(n){return"number"==typeof n&&isFinite(n)},td=1/60,nd=function(n){var t=n.startOfSegment,r=n.duration,e=n.segment,a=n.part,u=n.playlist,d=u.mediaSequence,p=u.id,g=u.segments,N=n.mediaIndex,O=n.partIndex,W=n.timeline,J=(void 0===g?[]:g).length-1,Y="mediaIndex/partIndex increment";n.getMediaInfoForTime?Y="getMediaInfoForTime ("+n.getMediaInfoForTime+")":n.isSyncRequest&&(Y="getSyncSegmentCandidate (isSyncRequest)"),n.independent&&(Y+=" with independent "+n.independent);var Q="number"==typeof O,Pe=n.segment.uri?"segment":"pre-segment",ke=Q?na({preloadSegment:e})-1:0;return Pe+" ["+(d+N)+"/"+(d+J)+"]"+(Q?" part ["+O+"/"+ke+"]":"")+" segment start/end ["+e.start+" => "+e.end+"]"+(Q?" part start/end ["+a.start+" => "+a.end+"]":"")+" startOfSegment ["+t+"] duration ["+r+"] timeline ["+W+"] selected by ["+Y+"] playlist ["+p+"]"},Qv=function(n){return n+"TimingInfo"},eg=function(n){var t=n.timelineChangeController,e=n.segmentTimeline,a=n.loaderType,u=n.audioDisabled;if(n.currentTimeline===e)return!1;if("audio"===a){var d=t.lastTimelineChange({type:"main"});return!d||d.to!==e}if("main"===a&&u){var p=t.pendingTimelineChange({type:"audio"});return!(p&&p.to===e)}return!1},Xr=function(n){var t=n.segmentDuration,r=n.maxDuration;return!!t&&Math.round(t)>r+no},tg=function(l){function n(r,e){var a;if(a=l.call(this)||this,!r)throw new TypeError("Initialization settings are required");if("function"!=typeof r.currentTime)throw new TypeError("No currentTime getter specified");if(!r.mediaSource)throw new TypeError("No MediaSource specified");return a.bandwidth=r.bandwidth,a.throughput={rate:0,count:0},a.roundTrip=NaN,a.resetStats_(),a.mediaIndex=null,a.partIndex=null,a.hasPlayed_=r.hasPlayed,a.currentTime_=r.currentTime,a.seekable_=r.seekable,a.seeking_=r.seeking,a.duration_=r.duration,a.mediaSource_=r.mediaSource,a.vhs_=r.vhs,a.loaderType_=r.loaderType,a.currentMediaInfo_=void 0,a.startingMediaInfo_=void 0,a.segmentMetadataTrack_=r.segmentMetadataTrack,a.goalBufferLength_=r.goalBufferLength,a.sourceType_=r.sourceType,a.sourceUpdater_=r.sourceUpdater,a.inbandTextTracks_=r.inbandTextTracks,a.state_="INIT",a.timelineChangeController_=r.timelineChangeController,a.shouldSaveSegmentTimingInfo_=!0,a.parse708captions_=r.parse708captions,a.captionServices_=r.captionServices,a.experimentalExactManifestTimings=r.experimentalExactManifestTimings,a.checkBufferTimeout_=null,a.error_=void 0,a.currentTimeline_=-1,a.pendingSegment_=null,a.xhrOptions_=null,a.pendingSegments_=[],a.audioDisabled_=!1,a.isPendingTimestampOffset_=!1,a.gopBuffer_=[],a.timeMapping_=0,a.safeAppend_=Ie.browser.IE_VERSION>=11,a.appendInitSegment_={audio:!0,video:!0},a.playlistOfLastInitSegment_={audio:null,video:null},a.callQueue_=[],a.loadQueue_=[],a.metadataQueue_={id3:[],caption:[]},a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=null,a.activeInitSegmentId_=null,a.initSegments_={},a.cacheEncryptionKeys_=r.cacheEncryptionKeys,a.keyCache_={},a.decrypter_=r.decrypter,a.syncController_=r.syncController,a.syncPoint_={segmentIndex:0,time:0},a.transmuxer_=a.createTransmuxer_(),a.triggerSyncInfoUpdate_=function(){return a.trigger("syncinfoupdate")},a.syncController_.on("syncinfoupdate",a.triggerSyncInfoUpdate_),a.mediaSource_.addEventListener("sourceopen",function(){a.isEndOfStream_()||(a.ended_=!1)}),a.fetchAtBuffer_=!1,a.logger_=ms("SegmentLoader["+a.loaderType_+"]"),Object.defineProperty(Kt(a),"state",{get:function(){return this.state_},set:function(d){d!==this.state_&&(this.logger_(this.state_+" -> "+d),this.state_=d,this.trigger("statechange"))}}),a.sourceUpdater_.on("ready",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),"main"===a.loaderType_&&a.timelineChangeController_.on("pendingtimelinechange",function(){a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),"audio"===a.loaderType_&&a.timelineChangeController_.on("timelinechange",function(){a.hasEnoughInfoToLoad_()&&a.processLoadQueue_(),a.hasEnoughInfoToAppend_()&&a.processCallQueue_()}),a}Dt(n,l);var t=n.prototype;return t.createTransmuxer_=function(){return function(n){var t=new Lp;t.currentTransmux=null,t.transmuxQueue=[];var r=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,r.call(t)},t.postMessage({action:"init",options:n}),t}({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},t.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},t.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&oe().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},t.setAudio=function(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},t.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},t.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,oe().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},t.checkForAbort_=function(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)},t.error=function(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_},t.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Sf_reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},t.buffered_=function(){var e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Ie.createTimeRanges();if("main"===this.loaderType_){var u=e.hasVideo;if(u&&e.hasAudio&&!this.audioDisabled_&&!e.isMuxed)return this.sourceUpdater_.buffered();if(u)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},t.initSegmentForMap=function(e,a){if(void 0===a&&(a=!1),!e)return null;var u=Wi(e),d=this.initSegments_[u];return a&&!d&&e.bytes&&(this.initSegments_[u]=d={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),d||e},t.segmentKey=function(e,a){if(void 0===a&&(a=!1),!e)return null;var u=Tf(e),d=this.keyCache_[u];this.cacheEncryptionKeys_&&a&&!d&&e.bytes&&(this.keyCache_[u]=d={resolvedUri:e.resolvedUri,bytes:e.bytes});var p={resolvedUri:(d||e).resolvedUri};return d&&(p.bytes=d.bytes),p},t.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},t.load=function(){if(this.monitorBuffer_(),this.playlist_){if("INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},t.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},t.playlist=function(e,a){if(void 0===a&&(a={}),e){var u=this.playlist_,d=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=a,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));var p=null;if(u&&(u.id?p=u.id:u.uri&&(p=u.uri)),this.logger_("playlist update ["+p+" => "+(e.id||e.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!u||u.uri!==e.uri)return null!==this.mediaIndex&&(e.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var g=e.mediaSequence-u.mediaSequence;if(this.logger_("live window shift ["+g+"]"),null!==this.mediaIndex)if(this.mediaIndex-=g,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var E=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!E.parts||!E.parts.length||!E.parts[this.partIndex])){var N=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=N}}d&&(d.mediaIndex-=g,d.mediaIndex<0?(d.mediaIndex=null,d.partIndex=null):(d.mediaIndex>=0&&(d.segment=e.segments[d.mediaIndex]),d.partIndex>=0&&d.segment.parts&&(d.part=d.segment.parts[d.partIndex]))),this.syncController_.saveExpiredSegmentInfo(u,e)}},t.pause=function(){this.checkBufferTimeout_&&(oe().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},t.paused=function(){return null===this.checkBufferTimeout_},t.resetEverything=function(e){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},t.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},t.resyncLoader=function(){this.transmuxer_&&Sf_reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},t.remove=function(e,a,u,d){if(void 0===u&&(u=function(){}),void 0===d&&(d=!1),a===1/0&&(a=this.duration_()),a<=e)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var p=1,g=function(){0==--p&&u()};for(var E in(d||!this.audioDisabled_)&&(p++,this.sourceUpdater_.removeAudio(e,a,g)),(d||"main"===this.loaderType_)&&(this.gopBuffer_=function(n,t,r,e){for(var a=Math.ceil((t-e)*Ud.ONE_SECOND_IN_TS),u=Math.ceil((r-e)*Ud.ONE_SECOND_IN_TS),d=n.slice(),p=n.length;p--&&!(n[p].pts<=u););if(-1===p)return d;for(var g=p+1;g--&&!(n[g].pts<=a););return g=Math.max(g,0),d.splice(g,p-g+1),d}(this.gopBuffer_,e,a,this.timeMapping_),p++,this.sourceUpdater_.removeVideo(e,a,g)),this.inbandTextTracks_)Al(e,a,this.inbandTextTracks_[E]);Al(e,a,this.segmentMetadataTrack_),g()}else this.logger_("skipping remove because no source updater or starting media info")},t.monitorBuffer_=function(){this.checkBufferTimeout_&&oe().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=oe().setTimeout(this.monitorBufferTick_.bind(this),1)},t.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&oe().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=oe().setTimeout(this.monitorBufferTick_.bind(this),500)},t.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var e=this.chooseNextRequest_();!e||("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}},t.isEndOfStream_=function(e,a,u){if(void 0===e&&(e=this.mediaIndex),void 0===a&&(a=this.playlist_),void 0===u&&(u=this.partIndex),!a||!this.mediaSource_)return!1;var d="number"==typeof e&&a.segments[e];return a.endList&&"open"===this.mediaSource_.readyState&&e+1===a.segments.length&&(!d||!d.parts||u+1===d.parts.length)},t.chooseNextRequest_=function(){var e=this.buffered_(),a=ov(e)||0,u=Do(e,this.currentTime_()),d=!this.hasPlayed_()&&u>=1,p=u>=this.goalBufferLength_(),g=this.playlist_.segments;if(!g.length||d||p)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var E={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(E.isSyncRequest)E.mediaIndex=function(n,t,r){t=t||[];for(var e=[],a=0,u=0;u<t.length;u++){var d=t[u];if(n===d.timeline&&(e.push(u),(a+=d.duration)>r))return u}return 0===e.length?0:e[e.length-1]}(this.currentTimeline_,g,a);else if(null!==this.mediaIndex){var N=g[this.mediaIndex],O="number"==typeof this.partIndex?this.partIndex:-1;E.startOfSegment=N.end?N.end:a,N.parts&&N.parts[O+1]?(E.mediaIndex=this.mediaIndex,E.partIndex=O+1):E.mediaIndex=this.mediaIndex+1}else{var W=vs.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?a:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),J=W.segmentIndex,Y=W.startTime,Q=W.partIndex;E.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+a:"currentTime "+this.currentTime_(),E.mediaIndex=J,E.startOfSegment=Y,E.partIndex=Q}var Pe=g[E.mediaIndex],ke=Pe&&"number"==typeof E.partIndex&&Pe.parts&&Pe.parts[E.partIndex];if(!Pe||"number"==typeof E.partIndex&&!ke)return null;if("number"!=typeof E.partIndex&&Pe.parts&&(E.partIndex=0,ke=Pe.parts[0]),!u&&ke&&!ke.independent)if(0===E.partIndex){var je=g[E.mediaIndex-1],Ze=je.parts&&je.parts.length&&je.parts[je.parts.length-1];Ze&&Ze.independent&&(E.mediaIndex-=1,E.partIndex=je.parts.length-1,E.independent="previous segment")}else Pe.parts[E.partIndex-1].independent&&(E.partIndex-=1,E.independent="previous part");return E.mediaIndex>=g.length-1&&this.mediaSource_&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?null:this.generateSegmentInfo_(E)},t.generateSegmentInfo_=function(e){var a=e.independent,u=e.playlist,d=e.mediaIndex,p=e.startOfSegment,g=e.isSyncRequest,E=e.partIndex,N=e.forceTimestampOffset,O=e.getMediaInfoForTime,W=u.segments[d],J="number"==typeof E&&W.parts[E],Y={requestId:"segment-loader-"+Math.random(),uri:J&&J.resolvedUri||W.resolvedUri,mediaIndex:d,partIndex:J?E:null,isSyncRequest:g,startOfSegment:p,playlist:u,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:W.timeline,duration:J&&J.duration||W.duration,segment:W,part:J,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:O,independent:a},Q=void 0!==N?N:this.isPendingTimestampOffset_;Y.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:W.timeline,currentTimeline:this.currentTimeline_,startOfSegment:p,buffered:this.buffered_(),overrideCheck:Q});var Pe=ov(this.sourceUpdater_.audioBuffered());return"number"==typeof Pe&&(Y.audioAppendStart=Pe-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(Y.gopsToAlignWith=function(n,t,r){if(null==t||!n.length)return[];var a,e=Math.ceil((t-r+3)*Ud.ONE_SECOND_IN_TS);for(a=0;a<n.length&&!(n[a].pts>e);a++);return n.slice(a)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),Y},t.timestampOffsetForSegment_=function(e){return function(n){var t=n.segmentTimeline,r=n.currentTimeline,e=n.startOfSegment,a=n.buffered;return n.overrideCheck||t!==r?t<r?e:a.length?a.end(a.length-1):e:null}(e)},t.earlyAbortWhenNeeded_=function(e){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)){var a=this.currentTime_(),u=e.bandwidth,d=this.pendingSegment_.duration,p=vs.estimateSegmentRequestTime(d,u,this.playlist_,e.bytesReceived),g=function(n,t,r){return void 0===r&&(r=1),((n.length?n.end(n.length-1):0)-t)/r}(this.buffered_(),a,this.vhs_.tech_.playbackRate())-1;if(!(p<=g)){var E=function(n){var r=n.currentTime,e=n.bandwidth,a=n.duration,u=n.segmentDuration,d=n.timeUntilRebuffer,p=n.currentTimeline,g=n.syncController,E=n.master.playlists.filter(function(Y){return!vs.isIncompatible(Y)}),N=E.filter(vs.isEnabled);N.length||(N=E.filter(function(Y){return!vs.isDisabled(Y)}));var W=N.filter(vs.hasAttribute.bind(null,"BANDWIDTH")).map(function(Y){var Pe=g.getSyncPoint(Y,a,p,r)?1:2;return{playlist:Y,rebufferingImpact:vs.estimateSegmentRequestTime(u,e,Y)*Pe-d}}),J=W.filter(function(Y){return Y.rebufferingImpact<=0});return xl(J,function(Y,Q){return wl(Q.playlist,Y.playlist)}),J.length?J[0]:(xl(W,function(Y,Q){return Y.rebufferingImpact-Q.rebufferingImpact}),W[0]||null)}({master:this.vhs_.playlists.master,currentTime:a,bandwidth:u,duration:this.duration_(),segmentDuration:d,timeUntilRebuffer:g,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(E){var W=.5;g<=no&&(W=1),E.playlist&&E.playlist.uri!==this.playlist_.uri&&!(p-g-E.rebufferingImpact<W)&&(this.bandwidth=E.playlist.attributes.BANDWIDTH*fi.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},t.handleAbort_=function(e){this.logger_("Aborting "+nd(e)),this.mediaRequestsAborted+=1},t.handleProgress_=function(e,a){this.earlyAbortWhenNeeded_(a.stats),!this.checkForAbort_(a.requestId)&&this.trigger("progress")},t.handleTrackInfo_=function(e,a){this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(a)||(function(n,t){if(!n&&!t||!n&&t||n&&!t)return!1;if(n===t)return!0;var r=Object.keys(n).sort(),e=Object.keys(t).sort();if(r.length!==e.length)return!1;for(var a=0;a<r.length;a++){var u=r[a];if(u!==e[a]||n[u]!==t[u])return!1}return!0}(this.currentMediaInfo_,a=a||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=a,this.currentMediaInfo_=a,this.logger_("trackinfo update",a),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=a,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},t.handleTimingInfo_=function(e,a,u,d){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){var p=this.pendingSegment_,g=Qv(a);p[g]=p[g]||{},p[g][u]=d,this.logger_("timinginfo: "+a+" - "+u+" - "+d),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},t.handleCaptions_=function(e,a){var u=this;if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){if(0===a.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,a));var p=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),g={};a.forEach(function(E){g[E.stream]=g[E.stream]||{startTime:1/0,captions:[],endTime:0};var N=g[E.stream];N.startTime=Math.min(N.startTime,E.startTime+p),N.endTime=Math.max(N.endTime,E.endTime+p),N.captions.push(E)}),Object.keys(g).forEach(function(E){var N=g[E],O=N.startTime,W=N.endTime,J=N.captions,Y=u.inbandTextTracks_;u.logger_("adding cues from "+O+" -> "+W+" for "+E),function(n,t,r){if(!n[r]){t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"});var e=r;/^cc708_/.test(r)&&(e="SERVICE"+r.split("_")[1]);var a=t.textTracks().getTrackById(e);if(a)n[r]=a;else{var d=r,p=r,g=!1,E=(t.options_.vhs&&t.options_.vhs.captionServices||{})[e];E&&(d=E.label,p=E.language,g=E.default),n[r]=t.addRemoteTextTrack({kind:"captions",id:e,default:g,label:d,language:p},!1).track}}}(Y,u.vhs_.tech_,E),Al(O,W,Y[E]),function(n){var t=n.inbandTextTracks,r=n.captionArray,e=n.timestampOffset;if(r){var a=oe().WebKitDataCue||oe().VTTCue;r.forEach(function(u){t[u.stream].addCue(new a(u.startTime+e,u.endTime+e,u.text))})}}({captionArray:J,inbandTextTracks:Y,timestampOffset:p})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},t.handleId3_=function(e,a,u){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,a,u));var p=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();(function(n,t,r){n.metadataTrack_||(n.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,n.metadataTrack_.inBandMetadataTrackDispatchType=t)})(this.inbandTextTracks_,u,this.vhs_.tech_),function(n){var t=n.inbandTextTracks,r=n.metadataArray,e=n.timestampOffset,a=n.videoDuration;if(r){var u=oe().WebKitDataCue||oe().VTTCue,d=t.metadataTrack_;if(d&&(r.forEach(function(W){var J=W.cueTime+e;"number"!=typeof J||oe().isNaN(J)||J<0||!(J<1/0)||W.frames.forEach(function(Y){var Q=new u(J,J,Y.value||Y.url||Y.data||"");Q.frame=Y,Q.value=Y,function(n){Object.defineProperties(n.frame,{id:{get:function(){return Ie.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),n.value.key}},value:{get:function(){return Ie.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),n.value.data}},privateData:{get:function(){return Ie.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),n.value.data}}})}(Q),d.addCue(Q)})}),d.cues&&d.cues.length)){for(var p=d.cues,g=[],E=0;E<p.length;E++)p[E]&&g.push(p[E]);var N=g.reduce(function(W,J){var Y=W[J.startTime]||[];return Y.push(J),W[J.startTime]=Y,W},{}),O=Object.keys(N).sort(function(W,J){return Number(W)-Number(J)});O.forEach(function(W,J){var Y=N[W],Q=Number(O[J+1])||a;Y.forEach(function(Pe){Pe.endTime=Q})})}}}({inbandTextTracks:this.inbandTextTracks_,metadataArray:a,timestampOffset:p,videoDuration:this.duration_()})}},t.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(e){return e()}),this.metadataQueue_.caption.forEach(function(e){return e()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},t.processCallQueue_=function(){var e=this.callQueue_;this.callQueue_=[],e.forEach(function(a){return a()})},t.processLoadQueue_=function(){var e=this.loadQueue_;this.loadQueue_=[],e.forEach(function(a){return a()})},t.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var e=this.pendingSegment_;return!(!e||this.getCurrentMediaInfo_()&&eg({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},t.getCurrentMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),e&&e.trackInfo||this.currentMediaInfo_},t.getMediaInfo_=function(e){return void 0===e&&(e=this.pendingSegment_),this.getCurrentMediaInfo_(e)||this.startingMediaInfo_},t.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var e=this.pendingSegment_,a=this.getCurrentMediaInfo_();return!(!e||!a||a.hasVideo&&!e.videoTimingInfo||a.hasAudio&&!this.audioDisabled_&&!a.isMuxed&&!e.audioTimingInfo||eg({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},t.handleData_=function(e,a){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return void this.callQueue_.push(this.handleData_.bind(this,e,a));var u=this.pendingSegment_;if(this.setTimeMapping_(u.timeline),this.updateMediaSecondsLoaded_(u.part||u.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),u.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),u.isFmp4=e.isFmp4,u.timingInfo=u.timingInfo||{},u.isFmp4)this.trigger("fmp4"),u.timingInfo.start=u[Qv(a.type)].start;else{var g,d=this.getCurrentMediaInfo_(),p="main"===this.loaderType_&&d&&d.hasVideo;p&&(g=u.videoTimingInfo.start),u.timingInfo.start=this.trueSegmentStart_({currentStart:u.timingInfo.start,playlist:u.playlist,mediaIndex:u.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:p,firstVideoFrameTimeForData:g,videoTimingInfo:u.videoTimingInfo,audioTimingInfo:u.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(u,a.type),this.updateSourceBufferTimestampOffset_(u),u.isSyncRequest){this.updateTimingInfoEnd_(u),this.syncController_.saveSegmentTimingInfo({segmentInfo:u,shouldSaveTimelineMapping:"main"===this.loaderType_});var E=this.chooseNextRequest_();if(E.mediaIndex!==u.mediaIndex||E.partIndex!==u.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}u.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(u,a)}}},t.updateAppendInitSegmentStatus=function(e,a){"main"===this.loaderType_&&"number"==typeof e.timestampOffset&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[a]!==e.playlist&&(this.appendInitSegment_[a]=!0)},t.getInitSegmentAndUpdateState_=function(e){var a=e.type,u=e.initSegment,d=e.map,p=e.playlist;if(d){var g=Wi(d);if(this.activeInitSegmentId_===g)return null;u=this.initSegmentForMap(d,!0).bytes,this.activeInitSegmentId_=g}return u&&this.appendInitSegment_[a]?(this.playlistOfLastInitSegment_[a]=p,this.appendInitSegment_[a]=!1,this.activeInitSegmentId_=null,u):null},t.handleQuotaExceededError_=function(e,a){var u=this,d=e.segmentInfo,p=e.type,g=e.bytes,E=this.sourceUpdater_.audioBuffered(),N=this.sourceUpdater_.videoBuffered();E.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Co(E).join(", ")),N.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Co(N).join(", "));var O=E.length?E.start(0):0,W=E.length?E.end(E.length-1):0,J=N.length?N.start(0):0,Y=N.length?N.end(N.length-1):0;if(W-O<=1&&Y-J<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+g.byteLength+", audio buffer: "+Co(E).join(", ")+", video buffer: "+Co(N).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:d,type:p,bytes:g}));var Pe=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+Pe),this.remove(0,Pe,function(){u.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),u.waitingOnRemove_=!1,u.quotaExceededErrorRetryTimeout_=oe().setTimeout(function(){u.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),u.quotaExceededErrorRetryTimeout_=null,u.processCallQueue_()},1e3)},!0)},t.handleAppendError_=function(e,a){var u=e.segmentInfo,d=e.type,p=e.bytes;if(a){if(22===a.code)return void this.handleQuotaExceededError_({segmentInfo:u,type:d,bytes:p});this.logger_("Received non QUOTA_EXCEEDED_ERR on append",a),this.error(d+" append of "+p.length+"b failed for segment #"+u.mediaIndex+" in playlist "+u.playlist.id),this.trigger("appenderror")}},t.appendToSourceBuffer_=function(e){var a=e.segmentInfo,u=e.type,d=e.initSegment,p=e.data,g=e.bytes;if(!g){var E=[p],N=p.byteLength;d&&(E.unshift(d),N+=d.byteLength),g=function(n){var r,t=0;return n.bytes&&(r=new Uint8Array(n.bytes),n.segments.forEach(function(e){r.set(e,t),t+=e.byteLength})),r}({bytes:N,segments:E})}this.sourceUpdater_.appendBuffer({segmentInfo:a,type:u,bytes:g},this.handleAppendError_.bind(this,{segmentInfo:a,type:u,bytes:g}))},t.handleSegmentTimingInfo_=function(e,a,u){if(this.pendingSegment_&&a===this.pendingSegment_.requestId){var d=this.pendingSegment_.segment,p=e+"TimingInfo";d[p]||(d[p]={}),d[p].transmuxerPrependedSeconds=u.prependedContentDuration||0,d[p].transmuxedPresentationStart=u.start.presentation,d[p].transmuxedDecodeStart=u.start.decode,d[p].transmuxedPresentationEnd=u.end.presentation,d[p].transmuxedDecodeEnd=u.end.decode,d[p].baseMediaDecodeTime=u.baseMediaDecodeTime}},t.appendData_=function(e,a){var u=a.type,d=a.data;if(d&&d.byteLength&&("audio"!==u||!this.audioDisabled_)){var p=this.getInitSegmentAndUpdateState_({type:u,initSegment:a.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:u,initSegment:p,data:d})}},t.loadSegment_=function(e){var a=this;this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push(function(){var u=kn({},e,{forceTimestampOffset:!0});kn(e,a.generateSegmentInfo_(u)),a.isPendingTimestampOffset_=!1,a.updateTransmuxerAndRequestSegment_(e)})},t.updateTransmuxerAndRequestSegment_=function(e){var a=this;this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));var u=this.createSimplifiedSegmentObj_(e),E=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)||null!==this.mediaIndex&&e.timeline!==this.currentTimeline_&&e.timeline>0;this.logger_("Requesting "+nd(e)),u.map&&!u.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=oT({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:u,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:E,endedTimelineFn:function(){a.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(O){var W=O.message,J=O.level,Y=O.stream;a.logger_(nd(e)+" logged from transmuxer stream "+Y+" as a "+J+": "+W)}})},t.trimBackBuffer_=function(e){var a=function(n,t,r){var e=t-fi.BACK_BUFFER_LENGTH;return n.length&&(e=Math.max(e,n.start(0))),Math.min(t-r,e)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);a>0&&this.remove(0,a)},t.createSimplifiedSegmentObj_=function(e){var a=e.segment,u=e.part,d={resolvedUri:u?u.resolvedUri:a.resolvedUri,byterange:u?u.byterange:a.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},p=e.playlist.segments[e.mediaIndex-1];if(p&&p.timeline===a.timeline&&(p.videoTimingInfo?d.baseStartTime=p.videoTimingInfo.transmuxedDecodeEnd:p.audioTimingInfo&&(d.baseStartTime=p.audioTimingInfo.transmuxedDecodeEnd)),a.key){var g=a.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);d.key=this.segmentKey(a.key),d.key.iv=g}return a.map&&(d.map=this.initSegmentForMap(a.map)),d},t.saveTransferStats_=function(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)},t.saveBandwidthRelatedStats_=function(e,a){this.pendingSegment_.byteLength=a.bytesReceived,e<td?this.logger_("Ignoring segment's bandwidth because its duration of "+e+" is less than the min to record "+td):(this.bandwidth=a.bandwidth,this.roundTrip=a.roundTripTime)},t.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},t.segmentRequestFinished_=function(e,a,u){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,a,u));else if(this.saveTransferStats_(a.stats),this.pendingSegment_&&a.requestId===this.pendingSegment_.requestId){if(e){if(this.pendingSegment_=null,this.state="READY",-102===e.code)return;return this.pause(),-101===e.code?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}var d=this.pendingSegment_;this.saveBandwidthRelatedStats_(d.duration,a.stats),d.endOfAllRequests=a.endOfAllRequests,u.gopInfo&&(this.gopBuffer_=function(n,t,r){if(!t.length)return n;if(r)return t.slice();for(var e=t[0].pts,a=0;a<n.length&&!(n[a].pts>=e);a++);return n.slice(0,a).concat(t)}(this.gopBuffer_,u.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(d)}},t.setTimeMapping_=function(e){var a=this.syncController_.mappingForTimeline(e);null!==a&&(this.timeMapping_=a)},t.updateMediaSecondsLoaded_=function(e){this.mediaSecondsLoaded+="number"==typeof e.start&&"number"==typeof e.end?e.end-e.start:e.duration},t.shouldUpdateTransmuxerTimestampOffset_=function(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())},t.trueSegmentStart_=function(e){var a=e.currentStart,d=e.mediaIndex,p=e.firstVideoFrameTimeForData;if(void 0!==a)return a;if(!e.useVideoTimingInfo)return e.audioTimingInfo.start;var W=e.playlist.segments[d-1];return 0!==d&&W&&void 0!==W.start&&W.end===p+e.currentVideoTimestampOffset?e.videoTimingInfo.start:p},t.waitForAppendsToComplete_=function(e){var a=this.getCurrentMediaInfo_(e);if(!a)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var g="main"===this.loaderType_&&a.hasVideo,E=!this.audioDisabled_&&a.hasAudio&&!a.isMuxed;if(e.waitingOnAppends=0,!e.hasAppendedData_)return!e.timingInfo&&"number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);g&&e.waitingOnAppends++,E&&e.waitingOnAppends++,g&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),E&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))},t.checkAppendsDone_=function(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())},t.checkForIllegalMediaSwitch=function(e){var a=function(n,t,r){return"main"===n&&t&&r?r.hasAudio||r.hasVideo?t.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!a&&(this.error({message:a,blacklistDuration:1/0}),this.trigger("error"),!0)},t.updateSourceBufferTimestampOffset_=function(e){if(null!==e.timestampOffset&&"number"==typeof e.timingInfo.start&&!e.changedTimestampOffset&&"main"===this.loaderType_){var a=!1;e.timestampOffset-=e.timingInfo.start,e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),a=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),a=!0),a&&this.trigger("timestampoffset")}},t.updateTimingInfoEnd_=function(e){e.timingInfo=e.timingInfo||{};var a=this.getMediaInfo_(),d="main"===this.loaderType_&&a&&a.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;!d||(e.timingInfo.end="number"==typeof d.end?d.end:d.start+e.duration)},t.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});var a=function(n,t){if("hls"!==t)return null;var r=function(n){var t=0;return["video","audio"].forEach(function(r){var e=n[r+"TimingInfo"];if(e){var d,a=e.start,u=e.end;"bigint"==typeof a||"bigint"==typeof u?d=oe().BigInt(u)-oe().BigInt(a):"number"==typeof a&&"number"==typeof u&&(d=u-a),void 0!==d&&d>t&&(t=d)}}),"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),t}({audioTimingInfo:n.audioTimingInfo,videoTimingInfo:n.videoTimingInfo});if(!r)return null;var e=n.playlist.targetDuration,a=Xr({segmentDuration:r,maxDuration:2*e}),u=Xr({segmentDuration:r,maxDuration:e});return a||u?{severity:a?"warn":"info",message:"Segment with index "+n.mediaIndex+" from playlist "+n.playlist.id+" has a duration of "+r+" when the reported duration is "+n.duration+" and the target duration is "+e+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1"}:null}(e,this.sourceType_);if(a&&("warn"===a.severity?Ie.log.warn(a.message):this.logger_(a.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",!e.isSyncRequest||(this.trigger("syncinfoupdate"),e.hasAppendedData_)){this.logger_("Appended "+nd(e)),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"===this.loaderType_&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");var u=e.segment,d=e.part,p=u.end&&this.currentTime_()-u.end>3*e.playlist.targetDuration,g=d&&d.end&&this.currentTime_()-d.end>3*e.playlist.partTargetDuration;if(p||g)return this.logger_("bad "+(p?"segment":"part")+" "+nd(e)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+nd(e))},t.recordThroughput_=function(e){if(e.duration<td)this.logger_("Ignoring segment's throughput because its duration of "+e.duration+" is less than the min to record "+td);else{var a=this.throughput.rate,u=Date.now()-e.endOfAllRequests+1,d=Math.floor(e.byteLength/u*8*1e3);this.throughput.rate+=(d-a)/++this.throughput.count}},t.addSegmentMetadataCue_=function(e){if(this.segmentMetadataTrack_){var a=e.segment,u=a.start,d=a.end;if(Jp(u)&&Jp(d)){Al(u,d,this.segmentMetadataTrack_);var p=oe().WebKitDataCue||oe().VTTCue,g={custom:a.custom,dateTimeObject:a.dateTimeObject,dateTimeString:a.dateTimeString,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:u,end:d},N=new p(u,d,JSON.stringify(g));N.value=g,this.segmentMetadataTrack_.addCue(N)}}},n}(Ie.EventTarget);function ro(){}var aa,ng=function(n){return"string"!=typeof n?n:n.replace(/./,function(t){return t.toUpperCase()})},pT=["video","audio"],xf=function(n,t){var r=t[n+"Buffer"];return r&&r.updating||t.queuePending[n]},wo=function l(n,t){if(0!==t.queue.length){var r=0,e=t.queue[r];if("mediaSource"===e.type)return void(!t.updating()&&"closed"!==t.mediaSource.readyState&&(t.queue.shift(),e.action(t),e.doneFn&&e.doneFn(),l("audio",t),l("video",t)));if("mediaSource"!==n&&t.ready()&&"closed"!==t.mediaSource.readyState&&!xf(n,t)){if(e.type!==n){if(r=function(n,t){for(var r=0;r<t.length;r++){var e=t[r];if("mediaSource"===e.type)return null;if(e.type===n)return r}return null}(n,t.queue),null===r)return;e=t.queue[r]}if(t.queue.splice(r,1),t.queuePending[n]=e,e.action(n,t),!e.doneFn)return t.queuePending[n]=null,void l(n,t)}}},e0=function(n,t){var r=t[n+"Buffer"],e=ng(n);!r||(r.removeEventListener("updateend",t["on"+e+"UpdateEnd_"]),r.removeEventListener("error",t["on"+e+"Error_"]),t.codecs[n]=null,t[n+"Buffer"]=null)},xa=function(n,t){return n&&t&&-1!==Array.prototype.indexOf.call(n.sourceBuffers,t)},ss_appendBuffer=function(n,t,r){return function(e,a){var u=a[e+"Buffer"];if(xa(a.mediaSource,u)){a.logger_("Appending segment "+t.mediaIndex+"'s "+n.length+" bytes to "+e+"Buffer");try{u.appendBuffer(n)}catch(d){a.logger_("Error with code "+d.code+" "+(22===d.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+t.mediaIndex+" to "+e+"Buffer"),a.queuePending[e]=null,r(d)}}}},ss_remove=function(n,t){return function(r,e){var a=e[r+"Buffer"];if(xa(e.mediaSource,a)){e.logger_("Removing "+n+" to "+t+" from "+r+"Buffer");try{a.remove(n,t)}catch(u){e.logger_("Remove "+n+" to "+t+" from "+r+"Buffer failed")}}}},ss_timestampOffset=function(n){return function(t,r){var e=r[t+"Buffer"];!xa(r.mediaSource,e)||(r.logger_("Setting "+t+"timestampOffset to "+n),e.timestampOffset=n)}},ss_callback=function(n){return function(t,r){n()}},ss_endOfStream=function(n){return function(t){if("open"===t.mediaSource.readyState){t.logger_("Calling mediaSource endOfStream("+(n||"")+")");try{t.mediaSource.endOfStream(n)}catch(r){Ie.log.warn("Failed to call media source endOfStream",r)}}}},ss_duration=function(n){return function(t){t.logger_("Setting mediaSource duration to "+n);try{t.mediaSource.duration=n}catch(r){Ie.log.warn("Failed to set media source duration",r)}}},ss_addSourceBuffer=function(n,t){return function(r){var e=ng(n),a=ho(t);r.logger_("Adding "+n+"Buffer with codec "+t+" to mediaSource");var u=r.mediaSource.addSourceBuffer(a);u.addEventListener("updateend",r["on"+e+"UpdateEnd_"]),u.addEventListener("error",r["on"+e+"Error_"]),r.codecs[n]=t,r[n+"Buffer"]=u}},ss_removeSourceBuffer=function(n){return function(t){var r=t[n+"Buffer"];if(e0(n,t),xa(t.mediaSource,r)){t.logger_("Removing "+n+"Buffer with codec "+t.codecs[n]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(r)}catch(e){Ie.log.warn("Failed to removeSourceBuffer "+n+"Buffer",e)}}}},ss_changeType=function(n){return function(t,r){var e=r[t+"Buffer"],a=ho(n);!xa(r.mediaSource,e)||r.codecs[t]!==n&&(r.logger_("changing "+t+"Buffer codec from "+r.codecs[t]+" to "+n),e.changeType(a),r.codecs[t]=n)}},ys=function(n){var t=n.type,r=n.sourceUpdater;r.queue.push({type:t,action:n.action,doneFn:n.doneFn,name:n.name}),wo(t,r)},rg=function(n,t){return function(r){if(t.queuePending[n]){var e=t.queuePending[n].doneFn;t.queuePending[n]=null,e&&e(t[n+"Error_"])}wo(n,t)}},gT=function(l){function n(r){var e;return(e=l.call(this)||this).mediaSource=r,e.sourceopenListener_=function(){return wo("mediaSource",Kt(e))},e.mediaSource.addEventListener("sourceopen",e.sourceopenListener_),e.logger_=ms("SourceUpdater"),e.audioTimestampOffset_=0,e.videoTimestampOffset_=0,e.queue=[],e.queuePending={audio:null,video:null},e.delayedAudioAppendQueue_=[],e.videoAppendQueued_=!1,e.codecs={},e.onVideoUpdateEnd_=rg("video",Kt(e)),e.onAudioUpdateEnd_=rg("audio",Kt(e)),e.onVideoError_=function(a){e.videoError_=a},e.onAudioError_=function(a){e.audioError_=a},e.createdSourceBuffers_=!1,e.initializedEme_=!1,e.triggeredReady_=!1,e}Dt(n,l);var t=n.prototype;return t.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},t.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},t.hasInitializedAnyEme=function(){return this.initializedEme_},t.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},t.createSourceBuffers=function(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},t.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},t.addSourceBuffer=function(e,a){ys({type:"mediaSource",sourceUpdater:this,action:ss_addSourceBuffer(e,a),name:"addSourceBuffer"})},t.abort=function(e){ys({type:e,sourceUpdater:this,action:function(n,t){if("open"===t.mediaSource.readyState){var r=t[n+"Buffer"];if(xa(t.mediaSource,r)){t.logger_("calling abort on "+n+"Buffer");try{r.abort()}catch(e){Ie.log.warn("Failed to abort on "+n+"Buffer",e)}}}},name:"abort"})},t.removeSourceBuffer=function(e){this.canRemoveSourceBuffer()?ys({type:"mediaSource",sourceUpdater:this,action:ss_removeSourceBuffer(e),name:"removeSourceBuffer"}):Ie.log.error("removeSourceBuffer is not supported!")},t.canRemoveSourceBuffer=function(){return!Ie.browser.IE_VERSION&&!Ie.browser.IS_FIREFOX&&oe().MediaSource&&oe().MediaSource.prototype&&"function"==typeof oe().MediaSource.prototype.removeSourceBuffer},n.canChangeType=function(){return oe().SourceBuffer&&oe().SourceBuffer.prototype&&"function"==typeof oe().SourceBuffer.prototype.changeType},t.canChangeType=function(){return this.constructor.canChangeType()},t.changeType=function(e,a){this.canChangeType()?ys({type:e,sourceUpdater:this,action:ss_changeType(a),name:"changeType"}):Ie.log.error("changeType is not supported!")},t.addOrChangeSourceBuffers=function(e){var a=this;if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(function(u){var d=e[u];if(!a.hasCreatedSourceBuffers())return a.addSourceBuffer(u,d);a.canChangeType()&&a.changeType(u,d)})},t.appendBuffer=function(e,a){var u=this,d=e.segmentInfo,p=e.type,g=e.bytes;if(this.processedAppend_=!0,"audio"===p&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,a]),void this.logger_("delayed audio append of "+g.length+" until video append");if(ys({type:p,sourceUpdater:this,action:ss_appendBuffer(g,d||{mediaIndex:-1},a),doneFn:a,name:"appendBuffer"}),"video"===p){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var N=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+N.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,N.forEach(function(O){u.appendBuffer.apply(u,O)})}},t.audioBuffered=function(){return xa(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Ie.createTimeRange()},t.videoBuffered=function(){return xa(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Ie.createTimeRange()},t.buffered=function(){var e=xa(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,a=xa(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return a&&!e?this.audioBuffered():e&&!a?this.videoBuffered():function(n,t){var r=null,e=null,a=0,u=[],d=[];if(!(n&&n.length&&t&&t.length))return Ie.createTimeRange();for(var p=n.length;p--;)u.push({time:n.start(p),type:"start"}),u.push({time:n.end(p),type:"end"});for(p=t.length;p--;)u.push({time:t.start(p),type:"start"}),u.push({time:t.end(p),type:"end"});for(u.sort(function(g,E){return g.time-E.time}),p=0;p<u.length;p++)"start"===u[p].type?2==++a&&(r=u[p].time):"end"===u[p].type&&1==--a&&(e=u[p].time),null!==r&&null!==e&&(d.push([r,e]),r=null,e=null);return Ie.createTimeRanges(d)}(this.audioBuffered(),this.videoBuffered())},t.setDuration=function(e,a){void 0===a&&(a=ro),ys({type:"mediaSource",sourceUpdater:this,action:ss_duration(e),name:"duration",doneFn:a})},t.endOfStream=function(e,a){void 0===e&&(e=null),void 0===a&&(a=ro),"string"!=typeof e&&(e=void 0),ys({type:"mediaSource",sourceUpdater:this,action:ss_endOfStream(e),name:"endOfStream",doneFn:a})},t.removeAudio=function(e,a,u){void 0===u&&(u=ro),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?ys({type:"audio",sourceUpdater:this,action:ss_remove(e,a),doneFn:u,name:"remove"}):u()},t.removeVideo=function(e,a,u){void 0===u&&(u=ro),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?ys({type:"video",sourceUpdater:this,action:ss_remove(e,a),doneFn:u,name:"remove"}):u()},t.updating=function(){return!(!xf("audio",this)&&!xf("video",this))},t.audioTimestampOffset=function(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(ys({type:"audio",sourceUpdater:this,action:ss_timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_},t.videoTimestampOffset=function(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(ys({type:"video",sourceUpdater:this,action:ss_timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_},t.audioQueueCallback=function(e){!this.audioBuffer||ys({type:"audio",sourceUpdater:this,action:ss_callback(e),name:"callback"})},t.videoQueueCallback=function(e){!this.videoBuffer||ys({type:"video",sourceUpdater:this,action:ss_callback(e),name:"callback"})},t.dispose=function(){var e=this;this.trigger("dispose"),pT.forEach(function(a){e.abort(a),e.canRemoveSourceBuffer()?e.removeSourceBuffer(a):e[a+"QueueCallback"](function(){return e0(a,e)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},n}(Ie.EventTarget),ig=function(n){return decodeURIComponent(escape(String.fromCharCode.apply(null,n)))},wf=new Uint8Array("\n\n".split("").map(function(l){return l.charCodeAt(0)})),wa=function(l){function n(r,e){var a;return void 0===e&&(e={}),(a=l.call(this,r,e)||this).mediaSource_=null,a.subtitlesTrack_=null,a.loaderType_="subtitle",a.featuresNativeTextTracks_=r.featuresNativeTextTracks,a.shouldSaveSegmentTimingInfo_=!1,a}Dt(n,l);var t=n.prototype;return t.createTransmuxer_=function(){return null},t.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Ie.createTimeRanges();var e=this.subtitlesTrack_.cues;return Ie.createTimeRanges([[e[0].startTime,e[e.length-1].startTime]])},t.initSegmentForMap=function(e,a){if(void 0===a&&(a=!1),!e)return null;var u=Wi(e),d=this.initSegments_[u];if(a&&!d&&e.bytes){var g=new Uint8Array(wf.byteLength+e.bytes.byteLength);g.set(e.bytes),g.set(wf,e.bytes.byteLength),this.initSegments_[u]=d={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:g}}return d||e},t.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},t.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},t.track=function(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},t.remove=function(e,a){Al(e,a,this.subtitlesTrack_)},t.fillBuffer_=function(){var e=this,a=this.chooseNextRequest_();if(a){if(null===this.syncController_.timestampOffsetForTimeline(a.timeline))return this.syncController_.one("timestampoffset",function(){e.state="READY",e.paused()||e.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(a)}},t.timestampOffsetForSegment_=function(){return null},t.chooseNextRequest_=function(){return this.skipEmptySegments_(l.prototype.chooseNextRequest_.call(this))},t.skipEmptySegments_=function(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e},t.stopForError=function(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")},t.segmentRequestFinished_=function(e,a,u){var d=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(a.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return-101===e.code&&this.handleTimeout_(),-102===e.code?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);var p=this.pendingSegment_;this.saveBandwidthRelatedStats_(p.duration,a.stats),this.state="APPENDING",this.trigger("appending");var g=p.segment;if(g.map&&(g.map.bytes=a.map.bytes),p.bytes=a.bytes,"function"!=typeof oe().WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var E,N=function(){d.subtitlesTrack_.tech_.off("vttjsloaded",E),d.stopForError({message:"Error loading vtt.js"})};return E=function(){d.subtitlesTrack_.tech_.off("vttjserror",N),d.segmentRequestFinished_(e,a,u)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",E),void this.subtitlesTrack_.tech_.one("vttjserror",N)}g.requested=!0;try{this.parseVTTCues_(p)}catch(O){return void this.stopForError({message:O.message})}if(this.updateTimeMapping_(p,this.syncController_.timelines[p.timeline],this.playlist_),p.timingInfo=p.cues.length?{start:p.cues[0].startTime,end:p.cues[p.cues.length-1].endTime}:{start:p.startOfSegment,end:p.startOfSegment+p.duration},p.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");p.byteLength=p.bytes.byteLength,this.mediaSecondsLoaded+=g.duration,p.cues.forEach(function(O){d.subtitlesTrack_.addCue(d.featuresNativeTextTracks_?new(oe().VTTCue)(O.startTime,O.endTime,O.text):O)}),function(n){var t=n.cues;if(t)for(var r=0;r<t.length;r++){for(var e=[],a=0,u=0;u<t.length;u++)t[r].startTime===t[u].startTime&&t[r].endTime===t[u].endTime&&t[r].text===t[u].text&&++a>1&&e.push(t[u]);e.length&&e.forEach(function(d){return n.removeCue(d)})}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},t.handleData_=function(){},t.updateTimingInfoEnd_=function(){},t.parseVTTCues_=function(e){var a,u=!1;"function"==typeof oe().TextDecoder?a=new(oe().TextDecoder)("utf8"):(a=oe().WebVTT.StringDecoder(),u=!0);var d=new(oe().WebVTT.Parser)(oe(),oe().vttjs,a);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},d.oncue=e.cues.push.bind(e.cues),d.ontimestampmap=function(E){e.timestampmap=E},d.onparsingerror=function(E){Ie.log.warn("Error encountered when parsing cues: "+E.message)},e.segment.map){var p=e.segment.map.bytes;u&&(p=ig(p)),d.parse(p)}var g=e.bytes;u&&(g=ig(g)),d.parse(g),d.flush()},t.updateTimeMapping_=function(e,a,u){var d=e.segment;if(a){if(!e.cues.length)return void(d.empty=!0);var p=e.timestampmap,g=p.MPEGTS/Ud.ONE_SECOND_IN_TS-p.LOCAL+a.mapping;e.cues.forEach(function(O){O.startTime+=g,O.endTime+=g}),u.syncInfo||(u.syncInfo={mediaSequence:u.mediaSequence+e.mediaIndex,time:Math.min(e.cues[0].startTime,e.cues[e.cues.length-1].startTime-d.duration)})}},n}(tg),mT=function(n,t){for(var r=n.cues,e=0;e<r.length;e++){var a=r[e];if(t>=a.adStartTime&&t<=a.adEndTime)return a}return null},Ns=[{name:"VOD",run:function(n,t,r,e,a){return r!==1/0?{time:0,segmentIndex:0,partIndex:null}:null}},{name:"ProgramDateTime",run:function(n,t,r,e,a){if(!Object.keys(n.timelineToDatetimeMappings).length)return null;var u=null,d=null,p=Tp(t);a=a||0;for(var g=0;g<p.length;g++){var N=p[t.endList||0===a?g:p.length-(g+1)],O=N.segment,W=n.timelineToDatetimeMappings[O.timeline];if(W&&O.dateTimeObject){var Y=O.dateTimeObject.getTime()/1e3+W;if(O.parts&&"number"==typeof N.partIndex)for(var Q=0;Q<N.partIndex;Q++)Y+=O.parts[Q].duration;var Pe=Math.abs(a-Y);if(null!==d&&(0===Pe||d<Pe))break;d=Pe,u={time:Y,segmentIndex:N.segmentIndex,partIndex:N.partIndex}}}return u}},{name:"Segment",run:function(n,t,r,e,a){var u=null,d=null;a=a||0;for(var p=Tp(t),g=0;g<p.length;g++){var N=p[t.endList||0===a?g:p.length-(g+1)],O=N.segment,W=N.part&&N.part.start||O&&O.start;if(O.timeline===e&&void 0!==W){var J=Math.abs(a-W);if(null!==d&&d<J)break;(!u||null===d||d>=J)&&(d=J,u={time:W,segmentIndex:N.segmentIndex,partIndex:N.partIndex})}}return u}},{name:"Discontinuity",run:function(n,t,r,e,a){var u=null;if(a=a||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var d=null,p=0;p<t.discontinuityStarts.length;p++){var g=t.discontinuityStarts[p],N=n.discontinuities[t.discontinuitySequence+p+1];if(N){var O=Math.abs(a-N.time);if(null!==d&&d<O)break;(!u||null===d||d>=O)&&(d=O,u={time:N.time,segmentIndex:g,partIndex:null})}}return u}},{name:"Playlist",run:function(n,t,r,e,a){return t.syncInfo?{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}:null}}],sa=function(l){function n(r){var e;return(e=l.call(this)||this).timelines=[],e.discontinuities=[],e.timelineToDatetimeMappings={},e.logger_=ms("SyncController"),e}Dt(n,l);var t=n.prototype;return t.getSyncPoint=function(e,a,u,d){var p=this.runStrategies_(e,a,u,d);return p.length?this.selectSyncPoint_(p,{key:"time",value:d}):null},t.getExpiredTime=function(e,a){if(!e||!e.segments)return null;var u=this.runStrategies_(e,a,e.discontinuitySequence,0);if(!u.length)return null;var d=this.selectSyncPoint_(u,{key:"segmentIndex",value:0});return d.segmentIndex>0&&(d.time*=-1),Math.abs(d.time+Xc({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:d.segmentIndex,endIndex:0}))},t.runStrategies_=function(e,a,u,d){for(var p=[],g=0;g<Ns.length;g++){var E=Ns[g],N=E.run(this,e,a,u,d);N&&(N.strategy=E.name,p.push({strategy:E.name,syncPoint:N}))}return p},t.selectSyncPoint_=function(e,a){for(var u=e[0].syncPoint,d=Math.abs(e[0].syncPoint[a.key]-a.value),p=e[0].strategy,g=1;g<e.length;g++){var E=Math.abs(e[g].syncPoint[a.key]-a.value);E<d&&(d=E,u=e[g].syncPoint,p=e[g].strategy)}return this.logger_("syncPoint for ["+a.key+": "+a.value+"] chosen with strategy ["+p+"]: [time:"+u.time+", segmentIndex:"+u.segmentIndex+("number"==typeof u.partIndex?",partIndex:"+u.partIndex:"")+"]"),u},t.saveExpiredSegmentInfo=function(e,a){var u=a.mediaSequence-e.mediaSequence;if(u>86400)Ie.log.warn("Not saving expired segment info. Media sequence gap "+u+" is too large.");else for(var d=u-1;d>=0;d--){var p=e.segments[d];if(p&&void 0!==p.start){a.syncInfo={mediaSequence:e.mediaSequence+d,time:p.start},this.logger_("playlist refresh sync: [time:"+a.syncInfo.time+", mediaSequence: "+a.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},t.setDateTimeMappingForStart=function(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){var a=e.segments[0],u=a.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[a.timeline]=-u}},t.saveSegmentTimingInfo=function(e){var a=e.segmentInfo,u=e.shouldSaveTimelineMapping,d=this.calculateSegmentTimeMapping_(a,a.timingInfo,u),p=a.segment;d&&(this.saveDiscontinuitySyncInfo_(a),a.playlist.syncInfo||(a.playlist.syncInfo={mediaSequence:a.playlist.mediaSequence+a.mediaIndex,time:p.start}));var g=p.dateTimeObject;p.discontinuity&&u&&g&&(this.timelineToDatetimeMappings[p.timeline]=-g.getTime()/1e3)},t.timestampOffsetForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].time},t.mappingForTimeline=function(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping},t.calculateSegmentTimeMapping_=function(e,a,u){var E,N,d=e.segment,p=e.part,g=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)g={time:e.startOfSegment,mapping:e.startOfSegment-a.start},u&&(this.timelines[e.timeline]=g,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+e.timeline+": [time: "+g.time+"] [mapping: "+g.mapping+"]")),E=e.startOfSegment,N=a.end+g.mapping;else{if(!g)return!1;E=a.start+g.mapping,N=a.end+g.mapping}return p&&(p.start=E,p.end=N),(!d.start||E<d.start)&&(d.start=E),d.end=N,!0},t.saveDiscontinuitySyncInfo_=function(e){var a=e.playlist,u=e.segment;if(u.discontinuity)this.discontinuities[u.timeline]={time:u.start,accuracy:0};else if(a.discontinuityStarts&&a.discontinuityStarts.length)for(var d=0;d<a.discontinuityStarts.length;d++){var p=a.discontinuityStarts[d],g=a.discontinuitySequence+d+1,E=p-e.mediaIndex,N=Math.abs(E);if(!this.discontinuities[g]||this.discontinuities[g].accuracy>N){var O;O=E<0?u.start-Xc({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:e.mediaIndex,endIndex:p}):u.end+Xc({defaultDuration:a.targetDuration,durationList:a.segments,startIndex:e.mediaIndex+1,endIndex:p}),this.discontinuities[g]={time:O,accuracy:N}}}},t.dispose=function(){this.trigger("dispose"),this.off()},n}(Ie.EventTarget),n0=function(l){function n(){var r;return(r=l.call(this)||this).pendingTimelineChanges_={},r.lastTimelineChanges_={},r}Dt(n,l);var t=n.prototype;return t.clearPendingTimelineChange=function(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")},t.pendingTimelineChange=function(e){var a=e.type,u=e.from,d=e.to;return"number"==typeof u&&"number"==typeof d&&(this.pendingTimelineChanges_[a]={type:a,from:u,to:d},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[a]},t.lastTimelineChange=function(e){var a=e.type,u=e.from,d=e.to;return"number"==typeof u&&"number"==typeof d&&(this.lastTimelineChanges_[a]={type:a,from:u,to:d},delete this.pendingTimelineChanges_[a],this.trigger("timelinechange")),this.lastTimelineChanges_[a]},t.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},n}(Ie.EventTarget),r0=Ov(Q_(function(){function l(Y,Q,Pe){return Y(Pe={path:Q,exports:{},require:function(je,Ze){return function n(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},Pe.exports),Pe.exports}var t=l(function(Y){function Q(ke,je){for(var Ze=0;Ze<je.length;Ze++){var Qe=je[Ze];Qe.enumerable=Qe.enumerable||!1,Qe.configurable=!0,"value"in Qe&&(Qe.writable=!0),Object.defineProperty(ke,Qe.key,Qe)}}Y.exports=function Pe(ke,je,Ze){return je&&Q(ke.prototype,je),Ze&&Q(ke,Ze),ke},Y.exports.default=Y.exports,Y.exports.__esModule=!0}),r=l(function(Y){function Q(Pe,ke){return Y.exports=Q=Object.setPrototypeOf||function(Ze,Qe){return Ze.__proto__=Qe,Ze},Y.exports.default=Y.exports,Y.exports.__esModule=!0,Q(Pe,ke)}Y.exports=Q,Y.exports.default=Y.exports,Y.exports.__esModule=!0}),e=l(function(Y){Y.exports=function Q(Pe,ke){Pe.prototype=Object.create(ke.prototype),Pe.prototype.constructor=Pe,r(Pe,ke)},Y.exports.default=Y.exports,Y.exports.__esModule=!0}),a=function(){function Y(){this.listeners={}}var Q=Y.prototype;return Q.on=function(ke,je){this.listeners[ke]||(this.listeners[ke]=[]),this.listeners[ke].push(je)},Q.off=function(ke,je){if(!this.listeners[ke])return!1;var Ze=this.listeners[ke].indexOf(je);return this.listeners[ke]=this.listeners[ke].slice(0),this.listeners[ke].splice(Ze,1),Ze>-1},Q.trigger=function(ke){var je=this.listeners[ke];if(je)if(2===arguments.length)for(var Ze=je.length,Qe=0;Qe<Ze;++Qe)je[Qe].call(this,arguments[1]);else for(var St=Array.prototype.slice.call(arguments,1),Ot=je.length,ct=0;ct<Ot;++ct)je[ct].apply(this,St)},Q.dispose=function(){this.listeners={}},Q.pipe=function(ke){this.on("data",function(je){ke.push(je)})},Y}(),p=null,g=function(){function Y(Pe){p||(p=function(){var Qe,St,Ot,kt,In,fr,hi,Kn,Q=[[[],[],[],[],[]],[[],[],[],[],[]]],Pe=Q[0],ke=Q[1],je=Pe[4],Ze=ke[4],ct=[],Lt=[];for(Qe=0;Qe<256;Qe++)Lt[(ct[Qe]=Qe<<1^283*(Qe>>7))^Qe]=Qe;for(St=Ot=0;!je[St];St^=kt||1,Ot=Lt[Ot]||1)for(je[St]=fr=(fr=Ot^Ot<<1^Ot<<2^Ot<<3^Ot<<4)>>8^255&fr^99,Ze[fr]=St,Kn=16843009*ct[In=ct[kt=ct[St]]]^65537*In^257*kt^16843008*St,hi=257*ct[fr]^16843008*fr,Qe=0;Qe<4;Qe++)Pe[Qe][St]=hi=hi<<24^hi>>>8,ke[Qe][fr]=Kn=Kn<<24^Kn>>>8;for(Qe=0;Qe<5;Qe++)Pe[Qe]=Pe[Qe].slice(0),ke[Qe]=ke[Qe].slice(0);return Q}()),this._tables=[[p[0][0].slice(),p[0][1].slice(),p[0][2].slice(),p[0][3].slice(),p[0][4].slice()],[p[1][0].slice(),p[1][1].slice(),p[1][2].slice(),p[1][3].slice(),p[1][4].slice()]];var ke,je,Ze,Qe=this._tables[0][4],St=this._tables[1],Ot=Pe.length,ct=1;if(4!==Ot&&6!==Ot&&8!==Ot)throw new Error("Invalid aes key size");var Lt=Pe.slice(0),kt=[];for(this._key=[Lt,kt],ke=Ot;ke<4*Ot+28;ke++)Ze=Lt[ke-1],(ke%Ot==0||8===Ot&&ke%Ot==4)&&(Ze=Qe[Ze>>>24]<<24^Qe[Ze>>16&255]<<16^Qe[Ze>>8&255]<<8^Qe[255&Ze],ke%Ot==0&&(Ze=Ze<<8^Ze>>>24^ct<<24,ct=ct<<1^283*(ct>>7))),Lt[ke]=Lt[ke-Ot]^Ze;for(je=0;ke;je++,ke--)Ze=Lt[3&je?ke:ke-4],kt[je]=ke<=4||je<4?Ze:St[0][Qe[Ze>>>24]]^St[1][Qe[Ze>>16&255]]^St[2][Qe[Ze>>8&255]]^St[3][Qe[255&Ze]]}return Y.prototype.decrypt=function(ke,je,Ze,Qe,St,Ot){var fr,hi,Kn,as,ct=this._key[1],Lt=ke^ct[0],kt=Qe^ct[1],In=Ze^ct[2],$t=je^ct[3],Mo=ct.length/4-2,Ls=4,Ia=this._tables[1],oa=Ia[0],mu=Ia[1],Pa=Ia[2],vu=Ia[3],Io=Ia[4];for(as=0;as<Mo;as++)fr=oa[Lt>>>24]^mu[kt>>16&255]^Pa[In>>8&255]^vu[255&$t]^ct[Ls],hi=oa[kt>>>24]^mu[In>>16&255]^Pa[$t>>8&255]^vu[255&Lt]^ct[Ls+1],Kn=oa[In>>>24]^mu[$t>>16&255]^Pa[Lt>>8&255]^vu[255&kt]^ct[Ls+2],$t=oa[$t>>>24]^mu[Lt>>16&255]^Pa[kt>>8&255]^vu[255&In]^ct[Ls+3],Ls+=4,Lt=fr,kt=hi,In=Kn;for(as=0;as<4;as++)St[(3&-as)+Ot]=Io[Lt>>>24]<<24^Io[kt>>16&255]<<16^Io[In>>8&255]<<8^Io[255&$t]^ct[Ls++],fr=Lt,Lt=kt,kt=In,In=$t,$t=fr},Y}(),E=function(Y){function Q(){var ke;return(ke=Y.call(this,a)||this).jobs=[],ke.delay=1,ke.timeout_=null,ke}e(Q,Y);var Pe=Q.prototype;return Pe.processJob_=function(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},Pe.push=function(je){this.jobs.push(je),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},Q}(a),N=function(Q){return Q<<24|(65280&Q)<<8|(16711680&Q)>>8|Q>>>24},W=function(){function Y(Pe,ke,je,Ze){var Qe=Y.STEP,St=new Int32Array(Pe.buffer),Ot=new Uint8Array(Pe.byteLength),ct=0;for(this.asyncStream_=new E,this.asyncStream_.push(this.decryptChunk_(St.subarray(ct,ct+Qe),ke,je,Ot)),ct=Qe;ct<St.length;ct+=Qe)je=new Uint32Array([N(St[ct-4]),N(St[ct-3]),N(St[ct-2]),N(St[ct-1])]),this.asyncStream_.push(this.decryptChunk_(St.subarray(ct,ct+Qe),ke,je,Ot));this.asyncStream_.push(function(){Ze(null,
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
function u(Y){return Y.subarray(0,Y.byteLength-Y[Y.byteLength-1])}
/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */(Ot))})}return Y.prototype.decryptChunk_=function(ke,je,Ze,Qe){return function(){var St=function(Q,Pe,ke){var Ot,ct,Lt,kt,In,$t,fr,hi,Kn,je=new Int32Array(Q.buffer,Q.byteOffset,Q.byteLength>>2),Ze=new g(Array.prototype.slice.call(Pe)),Qe=new Uint8Array(Q.byteLength),St=new Int32Array(Qe.buffer);for(Ot=ke[0],ct=ke[1],Lt=ke[2],kt=ke[3],Kn=0;Kn<je.length;Kn+=4)In=N(je[Kn]),$t=N(je[Kn+1]),fr=N(je[Kn+2]),hi=N(je[Kn+3]),Ze.decrypt(In,$t,fr,hi,St,Kn),St[Kn]=N(St[Kn]^Ot),St[Kn+1]=N(St[Kn+1]^ct),St[Kn+2]=N(St[Kn+2]^Lt),St[Kn+3]=N(St[Kn+3]^kt),Ot=In,ct=$t,Lt=fr,kt=hi;return Qe}(ke,je,Ze);Qe.set(St,ke.byteOffset)}},t(Y,null,[{key:"STEP",get:function(){return 32e3}}]),Y}();self.onmessage=function(Y){var Q=Y.data,Pe=new Uint8Array(Q.encrypted.bytes,Q.encrypted.byteOffset,Q.encrypted.byteLength),ke=new Uint32Array(Q.key.bytes,Q.key.byteOffset,Q.key.byteLength/4),je=new Uint32Array(Q.iv.bytes,Q.iv.byteOffset,Q.iv.byteLength/4);new W(Pe,ke,je,function(Ze,Qe){self.postMessage(function(Q){var Pe={};return Object.keys(Q).forEach(function(ke){var je=Q[ke];Pe[ke]=ArrayBuffer.isView(je)?{bytes:je.buffer,byteOffset:je.byteOffset,byteLength:je.byteLength}:je}),Pe}({source:Q.source,decrypted:Qe}),[Qe.buffer])})}})),vT=Pv(r0),yT=function(n){var t=n.default?"main":"alternative";return n.characteristics&&n.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Af=function(n,t){n.abort(),n.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},sg=function(n,t){t.activePlaylistLoader=n,n.load()},id={AUDIO:function(n,t){return function(){var e=t.mediaTypes[n],a=t.blacklistCurrentPlaylist;Af(t.segmentLoaders[n],e);var u=e.activeTrack(),d=e.activeGroup(),p=(d.filter(function(N){return N.default})[0]||d[0]).id,g=e.tracks[p];if(u!==g){for(var E in Ie.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),e.tracks)e.tracks[E].enabled=e.tracks[E]===g;e.onTrackChanged()}else a({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(n,t){return function(){var r=t.segmentLoaders[n],e=t.mediaTypes[n];Ie.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Af(r,e);var a=e.activeTrack();a&&(a.mode="disabled"),e.onTrackChanged()}}},s0={AUDIO:function(n,t,r){if(t){var e=r.tech,a=r.requestOptions,u=r.segmentLoaders[n];t.on("loadedmetadata",function(){var d=t.media();u.playlist(d,a),(!e.paused()||d.endList&&"none"!==e.preload())&&u.load()}),t.on("loadedplaylist",function(){u.playlist(t.media(),a),e.paused()||u.load()}),t.on("error",id[n](n,r))}},SUBTITLES:function(n,t,r){var e=r.tech,a=r.requestOptions,u=r.segmentLoaders[n],d=r.mediaTypes[n];t.on("loadedmetadata",function(){var p=t.media();u.playlist(p,a),u.track(d.activeTrack()),(!e.paused()||p.endList&&"none"!==e.preload())&&u.load()}),t.on("loadedplaylist",function(){u.playlist(t.media(),a),e.paused()||u.load()}),t.on("error",id[n](n,r))}},a0={AUDIO:function(n,t){var r=t.vhs,e=t.sourceType,a=t.segmentLoaders[n],u=t.requestOptions,d=t.master.mediaGroups,p=t.mediaTypes[n],g=p.groups,E=p.tracks,N=p.logger_,O=t.masterPlaylistLoader,W=hl(O.master);for(var J in(!d[n]||0===Object.keys(d[n]).length)&&(d[n]={main:{default:{default:!0}}},W&&(d[n].main.default.playlists=O.master.playlists)),d[n])for(var Y in g[J]||(g[J]=[]),d[n][J]){var Q=d[n][J][Y],Pe=void 0;if(W?(N("AUDIO group '"+J+"' label '"+Y+"' is a master playlist"),Q.isMasterPlaylist=!0,Pe=null):Pe="vhs-json"===e&&Q.playlists?new ra(Q.playlists[0],r,u):Q.resolvedUri?new ra(Q.resolvedUri,r,u):Q.playlists&&"dash"===e?new Np(Q.playlists[0],r,u,O):null,Q=Ie.mergeOptions({id:Y,playlistLoader:Pe},Q),s0[n](n,Q.playlistLoader,t),g[J].push(Q),void 0===E[Y]){var ke=new Ie.AudioTrack({id:Y,kind:yT(Q),enabled:!1,language:Q.language,default:Q.default,label:Y});E[Y]=ke}}a.on("error",id[n](n,t))},SUBTITLES:function(n,t){var r=t.tech,e=t.vhs,a=t.sourceType,u=t.segmentLoaders[n],d=t.requestOptions,p=t.master.mediaGroups,g=t.mediaTypes[n],E=g.groups,N=g.tracks,O=t.masterPlaylistLoader;for(var W in p[n])for(var J in E[W]||(E[W]=[]),p[n][W])if(!p[n][W][J].forced){var Y=p[n][W][J],Q=void 0;if("hls"===a)Q=new ra(Y.resolvedUri,e,d);else if("dash"===a){if(!Y.playlists.filter(function(je){return je.excludeUntil!==1/0}).length)return;Q=new Np(Y.playlists[0],e,d,O)}else"vhs-json"===a&&(Q=new ra(Y.playlists?Y.playlists[0]:Y.resolvedUri,e,d));if(Y=Ie.mergeOptions({id:J,playlistLoader:Q},Y),s0[n](n,Y.playlistLoader,t),E[W].push(Y),void 0===N[J]){var ke=r.addRemoteTextTrack({id:J,kind:"subtitles",default:Y.default&&Y.autoselect,language:Y.language,label:J},!1).track;N[J]=ke}}u.on("error",id[n](n,t))},"CLOSED-CAPTIONS":function(n,t){var r=t.tech,e=t.master.mediaGroups,a=t.mediaTypes[n],u=a.groups,d=a.tracks;for(var p in e[n])for(var g in u[p]||(u[p]=[]),e[n][p]){var E=e[n][p][g];if(/^(?:CC|SERVICE)/.test(E.instreamId)){var N=r.options_.vhs&&r.options_.vhs.captionServices||{},O={label:g,language:E.language,instreamId:E.instreamId,default:E.default&&E.autoselect};if(N[O.instreamId]&&(O=Ie.mergeOptions(O,N[O.instreamId])),void 0===O.default&&delete O.default,u[p].push(Ie.mergeOptions({id:g},E)),void 0===d[g]){var W=r.addRemoteTextTrack({id:O.instreamId,kind:"captions",default:O.default,language:O.language,label:O.label},!1).track;d[g]=W}}}}},o0=function l(n,t){for(var r=0;r<n.length;r++)if(Cp(t,n[r])||n[r].playlists&&l(n[r].playlists,t))return!0;return!1},TT={AUDIO:function(n,t){return function(){var r=t.mediaTypes[n].tracks;for(var e in r)if(r[e].enabled)return r[e];return null}},SUBTITLES:function(n,t){return function(){var r=t.mediaTypes[n].tracks;for(var e in r)if("showing"===r[e].mode||"hidden"===r[e].mode)return r[e];return null}}},c0=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],d0=function(n){return this.audioSegmentLoader_[n]+this.mainSegmentLoader_[n]},h0=function(l){function n(r){var e;e=l.call(this)||this;var a=r.src,u=r.handleManifestRedirects,d=r.withCredentials,p=r.tech,g=r.bandwidth,E=r.externVhs,N=r.useCueTags,O=r.blacklistDuration,W=r.enableLowInitialPlaylist,J=r.sourceType,Y=r.cacheEncryptionKeys,Q=r.experimentalBufferBasedABR,Pe=r.experimentalLeastPixelDiffSelector,ke=r.captionServices;if(!a)throw new Error("A non-empty playlist URL or JSON manifest string is required");var je=r.maxPlaylistRetries;null==je&&(je=1/0),aa=E,e.experimentalBufferBasedABR=Boolean(Q),e.experimentalLeastPixelDiffSelector=Boolean(Pe),e.withCredentials=d,e.tech_=p,e.vhs_=p.vhs,e.sourceType_=J,e.useCueTags_=N,e.blacklistDuration=O,e.maxPlaylistRetries=je,e.enableLowInitialPlaylist=W,e.useCueTags_&&(e.cueTagsTrack_=e.tech_.addTextTrack("metadata","ad-cues"),e.cueTagsTrack_.inBandMetadataTrackDispatchType=""),e.requestOptions_={withCredentials:d,handleManifestRedirects:u,maxPlaylistRetries:je,timeout:null},e.on("error",e.pauseLoading),e.mediaTypes_=function(){var n={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){n[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ro,activeTrack:ro,getActiveGroup:ro,onGroupChanged:ro,onTrackChanged:ro,lastTrack_:null,logger_:ms("MediaGroups["+t+"]")}}),n}(),e.mediaSource=new(oe().MediaSource),e.handleDurationChange_=e.handleDurationChange_.bind(Kt(e)),e.handleSourceOpen_=e.handleSourceOpen_.bind(Kt(e)),e.handleSourceEnded_=e.handleSourceEnded_.bind(Kt(e)),e.mediaSource.addEventListener("durationchange",e.handleDurationChange_),e.mediaSource.addEventListener("sourceopen",e.handleSourceOpen_),e.mediaSource.addEventListener("sourceended",e.handleSourceEnded_),e.seekable_=Ie.createTimeRanges(),e.hasPlayed_=!1,e.syncController_=new sa(r),e.segmentMetadataTrack_=p.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,e.decrypter_=new vT,e.sourceUpdater_=new gT(e.mediaSource),e.inbandTextTracks_={},e.timelineChangeController_=new n0;var Ze={vhs:e.vhs_,parse708captions:r.parse708captions,captionServices:ke,mediaSource:e.mediaSource,currentTime:e.tech_.currentTime.bind(e.tech_),seekable:function(){return e.seekable()},seeking:function(){return e.tech_.seeking()},duration:function(){return e.duration()},hasPlayed:function(){return e.hasPlayed_},goalBufferLength:function(){return e.goalBufferLength()},bandwidth:g,syncController:e.syncController_,decrypter:e.decrypter_,sourceType:e.sourceType_,inbandTextTracks:e.inbandTextTracks_,cacheEncryptionKeys:Y,sourceUpdater:e.sourceUpdater_,timelineChangeController:e.timelineChangeController_,experimentalExactManifestTimings:r.experimentalExactManifestTimings};e.masterPlaylistLoader_="dash"===e.sourceType_?new Np(a,e.vhs_,e.requestOptions_):new ra(a,e.vhs_,e.requestOptions_),e.setupMasterPlaylistLoaderListeners_(),e.mainSegmentLoader_=new tg(Ie.mergeOptions(Ze,{segmentMetadataTrack:e.segmentMetadataTrack_,loaderType:"main"}),r),e.audioSegmentLoader_=new tg(Ie.mergeOptions(Ze,{loaderType:"audio"}),r),e.subtitleSegmentLoader_=new wa(Ie.mergeOptions(Ze,{loaderType:"vtt",featuresNativeTextTracks:e.tech_.featuresNativeTextTracks}),r),e.setupSegmentLoaderListeners_(),e.experimentalBufferBasedABR&&(e.masterPlaylistLoader_.one("loadedplaylist",function(){return e.startABRTimer_()}),e.tech_.on("pause",function(){return e.stopABRTimer_()}),e.tech_.on("play",function(){return e.startABRTimer_()})),c0.forEach(function(St){e[St+"_"]=d0.bind(Kt(e),St)}),e.logger_=ms("MPC"),e.triggeredFmp4Usage=!1,"none"===e.tech_.preload()?(e.loadOnPlay_=function(){e.loadOnPlay_=null,e.masterPlaylistLoader_.load()},e.tech_.one("play",e.loadOnPlay_)):e.masterPlaylistLoader_.load(),e.timeToLoadedData__=-1,e.mainAppendsToLoadedData__=-1,e.audioAppendsToLoadedData__=-1;var Qe="none"===e.tech_.preload()?"play":"loadstart";return e.tech_.one(Qe,function(){var St=Date.now();e.tech_.one("loadeddata",function(){e.timeToLoadedData__=Date.now()-St,e.mainAppendsToLoadedData__=e.mainSegmentLoader_.mediaAppends,e.audioAppendsToLoadedData__=e.audioSegmentLoader_.mediaAppends})}),e}Dt(n,l);var t=n.prototype;return t.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},t.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},t.appendsToLoadedData_=function(){var e=this.mainAppendsToLoadedData_(),a=this.audioAppendsToLoadedData_();return-1===e||-1===a?-1:e+a},t.timeToLoadedData_=function(){return this.timeToLoadedData__},t.checkABR_=function(){var e=this.selectPlaylist();e&&this.shouldSwitchToMedia_(e)&&this.switchMedia_(e,"abr")},t.switchMedia_=function(e,a,u){var d=this.media(),p=d&&(d.id||d.uri),g=e.id||e.uri;p&&p!==g&&(this.logger_("switch media "+p+" -> "+g+" from "+a),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+a})),this.masterPlaylistLoader_.media(e,u)},t.startABRTimer_=function(){var e=this;this.stopABRTimer_(),this.abrTimer_=oe().setInterval(function(){return e.checkABR_()},250)},t.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(oe().clearInterval(this.abrTimer_),this.abrTimer_=null)},t.getAudioTrackPlaylists_=function(){var e=this.master(),a=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return a;var p,u=e.mediaGroups.AUDIO,d=Object.keys(u);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)p=this.mediaTypes_.AUDIO.activeTrack();else{var g=u.main||d.length&&u[d[0]];for(var E in g)if(g[E].default){p={label:E};break}}if(!p)return a;var N=[];for(var O in u)if(u[O][p.label]){var W=u[O][p.label];if(W.playlists&&W.playlists.length)N.push.apply(N,W.playlists);else if(W.uri)N.push(W);else if(e.playlists.length)for(var J=0;J<e.playlists.length;J++){var Y=e.playlists[J];Y.attributes&&Y.attributes.AUDIO&&Y.attributes.AUDIO===O&&N.push(Y)}}return N.length?N:a},t.setupMasterPlaylistLoaderListeners_=function(){var e=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var a=e.masterPlaylistLoader_.media(),u=1.5*a.targetDuration*1e3;e.requestOptions_.timeout=Yc(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?0:u,a.endList&&"none"!==e.tech_.preload()&&(e.mainSegmentLoader_.playlist(a,e.requestOptions_),e.mainSegmentLoader_.load()),function(n){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(J){a0[J](J,n)});var t=n.mediaTypes,r=n.masterPlaylistLoader,e=n.tech,a=n.vhs,u=n.segmentLoaders,d=u.AUDIO,p=u.main;["AUDIO","SUBTITLES"].forEach(function(J){t[J].activeGroup=function(n,t){return function(r){var a=t.mediaTypes[n].groups,u=t.masterPlaylistLoader.media();if(!u)return null;var d=null;u.attributes[n]&&(d=a[u.attributes[n]]);var p=Object.keys(a);if(!d)if("AUDIO"===n&&p.length>1&&hl(t.master))for(var g=0;g<p.length;g++){var E=a[p[g]];if(o0(E,u)){d=E;break}}else a.main?d=a.main:1===p.length&&(d=a[p[0]]);return void 0===r?d:null!==r&&d&&d.filter(function(N){return N.id===r.id})[0]||null}}(J,n),t[J].activeTrack=TT[J](J,n),t[J].onGroupChanged=function(n,t){return function(){var r=t.segmentLoaders,e=r[n],a=r.main,u=t.mediaTypes[n],d=u.activeTrack(),p=u.getActiveGroup(),g=u.activePlaylistLoader,E=u.lastGroup_;if((!p||!E||p.id!==E.id)&&(u.lastGroup_=p,u.lastTrack_=d,Af(e,u),p&&!p.isMasterPlaylist)){if(!p.playlistLoader)return void(g&&a.resetEverything());e.resyncLoader(),sg(p.playlistLoader,u)}}}(J,n),t[J].onGroupChanging=function(n,t){return function(){var r=t.segmentLoaders[n];t.mediaTypes[n].lastGroup_=null,r.abort(),r.pause()}}(J,n),t[J].onTrackChanged=function(n,t){return function(){var r=t.masterPlaylistLoader,e=t.segmentLoaders,a=e[n],u=e.main,d=t.mediaTypes[n],p=d.activeTrack(),g=d.getActiveGroup(),E=d.activePlaylistLoader,N=d.lastTrack_;if((!N||!p||N.id!==p.id)&&(d.lastGroup_=g,d.lastTrack_=p,Af(a,d),g)){if(g.isMasterPlaylist){if(!p||!N||p.id===N.id)return;var O=t.vhs.masterPlaylistController_,W=O.selectPlaylist();if(O.media()===W)return;return d.logger_("track change. Switching master audio from "+N.id+" to "+p.id),r.pause(),u.resetEverything(),void O.fastQualityChange_(W)}if("AUDIO"===n){if(!g.playlistLoader)return u.setAudio(!0),void u.resetEverything();a.setAudio(!0),u.setAudio(!1)}if(E===g.playlistLoader)return void sg(g.playlistLoader,d);a.track&&a.track(p),a.resetEverything(),sg(g.playlistLoader,d)}}}(J,n),t[J].getActiveGroup=function(n,t){var r=t.mediaTypes;return function(){var e=r[n].activeTrack();return e?r[n].activeGroup(e):null}}(J,n)});var g=t.AUDIO.activeGroup();if(g){var E=(g.filter(function(J){return J.default})[0]||g[0]).id;t.AUDIO.tracks[E].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged(),t.AUDIO.getActiveGroup().playlistLoader?(p.setAudio(!1),d.setAudio(!0)):p.setAudio(!0)}r.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(J){return t[J].onGroupChanged()})}),r.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(J){return t[J].onGroupChanging()})});var O=function(){t.AUDIO.onTrackChanged(),e.trigger({type:"usage",name:"vhs-audio-change"}),e.trigger({type:"usage",name:"hls-audio-change"})};for(var W in e.audioTracks().addEventListener("change",O),e.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),a.on("dispose",function(){e.audioTracks().removeEventListener("change",O),e.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),e.clearTracks("audio"),t.AUDIO.tracks)e.audioTracks().addTrack(t.AUDIO.tracks[W])}({sourceType:e.sourceType_,segmentLoaders:{AUDIO:e.audioSegmentLoader_,SUBTITLES:e.subtitleSegmentLoader_,main:e.mainSegmentLoader_},tech:e.tech_,requestOptions:e.requestOptions_,masterPlaylistLoader:e.masterPlaylistLoader_,vhs:e.vhs_,master:e.master(),mediaTypes:e.mediaTypes_,blacklistCurrentPlaylist:e.blacklistCurrentPlaylist.bind(e)}),e.triggerPresenceUsage_(e.master(),a),e.setupFirstPlay(),!e.mediaTypes_.AUDIO.activePlaylistLoader||e.mediaTypes_.AUDIO.activePlaylistLoader.media()?e.trigger("selectedinitialmedia"):e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){e.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){e.loadOnPlay_&&e.tech_.off("play",e.loadOnPlay_);var a=e.masterPlaylistLoader_.media();if(!a){var u;if(e.excludeUnsupportedVariants_(),e.enableLowInitialPlaylist&&(u=e.selectInitialPlaylist()),u||(u=e.selectPlaylist()),!u||!e.shouldSwitchToMedia_(u))return;if(e.initialMedia_=u,e.switchMedia_(e.initialMedia_,"initial"),"vhs-json"!==e.sourceType_||!e.initialMedia_.segments)return;a=e.initialMedia_}e.handleUpdatedMediaPlaylist(a)}),this.masterPlaylistLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){e.mainSegmentLoader_.abort(),e.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var a=e.masterPlaylistLoader_.media(),u=1.5*a.targetDuration*1e3;e.requestOptions_.timeout=Yc(e.masterPlaylistLoader_.master,e.masterPlaylistLoader_.media())?0:u,e.mainSegmentLoader_.playlist(a,e.requestOptions_),e.mainSegmentLoader_.load(),e.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var a=e.masterPlaylistLoader_.media();"playlist-unchanged"!==a.lastExcludeReason_&&e.stuckAtPlaylistEnd_(a)&&(e.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),e.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){e.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),e.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},t.handleUpdatedMediaPlaylist=function(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},t.triggerPresenceUsage_=function(e,a){var u=e.mediaGroups||{},d=!0,p=Object.keys(u.AUDIO);for(var g in u.AUDIO)for(var E in u.AUDIO[g])u.AUDIO[g][E].uri||(d=!1);d&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(u.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),aa.Playlist.isAes(a)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),p.length&&Object.keys(u.AUDIO[p[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},t.shouldSwitchToMedia_=function(e){var a=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,u=this.tech_.currentTime(),d=this.bufferLowWaterLine(),p=this.bufferHighWaterLine();return function(n){var t=n.currentPlaylist,r=n.buffered,e=n.currentTime,a=n.nextPlaylist,u=n.bufferLowWaterLine,d=n.bufferHighWaterLine,p=n.duration,g=n.experimentalBufferBasedABR,E=n.log;if(!a)return Ie.log.warn("We received no playlist to switch to. Please check your stream."),!1;var N="allowing switch "+(t&&t.id||"null")+" -> "+a.id;if(!t)return E(N+" as current playlist is not set"),!0;if(a.id===t.id)return!1;var O=Boolean(cl(r,e).length);if(!t.endList)return O||"number"!=typeof t.partTargetDuration?(E(N+" as current playlist is live"),!0):(E("not "+N+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);var W=Do(r,e),J=g?fi.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:fi.MAX_BUFFER_LOW_WATER_LINE;if(p<J)return E(N+" as duration < max low water line ("+p+" < "+J+")"),!0;var Y=a.attributes.BANDWIDTH,Q=t.attributes.BANDWIDTH;if(Y<Q&&(!g||W<d)){var Pe=N+" as next bandwidth < current bandwidth ("+Y+" < "+Q+")";return g&&(Pe+=" and forwardBuffer < bufferHighWaterLine ("+W+" < "+d+")"),E(Pe),!0}if((!g||Y>Q)&&W>=u){var ke=N+" as forwardBuffer >= bufferLowWaterLine ("+W+" >= "+u+")";return g&&(ke+=" and next bandwidth > current bandwidth ("+Y+" > "+Q+")"),E(ke),!0}return E("not "+N+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:u,currentPlaylist:a,nextPlaylist:e,bufferLowWaterLine:d,bufferHighWaterLine:p,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},t.setupSegmentLoaderListeners_=function(){var e=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var u=e.selectPlaylist();e.shouldSwitchToMedia_(u)&&e.switchMedia_(u,"bandwidthupdate"),e.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){e.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){e.error=e.mainSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){e.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),e.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){e.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){e.error=e.audioSegmentLoader_.error_,e.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){e.logger_("main segment loader ended"),e.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(u){e.experimentalBufferBasedABR||(e.delegateLoaders_("all",["abort"]),e.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))});var a=function(){if(!e.sourceUpdater_.hasCreatedSourceBuffers())return e.tryToCreateSourceBuffers_();var d=e.getCodecsOrExclude_();!d||e.sourceUpdater_.addOrChangeSourceBuffers(d)};this.mainSegmentLoader_.on("trackinfo",a),this.audioSegmentLoader_.on("trackinfo",a),this.mainSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){e.triggeredFmp4Usage||(e.tech_.trigger({type:"usage",name:"vhs-fmp4"}),e.tech_.trigger({type:"usage",name:"hls-fmp4"}),e.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){e.logger_("audioSegmentLoader ended"),e.onEndOfStream()})},t.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},t.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},t.smoothQualityChange_=function(e){void 0===e&&(e=this.selectPlaylist()),this.fastQualityChange_(e)},t.fastQualityChange_=function(e){var a=this;void 0===e&&(e=this.selectPlaylist()),e!==this.masterPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){a.tech_.setCurrentTime(Ie.browser.IE_VERSION||Ie.browser.IS_EDGE?a.tech_.currentTime()+.04:a.tech_.currentTime())})):this.logger_("skipping fastQualityChange because new media is same as old")},t.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}},t.setupFirstPlay=function(){var e=this,a=this.masterPlaylistLoader_.media();if(!a||this.tech_.paused()||this.hasPlayed_)return!1;if(!a.endList){var u=this.seekable();if(!u.length)return!1;if(Ie.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){e.trigger("firstplay"),e.tech_.setCurrentTime(u.end(0)),e.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(u.end(0))}return this.hasPlayed_=!0,this.load(),!0},t.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,function(a){})}this.trigger("sourceopen")},t.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var e=this.inbandTextTracks_.metadataTrack_.cues;if(e&&e.length){var a=this.duration();e[e.length-1].endTime=isNaN(a)||Math.abs(a)===1/0?Number.MAX_VALUE:a}}},t.handleDurationChange_=function(){this.tech_.trigger("durationchange")},t.onEndOfStream=function(){var e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var a=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!a||a.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}!e||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},t.stuckAtPlaylistEnd_=function(e){if(!this.seekable().length)return!1;var u=this.syncController_.getExpiredTime(e,this.duration());if(null===u)return!1;var d=aa.Playlist.playlistEnd(e,u),p=this.tech_.currentTime(),g=this.tech_.buffered();if(!g.length)return d-p<=ta;var E=g.end(g.length-1);return E-p<=ta&&d-E<=ta},t.blacklistCurrentPlaylist=function(e,a){void 0===e&&(e={});var u=e.playlist||this.masterPlaylistLoader_.media();if(a=a||e.blacklistDuration||this.blacklistDuration,!u)return this.error=e,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));u.playlistErrors_++;var N,d=this.masterPlaylistLoader_.master.playlists,p=d.filter(qc),g=1===p.length&&p[0]===u;if(1===d.length&&a!==1/0)return Ie.log.warn("Problem encountered with playlist "+u.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(g);if(g){var E=!1;d.forEach(function(Pe){if(Pe!==u){var ke=Pe.excludeUntil;void 0!==ke&&ke!==1/0&&(E=!0,delete Pe.excludeUntil)}}),E&&(Ie.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}N=u.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*a,u.excludeUntil=N,e.reason&&(u.lastExcludeReason_=e.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var O=this.selectPlaylist();if(!O)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");(e.internal?this.logger_:Ie.log.warn)((e.internal?"Internal problem":"Problem")+" encountered with playlist "+u.id+"."+(e.message?" "+e.message:"")+" Switching to playlist "+O.id+"."),O.attributes.AUDIO!==u.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),O.attributes.SUBTITLES!==u.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var Y=O.targetDuration/2*1e3||5e3,Q="number"==typeof O.lastRequest&&Date.now()-O.lastRequest<=Y;return this.switchMedia_(O,"exclude",g||Q)},t.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},t.delegateLoaders_=function(e,a){var u=this,d=[],p="all"===e;(p||"main"===e)&&d.push(this.masterPlaylistLoader_);var g=[];(p||"audio"===e)&&g.push("AUDIO"),(p||"subtitle"===e)&&(g.push("CLOSED-CAPTIONS"),g.push("SUBTITLES")),g.forEach(function(E){var N=u.mediaTypes_[E]&&u.mediaTypes_[E].activePlaylistLoader;N&&d.push(N)}),["main","audio","subtitle"].forEach(function(E){var N=u[E+"SegmentLoader_"];N&&(e===E||"all"===e)&&d.push(N)}),d.forEach(function(E){return a.forEach(function(N){"function"==typeof E[N]&&E[N]()})})},t.setCurrentTime=function(e){var a=cl(this.tech_.buffered(),e);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?a&&a.length?e:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},t.duration=function(){if(!this.masterPlaylistLoader_)return 0;var e=this.masterPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:aa.Playlist.duration(e):1/0:0},t.seekable=function(){return this.seekable_},t.onSyncInfoUpdate_=function(){var e;if(this.masterPlaylistLoader_){var a=this.masterPlaylistLoader_.media();if(a){var u=this.syncController_.getExpiredTime(a,this.duration());if(null!==u){var g,E,d=this.masterPlaylistLoader_.master,p=aa.Playlist.seekable(a,u,aa.Playlist.liveEdgeDelay(d,a));0===p.length||this.mediaTypes_.AUDIO.activePlaylistLoader&&(a=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(u=this.syncController_.getExpiredTime(a,this.duration()))||0===(e=aa.Playlist.seekable(a,u,aa.Playlist.liveEdgeDelay(d,a))).length)||(this.seekable_&&this.seekable_.length&&(g=this.seekable_.end(0),E=this.seekable_.start(0)),this.seekable_=e?e.start(0)>p.end(0)||p.start(0)>e.end(0)?p:Ie.createTimeRanges([[e.start(0)>p.start(0)?e.start(0):p.start(0),e.end(0)<p.end(0)?e.end(0):p.end(0)]]):p,(!this.seekable_||!this.seekable_.length||this.seekable_.end(0)!==g||this.seekable_.start(0)!==E)&&(this.logger_("seekable updated ["+yp(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")))}}}},t.updateDuration=function(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){var a=this.seekable();if(!a.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<a.end(a.length-1))&&this.sourceUpdater_.setDuration(a.end(a.length-1))}else{var u=this.tech_.buffered(),d=aa.Playlist.duration(this.masterPlaylistLoader_.media());u.length>0&&(d=Math.max(d,u.end(u.length-1))),this.mediaSource.duration!==d&&this.sourceUpdater_.setDuration(d)}},t.dispose=function(){var e=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(a){var u=e.mediaTypes_[a].groups;for(var d in u)u[d].forEach(function(p){p.playlistLoader&&p.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},t.master=function(){return this.masterPlaylistLoader_.master},t.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},t.areMediaTypesKnown_=function(){var e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,a=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),u=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!a||!u)},t.getCodecsOrExclude_=function(){var e=this,a={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};a.video=a.main;var u=xo(this.master(),this.media()),d={},p=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(a.main.hasVideo&&(d.video=u.video||a.main.videoCodec||"avc1.4d400d"),a.main.isMuxed&&(d.video+=","+(u.audio||a.main.audioCodec||Zl)),(a.main.hasAudio&&!a.main.isMuxed||a.audio.hasAudio||p)&&(d.audio=u.audio||a.main.audioCodec||a.audio.audioCodec||Zl,a.audio.isFmp4=a.main.hasAudio&&!a.main.isMuxed?a.main.isFmp4:a.audio.isFmp4),d.audio||d.video){var N,E={};if(["video","audio"].forEach(function(Y){if(d.hasOwnProperty(Y)&&!function(Q,Pe){return Q?Ha(Pe):Iu(Pe)}(a[Y].isFmp4,d[Y])){var Q=a[Y].isFmp4?"browser":"muxer";E[Q]=E[Q]||[],E[Q].push(d[Y]),"audio"===Y&&(N=Q)}}),p&&N&&this.media().attributes.AUDIO){var O=this.media().attributes.AUDIO;this.master().playlists.forEach(function(Y){(Y.attributes&&Y.attributes.AUDIO)===O&&Y!==e.media()&&(Y.excludeUntil=1/0)}),this.logger_("excluding audio group "+O+" as "+N+' does not support codec(s): "'+d.audio+'"')}if(!Object.keys(E).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var J=[];if(["video","audio"].forEach(function(Y){var Q=(fs(e.sourceUpdater_.codecs[Y]||"")[0]||{}).type,Pe=(fs(d[Y]||"")[0]||{}).type;Q&&Pe&&Q.toLowerCase()!==Pe.toLowerCase()&&J.push('"'+e.sourceUpdater_.codecs[Y]+'" -> "'+d[Y]+'"')}),J.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+J.join(", ")+".",blacklistDuration:1/0,internal:!0})}return d}var W=Object.keys(E).reduce(function(Y,Q){return Y&&(Y+=", "),Y+(Q+' does not support codec(s): "')+E[Q].join(",")+'"'},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:W,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},t.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var e=this.getCodecsOrExclude_();if(e){this.sourceUpdater_.createSourceBuffers(e);var a=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(a)}}},t.excludeUnsupportedVariants_=function(){var e=this,a=this.master().playlists,u=[];Object.keys(a).forEach(function(d){var p=a[d];if(-1===u.indexOf(p.id)){u.push(p.id);var g=xo(e.master,p),E=[];g.audio&&!Iu(g.audio)&&!Ha(g.audio)&&E.push("audio codec "+g.audio),g.video&&!Iu(g.video)&&!Ha(g.video)&&E.push("video codec "+g.video),g.text&&"stpp.ttml.im1t"===g.text&&E.push("text codec "+g.text),E.length&&(p.excludeUntil=1/0,e.logger_("excluding "+p.id+" for unsupported: "+E.join(", ")))}})},t.excludeIncompatibleVariants_=function(e){var a=this,u=[],d=this.master().playlists,p=Dl(fs(e)),g=Vv(p),E=p.video&&fs(p.video)[0]||null,N=p.audio&&fs(p.audio)[0]||null;Object.keys(d).forEach(function(O){var W=d[O];if(-1===u.indexOf(W.id)&&W.excludeUntil!==1/0){u.push(W.id);var J=[],Y=xo(a.masterPlaylistLoader_.master,W),Q=Vv(Y);if(Y.audio||Y.video){if(Q!==g&&J.push('codec count "'+Q+'" !== "'+g+'"'),!a.sourceUpdater_.canChangeType()){var Pe=Y.video&&fs(Y.video)[0]||null,ke=Y.audio&&fs(Y.audio)[0]||null;Pe&&E&&Pe.type.toLowerCase()!==E.type.toLowerCase()&&J.push('video codec "'+Pe.type+'" !== "'+E.type+'"'),ke&&N&&ke.type.toLowerCase()!==N.type.toLowerCase()&&J.push('audio codec "'+ke.type+'" !== "'+N.type+'"')}J.length&&(W.excludeUntil=1/0,a.logger_("blacklisting "+W.id+": "+J.join(" && ")))}}})},t.updateAdCues_=function(e){var a=0,u=this.seekable();u.length&&(a=u.start(0)),function(n,t,r){if(void 0===r&&(r=0),n.segments)for(var a,e=r,u=0;u<n.segments.length;u++){var d=n.segments[u];if(a||(a=mT(t,e+d.duration/2)),a){if("cueIn"in d){a.endTime=e,a.adEndTime=e,e+=d.duration,a=null;continue}if(e<a.endTime){e+=d.duration;continue}a.endTime+=d.duration}else if("cueOut"in d&&((a=new(oe().VTTCue)(e,e+d.duration,d.cueOut)).adStartTime=e,a.adEndTime=e+parseFloat(d.cueOut),t.addCue(a)),"cueOutCont"in d){var p=d.cueOutCont.split("/").map(parseFloat),g=p[0],E=p[1];(a=new(oe().VTTCue)(e,e+d.duration,"")).adStartTime=e-g,a.adEndTime=a.adStartTime+E,t.addCue(a)}e+=d.duration}}(e,this.cueTagsTrack_,a)},t.goalBufferLength=function(){var e=this.tech_.currentTime(),a=fi.GOAL_BUFFER_LENGTH,u=fi.GOAL_BUFFER_LENGTH_RATE,d=Math.max(a,fi.MAX_GOAL_BUFFER_LENGTH);return Math.min(a+e*u,d)},t.bufferLowWaterLine=function(){var e=this.tech_.currentTime(),a=fi.BUFFER_LOW_WATER_LINE,u=fi.BUFFER_LOW_WATER_LINE_RATE,d=Math.max(a,fi.MAX_BUFFER_LOW_WATER_LINE),p=Math.max(a,fi.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(a+e*u,this.experimentalBufferBasedABR?p:d)},t.bufferHighWaterLine=function(){return fi.BUFFER_HIGH_WATER_LINE},n}(Ie.EventTarget),g0=function(n,t,r){var e=n.masterPlaylistController_,d=e[(n.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(e);if(t.attributes){var p=t.attributes.RESOLUTION;this.width=p&&p.width,this.height=p&&p.height,this.bandwidth=t.attributes.BANDWIDTH}this.codecs=xo(e.master(),t),this.playlist=t,this.id=r,this.enabled=function(n,t,r){return function(e){var a=n.master.playlists[t],u=hv(a),d=qc(a);return void 0===e?d:(e?delete a.disabled:a.disabled=!0,e!==d&&!u&&(r(),n.trigger(e?"renditionenabled":"renditiondisabled")),e)}}(n.playlists,t.id,d)},v0=["seeking","seeked","pause","playing","error"],bT=function(){function l(t){var r=this;this.masterPlaylistController_=t.masterPlaylistController,this.tech_=t.tech,this.seekable=t.seekable,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=t.liveRangeSafeTimeDelta,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=ms("PlaybackWatcher"),this.logger_("initialize");var e=function(){return r.monitorCurrentTime_()},a=function(){return r.monitorCurrentTime_()},u=function(){return r.techWaiting_()},d=function(){return r.cancelTimer_()},p=this.masterPlaylistController_,g=["main","subtitle","audio"],E={};g.forEach(function(O){E[O]={reset:function(){return r.resetSegmentDownloads_(O)},updateend:function(){return r.checkSegmentDownloads_(O)}},p[O+"SegmentLoader_"].on("appendsdone",E[O].updateend),p[O+"SegmentLoader_"].on("playlistupdate",E[O].reset),r.tech_.on(["seeked","seeking"],E[O].reset)});var N=function(W){["main","audio"].forEach(function(J){p[J+"SegmentLoader_"][W]("appended",r.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){r.fixesBadSeeks_()&&(r.consecutiveUpdates=0,r.lastRecordedTime=r.tech_.currentTime(),N("off"))},this.clearSeekingAppendCheck_=function(){return N("off")},this.watchForBadSeeking_=function(){r.clearSeekingAppendCheck_(),N("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",u),this.tech_.on(v0,d),this.tech_.on("canplay",a),this.tech_.one("play",e),this.dispose=function(){r.clearSeekingAppendCheck_(),r.logger_("dispose"),r.tech_.off("waiting",u),r.tech_.off(v0,d),r.tech_.off("canplay",a),r.tech_.off("play",e),r.tech_.off("seeking",r.watchForBadSeeking_),r.tech_.off("seeked",r.clearSeekingAppendCheck_),g.forEach(function(O){p[O+"SegmentLoader_"].off("appendsdone",E[O].updateend),p[O+"SegmentLoader_"].off("playlistupdate",E[O].reset),r.tech_.off(["seeked","seeking"],E[O].reset)}),r.checkCurrentTimeTimeout_&&oe().clearTimeout(r.checkCurrentTimeTimeout_),r.cancelTimer_()}}var n=l.prototype;return n.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&oe().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=oe().setTimeout(this.monitorCurrentTime_.bind(this),250)},n.resetSegmentDownloads_=function(r){var e=this.masterPlaylistController_[r+"SegmentLoader_"];this[r+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+r+" loader"),this[r+"StalledDownloads_"]=0,this[r+"Buffered_"]=e.buffered_()},n.checkSegmentDownloads_=function(r){var e=this.masterPlaylistController_,a=e[r+"SegmentLoader_"],u=a.buffered_(),d=function(n,t){if(n===t)return!1;if(!n&&t||!t&&n||n.length!==t.length)return!0;for(var r=0;r<n.length;r++)if(n.start(r)!==t.start(r)||n.end(r)!==t.end(r))return!0;return!1}(this[r+"Buffered_"],u);this[r+"Buffered_"]=u,d?this.resetSegmentDownloads_(r):(this[r+"StalledDownloads_"]++,this.logger_("found #"+this[r+"StalledDownloads_"]+" "+r+" appends that did not increase buffer (possible stalled download)",{playlistId:a.playlist_&&a.playlist_.id,buffered:Co(u)}),!(this[r+"StalledDownloads_"]<10)&&(this.logger_(r+" loader stalled download exclusion"),this.resetSegmentDownloads_(r),this.tech_.trigger({type:"usage",name:"vhs-"+r+"-download-exclusion"}),"subtitle"!==r&&e.blacklistCurrentPlaylist({message:"Excessive "+r+" segment downloading detected."},1/0)))},n.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var r=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===r&&(!e.length||r+ta>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&r===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):r===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=r)}},n.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},n.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var d,e=this.seekable(),a=this.tech_.currentTime();if(this.afterSeekableWindow_(e,a,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(d=e.end(e.length-1)),this.beforeSeekableWindow_(e,a)){var g=e.start(0);d=g+(g===e.end(0)?0:ta)}if(void 0!==d)return this.logger_("Trying to seek outside of seekable at time "+a+" with seekable range "+yp(e)+". Seeking to "+d+"."),this.tech_.setCurrentTime(d),!0;for(var E=this.masterPlaylistController_.sourceUpdater_,N=this.tech_.buffered(),O=E.audioBuffer?E.audioBuffered():null,W=E.videoBuffer?E.videoBuffered():null,J=this.media(),Y=J.partTargetDuration?J.partTargetDuration:2*(J.targetDuration-no),Q=[O,W],Pe=0;Pe<Q.length;Pe++)if(Q[Pe]&&Do(Q[Pe],a)<Y)return!1;var je=dl(N,a);return 0!==je.length&&(d=je.start(0)+ta,this.logger_("Buffered region starts ("+je.start(0)+")  just beyond seek point ("+a+"). Seeking to "+d+"."),this.tech_.setCurrentTime(d),!0)},n.waiting_=function(){if(!this.techWaiting_()){var r=this.tech_.currentTime(),e=this.tech_.buffered(),a=cl(e,r);if(a.length&&r+3<=a.end(0))return this.cancelTimer_(),this.tech_.setCurrentTime(r),this.logger_("Stopped at "+r+" while inside a buffered region ["+a.start(0)+" -> "+a.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})}},n.techWaiting_=function(){var r=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(r,e)){var a=r.end(r.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+a),this.cancelTimer_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var u=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,d=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:u.audioBuffered(),videoBuffered:u.videoBuffered(),currentTime:e}))return this.cancelTimer_(),this.tech_.setCurrentTime(e),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var g=dl(d,e);if(g.length>0){var E=g.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+E+", seeking to "+g.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*E,e),!0}return!1},n.afterSeekableWindow_=function(r,e,a,u){if(void 0===u&&(u=!1),!r.length)return!1;var d=r.end(r.length-1)+ta;return!a.endList&&u&&(d=r.end(r.length-1)+3*a.targetDuration),e>d},n.beforeSeekableWindow_=function(r,e){return!!(r.length&&r.start(0)>0&&e<r.start(0)-this.liveRangeSafeTimeDelta)},n.videoUnderflow_=function(r){var e=r.videoBuffered,a=r.audioBuffered,u=r.currentTime;if(e){var d;if(e.length&&a.length){var p=cl(e,u-3),g=cl(e,u),E=cl(a,u);E.length&&!g.length&&p.length&&(d={start:p.end(0),end:E.end(0)})}else dl(e,u).length||(d=this.gapFromVideoUnderflow_(e,u));return!!d&&(this.logger_("Encountered a gap in video from "+d.start+" to "+d.end+". Seeking to current time "+u),!0)}},n.skipTheGap_=function(r){var e=this.tech_.buffered(),a=this.tech_.currentTime(),u=dl(e,a);this.cancelTimer_(),0!==u.length&&a===r&&(this.logger_("skipTheGap_:","currentTime:",a,"scheduled currentTime:",r,"nextRange start:",u.start(0)),this.tech_.setCurrentTime(u.start(0)+no),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},n.gapFromVideoUnderflow_=function(r,e){for(var a=function(n){if(n.length<2)return Ie.createTimeRanges();for(var t=[],r=1;r<n.length;r++){var e=n.end(r-1),a=n.start(r);t.push([e,a])}return Ie.createTimeRanges(t)}(r),u=0;u<a.length;u++){var d=a.start(u),p=a.end(u);if(e-d<4&&e-d>2)return{start:d,end:p}}return null},l}(),ST={errorInterval:30,getSource:function(n){return n(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},ET=function l(n,t){var r=0,e=0,a=Ie.mergeOptions(ST,t);n.ready(function(){n.trigger({type:"usage",name:"vhs-error-reload-initialized"}),n.trigger({type:"usage",name:"hls-error-reload-initialized"})});var u=function(){e&&n.currentTime(e)},d=function(O){null!=O&&(e=n.duration()!==1/0&&n.currentTime()||0,n.one("loadedmetadata",u),n.src(O),n.trigger({type:"usage",name:"vhs-error-reload"}),n.trigger({type:"usage",name:"hls-error-reload"}),n.play())},p=function(){return Date.now()-r<1e3*a.errorInterval?(n.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void n.trigger({type:"usage",name:"hls-error-reload-canceled"})):a.getSource&&"function"==typeof a.getSource?(r=Date.now(),a.getSource.call(n,d)):void Ie.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},g=function N(){n.off("loadedmetadata",u),n.off("error",p),n.off("dispose",N)};n.on("error",p),n.on("dispose",g),n.reloadSourceOnError=function(O){g(),l(n,O)}},Si={PlaylistLoader:ra,Playlist:vs,utils:_l,STANDARD_PLAYLIST_SELECTOR:Kp,INITIAL_PLAYLIST_SELECTOR:function(){var n=this,t=this.playlists.master.playlists.filter(vs.isEnabled);return xl(t,function(e,a){return wl(e,a)}),t.filter(function(e){return!!xo(n.playlists.master,e).video})[0]||null},lastBandwidthSelector:Kp,movingAverageBandwidthSelector:function(n){var t=-1,r=-1;if(n<0||n>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var e=this.useDevicePixelRatio&&oe().devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(t=n*this.systemBandwidth+(1-n)*t,r=this.systemBandwidth),zp(this.playlists.master,t,parseInt($p(this.tech_.el(),"width"),10)*e,parseInt($p(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:wl,comparePlaylistResolution:function(n,t){var r,e;return n.attributes.RESOLUTION&&n.attributes.RESOLUTION.width&&(r=n.attributes.RESOLUTION.width),r=r||oe().Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(e=t.attributes.RESOLUTION.width),r===(e=e||oe().Number.MAX_VALUE)&&n.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?n.attributes.BANDWIDTH-t.attributes.BANDWIDTH:r-e},xhr:_v()};Object.keys(fi).forEach(function(l){Object.defineProperty(Si,l,{get:function(){return Ie.log.warn("using Vhs."+l+" is UNSAFE be sure you know what you are doing"),fi[l]},set:function(t){Ie.log.warn("using Vhs."+l+" is UNSAFE be sure you know what you are doing"),"number"!=typeof t||t<0?Ie.log.warn("value of Vhs."+l+" must be greater than or equal to 0"):fi[l]=t}})});var _0="videojs-vhs",T0=function(n,t){for(var r=t.media(),e=-1,a=0;a<n.length;a++)if(n[a].id===r.id){e=a;break}n.selectedIndex_=e,n.trigger({selectedIndex:e,type:"change"})};Si.canPlaySource=function(){return Ie.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ug=function(){if(!oe().localStorage)return null;var n=oe().localStorage.getItem(_0);if(!n)return null;try{return JSON.parse(n)}catch(t){return null}};Si.supportsNativeHls=function(){if(!at()||!at().createElement)return!1;var l=at().createElement("video");return!!Ie.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(l.canPlayType(t))})}(),Si.supportsNativeDash=!!(at()&&at().createElement&&Ie.getTech("Html5").isSupported())&&/maybe|probably/i.test(at().createElement("video").canPlayType("application/dash+xml")),Si.supportsTypeNatively=function(l){return"hls"===l?Si.supportsNativeHls:"dash"===l&&Si.supportsNativeDash},Si.isSupported=function(){return Ie.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Pf=function(l){function n(r,e,a){var u;if(u=l.call(this,e,Ie.mergeOptions(a.hls,a.vhs))||this,a.hls&&Object.keys(a.hls).length&&Ie.log.warn("Using hls options is deprecated. Use vhs instead."),"number"==typeof a.initialBandwidth&&(u.options_.bandwidth=a.initialBandwidth),u.logger_=ms("VhsHandler"),e.options_&&e.options_.playerId){var d=Ie(e.options_.playerId);d.hasOwnProperty("hls")||Object.defineProperty(d,"hls",{get:function(){return Ie.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),e.trigger({type:"usage",name:"hls-player-access"}),Kt(u)},configurable:!0}),d.hasOwnProperty("vhs")||Object.defineProperty(d,"vhs",{get:function(){return Ie.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),e.trigger({type:"usage",name:"vhs-player-access"}),Kt(u)},configurable:!0}),d.hasOwnProperty("dash")||Object.defineProperty(d,"dash",{get:function(){return Ie.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Kt(u)},configurable:!0}),u.player_=d}if(u.tech_=e,u.source_=r,u.stats={},u.ignoreNextSeekingEvent_=!1,u.setOptions_(),u.options_.overrideNative&&e.overrideNativeAudioTracks&&e.overrideNativeVideoTracks)e.overrideNativeAudioTracks(!0),e.overrideNativeVideoTracks(!0);else if(u.options_.overrideNative&&(e.featuresNativeVideoTracks||e.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return u.on(at(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(p){var g=at().fullscreenElement||at().webkitFullscreenElement||at().mozFullScreenElement||at().msFullscreenElement;g&&g.contains(u.tech_.el())?u.masterPlaylistController_.fastQualityChange_():u.masterPlaylistController_.checkABR_()}),u.on(u.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),u.on(u.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),u.on(u.tech_,"play",u.play),u}Dt(n,l);var t=n.prototype;return t.setOptions_=function(){var e=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var a=ug();a&&a.bandwidth&&(this.options_.bandwidth=a.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),a&&a.throughput&&(this.options_.throughput=a.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=fi.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===fi.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(u){void 0!==e.source_[u]&&(e.options_[u]=e.source_[u])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},t.src=function(e,a){var u=this;if(e){this.setOptions_(),this.options_.src=function(n){return 0===n.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(n.substring(n.indexOf(",")+1)):n}(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=Si,this.options_.sourceType=oi(a),this.options_.seekTo=function(g){u.tech_.setCurrentTime(g)},this.options_.smoothQualityChange&&Ie.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new h0(this.options_);var d=Ie.mergeOptions({liveRangeSafeTimeDelta:ta},this.options_,{seekable:function(){return u.seekable()},media:function(){return u.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new bT(d),this.masterPlaylistController_.on("error",function(){var g=Ie.players[u.tech_.options_.playerId],E=u.masterPlaylistController_.error;"object"!=typeof E||E.code?"string"==typeof E&&(E={message:E,code:3}):E.code=3,g.error(E)});var p=this.options_.experimentalBufferBasedABR?Si.movingAverageBandwidthSelector(.55):Si.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):p.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Si.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(E){this.masterPlaylistController_.selectPlaylist=E.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(E){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=E,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var E=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,N=oe().navigator.connection||oe().navigator.mozConnection||oe().navigator.webkitConnection,O=1e7;if(this.options_.useNetworkInformationApi&&N){var W=1e3*N.downlink*1e3;E=W>=O&&E>=O?Math.max(E,W):W}return E},set:function(E){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=E,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){return Math.floor(1/(1/(this.bandwidth||1)+(this.throughput>0?1/this.throughput:0)))},set:function(){Ie.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return u.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return u.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return u.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return u.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return u.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return u.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return u.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return u.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return u.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return u.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return u.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return u.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return u.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Co(u.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return u.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return u.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return u.tech_.name_},enumerable:!0},duration:{get:function(){return u.tech_.duration()},enumerable:!0},master:{get:function(){return u.playlists.master},enumerable:!0},playerDimensions:{get:function(){return u.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Co(u.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return u.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){u.options_.useBandwidthFromLocalStorage&&function(n){if(!oe().localStorage)return!1;var t=ug();t=t?Ie.mergeOptions(t,n):n;try{oe().localStorage.setItem(_0,JSON.stringify(t))}catch(r){return!1}}({bandwidth:u.bandwidth,throughput:Math.round(u.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(n){n.representations=function(){var t=n.masterPlaylistController_.master(),r=hl(t)?n.masterPlaylistController_.getAudioTrackPlaylists_():t.playlists;return r?r.filter(function(e){return!hv(e)}).map(function(e,a){return new g0(n,e,e.id)}):[]}}(u)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){u.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=oe().URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},t.createKeySessions_=function(){var e=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),function(n){var t=n.player,r=n.sourceKeySystems,e=n.audioMedia,a=n.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var d=function(n,t){return n.reduce(function(r,e){if(!e.contentProtection)return r;var a=t.reduce(function(u,d){var p=e.contentProtection[d];return p&&p.pssh&&(u[d]={pssh:p.pssh}),u},{});return Object.keys(a).length&&r.push(a),r},[])}(e?a.concat([e]):a,Object.keys(r)),p=[],g=[];return d.forEach(function(E){g.push(new Promise(function(N,O){t.tech_.one("keysessioncreated",N)})),p.push(new Promise(function(N,O){t.eme.initializeMediaKeys({keySystems:E},function(W){W?O(W):N()})}))}),Promise.race([Promise.all(p),Promise.race(g)])}({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:a&&a.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){e.logger_("created EME key session"),e.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(u){e.logger_("error while creating EME key session",u),e.player_.error({message:"Failed to initialize media keys for EME",code:3})})},t.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},t.setupEme_=function(){var e=this,a=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,u=function(n){var t=n.player,u=function(n,t,r){if(!n)return n;var e={};t&&t.attributes&&t.attributes.CODECS&&(e=Dl(fs(t.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(e.audio=r.attributes.CODECS);var a=ho(e.video),u=ho(e.audio),d={};for(var p in n)d[p]={},u&&(d[p].audioContentType=u),a&&(d[p].videoContentType=a),t.contentProtection&&t.contentProtection[p]&&t.contentProtection[p].pssh&&(d[p].pssh=t.contentProtection[p].pssh),"string"==typeof n[p]&&(d[p].url=n[p]);return Ie.mergeOptions(n,d)}(n.sourceKeySystems,n.media,n.audioMedia);return!(!u||(t.currentSource().keySystems=u,u&&!t.eme&&(Ie.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1)))}({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:a&&a.media()});this.player_.tech_.on("keystatuschange",function(d){"output-restricted"===d.status&&e.masterPlaylistController_.blacklistCurrentPlaylist({playlist:e.masterPlaylistController_.media(),message:"DRM keystatus changed to "+d.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==Ie.browser.IE_VERSION&&u?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},t.setupQualityLevels_=function(){var e=this,a=Ie.players[this.tech_.options_.playerId];!a||!a.qualityLevels||this.qualityLevels_||(this.qualityLevels_=a.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(n,t){t.representations().forEach(function(r){n.addQualityLevel(r)}),T0(n,t.playlists)}(e.qualityLevels_,e)}),this.playlists.on("mediachange",function(){T0(e.qualityLevels_,e.playlists)}))},n.version=function(){return{"@videojs/http-streaming":"2.13.1","mux.js":"6.0.1","mpd-parser":"0.21.0","m3u8-parser":"4.7.0","aes-decrypter":"3.1.2"}},t.version=function(){return this.constructor.version()},t.canChangeType=function(){return gT.canChangeType()},t.play=function(){this.masterPlaylistController_.play()},t.setCurrentTime=function(e){this.masterPlaylistController_.setCurrentTime(e)},t.duration=function(){return this.masterPlaylistController_.duration()},t.seekable=function(){return this.masterPlaylistController_.seekable()},t.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&oe().URL.revokeObjectURL&&(oe().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),l.prototype.dispose.call(this)},t.convertToProgramTime=function(e,a){return function(n){var t=n.playlist,r=n.time,e=void 0===r?void 0:r,a=n.callback;if(!a)throw new Error("getProgramTime: callback must be provided");if(!t||void 0===e)return a({message:"getProgramTime: playlist and time must be provided"});var u=function(n,t){if(!t||!t.segments||0===t.segments.length)return null;for(var e,r=0,a=0;a<t.segments.length&&!(n<=(r=(e=t.segments[a]).videoTimingInfo?e.videoTimingInfo.transmuxedPresentationEnd:r+e.duration));a++);var u=t.segments[t.segments.length-1];if(u.videoTimingInfo&&u.videoTimingInfo.transmuxedPresentationEnd<n)return null;if(n>r){if(n>r+.25*u.duration)return null;e=u}return{segment:e,estimatedStart:e.videoTimingInfo?e.videoTimingInfo.transmuxedPresentationStart:r-e.duration,type:e.videoTimingInfo?"accurate":"estimate"}}(e,t);if(!u)return a({message:"valid programTime was not found"});if("estimate"===u.type)return a({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:u.estimatedStart});var d={mediaSeconds:e},p=function(n,t){if(!t.dateTimeObject)return null;var u=n-(t.videoTimingInfo.transmuxedPresentationStart+t.videoTimingInfo.transmuxerPrependedSeconds);return new Date(t.dateTimeObject.getTime()+1e3*u)}(e,u.segment);return p&&(d.programDateTime=p.toISOString()),a(null,d)}({playlist:this.masterPlaylistController_.media(),time:e,callback:a})},t.seekToProgramTime=function(e,a,u,d){return void 0===u&&(u=!0),void 0===d&&(d=2),Ev({programTime:e,playlist:this.masterPlaylistController_.media(),retryCount:d,pauseAfterSeek:u,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:a})},n}(Ie.getComponent("Component")),sd={name:"videojs-http-streaming",VERSION:"2.13.1",canHandleSource:function(n,t){void 0===t&&(t={});var r=Ie.mergeOptions(Ie.options,t);return sd.canPlayType(n.type,r)},handleSource:function(n,t,r){void 0===r&&(r={});var e=Ie.mergeOptions(Ie.options,r);return t.vhs=new Pf(n,t,e),Ie.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return Ie.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=_v(),t.vhs.src(n.src,n.type),t.vhs},canPlayType:function(n,t){void 0===t&&(t={});var r=Ie.mergeOptions(Ie.options,t),e=r.vhs,a=(e=void 0===e?{}:e).overrideNative,u=void 0===a?!Ie.browser.IS_ANY_SAFARI:a,d=r.hls,p=(d=void 0===d?{}:d).overrideNative,g=void 0!==p&&p,E=oi(n);return E&&(!Si.supportsTypeNatively(E)||g||u)?"maybe":""}};Ha("avc1.4d400d,mp4a.40.2")&&Ie.getTech("Html5").registerSourceHandler(sd,0),Ie.VhsHandler=Pf,Object.defineProperty(Ie,"HlsHandler",{get:function(){return Ie.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),Pf},configurable:!0}),Ie.VhsSourceHandler=sd,Object.defineProperty(Ie,"HlsSourceHandler",{get:function(){return Ie.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),sd},configurable:!0}),Ie.Vhs=Si,Object.defineProperty(Ie,"Hls",{get:function(){return Ie.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),Si},configurable:!0}),Ie.use||(Ie.registerComponent("Hls",Si),Ie.registerComponent("Vhs",Si)),Ie.options.vhs=Ie.options.vhs||{},Ie.options.hls=Ie.options.hls||{},Ie.getPlugin&&Ie.getPlugin("reloadSourceOnError")||(Ie.registerPlugin||Ie.plugin)("reloadSourceOnError",function(n){ET(this,n)});const x0=Ie,w0=["target"];let A0=(()=>{class l{constructor(){this.sources=[]}ngOnInit(){this.player=x0(this.target.nativeElement,this.options,()=>{this.player.src(this.sources)})}ngOnChanges(t){this.player&&this.player.src(this.sources)}ngOnDestroy(){this.player&&this.player.dispose()}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-video-player"]],viewQuery:function(t,r){if(1&t&&y.Gf(w0,7),2&t){let e;y.iGM(e=y.CRH())&&(r.target=e.first)}},inputs:{options:"options",sources:"sources"},features:[y.TTD],decls:2,vars:0,consts:[["controls","","muted","","playsinline","","preload","none",1,"mw-100","video-js"],["target",""]],template:function(t,r){1&t&&y._UZ(0,"video",0,1)},styles:[""],encapsulation:2}),l})();const gu=function(){return{autoplay:!0,controls:!0}};function kT(l,n){if(1&l&&(y.ynx(0),y._UZ(1,"app-video-player",5)(2,"app-download-button",6),y.BQk()),2&l){const t=y.oxw(2);y.xp6(1),y.Q6J("options",y.DdM(3,gu))("sources",t.videoSrc),y.xp6(1),y.Q6J("movieId",t.movieId)}}function NT(l,n){1&l&&(y.TgZ(0,"div",7),y._uU(1,"Movie not found"),y.qZA())}function Il(l,n){if(1&l&&(y.ynx(0),y.YNc(1,kT,3,4,"ng-container",2),y.YNc(2,NT,2,0,"ng-template",null,4,y.W1O),y.BQk()),2&l){const t=y.MAs(3),r=y.oxw();y.xp6(1),y.Q6J("ngIf",r.videoSrc)("ngIfElse",t)}}function RS(l,n){1&l&&y._UZ(0,"div",8)}const lg=function(){return[".."]};let kS=(()=>{class l{constructor(t,r,e){this.ref=t,this.route=r,this.movieService=e,this.loading=!0,this.videoSrc=null,this.movieId=null}ngOnInit(){this.route.paramMap.subscribe(t=>this.loadMovie(t.get("id")))}loadMovie(t){if(null===t)return this.videoSrc=null,this.movieId=null,void this.ref.detectChanges();this.movieId=t,this.movieService.getMovieSources(t).then(r=>{this.videoSrc=r,this.loading=!1,this.ref.detectChanges()}).catch(()=>{this.videoSrc=null,this.loading=!1,this.ref.detectChanges()})}}return l.\u0275fac=function(t){return new(t||l)(y.Y36(y.sBO),y.Y36(cn.gz),y.Y36(xi))},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-watch"]],decls:6,vars:4,consts:[[1,"m-safe-x"],[3,"routerLink"],[4,"ngIf","ngIfElse"],["loadingSpinner",""],["noMovie",""],[1,"mw-100",3,"options","sources"],[3,"movieId"],["role","alert",1,"alert","alert-error","mt-2"],["role","status",1,"spinner-border"]],template:function(t,r){if(1&t&&(y.TgZ(0,"div",0)(1,"a",1),y._uU(2,"Back"),y.qZA(),y.YNc(3,Il,4,2,"ng-container",2),y.YNc(4,RS,1,0,"ng-template",null,3,y.W1O),y.qZA()),2&t){const e=y.MAs(5);y.xp6(1),y.Q6J("routerLink",y.DdM(3,lg)),y.xp6(2),y.Q6J("ngIf",!r.loading)("ngIfElse",e)}},directives:[cn.yS,T.O5,A0,q],styles:[""],changeDetection:0}),l})(),Pl=(()=>{class l{constructor(t){this.displayService=t}canActivate(){return this.displayService.requestFullscreenMobile(),!0}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(Ra))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();const M0=[{path:"overview",component:Cn,canActivate:[Pl]},{path:"watch/:id",component:kS,canActivate:[Pl]},{path:"**",redirectTo:"overview"}];let NS=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=y.oAB({type:l}),l.\u0275inj=y.cJS({imports:[[cn.Bz.forChild(M0)],cn.Bz]}),l})(),en=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=y.oAB({type:l}),l.\u0275inj=y.cJS({imports:[[T.ez,NS]]}),l})();const LT=[{path:"",component:(()=>{class l{constructor(){}ngOnInit(){}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-home"]],decls:2,vars:0,template:function(t,r){1&t&&(y.TgZ(0,"p"),y._uU(1,"home works!"),y.qZA())},styles:[""]}),l})(),canActivate:[Pl],pathMatch:"full"},{path:":id",component:(()=>{class l{constructor(){}ngOnInit(){}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-overview"]],decls:2,vars:0,template:function(t,r){1&t&&(y.TgZ(0,"p"),y._uU(1,"overview works!"),y.qZA())},styles:[""]}),l})(),canActivate:[Pl]},{path:"**",redirectTo:""}];let Of=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=y.oAB({type:l}),l.\u0275inj=y.cJS({imports:[[cn.Bz.forChild(LT)],cn.Bz]}),l})(),FT=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=y.oAB({type:l}),l.\u0275inj=y.cJS({imports:[[T.ez,Of]]}),l})();const Rf=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:ha,canActivate:[_i]},{path:"home",component:uo,canActivate:[yi,_i],data:{navTitle:"Home",navMobileEmoji:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z" /></svg>'}},{path:"movies",loadChildren:()=>en,canActivate:[yi],data:{navTitle:"Movies",navMobileEmoji:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm3 2h6v4H7V5zm8 8v2h1v-2h-1zm-2-2H7v4h6v-4zm2 0h1V9h-1v2zm1-4V5h-1v2h1zM5 5v2H4V5h1zm0 4H4v2h1V9zm-1 4h1v2H4v-2z" clip-rule="evenodd" /></svg>'}},{path:"comics",loadChildren:()=>FT,canActivate:[yi],data:{navTitle:"Comics",navMobileEmoji:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z" /></svg>'}},{path:"upload",loadChildren:()=>H.e("src_app_modules_upload_upload_module_ts").then(H.bind(H,4899)).then(l=>l.UploadModule),canActivate:[yi,_i],data:{navTitle:"Upload"}},{path:"downloads",component:qt,canActivate:[yi,_i],data:{navTitle:"Downloads",navEnd:!0}},{path:"profile",component:xs,canActivate:[yi,Na,_i],data:{navTitle:"Profile",navEnd:!0,navMobileEmoji:'<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" /></svg>'}},{path:"**",redirectTo:"/home"}];let kf=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=y.oAB({type:l}),l.\u0275inj=y.cJS({imports:[[cn.Bz.forRoot(Rf,{useHash:true})],cn.Bz]}),l})();var Ir=H(9770),BS=H(2843),cg=H(7272),I0=H(5032);const Ao=new or.y(I0.Z);var dg=H(6451),P0=H(4033),fg=H(4482);const VT={connector:()=>new Ss.x};function O0(l,n=VT){const{connector:t}=n;return(0,fg.e)((r,e)=>{const a=t();(0,$r.D)(l(function UT(l){return new or.y(n=>l.subscribe(n))}(a))).subscribe(e),e.add(r.subscribe(a))})}var R0=H(1566),GT=H(5403);function hg(l,n){return n?t=>(0,cg.z)(n.pipe((0,Un.q)(1),function Nf(){return(0,fg.e)((l,n)=>{l.subscribe((0,GT.x)(n,I0.Z))})}()),t.pipe(hg(l))):(0,Pn.z)((t,r)=>l(t,r).pipe((0,Un.q)(1),function k0(l){return(0,mt.U)(()=>l)}(t)))}var N0=H(3532);function Ma(l,n=R0.z){const t=function od(l=0,n,t=R0.P){let r=-1;return null!=n&&((0,N0.K)(n)?t=n:r=n),new or.y(e=>{let a=function jT(l){return l instanceof Date&&!isNaN(l)}(l)?+l-t.now():l;a<0&&(a=0);let u=0;return t.schedule(function(){e.closed||(e.next(u++),0<=r?this.schedule(void 0,r):e.complete())},a)})}(l,n);return hg(()=>t)}
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const ud="Service workers are disabled or not supported by this browser";class Lf{constructor(n){if(this.serviceWorker=n,n){const r=Er(n,"controllerchange").pipe((0,mt.U)(()=>n.controller)),e=(0,Ir.P)(()=>(0,sr.of)(n.controller)),a=(0,cg.z)(e,r);this.worker=a.pipe((0,Cr.h)(E=>!!E)),this.registration=this.worker.pipe((0,Zi.w)(()=>n.getRegistration()));const g=Er(n,"message").pipe((0,mt.U)(E=>E.data)).pipe((0,Cr.h)(E=>E&&E.type)).pipe(function HT(l){return l?n=>O0(l)(n):n=>function ad(l,n){const t=(0,on.m)(l)?l:()=>l;return(0,on.m)(n)?O0(n,{connector:t}):r=>new P0.c(r,t)}(new Ss.x)(n)}());g.connect(),this.events=g}else this.worker=this.events=this.registration=function WT(l){return(0,Ir.P)(()=>(0,BS._)(new Error(l)))}(ud)}postMessage(n,t){return this.worker.pipe((0,Un.q)(1),(0,Jr.b)(r=>{r.postMessage(Object.assign({action:n},t))})).toPromise().then(()=>{})}postMessageWithOperation(n,t,r){const e=this.waitForOperationCompleted(r),a=this.postMessage(n,t);return Promise.all([a,e]).then(([,u])=>u)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(n){let t;return t="string"==typeof n?r=>r.type===n:r=>n.includes(r.type),this.events.pipe((0,Cr.h)(t))}nextEventOfType(n){return this.eventsOfType(n).pipe((0,Un.q)(1))}waitForOperationCompleted(n){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Cr.h)(t=>t.nonce===n),(0,Un.q)(1),(0,mt.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let L0=(()=>{class l{constructor(t){if(this.sw=t,this.subscriptionChanges=new Ss.x,!t.isEnabled)return this.messages=Ao,this.notificationClicks=Ao,void(this.subscription=Ao);this.messages=this.sw.eventsOfType("PUSH").pipe((0,mt.U)(e=>e.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,mt.U)(e=>e.data)),this.pushManager=this.sw.registration.pipe((0,mt.U)(e=>e.pushManager));const r=this.pushManager.pipe((0,Zi.w)(e=>e.getSubscription()));this.subscription=(0,dg.T)(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(ud));const r={userVisibleOnly:!0};let e=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),a=new Uint8Array(new ArrayBuffer(e.length));for(let u=0;u<e.length;u++)a[u]=e.charCodeAt(u);return r.applicationServerKey=a,this.pushManager.pipe((0,Zi.w)(u=>u.subscribe(r)),(0,Un.q)(1)).toPromise().then(u=>(this.subscriptionChanges.next(u),u))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Un.q)(1),(0,Zi.w)(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(e=>{if(!e)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(ud))}decodeBase64(t){return atob(t)}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(Lf))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})(),pg=(()=>{class l{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Ao,this.available=Ao,this.activated=Ao,void(this.unrecoverable=Ao);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,Cr.h)(r=>"VERSION_READY"===r.type),(0,mt.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ud));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(ud));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(Lf))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Ff{}const F0=new y.OlP("NGSW_REGISTER_SCRIPT");function B0(l,n,t,r){return()=>{if(!(0,T.NF)(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let a;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)a=t.registrationStrategy();else{const[d,...p]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(d){case"registerImmediately":a=(0,sr.of)(null);break;case"registerWithDelay":a=U0(+p[0]||0);break;case"registerWhenStable":a=p[0]?(0,dg.T)(V0(l),U0(+p[0])):V0(l);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}l.get(y.R0b).runOutsideAngular(()=>a.pipe((0,Un.q)(1)).subscribe(()=>navigator.serviceWorker.register(n,{scope:t.scope}).catch(d=>console.error("Service worker registration failed with:",d))))}}function U0(l){return(0,sr.of)(null).pipe(Ma(l))}function V0(l){return l.get(y.z2F).isStable.pipe((0,Cr.h)(t=>t))}function US(l,n){return new Lf((0,T.NF)(n)&&!1!==l.enabled?navigator.serviceWorker:void 0)}let VS=(()=>{class l{static register(t,r={}){return{ngModule:l,providers:[{provide:F0,useValue:t},{provide:Ff,useValue:r},{provide:Lf,useFactory:US,deps:[Ff,y.Lbi]},{provide:y.ip1,useFactory:B0,deps:[y.zs3,F0,Ff,y.Lbi],multi:!0}]}}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=y.oAB({type:l}),l.\u0275inj=y.cJS({providers:[L0,pg]}),l})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function HS(l,n){if(1&l&&(y.TgZ(0,"li")(1,"a",6),y._uU(2),y.qZA()()),2&l){const t=n.$implicit;y.xp6(1),y.Q6J("routerLink",t.path),y.xp6(1),y.Oqu(t.title)}}function GS(l,n){if(1&l&&(y.TgZ(0,"li")(1,"a",6),y._uU(2),y.qZA()()),2&l){const t=n.$implicit;y.xp6(1),y.Q6J("routerLink",t.path),y.xp6(1),y.Oqu(t.title)}}let H0=(()=>{class l{constructor(){this.isCollapsed=!0,this.navStartRoutes=[],this.navEndRoutes=[]}ngOnInit(){}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-navbar-desktop"]],inputs:{navStartRoutes:"navStartRoutes",navEndRoutes:"navEndRoutes"},decls:9,vars:3,consts:[[1,"navbar","bg-base-100"],[1,"flex-1","m-safe-t","m-safe-l"],[3,"text"],[1,"menu","menu-horizontal","p-0","gap-2"],[4,"ngFor","ngForOf"],[1,"flex-none","m-safe-t","m-safe-l","gap-2"],["routerLinkActive","active",3,"routerLink"]],template:function(t,r){1&t&&(y.TgZ(0,"nav",0)(1,"div",1),y._UZ(2,"app-logo",2),y.TgZ(3,"ul",3),y.YNc(4,HS,3,2,"li",4),y.qZA()(),y.TgZ(5,"div",5)(6,"ul",3),y.YNc(7,GS,3,2,"li",4),y.qZA(),y._UZ(8,"app-logout-button"),y.qZA()()),2&t&&(y.xp6(2),y.Q6J("text",!1),y.xp6(2),y.Q6J("ngForOf",r.navStartRoutes),y.xp6(3),y.Q6J("ngForOf",r.navEndRoutes))},directives:[Es,T.sg,cn.yS,cn.Od,Ji],styles:[""]}),l})();function Bf(l,n){if(1&l){const t=y.EpF();y.TgZ(0,"button",12),y.NdJ("click",function(){const a=y.CHM(t).$implicit;return y.oxw().buttonClick(a)}),y.qZA()}if(2&l){const t=n.$implicit;y.Tol(t.class),y.Q6J("innerHTML",t.innerHtml,y.oJD)}}let $T=(()=>{class l{constructor(t){this.ref=t,this._bodyHtml="",this._title="",this._buttons=[],this.opened=!1,this.resultSubject=new Ss.x}ngOnInit(){}open(t,r="Modal Title",e){return this.opened=!0,this._bodyHtml=t,this._title=r,this._buttons=e,this.ref.detectChanges(),Bn(this.resultSubject)}buttonClick(t){this.opened=!1,this.resultSubject.next(t.result)}}return l.\u0275fac=function(t){return new(t||l)(y.Y36(y.sBO))},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-modal"]],decls:13,vars:5,consts:[["aria-labelledby","modal-title","role","dialog","aria-modal","true",1,"relative","z-10"],[1,"fixed","inset-0","bg-gray-500","bg-opacity-75","transition-opacity"],[1,"fixed","z-10","inset-0","overflow-y-auto"],[1,"flex","items-end","sm:items-center","justify-center","min-h-full","p-4","text-center","sm:p-0"],[1,"relative","bg-white","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:max-w-lg","sm:w-full"],[1,"bg-white","px-4","pt-5","pb-4","sm:p-6","sm:pb-4"],[1,"sm:flex","sm:items-start"],[1,"mt-3","text-center","sm:mt-0","sm:ml-4","sm:text-left"],["id","modal-title",1,"text-lg","leading-6","font-medium","text-gray-900"],[1,"mt-2","text-sm",3,"innerHTML"],[1,"bg-gray-50","px-4","py-3","sm:px-6","sm:flex","sm:flex-row-reverse"],["type","button","class","w-full rounded-md border border-transparent shadow-sm px-4 py-2 text-base font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",3,"class","innerHTML","click",4,"ngFor","ngForOf"],["type","button",1,"w-full","rounded-md","border","border-transparent","shadow-sm","px-4","py-2","text-base","font-medium","focus:outline-none","focus:ring-2","focus:ring-offset-2","sm:ml-3","sm:w-auto","sm:text-sm",3,"innerHTML","click"]],template:function(t,r){1&t&&(y.TgZ(0,"div",0),y._UZ(1,"div",1),y.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h3",8),y._uU(9),y.qZA(),y._UZ(10,"div",9),y.qZA()()(),y.TgZ(11,"div",10),y.YNc(12,Bf,1,3,"button",11),y.qZA()()()()()),2&t&&(y.ekj("hidden",!r.opened),y.xp6(9),y.Oqu(r._title),y.xp6(1),y.Q6J("innerHTML",r._bodyHtml,y.oJD),y.xp6(2),y.Q6J("ngForOf",r._buttons))},directives:[T.sg],styles:[""],changeDetection:0}),l})(),zT=(()=>{class l{constructor(t){this._sanitizer=t}transform(t){return this._sanitizer.bypassSecurityTrustHtml(t)}}return l.\u0275fac=function(t){return new(t||l)(y.Y36(ze,16))},l.\u0275pipe=y.Yjl({name:"bypassSanitize",type:l,pure:!0}),l})();function G0(l,n){if(1&l&&(y.TgZ(0,"li"),y._UZ(1,"a",3),y.ALo(2,"bypassSanitize"),y.qZA()),2&l){const t=n.$implicit;y.xp6(1),y.Q6J("routerLink",t.path)("innerHTML",y.lcZ(2,2,t.emoji),y.oJD)}}let ld=(()=>{class l{constructor(){this.navMobileRoutes=[]}ngOnInit(){}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-navbar-mobile"]],inputs:{navMobileRoutes:"navMobileRoutes"},decls:3,vars:1,consts:[[1,"navbar","bg-base-100","fixed","bottom-0","w-full"],[1,"menu","menu-horizontal","w-full","justify-between"],[4,"ngFor","ngForOf"],[3,"routerLink","innerHTML"]],template:function(t,r){1&t&&(y.TgZ(0,"nav",0)(1,"ul",1),y.YNc(2,G0,3,4,"li",2),y.qZA()()),2&t&&(y.xp6(2),y.Q6J("ngForOf",r.navMobileRoutes))},directives:[T.sg,cn.yS],pipes:[zT],styles:[""]}),l})();const KT=["modal"];function XT(l,n){if(1&l&&y._UZ(0,"app-navbar-desktop",4),2&l){const t=y.oxw();y.Q6J("navStartRoutes",t.navStartRoutes)("navEndRoutes",t.navEndRoutes)}}function qT(l,n){if(1&l&&y._UZ(0,"app-navbar-mobile",5),2&l){const t=y.oxw();y.Q6J("navMobileRoutes",t.navMobileRoutes)}}let W0,YT=(()=>{class l{constructor(t,r,e,a,u){this.authService=t,this.syncService=r,this.storageService=e,this.router=a,this.swUpdate=u,this.title="syncwatch-frontend",this.reloadNavRoutes()}reloadNavRoutes(){this.navStartRoutes=this.router.config.filter(t=>t.data&&t.data.navTitle&&!t.data.navEnd).map(t=>({path:"/"+t.path,title:""+t.data.navTitle})),this.navEndRoutes=this.router.config.filter(t=>t.data&&t.data.navTitle&&t.data.navEnd).map(t=>({path:"/"+t.path,title:""+t.data.navTitle})),this.navMobileRoutes=this.router.config.filter(t=>t.data&&t.data.navMobileEmoji).map(t=>({path:"/"+t.path,emoji:""+t.data.navMobileEmoji}))}ngOnInit(){}ngAfterViewInit(){this.swUpdate.unrecoverable.subscribe(t=>{this.modal.open(`An error occurred that we cannot recover from:</br>\n                            ${t.reason}</br>Please reload the page.`,"An error occured",[{class:"btn btn-secondary",innerHtml:"Reload",result:"reload"}]).then(r=>{"reload"==r&&window.location.reload()})}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.pipe((0,Cr.h)(t=>"VERSION_READY"===t.type),(0,mt.U)(t=>{console.info(`updating version=[${t.currentVersion} to latestVersion=[${t.latestVersion}]`),this.modal.open(`Please update from version=[${t.currentVersion} to latestVersion=[${t.latestVersion}]`,"Update available",[{class:"btn btn-secondary",innerHtml:"Reload",result:"reload"}]).then(r=>{"reload"==r&&window.location.reload()})})),this.storageService.tryPersistWithoutPromtingUser().then(t=>{"prompt"==t&&this.modal.open("We want to store persistant data ok!","Store data",[{class:"btn btn-secondary",innerHtml:"Grant",result:"grant"}]).then(r=>{"grant"==r&&this.storageService.persist()})})}unload(){this.authService.unload()}}return l.\u0275fac=function(t){return new(t||l)(y.Y36(Ur),y.Y36(Qi),y.Y36(On),y.Y36(cn.F0),y.Y36(pg))},l.\u0275cmp=y.Xpm({type:l,selectors:[["app-root"]],viewQuery:function(t,r){if(1&t&&y.Gf(KT,5),2&t){let e;y.iGM(e=y.CRH())&&(r.modal=e.first)}},hostBindings:function(t,r){1&t&&y.NdJ("beforeunload",function(a){return r.unload(a)},!1,y.Jf7)},decls:6,vars:3,consts:[[1,"w-full","h-full","overflow-auto"],["class","hidden md:block",3,"navStartRoutes","navEndRoutes",4,"ngIf"],["modal",""],["class","block md:hidden",3,"navMobileRoutes",4,"ngIf"],[1,"hidden","md:block",3,"navStartRoutes","navEndRoutes"],[1,"block","md:hidden",3,"navMobileRoutes"]],template:function(t,r){1&t&&(y.TgZ(0,"div",0),y.YNc(1,XT,1,2,"app-navbar-desktop",1),y._UZ(2,"app-modal",null,2)(4,"router-outlet"),y.YNc(5,qT,1,1,"app-navbar-mobile",3),y.qZA()),2&t&&(y.uIk("data-theme","dark"),y.xp6(1),y.Q6J("ngIf",r.authService.isLoggedIn()),y.xp6(4),y.Q6J("ngIf",r.authService.isLoggedIn()))},directives:[T.O5,H0,$T,cn.lC,ld],styles:[""],changeDetection:0}),l})(),QT=(()=>{class l{constructor(){this._loggedIn=!1}login(t,r,e){return(0,sr.of)({msg:"success",expires:0,session_token:"123"}).pipe(Ma(500),(0,Jr.b)(()=>{if("asd"===t)throw new Error("wrong username");this._loggedIn=!0}))}logout(){return(0,sr.of)({msg:"success"}).pipe(Ma(500),(0,Jr.b)(()=>{if(this._loggedIn=!1,Math.random()>.5)throw new Error("random logout error")}))}isLoggedIn(){return this._loggedIn}getSessionToken(){return"123"}unload(){}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})(),j0=(()=>{class l{constructor(){this._sessions=[{id:1,device_info:"My Device",is_current:!0},{id:2,device_info:"Your Device",is_current:!1}]}sessions(){return(0,sr.of)(this._sessions).pipe(Ma(500))}deleteSessions(){return(0,sr.of)({msg:"success"}).pipe(Ma(500),(0,Jr.b)(()=>this._sessions=[]))}deleteSessionById(t,r){return(0,sr.of)({msg:"success"}).pipe(Ma(500),(0,Jr.b)(()=>this._sessions=this._sessions.filter(e=>e.id!=t)))}}return l.\u0275fac=function(t){return new(t||l)},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})(),ZT=(()=>{class l{constructor(t,r){this.authService=t,this.router=r}intercept(t,r){return r.handle(t).pipe((0,ka.K)(e=>{throw 401==e.status&&(this.authService.clearStorage(),this.router.navigate(["login"])),e}))}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(Ur),y.LFG(cn.F0))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})(),JT=(()=>{class l{constructor(t){this.authService=t}canActivate(){return!!this.authService.isLoggedIn()||this.authService.login("test","test",!1).pipe((0,mt.U)(()=>!0))}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(Ur))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})(),Ol=(()=>{class l{constructor(t,r){this.http=t,this.authService=r,this._movies={1:{title:"Video",id:"1",hash:"123",mime_type:"video/webm",downloaded_length:0,file_size:1e7,content_length:1e7,thumbnail_id:"123",corrupt:!1},2:{title:"Bibeo",id:"2",hash:"1234",mime_type:"video/webm",downloaded_length:1e7,file_size:1e7,content_length:1e7,thumbnail_id:"123",corrupt:!1}},this.targetChunkRequestTime=1e3,this.downloadChunkSize=5e5,this.evaluatingChunkSize=!1,this.downloadSpeed=new ws.X(0),this.movieDownloads={},this.stopDownloads={}}_getMovieStreamUrl(t){return`${Fn.MOVIE_STREAM_URL}?id=${t}&token=${this.authService.getSessionToken()}`}_getThumbnailUrl(t){return`${Fn.THUMBNAIL_URL}?id=${t}&token=${this.authService.getSessionToken()}`}getMovieById(t){var r=this;return pn(function*(){return r._movies[t]})()}getMovies(){return(0,sr.of)(Object.values(this._movies))}_getMovieDownloadProgress(t){return t in this.movieDownloads||(this.movieDownloads[t]=new ws.X({downloaded:this._movies[t].downloaded_length/this._movies[t].content_length,downloading:!1,deleting:!1})),this.movieDownloads[t]}getMovieDownloadProgress(t){return this._getMovieDownloadProgress(t)}deleteMovieDownload(t){var r=this;return pn(function*(){const e=yield r.getMovieById(t);if(void 0===e)return;const a=r._getMovieDownloadProgress(e.id),u=yield Bn(a);u.deleting||u.downloading||(a.next({deleting:!0,downloading:!1,downloaded:u.downloaded}),setTimeout(()=>{e.downloaded_length=0,a.next({deleting:!1,downloading:!1,downloaded:0})},1e3))})()}triggerMovieDownload(t){var r=this;return pn(function*(){const e=yield r.getMovieById(t);if(void 0===e)return;const a=r._getMovieDownloadProgress(e.id),u=yield Bn(a);if(!u.deleting){if(u.downloading)return void(e.id in r.stopDownloads||(r.stopDownloads[e.id]=!0,a.next({downloaded:u.downloaded,downloading:!1,deleting:u.deleting})));e.thumbnail_id&&0===e.downloaded_length&&(a.next({downloaded:0,downloading:!0,deleting:!1}),r._downloadThumbnail(e.thumbnail_id)),r._downloadMovieChunk(e,a)}})()}_downloadMovieChunk(t,r){if(t.content_length&&t.downloaded_length>=t.content_length)return void r.next({downloaded:1,downloading:!1,deleting:!1});if(t.id in this.stopDownloads)return Bn(r).then(a=>{r.next({downloaded:a.downloaded,downloading:!1,deleting:a.deleting})}),void delete this.stopDownloads[t.id];let e;this.evaluatingChunkSize||(this.evaluatingChunkSize=!0,e=Date.now()),setTimeout(()=>{if(void 0!==e){const a=Date.now()-e,u=Math.min(1.5,Math.max(.75,this.targetChunkRequestTime/Math.max(1,a)));this.downloadChunkSize=Math.min(Number.MAX_SAFE_INTEGER,Math.floor(this.downloadChunkSize*u)),this.downloadSpeed.next(1e3*this.downloadChunkSize/this.targetChunkRequestTime),this.evaluatingChunkSize=!1}t.downloaded_length+=this.downloadChunkSize,r.next({downloaded:t.downloaded_length/t.content_length,downloading:!0,deleting:!1}),this._downloadMovieChunk(t,r)},this.targetChunkRequestTime)}getMovieSources(t){var r=this;return pn(function*(){const e=yield r.getMovieById(t);return void 0===e?[]:[{src:r._getMovieStreamUrl(t),type:e.mime_type}]})()}_downloadThumbnail(t){}getMovieThumbnailSource(t){var r=this;return pn(function*(){return null===t?"/assets/default-thumbnail.svg":r._getThumbnailUrl(t)})()}}return l.\u0275fac=function(t){return new(t||l)(y.LFG(bs.eN),y.LFG(Ur))},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac}),l})();!function(){const n=Worker;Worker=class{constructor(e,a){this.stringUrl=e,this.options=a}},W0=new Worker(H.tu(new URL(H.p+H.u("src_app_shared_worker_service_worker_ts"),H.b))).stringUrl,Worker=n}();const gg={enabled:!0,serviceWorkerUrl:W0};let eb=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=y.oAB({type:l,bootstrap:[YT]}),l.\u0275inj=y.cJS({providers:[{provide:bs.TP,useClass:ZT,multi:!0},Ra,Pl,_i,Na,Qi,On,{provide:xi,useClass:Ol},{provide:Ur,useClass:QT},{provide:pa,useClass:j0},{provide:yi,useClass:JT}],imports:[[bn,kf,Wr.u5,Wr.UX,bs.JF,VS.register(gg.serviceWorkerUrl,{enabled:gg.enabled,registrationStrategy:"registerImmediately"})]]}),l})();Nn().bootstrapModule(eb).catch(l=>console.error(l))},3992:(ft,Re,H)=>{"use strict";var T=H(9226);ft.exports=function(ye,Ne){return void 0===Ne&&(Ne=!1),function(Be,Fe,Oe){if(Be)ye(Be);else if(Fe.statusCode>=400&&Fe.statusCode<=599){var xe=Oe;if(Ne)if(T.TextDecoder){var we=function de(be){return void 0===be&&(be=""),be.toLowerCase().split(";").reduce(function(ye,Ne){var Be=Ne.split("="),Oe=Be[1];return"charset"===Be[0].trim()?Oe.trim():ye},"utf-8")}(Fe.headers&&Fe.headers["content-type"]);try{xe=new TextDecoder(we).decode(Oe)}catch(De){}}else xe=String.fromCharCode.apply(null,new Uint8Array(Oe));ye({cause:xe})}else ye(null,Oe)}}},745:(ft,Re,H)=>{"use strict";var T=H(9226),y=H(7154),de=H(2703);function Be(De,Ve,Ce){var gt=De;return de(Ve)?(Ce=Ve,"string"==typeof De&&(gt={uri:De})):gt=y({},Ve,{uri:De}),gt.callback=Ce,gt}function Fe(De,Ve,Ce){return Oe(Ve=Be(De,Ve,Ce))}function Oe(De){if(void 0===De.callback)throw new Error("callback argument missing");var Ve=!1,Ce=function(Se,he,Ue){Ve||(Ve=!0,De.callback(Se,he,Ue))};function wt(){var ue=void 0;if(ue=dt.response?dt.response:dt.responseText||function xe(De){try{if("document"===De.responseType)return De.responseXML;if(""===De.responseType&&(!De.responseXML||"parsererror"!==De.responseXML.documentElement.nodeName))return De.responseXML}catch(Ce){}return null}(dt),te)try{ue=JSON.parse(ue)}catch(Se){}return ue}function Ae(ue){return clearTimeout(ee),ue instanceof Error||(ue=new Error(""+(ue||"Unknown XMLHttpRequest Error"))),ue.statusCode=0,Ce(ue,ce)}function At(){if(!it){var ue;clearTimeout(ee);var Se=ce,he=null;return 0!==(ue=De.useXDR&&void 0===dt.status?200:1223===dt.status?204:dt.status)?(Se={body:wt(),statusCode:ue,method:et,headers:{},url:Ee,rawRequest:dt},dt.getAllResponseHeaders&&(Se.headers=function(Ve){var Ce={};return Ve&&Ve.trim().split("\n").forEach(function(gt){var wt=gt.indexOf(":"),Ae=gt.slice(0,wt).trim().toLowerCase(),At=gt.slice(wt+1).trim();void 0===Ce[Ae]?Ce[Ae]=At:Array.isArray(Ce[Ae])?Ce[Ae].push(At):Ce[Ae]=[Ce[Ae],At]}),Ce}(dt.getAllResponseHeaders()))):he=new Error("Internal XMLHttpRequest Error"),Ce(he,Se,Se.body)}}var dt=De.xhr||null;dt||(dt=De.cors||De.useXDR?new Fe.XDomainRequest:new Fe.XMLHttpRequest);var nt,it,ee,Ee=dt.url=De.uri||De.url,et=dt.method=De.method||"GET",_t=De.body||De.data,vt=dt.headers=De.headers||{},K=!!De.sync,te=!1,ce={body:void 0,headers:{},statusCode:0,method:et,url:Ee,rawRequest:dt};if("json"in De&&!1!==De.json&&(te=!0,vt.accept||vt.Accept||(vt.Accept="application/json"),"GET"!==et&&"HEAD"!==et&&(vt["content-type"]||vt["Content-Type"]||(vt["Content-Type"]="application/json"),_t=JSON.stringify(!0===De.json?_t:De.json))),dt.onreadystatechange=function gt(){4===dt.readyState&&setTimeout(At,0)},dt.onload=At,dt.onerror=Ae,dt.onprogress=function(){},dt.onabort=function(){it=!0},dt.ontimeout=Ae,dt.open(et,Ee,!K,De.username,De.password),K||(dt.withCredentials=!!De.withCredentials),!K&&De.timeout>0&&(ee=setTimeout(function(){if(!it){it=!0,dt.abort("timeout");var ue=new Error("XMLHttpRequest timeout");ue.code="ETIMEDOUT",Ae(ue)}},De.timeout)),dt.setRequestHeader)for(nt in vt)vt.hasOwnProperty(nt)&&dt.setRequestHeader(nt,vt[nt]);else if(De.headers&&!function Ne(De){for(var Ve in De)if(De.hasOwnProperty(Ve))return!1;return!0}(De.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in De&&(dt.responseType=De.responseType),"beforeSend"in De&&"function"==typeof De.beforeSend&&De.beforeSend(dt),dt.send(_t||null),dt}Fe.httpHandler=H(3992),ft.exports=Fe,ft.exports.default=Fe,Fe.XMLHttpRequest=T.XMLHttpRequest||function we(){},Fe.XDomainRequest="withCredentials"in new Fe.XMLHttpRequest?Fe.XMLHttpRequest:T.XDomainRequest,function ye(De,Ve){for(var Ce=0;Ce<De.length;Ce++)Ve(De[Ce])}(["get","put","post","patch","head","delete"],function(De){Fe["delete"===De?"del":De]=function(Ve,Ce,gt){return(Ce=Be(Ve,Ce,gt)).method=De.toUpperCase(),Oe(Ce)}})},9401:(ft,Re)=>{"use strict";function H(de,be){return void 0===be&&(be=Object),be&&"function"==typeof be.freeze?be.freeze(de):de}var T=H({HTML:"text/html",isHTML:function(de){return de===T.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),y=H({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(de){return de===y.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Re.freeze=H,Re.MIME_TYPE=T,Re.NAMESPACE=y},1991:(ft,Re,H)=>{var y=H(9401),de=H(6853),be=H(4436),ye=H(8702),Ne=de.DOMImplementation,Be=y.NAMESPACE,Fe=ye.ParseError,Oe=ye.XMLReader;function xe(Ae){this.options=Ae||{locator:{}}}function De(){this.cdata=!1}function Ve(Ae,At){At.lineNumber=Ae.lineNumber,At.columnNumber=Ae.columnNumber}function Ce(Ae){if(Ae)return"\n@"+(Ae.systemId||"")+"#[line:"+Ae.lineNumber+",col:"+Ae.columnNumber+"]"}function gt(Ae,At,dt){return"string"==typeof Ae?Ae.substr(At,dt):Ae.length>=At+dt||At?new java.lang.String(Ae,At,dt)+"":Ae}function wt(Ae,At){Ae.currentElement?Ae.currentElement.appendChild(At):Ae.doc.appendChild(At)}xe.prototype.parseFromString=function(Ae,At){var dt=this.options,nt=new Oe,it=dt.domBuilder||new De,Ee=dt.errorHandler,et=dt.locator,_t=dt.xmlns||{},vt=/\/x?html?$/.test(At),K=vt?be.HTML_ENTITIES:be.XML_ENTITIES;return et&&it.setDocumentLocator(et),nt.errorHandler=function we(Ae,At,dt){if(!Ae){if(At instanceof De)return At;Ae=At}var nt={},it=Ae instanceof Function;function Ee(et){var _t=Ae[et];!_t&&it&&(_t=2==Ae.length?function(vt){Ae(et,vt)}:Ae),nt[et]=_t&&function(vt){_t("[xmldom "+et+"]\t"+vt+Ce(dt))}||function(){}}return dt=dt||{},Ee("warning"),Ee("error"),Ee("fatalError"),nt}(Ee,it,et),nt.domBuilder=dt.domBuilder||it,vt&&(_t[""]=Be.HTML),_t.xml=_t.xml||Be.XML,Ae&&"string"==typeof Ae?nt.parse(Ae,_t,K):nt.errorHandler.error("invalid doc source"),it.doc},De.prototype={startDocument:function(){this.doc=(new Ne).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(Ae,At,dt,nt){var it=this.doc,Ee=it.createElementNS(Ae,dt||At),et=nt.length;wt(this,Ee),this.currentElement=Ee,this.locator&&Ve(this.locator,Ee);for(var _t=0;_t<et;_t++){Ae=nt.getURI(_t);var vt=nt.getValue(_t),K=(dt=nt.getQName(_t),it.createAttributeNS(Ae,dt));this.locator&&Ve(nt.getLocator(_t),K),K.value=K.nodeValue=vt,Ee.setAttributeNode(K)}},endElement:function(Ae,At,dt){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(Ae,At){},endPrefixMapping:function(Ae){},processingInstruction:function(Ae,At){var dt=this.doc.createProcessingInstruction(Ae,At);this.locator&&Ve(this.locator,dt),wt(this,dt)},ignorableWhitespace:function(Ae,At,dt){},characters:function(Ae,At,dt){if(Ae=gt.apply(this,arguments)){if(this.cdata)var nt=this.doc.createCDATASection(Ae);else nt=this.doc.createTextNode(Ae);this.currentElement?this.currentElement.appendChild(nt):/^\s*$/.test(Ae)&&this.doc.appendChild(nt),this.locator&&Ve(this.locator,nt)}},skippedEntity:function(Ae){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(Ae){(this.locator=Ae)&&(Ae.lineNumber=0)},comment:function(Ae,At,dt){Ae=gt.apply(this,arguments);var nt=this.doc.createComment(Ae);this.locator&&Ve(this.locator,nt),wt(this,nt)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(Ae,At,dt){var nt=this.doc.implementation;if(nt&&nt.createDocumentType){var it=nt.createDocumentType(Ae,At,dt);this.locator&&Ve(this.locator,it),wt(this,it),this.doc.doctype=it}},warning:function(Ae){console.warn("[xmldom warning]\t"+Ae,Ce(this.locator))},error:function(Ae){console.error("[xmldom error]\t"+Ae,Ce(this.locator))},fatalError:function(Ae){throw new Fe(Ae,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(Ae){De.prototype[Ae]=function(){return null}}),Re.DOMParser=xe},6853:(ft,Re,H)=>{var y=H(9401).NAMESPACE;function de(Z){return""!==Z}function ye(Z,re){return Z.hasOwnProperty(re)||(Z[re]=!0),Z}function Ne(Z){if(!Z)return[];var re=function be(Z){return Z?Z.split(/[\t\n\f\r ]+/).filter(de):[]}(Z);return Object.keys(re.reduce(ye,{}))}function Fe(Z,re){for(var _e in Z)re[_e]=Z[_e]}function Oe(Z,re){var _e=Z.prototype;if(!(_e instanceof re)){let Tt=function(){};Tt.prototype=re.prototype,Tt=new Tt,Fe(_e,Tt),Z.prototype=_e=Tt}_e.constructor!=Z&&("function"!=typeof Z&&console.error("unknown Class:"+Z),_e.constructor=Z)}var xe={},we=xe.ELEMENT_NODE=1,De=xe.ATTRIBUTE_NODE=2,Ve=xe.TEXT_NODE=3,Ce=xe.CDATA_SECTION_NODE=4,gt=xe.ENTITY_REFERENCE_NODE=5,wt=xe.ENTITY_NODE=6,Ae=xe.PROCESSING_INSTRUCTION_NODE=7,At=xe.COMMENT_NODE=8,dt=xe.DOCUMENT_NODE=9,nt=xe.DOCUMENT_TYPE_NODE=10,it=xe.DOCUMENT_FRAGMENT_NODE=11,Ee=xe.NOTATION_NODE=12,et={},_t={},te=(et.INDEX_SIZE_ERR=(_t[1]="Index size error",1),et.DOMSTRING_SIZE_ERR=(_t[2]="DOMString size error",2),et.HIERARCHY_REQUEST_ERR=(_t[3]="Hierarchy request error",3)),he=(et.WRONG_DOCUMENT_ERR=(_t[4]="Wrong document",4),et.INVALID_CHARACTER_ERR=(_t[5]="Invalid character",5),et.NO_DATA_ALLOWED_ERR=(_t[6]="No data allowed",6),et.NO_MODIFICATION_ALLOWED_ERR=(_t[7]="No modification allowed",7),et.NOT_FOUND_ERR=(_t[8]="Not found",8)),He=(et.NOT_SUPPORTED_ERR=(_t[9]="Not supported",9),et.INUSE_ATTRIBUTE_ERR=(_t[10]="Attribute in use",10));function Nt(Z,re){if(re instanceof Error)var _e=re;else _e=this,Error.call(this,_t[Z]),this.message=_t[Z],Error.captureStackTrace&&Error.captureStackTrace(this,Nt);return _e.code=Z,re&&(this.message=this.message+": "+re),_e}function Mt(){}function Ct(Z,re){this._node=Z,this._refresh=re,Gn(this)}function Gn(Z){var re=Z._node._inc||Z._node.ownerDocument._inc;if(Z._inc!=re){var _e=Z._refresh(Z._node);jr(Z,"length",_e.length),Fe(_e,Z),Z._inc=re}}function sn(){}function Tn(Z,re){for(var _e=Z.length;_e--;)if(Z[_e]===re)return _e}function fn(Z,re,_e,ze){if(ze?re[Tn(re,ze)]=_e:re[re.length++]=_e,Z){_e.ownerElement=Z;var Tt=Z.ownerDocument;Tt&&(ze&&Ei(Tt,Z,ze),function tr(Z,re,_e){Z&&Z._inc++,_e.namespaceURI===y.XMLNS&&(re._nsMap[_e.prefix?_e.localName:""]=_e.value)}(Tt,Z,_e))}}function hr(Z,re,_e){var ze=Tn(re,_e);if(!(ze>=0))throw Nt(he,new Error(Z.tagName+"@"+_e));for(var Tt=re.length-1;ze<Tt;)re[ze]=re[++ze];if(re.length=Tt,Z){var an=Z.ownerDocument;an&&(Ei(an,Z,_e),_e.ownerElement=null)}}function _r(){}function Nn(){}function gi(Z){return("<"==Z?"&lt;":">"==Z&&"&gt;")||"&"==Z&&"&amp;"||'"'==Z&&"&quot;"||"&#"+Z.charCodeAt()+";"}function bn(Z,re){if(re(Z))return!0;if(Z=Z.firstChild)do{if(bn(Z,re))return!0}while(Z=Z.nextSibling)}function qr(){}function Ei(Z,re,_e,ze){Z&&Z._inc++,_e.namespaceURI===y.XMLNS&&delete re._nsMap[_e.prefix?_e.localName:""]}function Sn(Z,re,_e){if(Z&&Z._inc){Z._inc++;var ze=re.childNodes;if(_e)ze[ze.length++]=_e;else{for(var Tt=re.firstChild,an=0;Tt;)ze[an++]=Tt,Tt=Tt.nextSibling;ze.length=an}}}function xn(Z,re){var _e=re.previousSibling,ze=re.nextSibling;return _e?_e.nextSibling=ze:Z.firstChild=ze,ze?ze.previousSibling=_e:Z.lastChild=_e,Sn(Z.ownerDocument,Z),re}function Oi(Z,re,_e){var ze=re.parentNode;if(ze&&ze.removeChild(re),re.nodeType===it){var Tt=re.firstChild;if(null==Tt)return re;var an=re.lastChild}else Tt=an=re;var nr=_e?_e.previousSibling:Z.lastChild;Tt.previousSibling=nr,an.nextSibling=_e,nr?nr.nextSibling=Tt:Z.firstChild=Tt,null==_e?Z.lastChild=an:_e.previousSibling=an;do{Tt.parentNode=Z}while(Tt!==an&&(Tt=Tt.nextSibling));return Sn(Z.ownerDocument||Z,Z),re.nodeType==it&&(re.firstChild=re.lastChild=null),re}function qe(){this._nsMap={}}function Te(){}function me(){}function Ge(){}function rt(){}function ot(){}function bt(){}function Ln(){}function hn(){}function mn(){}function kr(){}function En(){}function Yr(){}function Xt(Z,re){var _e=[],ze=9==this.nodeType&&this.documentElement||this,Tt=ze.prefix,an=ze.namespaceURI;if(an&&null==Tt&&null==(Tt=ze.lookupPrefix(an)))var nr=[{namespace:an,prefix:null}];return jn(this,_e,Z,re,nr),_e.join("")}function Jt(Z,re,_e){var ze=Z.prefix||"",Tt=Z.namespaceURI;if(!Tt||"xml"===ze&&Tt===y.XML||Tt===y.XMLNS)return!1;for(var an=_e.length;an--;){var nr=_e[an];if(nr.prefix===ze)return nr.namespace!==Tt}return!0}function vn(Z,re,_e){Z.push(" ",re,'="',_e.replace(/[<&"]/g,gi),'"')}function jn(Z,re,_e,ze,Tt){if(Tt||(Tt=[]),ze){if(!(Z=ze(Z)))return;if("string"==typeof Z)return void re.push(Z)}switch(Z.nodeType){case we:var an=Z.attributes,nr=an.length,on=Z.firstChild,cn=Z.tagName,Yt=cn;if(!(_e=y.isHTML(Z.namespaceURI)||_e)&&!Z.prefix&&Z.namespaceURI){for(var Fn,pr=0;pr<an.length;pr++)if("xmlns"===an.item(pr).name){Fn=an.item(pr).value;break}if(!Fn)for(var Nr=Tt.length-1;Nr>=0;Nr--)if(""===(pn=Tt[Nr]).prefix&&pn.namespace===Z.namespaceURI){Fn=pn.namespace;break}if(Fn!==Z.namespaceURI)for(Nr=Tt.length-1;Nr>=0;Nr--){var pn;if((pn=Tt[Nr]).namespace===Z.namespaceURI){pn.prefix&&(Yt=pn.prefix+":"+cn);break}}}re.push("<",Yt);for(var Lr=0;Lr<nr;Lr++)"xmlns"==(or=an.item(Lr)).prefix?Tt.push({prefix:or.localName,namespace:or.value}):"xmlns"==or.nodeName&&Tt.push({prefix:"",namespace:or.value});for(Lr=0;Lr<nr;Lr++){var or,Pn,Sr;Jt(or=an.item(Lr),0,Tt)&&(vn(re,(Pn=or.prefix||"")?"xmlns:"+Pn:"xmlns",Sr=or.namespaceURI),Tt.push({prefix:Pn,namespace:Sr})),jn(or,re,_e,ze,Tt)}if(cn===Yt&&Jt(Z,0,Tt)&&(vn(re,(Pn=Z.prefix||"")?"xmlns:"+Pn:"xmlns",Sr=Z.namespaceURI),Tt.push({prefix:Pn,namespace:Sr})),on||_e&&!/^(?:meta|link|img|br|hr|input)$/i.test(cn)){if(re.push(">"),_e&&/^script$/i.test(cn))for(;on;)on.data?re.push(on.data):jn(on,re,_e,ze,Tt.slice()),on=on.nextSibling;else for(;on;)jn(on,re,_e,ze,Tt.slice()),on=on.nextSibling;re.push("</",Yt,">")}else re.push("/>");return;case dt:case it:for(on=Z.firstChild;on;)jn(on,re,_e,ze,Tt.slice()),on=on.nextSibling;return;case De:return vn(re,Z.name,Z.value);case Ve:return re.push(Z.data.replace(/[<&]/g,gi).replace(/]]>/g,"]]&gt;"));case Ce:return re.push("<![CDATA[",Z.data,"]]>");case At:return re.push("\x3c!--",Z.data,"--\x3e");case nt:var gr=Z.publicId,Pr=Z.systemId;if(re.push("<!DOCTYPE ",Z.name),gr)re.push(" PUBLIC ",gr),Pr&&"."!=Pr&&re.push(" ",Pr),re.push(">");else if(Pr&&"."!=Pr)re.push(" SYSTEM ",Pr,">");else{var us=Z.internalSubset;us&&re.push(" [",us,"]"),re.push(">")}return;case Ae:return re.push("<?",Z.target," ",Z.data,"?>");case gt:return re.push("&",Z.nodeName,";");default:re.push("??",Z.nodeName)}}function gn(Z,re,_e){var ze;switch(re.nodeType){case we:(ze=re.cloneNode(!1)).ownerDocument=Z;case it:break;case De:_e=!0}if(ze||(ze=re.cloneNode(!1)),ze.ownerDocument=Z,ze.parentNode=null,_e)for(var Tt=re.firstChild;Tt;)ze.appendChild(gn(Z,Tt,_e)),Tt=Tt.nextSibling;return ze}function yn(Z,re,_e){var ze=new re.constructor;for(var Tt in re){var an=re[Tt];"object"!=typeof an&&an!=ze[Tt]&&(ze[Tt]=an)}switch(re.childNodes&&(ze.childNodes=new Mt),ze.ownerDocument=Z,ze.nodeType){case we:var nr=re.attributes,cn=ze.attributes=new sn,Yt=nr.length;cn._ownerElement=ze;for(var Fn=0;Fn<Yt;Fn++)ze.setAttributeNode(yn(Z,nr.item(Fn),!0));break;case De:_e=!0}if(_e)for(var pr=re.firstChild;pr;)ze.appendChild(yn(Z,pr,_e)),pr=pr.nextSibling;return ze}function jr(Z,re,_e){Z[re]=_e}et.INVALID_STATE_ERR=(_t[11]="Invalid state",11),et.SYNTAX_ERR=(_t[12]="Syntax error",12),et.INVALID_MODIFICATION_ERR=(_t[13]="Invalid modification",13),et.NAMESPACE_ERR=(_t[14]="Invalid namespace",14),et.INVALID_ACCESS_ERR=(_t[15]="Invalid access",15),Nt.prototype=Error.prototype,Fe(et,Nt),Mt.prototype={length:0,item:function(Z){return this[Z]||null},toString:function(Z,re){for(var _e=[],ze=0;ze<this.length;ze++)jn(this[ze],_e,Z,re);return _e.join("")}},Ct.prototype.item=function(Z){return Gn(this),this[Z]},Oe(Ct,Mt),sn.prototype={length:0,item:Mt.prototype.item,getNamedItem:function(Z){for(var re=this.length;re--;){var _e=this[re];if(_e.nodeName==Z)return _e}},setNamedItem:function(Z){var re=Z.ownerElement;if(re&&re!=this._ownerElement)throw new Nt(He);var _e=this.getNamedItem(Z.nodeName);return fn(this._ownerElement,this,Z,_e),_e},setNamedItemNS:function(Z){var _e,re=Z.ownerElement;if(re&&re!=this._ownerElement)throw new Nt(He);return _e=this.getNamedItemNS(Z.namespaceURI,Z.localName),fn(this._ownerElement,this,Z,_e),_e},removeNamedItem:function(Z){var re=this.getNamedItem(Z);return hr(this._ownerElement,this,re),re},removeNamedItemNS:function(Z,re){var _e=this.getNamedItemNS(Z,re);return hr(this._ownerElement,this,_e),_e},getNamedItemNS:function(Z,re){for(var _e=this.length;_e--;){var ze=this[_e];if(ze.localName==re&&ze.namespaceURI==Z)return ze}return null}},_r.prototype={hasFeature:function(Z,re){return!0},createDocument:function(Z,re,_e){var ze=new qr;if(ze.implementation=this,ze.childNodes=new Mt,ze.doctype=_e||null,_e&&ze.appendChild(_e),re){var Tt=ze.createElementNS(Z,re);ze.appendChild(Tt)}return ze},createDocumentType:function(Z,re,_e){var ze=new bt;return ze.name=Z,ze.nodeName=Z,ze.publicId=re||"",ze.systemId=_e||"",ze}},Nn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(Z,re){return Oi(this,Z,re)},replaceChild:function(Z,re){this.insertBefore(Z,re),re&&this.removeChild(re)},removeChild:function(Z){return xn(this,Z)},appendChild:function(Z){return this.insertBefore(Z,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(Z){return yn(this.ownerDocument||this,this,Z)},normalize:function(){for(var Z=this.firstChild;Z;){var re=Z.nextSibling;re&&re.nodeType==Ve&&Z.nodeType==Ve?(this.removeChild(re),Z.appendData(re.data)):(Z.normalize(),Z=re)}},isSupported:function(Z,re){return this.ownerDocument.implementation.hasFeature(Z,re)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(Z){for(var re=this;re;){var _e=re._nsMap;if(_e)for(var ze in _e)if(_e[ze]==Z)return ze;re=re.nodeType==De?re.ownerDocument:re.parentNode}return null},lookupNamespaceURI:function(Z){for(var re=this;re;){var _e=re._nsMap;if(_e&&Z in _e)return _e[Z];re=re.nodeType==De?re.ownerDocument:re.parentNode}return null},isDefaultNamespace:function(Z){return null==this.lookupPrefix(Z)}},Fe(xe,Nn),Fe(xe,Nn.prototype),qr.prototype={nodeName:"#document",nodeType:dt,doctype:null,documentElement:null,_inc:1,insertBefore:function(Z,re){if(Z.nodeType==it){for(var _e=Z.firstChild;_e;){var ze=_e.nextSibling;this.insertBefore(_e,re),_e=ze}return Z}return null==this.documentElement&&Z.nodeType==we&&(this.documentElement=Z),Oi(this,Z,re),Z.ownerDocument=this,Z},removeChild:function(Z){return this.documentElement==Z&&(this.documentElement=null),xn(this,Z)},importNode:function(Z,re){return gn(this,Z,re)},getElementById:function(Z){var re=null;return bn(this.documentElement,function(_e){if(_e.nodeType==we&&_e.getAttribute("id")==Z)return re=_e,!0}),re},getElementsByClassName:function(Z){var re=Ne(Z);return new Ct(this,function(_e){var ze=[];return re.length>0&&bn(_e.documentElement,function(Tt){if(Tt!==_e&&Tt.nodeType===we){var an=Tt.getAttribute("class");if(an){var nr=Z===an;if(!nr){var cn=Ne(an);nr=re.every(function Be(Z){return function(re){return Z&&-1!==Z.indexOf(re)}}(cn))}nr&&ze.push(Tt)}}}),ze})},createElement:function(Z){var re=new qe;return re.ownerDocument=this,re.nodeName=Z,re.tagName=Z,re.localName=Z,re.childNodes=new Mt,(re.attributes=new sn)._ownerElement=re,re},createDocumentFragment:function(){var Z=new kr;return Z.ownerDocument=this,Z.childNodes=new Mt,Z},createTextNode:function(Z){var re=new Ge;return re.ownerDocument=this,re.appendData(Z),re},createComment:function(Z){var re=new rt;return re.ownerDocument=this,re.appendData(Z),re},createCDATASection:function(Z){var re=new ot;return re.ownerDocument=this,re.appendData(Z),re},createProcessingInstruction:function(Z,re){var _e=new En;return _e.ownerDocument=this,_e.tagName=_e.target=Z,_e.nodeValue=_e.data=re,_e},createAttribute:function(Z){var re=new Te;return re.ownerDocument=this,re.name=Z,re.nodeName=Z,re.localName=Z,re.specified=!0,re},createEntityReference:function(Z){var re=new mn;return re.ownerDocument=this,re.nodeName=Z,re},createElementNS:function(Z,re){var _e=new qe,ze=re.split(":"),Tt=_e.attributes=new sn;return _e.childNodes=new Mt,_e.ownerDocument=this,_e.nodeName=re,_e.tagName=re,_e.namespaceURI=Z,2==ze.length?(_e.prefix=ze[0],_e.localName=ze[1]):_e.localName=re,Tt._ownerElement=_e,_e},createAttributeNS:function(Z,re){var _e=new Te,ze=re.split(":");return _e.ownerDocument=this,_e.nodeName=re,_e.name=re,_e.namespaceURI=Z,_e.specified=!0,2==ze.length?(_e.prefix=ze[0],_e.localName=ze[1]):_e.localName=re,_e}},Oe(qr,Nn),qr.prototype.getElementsByTagName=(qe.prototype={nodeType:we,hasAttribute:function(Z){return null!=this.getAttributeNode(Z)},getAttribute:function(Z){var re=this.getAttributeNode(Z);return re&&re.value||""},getAttributeNode:function(Z){return this.attributes.getNamedItem(Z)},setAttribute:function(Z,re){var _e=this.ownerDocument.createAttribute(Z);_e.value=_e.nodeValue=""+re,this.setAttributeNode(_e)},removeAttribute:function(Z){var re=this.getAttributeNode(Z);re&&this.removeAttributeNode(re)},appendChild:function(Z){return Z.nodeType===it?this.insertBefore(Z,null):function Bt(Z,re){var _e=re.parentNode;if(_e){var ze=Z.lastChild;_e.removeChild(re),ze=Z.lastChild}return ze=Z.lastChild,re.parentNode=Z,re.previousSibling=ze,re.nextSibling=null,ze?ze.nextSibling=re:Z.firstChild=re,Z.lastChild=re,Sn(Z.ownerDocument,Z,re),re}(this,Z)},setAttributeNode:function(Z){return this.attributes.setNamedItem(Z)},setAttributeNodeNS:function(Z){return this.attributes.setNamedItemNS(Z)},removeAttributeNode:function(Z){return this.attributes.removeNamedItem(Z.nodeName)},removeAttributeNS:function(Z,re){var _e=this.getAttributeNodeNS(Z,re);_e&&this.removeAttributeNode(_e)},hasAttributeNS:function(Z,re){return null!=this.getAttributeNodeNS(Z,re)},getAttributeNS:function(Z,re){var _e=this.getAttributeNodeNS(Z,re);return _e&&_e.value||""},setAttributeNS:function(Z,re,_e){var ze=this.ownerDocument.createAttributeNS(Z,re);ze.value=ze.nodeValue=""+_e,this.setAttributeNode(ze)},getAttributeNodeNS:function(Z,re){return this.attributes.getNamedItemNS(Z,re)},getElementsByTagName:function(Z){return new Ct(this,function(re){var _e=[];return bn(re,function(ze){ze!==re&&ze.nodeType==we&&("*"===Z||ze.tagName==Z)&&_e.push(ze)}),_e})},getElementsByTagNameNS:function(Z,re){return new Ct(this,function(_e){var ze=[];return bn(_e,function(Tt){Tt!==_e&&Tt.nodeType===we&&("*"===Z||Tt.namespaceURI===Z)&&("*"===re||Tt.localName==re)&&ze.push(Tt)}),ze})}}).getElementsByTagName,qr.prototype.getElementsByTagNameNS=qe.prototype.getElementsByTagNameNS,Oe(qe,Nn),Te.prototype.nodeType=De,Oe(Te,Nn),me.prototype={data:"",substringData:function(Z,re){return this.data.substring(Z,Z+re)},appendData:function(Z){this.nodeValue=this.data=Z=this.data+Z,this.length=Z.length},insertData:function(Z,re){this.replaceData(Z,0,re)},appendChild:function(Z){throw new Error(_t[te])},deleteData:function(Z,re){this.replaceData(Z,re,"")},replaceData:function(Z,re,_e){var ze=this.data.substring(0,Z),Tt=this.data.substring(Z+re);this.nodeValue=this.data=_e=ze+_e+Tt,this.length=_e.length}},Oe(me,Nn),Ge.prototype={nodeName:"#text",nodeType:Ve,splitText:function(Z){var re=this.data,_e=re.substring(Z);re=re.substring(0,Z),this.data=this.nodeValue=re,this.length=re.length;var ze=this.ownerDocument.createTextNode(_e);return this.parentNode&&this.parentNode.insertBefore(ze,this.nextSibling),ze}},Oe(Ge,me),rt.prototype={nodeName:"#comment",nodeType:At},Oe(rt,me),ot.prototype={nodeName:"#cdata-section",nodeType:Ce},Oe(ot,me),bt.prototype.nodeType=nt,Oe(bt,Nn),Ln.prototype.nodeType=Ee,Oe(Ln,Nn),hn.prototype.nodeType=wt,Oe(hn,Nn),mn.prototype.nodeType=gt,Oe(mn,Nn),kr.prototype.nodeName="#document-fragment",kr.prototype.nodeType=it,Oe(kr,Nn),En.prototype.nodeType=Ae,Oe(En,Nn),Yr.prototype.serializeToString=function(Z,re,_e){return Xt.call(Z,re,_e)},Nn.prototype.toString=Xt;try{if(Object.defineProperty){let Z=function(re){switch(re.nodeType){case we:case it:var _e=[];for(re=re.firstChild;re;)7!==re.nodeType&&8!==re.nodeType&&_e.push(Z(re)),re=re.nextSibling;return _e.join("");default:return re.nodeValue}};Object.defineProperty(Ct.prototype,"length",{get:function(){return Gn(this),this.$$length}}),Object.defineProperty(Nn.prototype,"textContent",{get:function(){return Z(this)},set:function(re){switch(this.nodeType){case we:case it:for(;this.firstChild;)this.removeChild(this.firstChild);(re||String(re))&&this.appendChild(this.ownerDocument.createTextNode(re));break;default:this.data=re,this.value=re,this.nodeValue=re}}}),jr=function(re,_e,ze){re["$$"+_e]=ze}}}catch(Z){}Re.DocumentType=bt,Re.DOMException=Nt,Re.DOMImplementation=_r,Re.Element=qe,Re.Node=Nn,Re.NodeList=Mt,Re.XMLSerializer=Yr},4436:(ft,Re,H)=>{var T=H(9401).freeze;Re.XML_ENTITIES=T({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),Re.HTML_ENTITIES=T({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),Re.entityMap=Re.HTML_ENTITIES},978:(ft,Re,H)=>{H(6853);Re.DOMParser=H(1991).DOMParser},8702:(ft,Re,H)=>{var T=H(9401).NAMESPACE,y=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,de=new RegExp("[\\-\\.0-9"+y.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),be=new RegExp("^"+y.source+de.source+"*(?::"+y.source+de.source+"*)?$");function Ve(K,te){this.message=K,this.locator=te,Error.captureStackTrace&&Error.captureStackTrace(this,Ve)}function Ce(){}function wt(K,te){return te.lineNumber=K.lineNumber,te.columnNumber=K.columnNumber,te}function Ae(K,te,ee,ce,ue,Se){function he(zt,Nt,Mt){ee.attributeNames.hasOwnProperty(zt)&&Se.fatalError("Attribute "+zt+" redefined"),ee.addValue(zt,Nt,Mt)}for(var Ue,st=++te,Ke=0;;){var We=K.charAt(st);switch(We){case"=":if(1===Ke)Ue=K.slice(te,st),Ke=3;else{if(2!==Ke)throw new Error("attribute equal must after attrName");Ke=3}break;case"'":case'"':if(3===Ke||1===Ke){if(1===Ke&&(Se.warning('attribute value must after "="'),Ue=K.slice(te,st)),!((st=K.indexOf(We,te=st+1))>0))throw new Error("attribute value no end '"+We+"' match");he(Ue,He=K.slice(te,st).replace(/&#?\w+;/g,ue),te-1),Ke=5}else{if(4!=Ke)throw new Error('attribute value must after "="');he(Ue,He=K.slice(te,st).replace(/&#?\w+;/g,ue),te),Se.warning('attribute "'+Ue+'" missed start quot('+We+")!!"),te=st+1,Ke=5}break;case"/":switch(Ke){case 0:ee.setTagName(K.slice(te,st));case 5:case 6:case 7:Ke=7,ee.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Se.error("unexpected end of input"),0==Ke&&ee.setTagName(K.slice(te,st)),st;case">":switch(Ke){case 0:ee.setTagName(K.slice(te,st));case 5:case 6:case 7:break;case 4:case 1:"/"===(He=K.slice(te,st)).slice(-1)&&(ee.closed=!0,He=He.slice(0,-1));case 2:2===Ke&&(He=Ue),4==Ke?(Se.warning('attribute "'+He+'" missed quot(")!'),he(Ue,He.replace(/&#?\w+;/g,ue),te)):((!T.isHTML(ce[""])||!He.match(/^(?:disabled|checked|selected)$/i))&&Se.warning('attribute "'+He+'" missed value!! "'+He+'" instead!!'),he(He,He,te));break;case 3:throw new Error("attribute value missed!!")}return st;case"\x80":We=" ";default:if(We<=" ")switch(Ke){case 0:ee.setTagName(K.slice(te,st)),Ke=6;break;case 1:Ue=K.slice(te,st),Ke=2;break;case 4:var He=K.slice(te,st).replace(/&#?\w+;/g,ue);Se.warning('attribute "'+He+'" missed quot(")!!'),he(Ue,He,te);case 5:Ke=6}else switch(Ke){case 2:(!T.isHTML(ce[""])||!Ue.match(/^(?:disabled|checked|selected)$/i))&&Se.warning('attribute "'+Ue+'" missed value!! "'+Ue+'" instead2!!'),he(Ue,Ue,te),te=st,Ke=1;break;case 5:Se.warning('attribute space is required"'+Ue+'"!!');case 6:Ke=1,te=st;break;case 3:Ke=4,te=st;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}st++}}function At(K,te,ee){for(var ce=K.tagName,ue=null,We=K.length;We--;){var Se=K[We],he=Se.qName,Ue=Se.value;if((xt=he.indexOf(":"))>0)var He=Se.prefix=he.slice(0,xt),st=he.slice(xt+1),Ke="xmlns"===He&&st;else st=he,He=null,Ke="xmlns"===he&&"";Se.localName=st,!1!==Ke&&(null==ue&&(ue={},it(ee,ee={})),ee[Ke]=ue[Ke]=Ue,Se.uri=T.XMLNS,te.startPrefixMapping(Ke,Ue))}for(We=K.length;We--;)(He=(Se=K[We]).prefix)&&("xml"===He&&(Se.uri=T.XML),"xmlns"!==He&&(Se.uri=ee[He||""]));var xt;(xt=ce.indexOf(":"))>0?(He=K.prefix=ce.slice(0,xt),st=K.localName=ce.slice(xt+1)):(He=null,st=K.localName=ce);var zt=K.uri=ee[He||""];if(te.startElement(zt,st,ce,K),!K.closed)return K.currentNSMap=ee,K.localNSMap=ue,!0;if(te.endElement(zt,st,ce),ue)for(He in ue)te.endPrefixMapping(He)}function dt(K,te,ee,ce,ue){if(/^(?:script|textarea)$/i.test(ee)){var Se=K.indexOf("</"+ee+">",te),he=K.substring(te+1,Se);if(/[&<]/.test(he))return/^script$/i.test(ee)?(ue.characters(he,0,he.length),Se):(he=he.replace(/&#?\w+;/g,ce),ue.characters(he,0,he.length),Se)}return te+1}function nt(K,te,ee,ce){var ue=ce[ee];return null==ue&&((ue=K.lastIndexOf("</"+ee+">"))<te&&(ue=K.lastIndexOf("</"+ee)),ce[ee]=ue),ue<te}function it(K,te){for(var ee in K)te[ee]=K[ee]}function Ee(K,te,ee,ce){if("-"===K.charAt(te+2))return"-"===K.charAt(te+3)?(Se=K.indexOf("--\x3e",te+4))>te?(ee.comment(K,te+4,Se-te-4),Se+3):(ce.error("Unclosed comment"),-1):-1;if("CDATA["==K.substr(te+3,6)){var Se=K.indexOf("]]>",te+9);return ee.startCDATA(),ee.characters(K,te+9,Se-te-9),ee.endCDATA(),Se+3}var he=function vt(K,te){var ee,ce=[],ue=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(ue.lastIndex=te,ue.exec(K);ee=ue.exec(K);)if(ce.push(ee),ee[1])return ce}(K,te),Ue=he.length;if(Ue>1&&/!doctype/i.test(he[0][0])){var He=he[1][0],st=!1,Ke=!1;Ue>3&&(/^public$/i.test(he[2][0])?(st=he[3][0],Ke=Ue>4&&he[4][0]):/^system$/i.test(he[2][0])&&(Ke=he[3][0]));var We=he[Ue-1];return ee.startDTD(He,st,Ke),ee.endDTD(),We.index+We[0].length}return-1}function et(K,te,ee){var ce=K.indexOf("?>",te);if(ce){var ue=K.substring(te,ce).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return ue?(ee.processingInstruction(ue[1],ue[2]),ce+2):-1}return-1}function _t(){this.attributeNames={}}(Ve.prototype=new Error).name=Ve.name,Ce.prototype={parse:function(K,te,ee){var ce=this.domBuilder;ce.startDocument(),it(te,te={}),function gt(K,te,ee,ce,ue){function he(Bt){var qe=Bt.slice(1,-1);return qe in ee?ee[qe]:"#"===qe.charAt(0)?function Se(Bt){return Bt>65535?(Bt-=65536,String.fromCharCode(55296+(Bt>>10),56320+(1023&Bt))):String.fromCharCode(Bt)}(parseInt(qe.substr(1).replace("x","0x"))):(ue.error("entity not found:"+Bt),Bt)}function Ue(Bt){if(Bt>Mt){var qe=K.substring(Mt,Bt).replace(/&#?\w+;/g,he);xt&&He(Mt),ce.characters(qe,0,Bt-Mt),Mt=Bt}}function He(Bt,qe){for(;Bt>=Ke&&(qe=We.exec(K));)Ke=(st=qe.index)+qe[0].length,xt.lineNumber++;xt.columnNumber=Bt-st+1}for(var st=0,Ke=0,We=/.*(?:\r\n?|\n)|.*$/g,xt=ce.locator,zt=[{currentNSMap:te}],Nt={},Mt=0;;){try{var Ct=K.indexOf("<",Mt);if(Ct<0){if(!K.substr(Mt).match(/^\s*$/)){var Gn=ce.doc,sn=Gn.createTextNode(K.substr(Mt));Gn.appendChild(sn),ce.currentElement=sn}return}switch(Ct>Mt&&Ue(Ct),K.charAt(Ct+1)){case"/":var tr=K.indexOf(">",Ct+3),Tn=K.substring(Ct+2,tr).replace(/[ \t\n\r]+$/g,""),fn=zt.pop();tr<0?(Tn=K.substring(Ct+2).replace(/[\s<].*/,""),ue.error("end tag name: "+Tn+" is not complete:"+fn.tagName),tr=Ct+1+Tn.length):Tn.match(/\s</)&&(Tn=Tn.replace(/[\s<].*/,""),ue.error("end tag name: "+Tn+" maybe not complete"),tr=Ct+1+Tn.length);var hr=fn.localNSMap,_r=fn.tagName==Tn;if(_r||fn.tagName&&fn.tagName.toLowerCase()==Tn.toLowerCase()){if(ce.endElement(fn.uri,fn.localName,Tn),hr)for(var gi in hr)ce.endPrefixMapping(gi);_r||ue.fatalError("end tag name: "+Tn+" is not match the current start tagName:"+fn.tagName)}else zt.push(fn);tr++;break;case"?":xt&&He(Ct),tr=et(K,Ct,ce);break;case"!":xt&&He(Ct),tr=Ee(K,Ct,ce,ue);break;default:xt&&He(Ct);var bn=new _t,qr=zt[zt.length-1].currentNSMap,Ei=(tr=Ae(K,Ct,bn,qr,he,ue),bn.length);if(!bn.closed&&nt(K,tr,bn.tagName,Nt)&&(bn.closed=!0,ee.nbsp||ue.warning("unclosed xml attribute")),xt&&Ei){for(var Sn=wt(xt,{}),xn=0;xn<Ei;xn++){var Oi=bn[xn];He(Oi.offset),Oi.locator=wt(xt,{})}ce.locator=Sn,At(bn,ce,qr)&&zt.push(bn),ce.locator=xt}else At(bn,ce,qr)&&zt.push(bn);T.isHTML(bn.uri)&&!bn.closed?tr=dt(K,tr,bn.tagName,he,ce):tr++}}catch(Bt){if(Bt instanceof Ve)throw Bt;ue.error("element parse error: "+Bt),tr=-1}tr>Mt?Mt=tr:Ue(Math.max(Ct,Mt)+1)}}(K,te,ee,ce,this.errorHandler),ce.endDocument()}},_t.prototype={setTagName:function(K){if(!be.test(K))throw new Error("invalid tagName:"+K);this.tagName=K},addValue:function(K,te,ee){if(!be.test(K))throw new Error("invalid attribute:"+K);this.attributeNames[K]=this.length,this[this.length++]={qName:K,value:te,offset:ee}},length:0,getLocalName:function(K){return this[K].localName},getLocator:function(K){return this[K].locator},getQName:function(K){return this[K].qName},getURI:function(K){return this[K].uri},getValue:function(K){return this[K].value}},Re.XMLReader=Ce,Re.ParseError=Ve},1421:(ft,Re,H)=>{var de,T="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},y=H(5893);"undefined"!=typeof document?de=document:(de=T["__GLOBAL_DOCUMENT_CACHE@4"])||(de=T["__GLOBAL_DOCUMENT_CACHE@4"]=y),ft.exports=de},9226:ft=>{var Re;Re="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ft.exports=Re},2703:ft=>{ft.exports=function H(T){if(!T)return!1;var y=Re.call(T);return"[object Function]"===y||"function"==typeof T&&"[object RegExp]"!==y||"undefined"!=typeof window&&(T===window.setTimeout||T===window.alert||T===window.confirm||T===window.prompt)};var Re=Object.prototype.toString},1234:(ft,Re)=>{function H(Ne){if(Ne&&"object"==typeof Ne){var Be=Ne.which||Ne.keyCode||Ne.charCode;Be&&(Ne=Be)}if("number"==typeof Ne)return be[Ne];var Oe,Fe=String(Ne);return(Oe=T[Fe.toLowerCase()])?Oe:(Oe=y[Fe.toLowerCase()])||(1===Fe.length?Fe.charCodeAt(0):void 0)}H.isEventKey=function(Be,Fe){if(Be&&"object"==typeof Be){var Oe=Be.which||Be.keyCode||Be.charCode;if(null==Oe)return!1;if("string"==typeof Fe){var xe;if(xe=T[Fe.toLowerCase()])return xe===Oe;if(xe=y[Fe.toLowerCase()])return xe===Oe}else if("number"==typeof Fe)return Fe===Oe;return!1}};var T=(Re=ft.exports=H).code=Re.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},y=Re.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
       * Programatically add the following
       */for(de=97;de<123;de++)T[String.fromCharCode(de)]=de-32;for(var de=48;de<58;de++)T[de-48]=de;for(de=1;de<13;de++)T["f"+de]=de+111;for(de=0;de<10;de++)T["numpad "+de]=de+96;var be=Re.names=Re.title={};for(de in T)be[T[de]]=de;for(var ye in y)T[ye]=y[ye]},7459:(ft,Re,H)=>{var T=H(3357).getUint64;ft.exports=function(de){var be=new DataView(de.buffer,de.byteOffset,de.byteLength),ye={version:de[0],flags:new Uint8Array(de.subarray(1,4)),references:[],referenceId:be.getUint32(4),timescale:be.getUint32(8)},Ne=12;0===ye.version?(ye.earliestPresentationTime=be.getUint32(Ne),ye.firstOffset=be.getUint32(Ne+4),Ne+=8):(ye.earliestPresentationTime=T(de.subarray(Ne)),ye.firstOffset=T(de.subarray(Ne+8)),Ne+=16);var Be=be.getUint16(Ne+=2);for(Ne+=2;Be>0;Ne+=12,Be--)ye.references.push({referenceType:(128&de[Ne])>>>7,referencedSize:2147483647&be.getUint32(Ne),subsegmentDuration:be.getUint32(Ne+4),startsWithSap:!!(128&de[Ne+8]),sapType:(112&de[Ne+8])>>>4,sapDeltaTime:268435455&be.getUint32(Ne+8)});return ye}},6277:ft=>{var H,T,y,de,be,ye,Ne;be=function(Be,Fe){return H(de(Be,Fe))},ye=function(Be,Fe){return T(y(Be),Fe)},Ne=function(Be,Fe,Oe){return y(Oe?Be:Be-Fe)},ft.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:H=function(Be){return 9e4*Be},secondsToAudioTs:T=function(Be,Fe){return Be*Fe},videoTsToSeconds:y=function(Be){return Be/9e4},audioTsToSeconds:de=function(Be,Fe){return Be/Fe},audioTsToVideoTs:be,videoTsToAudioTs:ye,metadataTsToSeconds:Ne}},3357:ft=>{var Re=Math.pow(2,32);ft.exports={getUint64:function(T){var de,y=new DataView(T.buffer,T.byteOffset,T.byteLength);return y.getBigUint64?(de=y.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(de):de:y.getUint32(0)*Re+y.getUint32(4)},MAX_UINT32:Re}},1135:(ft,Re,H)=>{"use strict";H.d(Re,{X:()=>y});var T=H(7579);class y extends T.x{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const ye=super._subscribe(be);return!ye.closed&&be.next(this._value),ye}getValue(){const{hasError:be,thrownError:ye,_value:Ne}=this;if(be)throw ye;return this._throwIfClosed(),Ne}next(be){super.next(this._value=be)}}},8306:(ft,Re,H)=>{"use strict";H.d(Re,{y:()=>xe});var T=H(930),y=H(727),de=H(8822),be=H(4671);var Be=H(2416),Fe=H(576),Oe=H(2806);let xe=(()=>{class Ce{constructor(wt){wt&&(this._subscribe=wt)}lift(wt){const Ae=new Ce;return Ae.source=this,Ae.operator=wt,Ae}subscribe(wt,Ae,At){const dt=function Ve(Ce){return Ce&&Ce instanceof T.Lv||function De(Ce){return Ce&&(0,Fe.m)(Ce.next)&&(0,Fe.m)(Ce.error)&&(0,Fe.m)(Ce.complete)}(Ce)&&(0,y.Nn)(Ce)}(wt)?wt:new T.Hp(wt,Ae,At);return(0,Oe.x)(()=>{const{operator:nt,source:it}=this;dt.add(nt?nt.call(dt,it):it?this._subscribe(dt):this._trySubscribe(dt))}),dt}_trySubscribe(wt){try{return this._subscribe(wt)}catch(Ae){wt.error(Ae)}}forEach(wt,Ae){return new(Ae=we(Ae))((At,dt)=>{const nt=new T.Hp({next:it=>{try{wt(it)}catch(Ee){dt(Ee),nt.unsubscribe()}},error:dt,complete:At});this.subscribe(nt)})}_subscribe(wt){var Ae;return null===(Ae=this.source)||void 0===Ae?void 0:Ae.subscribe(wt)}[de.L](){return this}pipe(...wt){return function Ne(Ce){return 0===Ce.length?be.y:1===Ce.length?Ce[0]:function(wt){return Ce.reduce((Ae,At)=>At(Ae),wt)}}(wt)(this)}toPromise(wt){return new(wt=we(wt))((Ae,At)=>{let dt;this.subscribe(nt=>dt=nt,nt=>At(nt),()=>Ae(dt))})}}return Ce.create=gt=>new Ce(gt),Ce})();function we(Ce){var gt;return null!==(gt=null!=Ce?Ce:Be.v.Promise)&&void 0!==gt?gt:Promise}},7579:(ft,Re,H)=>{"use strict";H.d(Re,{x:()=>Be});var T=H(8306),y=H(727);const be=(0,H(3888).d)(Oe=>function(){Oe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=H(8737),Ne=H(2806);let Be=(()=>{class Oe extends T.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(we){const De=new Fe(this,this);return De.operator=we,De}_throwIfClosed(){if(this.closed)throw new be}next(we){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(we)}})}error(we){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=we;const{observers:De}=this;for(;De.length;)De.shift().error(we)}})}complete(){(0,Ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:we}=this;for(;we.length;)we.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var we;return(null===(we=this.observers)||void 0===we?void 0:we.length)>0}_trySubscribe(we){return this._throwIfClosed(),super._trySubscribe(we)}_subscribe(we){return this._throwIfClosed(),this._checkFinalizedStatuses(we),this._innerSubscribe(we)}_innerSubscribe(we){const{hasError:De,isStopped:Ve,observers:Ce}=this;return De||Ve?y.Lc:(this.currentObservers=null,Ce.push(we),new y.w0(()=>{this.currentObservers=null,(0,ye.P)(Ce,we)}))}_checkFinalizedStatuses(we){const{hasError:De,thrownError:Ve,isStopped:Ce}=this;De?we.error(Ve):Ce&&we.complete()}asObservable(){const we=new T.y;return we.source=this,we}}return Oe.create=(xe,we)=>new Fe(xe,we),Oe})();class Fe extends Be{constructor(xe,we){super(),this.destination=xe,this.source=we}next(xe){var we,De;null===(De=null===(we=this.destination)||void 0===we?void 0:we.next)||void 0===De||De.call(we,xe)}error(xe){var we,De;null===(De=null===(we=this.destination)||void 0===we?void 0:we.error)||void 0===De||De.call(we,xe)}complete(){var xe,we;null===(we=null===(xe=this.destination)||void 0===xe?void 0:xe.complete)||void 0===we||we.call(xe)}_subscribe(xe){var we,De;return null!==(De=null===(we=this.source)||void 0===we?void 0:we.subscribe(xe))&&void 0!==De?De:y.Lc}}},930:(ft,Re,H)=>{"use strict";H.d(Re,{Hp:()=>wt,Lv:()=>De});var T=H(576),y=H(727),de=H(2416),be=H(7849),ye=H(5032);const Ne=Oe("C",void 0,void 0);function Oe(it,Ee,et){return{kind:it,value:Ee,error:et}}var xe=H(3410),we=H(2806);class De extends y.w0{constructor(Ee){super(),this.isStopped=!1,Ee?(this.destination=Ee,(0,y.Nn)(Ee)&&Ee.add(this)):this.destination=nt}static create(Ee,et,_t){return new wt(Ee,et,_t)}next(Ee){this.isStopped?dt(function Fe(it){return Oe("N",it,void 0)}(Ee),this):this._next(Ee)}error(Ee){this.isStopped?dt(function Be(it){return Oe("E",void 0,it)}(Ee),this):(this.isStopped=!0,this._error(Ee))}complete(){this.isStopped?dt(Ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ee){this.destination.next(Ee)}_error(Ee){try{this.destination.error(Ee)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Ce(it,Ee){return Ve.call(it,Ee)}class gt{constructor(Ee){this.partialObserver=Ee}next(Ee){const{partialObserver:et}=this;if(et.next)try{et.next(Ee)}catch(_t){Ae(_t)}}error(Ee){const{partialObserver:et}=this;if(et.error)try{et.error(Ee)}catch(_t){Ae(_t)}else Ae(Ee)}complete(){const{partialObserver:Ee}=this;if(Ee.complete)try{Ee.complete()}catch(et){Ae(et)}}}class wt extends De{constructor(Ee,et,_t){let vt;if(super(),(0,T.m)(Ee)||!Ee)vt={next:null!=Ee?Ee:void 0,error:null!=et?et:void 0,complete:null!=_t?_t:void 0};else{let K;this&&de.v.useDeprecatedNextContext?(K=Object.create(Ee),K.unsubscribe=()=>this.unsubscribe(),vt={next:Ee.next&&Ce(Ee.next,K),error:Ee.error&&Ce(Ee.error,K),complete:Ee.complete&&Ce(Ee.complete,K)}):vt=Ee}this.destination=new gt(vt)}}function Ae(it){de.v.useDeprecatedSynchronousErrorHandling?(0,we.O)(it):(0,be.h)(it)}function dt(it,Ee){const{onStoppedNotification:et}=de.v;et&&xe.z.setTimeout(()=>et(it,Ee))}const nt={closed:!0,next:ye.Z,error:function At(it){throw it},complete:ye.Z}},727:(ft,Re,H)=>{"use strict";H.d(Re,{Lc:()=>Ne,w0:()=>ye,Nn:()=>Be});var T=H(576);const de=(0,H(3888).d)(Oe=>function(we){Oe(this),this.message=we?`${we.length} errors occurred during unsubscription:\n${we.map((De,Ve)=>`${Ve+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=we});var be=H(8737);class ye{constructor(xe){this.initialTeardown=xe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let xe;if(!this.closed){this.closed=!0;const{_parentage:we}=this;if(we)if(this._parentage=null,Array.isArray(we))for(const Ce of we)Ce.remove(this);else we.remove(this);const{initialTeardown:De}=this;if((0,T.m)(De))try{De()}catch(Ce){xe=Ce instanceof de?Ce.errors:[Ce]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Ce of Ve)try{Fe(Ce)}catch(gt){xe=null!=xe?xe:[],gt instanceof de?xe=[...xe,...gt.errors]:xe.push(gt)}}if(xe)throw new de(xe)}}add(xe){var we;if(xe&&xe!==this)if(this.closed)Fe(xe);else{if(xe instanceof ye){if(xe.closed||xe._hasParent(this))return;xe._addParent(this)}(this._finalizers=null!==(we=this._finalizers)&&void 0!==we?we:[]).push(xe)}}_hasParent(xe){const{_parentage:we}=this;return we===xe||Array.isArray(we)&&we.includes(xe)}_addParent(xe){const{_parentage:we}=this;this._parentage=Array.isArray(we)?(we.push(xe),we):we?[we,xe]:xe}_removeParent(xe){const{_parentage:we}=this;we===xe?this._parentage=null:Array.isArray(we)&&(0,be.P)(we,xe)}remove(xe){const{_finalizers:we}=this;we&&(0,be.P)(we,xe),xe instanceof ye&&xe._removeParent(this)}}ye.EMPTY=(()=>{const Oe=new ye;return Oe.closed=!0,Oe})();const Ne=ye.EMPTY;function Be(Oe){return Oe instanceof ye||Oe&&"closed"in Oe&&(0,T.m)(Oe.remove)&&(0,T.m)(Oe.add)&&(0,T.m)(Oe.unsubscribe)}function Fe(Oe){(0,T.m)(Oe)?Oe():Oe.unsubscribe()}},2416:(ft,Re,H)=>{"use strict";H.d(Re,{v:()=>T});const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(ft,Re,H)=>{"use strict";H.d(Re,{c:()=>Ne});var T=H(8306),y=H(727),de=H(8343),be=H(5403),ye=H(4482);class Ne extends T.y{constructor(Fe,Oe){super(),this.source=Fe,this.subjectFactory=Oe,this._subject=null,this._refCount=0,this._connection=null,(0,ye.A)(Fe)&&(this.lift=Fe.lift)}_subscribe(Fe){return this.getSubject().subscribe(Fe)}getSubject(){const Fe=this._subject;return(!Fe||Fe.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Fe}=this;this._subject=this._connection=null,null==Fe||Fe.unsubscribe()}connect(){let Fe=this._connection;if(!Fe){Fe=this._connection=new y.w0;const Oe=this.getSubject();Fe.add(this.source.subscribe((0,be.x)(Oe,void 0,()=>{this._teardown(),Oe.complete()},xe=>{this._teardown(),Oe.error(xe)},()=>this._teardown()))),Fe.closed&&(this._connection=null,Fe=y.w0.EMPTY)}return Fe}refCount(){return(0,de.x)()(this)}}},7272:(ft,Re,H)=>{"use strict";H.d(Re,{z:()=>ye});var T=H(8189),de=H(3269),be=H(2076);function ye(...Ne){return function y(){return(0,T.J)(1)}()((0,be.D)(Ne,(0,de.yG)(Ne)))}},9770:(ft,Re,H)=>{"use strict";H.d(Re,{P:()=>de});var T=H(8306),y=H(8421);function de(be){return new T.y(ye=>{(0,y.Xf)(be()).subscribe(ye)})}},515:(ft,Re,H)=>{"use strict";H.d(Re,{E:()=>y});const y=new(H(8306).y)(ye=>ye.complete())},2076:(ft,Re,H)=>{"use strict";H.d(Re,{D:()=>_t});var T=H(8421),y=H(9672),de=H(4482),be=H(5403);function ye(vt,K=0){return(0,de.e)((te,ee)=>{te.subscribe((0,be.x)(ee,ce=>(0,y.f)(ee,vt,()=>ee.next(ce),K),()=>(0,y.f)(ee,vt,()=>ee.complete(),K),ce=>(0,y.f)(ee,vt,()=>ee.error(ce),K)))})}function Ne(vt,K=0){return(0,de.e)((te,ee)=>{ee.add(vt.schedule(()=>te.subscribe(ee),K))})}var Oe=H(8306),we=H(2202),De=H(576);function Ce(vt,K){if(!vt)throw new Error("Iterable cannot be null");return new Oe.y(te=>{(0,y.f)(te,K,()=>{const ee=vt[Symbol.asyncIterator]();(0,y.f)(te,K,()=>{ee.next().then(ce=>{ce.done?te.complete():te.next(ce.value)})},0,!0)})})}var gt=H(3670),wt=H(8239),Ae=H(1144),At=H(6495),dt=H(2206),nt=H(4532),it=H(3260);function _t(vt,K){return K?function et(vt,K){if(null!=vt){if((0,gt.c)(vt))return function Be(vt,K){return(0,T.Xf)(vt).pipe(Ne(K),ye(K))}(vt,K);if((0,Ae.z)(vt))return function xe(vt,K){return new Oe.y(te=>{let ee=0;return K.schedule(function(){ee===vt.length?te.complete():(te.next(vt[ee++]),te.closed||this.schedule())})})}(vt,K);if((0,wt.t)(vt))return function Fe(vt,K){return(0,T.Xf)(vt).pipe(Ne(K),ye(K))}(vt,K);if((0,dt.D)(vt))return Ce(vt,K);if((0,At.T)(vt))return function Ve(vt,K){return new Oe.y(te=>{let ee;return(0,y.f)(te,K,()=>{ee=vt[we.h](),(0,y.f)(te,K,()=>{let ce,ue;try{({value:ce,done:ue}=ee.next())}catch(Se){return void te.error(Se)}ue?te.complete():te.next(ce)},0,!0)}),()=>(0,De.m)(null==ee?void 0:ee.return)&&ee.return()})}(vt,K);if((0,it.L)(vt))return function Ee(vt,K){return Ce((0,it.Q)(vt),K)}(vt,K)}throw(0,nt.z)(vt)}(vt,K):(0,T.Xf)(vt)}},8421:(ft,Re,H)=>{"use strict";H.d(Re,{Xf:()=>Ve});var T=H(655),y=H(1144),de=H(8239),be=H(8306),ye=H(3670),Ne=H(2206),Be=H(4532),Fe=H(6495),Oe=H(3260),xe=H(576),we=H(7849),De=H(8822);function Ve(it){if(it instanceof be.y)return it;if(null!=it){if((0,ye.c)(it))return function Ce(it){return new be.y(Ee=>{const et=it[De.L]();if((0,xe.m)(et.subscribe))return et.subscribe(Ee);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(it);if((0,y.z)(it))return function gt(it){return new be.y(Ee=>{for(let et=0;et<it.length&&!Ee.closed;et++)Ee.next(it[et]);Ee.complete()})}(it);if((0,de.t)(it))return function wt(it){return new be.y(Ee=>{it.then(et=>{Ee.closed||(Ee.next(et),Ee.complete())},et=>Ee.error(et)).then(null,we.h)})}(it);if((0,Ne.D)(it))return At(it);if((0,Fe.T)(it))return function Ae(it){return new be.y(Ee=>{for(const et of it)if(Ee.next(et),Ee.closed)return;Ee.complete()})}(it);if((0,Oe.L)(it))return function dt(it){return At((0,Oe.Q)(it))}(it)}throw(0,Be.z)(it)}function At(it){return new be.y(Ee=>{(function nt(it,Ee){var et,_t,vt,K;return(0,T.mG)(this,void 0,void 0,function*(){try{for(et=(0,T.KL)(it);!(_t=yield et.next()).done;)if(Ee.next(_t.value),Ee.closed)return}catch(te){vt={error:te}}finally{try{_t&&!_t.done&&(K=et.return)&&(yield K.call(et))}finally{if(vt)throw vt.error}}Ee.complete()})})(it,Ee).catch(et=>Ee.error(et))})}},6451:(ft,Re,H)=>{"use strict";H.d(Re,{T:()=>Ne});var T=H(8189),y=H(8421),de=H(515),be=H(3269),ye=H(2076);function Ne(...Be){const Fe=(0,be.yG)(Be),Oe=(0,be._6)(Be,1/0),xe=Be;return xe.length?1===xe.length?(0,y.Xf)(xe[0]):(0,T.J)(Oe)((0,ye.D)(xe,Fe)):de.E}},9646:(ft,Re,H)=>{"use strict";H.d(Re,{of:()=>de});var T=H(3269),y=H(2076);function de(...be){const ye=(0,T.yG)(be);return(0,y.D)(be,ye)}},2843:(ft,Re,H)=>{"use strict";H.d(Re,{_:()=>de});var T=H(8306),y=H(576);function de(be,ye){const Ne=(0,y.m)(be)?be:()=>be,Be=Fe=>Fe.error(Ne());return new T.y(ye?Fe=>ye.schedule(Be,0,Fe):Be)}},5403:(ft,Re,H)=>{"use strict";H.d(Re,{x:()=>y});var T=H(930);function y(be,ye,Ne,Be,Fe){return new de(be,ye,Ne,Be,Fe)}class de extends T.Lv{constructor(ye,Ne,Be,Fe,Oe,xe){super(ye),this.onFinalize=Oe,this.shouldUnsubscribe=xe,this._next=Ne?function(we){try{Ne(we)}catch(De){ye.error(De)}}:super._next,this._error=Fe?function(we){try{Fe(we)}catch(De){ye.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=Be?function(){try{Be()}catch(we){ye.error(we)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ne}=this;super.unsubscribe(),!Ne&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},262:(ft,Re,H)=>{"use strict";H.d(Re,{K:()=>be});var T=H(8421),y=H(5403),de=H(4482);function be(ye){return(0,de.e)((Ne,Be)=>{let xe,Fe=null,Oe=!1;Fe=Ne.subscribe((0,y.x)(Be,void 0,void 0,we=>{xe=(0,T.Xf)(ye(we,be(ye)(Ne))),Fe?(Fe.unsubscribe(),Fe=null,xe.subscribe(Be)):Oe=!0})),Oe&&(Fe.unsubscribe(),Fe=null,xe.subscribe(Be))})}},4351:(ft,Re,H)=>{"use strict";H.d(Re,{b:()=>de});var T=H(5577),y=H(576);function de(be,ye){return(0,y.m)(ye)?(0,T.z)(be,ye,1):(0,T.z)(be,1)}},9300:(ft,Re,H)=>{"use strict";H.d(Re,{h:()=>de});var T=H(4482),y=H(5403);function de(be,ye){return(0,T.e)((Ne,Be)=>{let Fe=0;Ne.subscribe((0,y.x)(Be,Oe=>be.call(ye,Oe,Fe++)&&Be.next(Oe)))})}},4004:(ft,Re,H)=>{"use strict";H.d(Re,{U:()=>de});var T=H(4482),y=H(5403);function de(be,ye){return(0,T.e)((Ne,Be)=>{let Fe=0;Ne.subscribe((0,y.x)(Be,Oe=>{Be.next(be.call(ye,Oe,Fe++))}))})}},8189:(ft,Re,H)=>{"use strict";H.d(Re,{J:()=>de});var T=H(5577),y=H(4671);function de(be=1/0){return(0,T.z)(y.y,be)}},5577:(ft,Re,H)=>{"use strict";H.d(Re,{z:()=>Fe});var T=H(4004),y=H(8421),de=H(4482),be=H(9672),ye=H(5403),Be=H(576);function Fe(Oe,xe,we=1/0){return(0,Be.m)(xe)?Fe((De,Ve)=>(0,T.U)((Ce,gt)=>xe(De,Ce,Ve,gt))((0,y.Xf)(Oe(De,Ve))),we):("number"==typeof xe&&(we=xe),(0,de.e)((De,Ve)=>function Ne(Oe,xe,we,De,Ve,Ce,gt,wt){const Ae=[];let At=0,dt=0,nt=!1;const it=()=>{nt&&!Ae.length&&!At&&xe.complete()},Ee=_t=>At<De?et(_t):Ae.push(_t),et=_t=>{Ce&&xe.next(_t),At++;let vt=!1;(0,y.Xf)(we(_t,dt++)).subscribe((0,ye.x)(xe,K=>{null==Ve||Ve(K),Ce?Ee(K):xe.next(K)},()=>{vt=!0},void 0,()=>{if(vt)try{for(At--;Ae.length&&At<De;){const K=Ae.shift();gt?(0,be.f)(xe,gt,()=>et(K)):et(K)}it()}catch(K){xe.error(K)}}))};return Oe.subscribe((0,ye.x)(xe,Ee,()=>{nt=!0,it()})),()=>{null==wt||wt()}}(De,Ve,Oe,we)))}},8343:(ft,Re,H)=>{"use strict";H.d(Re,{x:()=>de});var T=H(4482),y=H(5403);function de(){return(0,T.e)((be,ye)=>{let Ne=null;be._refCount++;const Be=(0,y.x)(ye,void 0,void 0,void 0,()=>{if(!be||be._refCount<=0||0<--be._refCount)return void(Ne=null);const Fe=be._connection,Oe=Ne;Ne=null,Fe&&(!Oe||Fe===Oe)&&Fe.unsubscribe(),ye.unsubscribe()});be.subscribe(Be),Be.closed||(Ne=be.connect())})}},3900:(ft,Re,H)=>{"use strict";H.d(Re,{w:()=>be});var T=H(8421),y=H(4482),de=H(5403);function be(ye,Ne){return(0,y.e)((Be,Fe)=>{let Oe=null,xe=0,we=!1;const De=()=>we&&!Oe&&Fe.complete();Be.subscribe((0,de.x)(Fe,Ve=>{null==Oe||Oe.unsubscribe();let Ce=0;const gt=xe++;(0,T.Xf)(ye(Ve,gt)).subscribe(Oe=(0,de.x)(Fe,wt=>Fe.next(Ne?Ne(Ve,wt,gt,Ce++):wt),()=>{Oe=null,De()}))},()=>{we=!0,De()}))})}},5698:(ft,Re,H)=>{"use strict";H.d(Re,{q:()=>be});var T=H(515),y=H(4482),de=H(5403);function be(ye){return ye<=0?()=>T.E:(0,y.e)((Ne,Be)=>{let Fe=0;Ne.subscribe((0,de.x)(Be,Oe=>{++Fe<=ye&&(Be.next(Oe),ye<=Fe&&Be.complete())}))})}},8505:(ft,Re,H)=>{"use strict";H.d(Re,{b:()=>ye});var T=H(576),y=H(4482),de=H(5403),be=H(4671);function ye(Ne,Be,Fe){const Oe=(0,T.m)(Ne)||Be||Fe?{next:Ne,error:Be,complete:Fe}:Ne;return Oe?(0,y.e)((xe,we)=>{var De;null===(De=Oe.subscribe)||void 0===De||De.call(Oe);let Ve=!0;xe.subscribe((0,de.x)(we,Ce=>{var gt;null===(gt=Oe.next)||void 0===gt||gt.call(Oe,Ce),we.next(Ce)},()=>{var Ce;Ve=!1,null===(Ce=Oe.complete)||void 0===Ce||Ce.call(Oe),we.complete()},Ce=>{var gt;Ve=!1,null===(gt=Oe.error)||void 0===gt||gt.call(Oe,Ce),we.error(Ce)},()=>{var Ce,gt;Ve&&(null===(Ce=Oe.unsubscribe)||void 0===Ce||Ce.call(Oe)),null===(gt=Oe.finalize)||void 0===gt||gt.call(Oe)}))}):be.y}},1566:(ft,Re,H)=>{"use strict";H.d(Re,{P:()=>xe,z:()=>Oe});var T=H(727);class y extends T.w0{constructor(De,Ve){super()}schedule(De,Ve=0){return this}}const de={setInterval(we,De,...Ve){const{delegate:Ce}=de;return(null==Ce?void 0:Ce.setInterval)?Ce.setInterval(we,De,...Ve):setInterval(we,De,...Ve)},clearInterval(we){const{delegate:De}=de;return((null==De?void 0:De.clearInterval)||clearInterval)(we)},delegate:void 0};var be=H(8737);const Ne={now:()=>(Ne.delegate||Date).now(),delegate:void 0};class Be{constructor(De,Ve=Be.now){this.schedulerActionCtor=De,this.now=Ve}schedule(De,Ve=0,Ce){return new this.schedulerActionCtor(this,De).schedule(Ce,Ve)}}Be.now=Ne.now;const Oe=new class Fe extends Be{constructor(De,Ve=Be.now){super(De,Ve),this.actions=[],this._active=!1,this._scheduled=void 0}flush(De){const{actions:Ve}=this;if(this._active)return void Ve.push(De);let Ce;this._active=!0;do{if(Ce=De.execute(De.state,De.delay))break}while(De=Ve.shift());if(this._active=!1,Ce){for(;De=Ve.shift();)De.unsubscribe();throw Ce}}}(class ye extends y{constructor(De,Ve){super(De,Ve),this.scheduler=De,this.work=Ve,this.pending=!1}schedule(De,Ve=0){if(this.closed)return this;this.state=De;const Ce=this.id,gt=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(gt,Ce,Ve)),this.pending=!0,this.delay=Ve,this.id=this.id||this.requestAsyncId(gt,this.id,Ve),this}requestAsyncId(De,Ve,Ce=0){return de.setInterval(De.flush.bind(De,this),Ce)}recycleAsyncId(De,Ve,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return Ve;de.clearInterval(Ve)}execute(De,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(De,Ve);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,Ve){let gt,Ce=!1;try{this.work(De)}catch(wt){Ce=!0,gt=wt||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),gt}unsubscribe(){if(!this.closed){const{id:De,scheduler:Ve}=this,{actions:Ce}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,be.P)(Ce,this),null!=De&&(this.id=this.recycleAsyncId(Ve,De,null)),this.delay=null,super.unsubscribe()}}}),xe=Oe},3410:(ft,Re,H)=>{"use strict";H.d(Re,{z:()=>T});const T={setTimeout(y,de,...be){const{delegate:ye}=T;return(null==ye?void 0:ye.setTimeout)?ye.setTimeout(y,de,...be):setTimeout(y,de,...be)},clearTimeout(y){const{delegate:de}=T;return((null==de?void 0:de.clearTimeout)||clearTimeout)(y)},delegate:void 0}},2202:(ft,Re,H)=>{"use strict";H.d(Re,{h:()=>y});const y=function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Re,H)=>{"use strict";H.d(Re,{L:()=>T});const T="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ft,Re,H)=>{"use strict";H.d(Re,{K:()=>y});const y=(0,H(3888).d)(de=>function(){de(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(ft,Re,H)=>{"use strict";H.d(Re,{_6:()=>Ne,jO:()=>be,yG:()=>ye});var T=H(576),y=H(3532);function de(Be){return Be[Be.length-1]}function be(Be){return(0,T.m)(de(Be))?Be.pop():void 0}function ye(Be){return(0,y.K)(de(Be))?Be.pop():void 0}function Ne(Be,Fe){return"number"==typeof de(Be)?Be.pop():Fe}},4742:(ft,Re,H)=>{"use strict";H.d(Re,{D:()=>ye});const{isArray:T}=Array,{getPrototypeOf:y,prototype:de,keys:be}=Object;function ye(Be){if(1===Be.length){const Fe=Be[0];if(T(Fe))return{args:Fe,keys:null};if(function Ne(Be){return Be&&"object"==typeof Be&&y(Be)===de}(Fe)){const Oe=be(Fe);return{args:Oe.map(xe=>Fe[xe]),keys:Oe}}}return{args:Be,keys:null}}},8737:(ft,Re,H)=>{"use strict";function T(y,de){if(y){const be=y.indexOf(de);0<=be&&y.splice(be,1)}}H.d(Re,{P:()=>T})},3888:(ft,Re,H)=>{"use strict";function T(y){const be=y(ye=>{Error.call(ye),ye.stack=(new Error).stack});return be.prototype=Object.create(Error.prototype),be.prototype.constructor=be,be}H.d(Re,{d:()=>T})},1810:(ft,Re,H)=>{"use strict";function T(y,de){return y.reduce((be,ye,Ne)=>(be[ye]=de[Ne],be),{})}H.d(Re,{n:()=>T})},2806:(ft,Re,H)=>{"use strict";H.d(Re,{O:()=>be,x:()=>de});var T=H(2416);let y=null;function de(ye){if(T.v.useDeprecatedSynchronousErrorHandling){const Ne=!y;if(Ne&&(y={errorThrown:!1,error:null}),ye(),Ne){const{errorThrown:Be,error:Fe}=y;if(y=null,Be)throw Fe}}else ye()}function be(ye){T.v.useDeprecatedSynchronousErrorHandling&&y&&(y.errorThrown=!0,y.error=ye)}},9672:(ft,Re,H)=>{"use strict";function T(y,de,be,ye=0,Ne=!1){const Be=de.schedule(function(){be(),Ne?y.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(y.add(Be),!Ne)return Be}H.d(Re,{f:()=>T})},4671:(ft,Re,H)=>{"use strict";function T(y){return y}H.d(Re,{y:()=>T})},1144:(ft,Re,H)=>{"use strict";H.d(Re,{z:()=>T});const T=y=>y&&"number"==typeof y.length&&"function"!=typeof y},2206:(ft,Re,H)=>{"use strict";H.d(Re,{D:()=>y});var T=H(576);function y(de){return Symbol.asyncIterator&&(0,T.m)(null==de?void 0:de[Symbol.asyncIterator])}},576:(ft,Re,H)=>{"use strict";function T(y){return"function"==typeof y}H.d(Re,{m:()=>T})},3670:(ft,Re,H)=>{"use strict";H.d(Re,{c:()=>de});var T=H(8822),y=H(576);function de(be){return(0,y.m)(be[T.L])}},6495:(ft,Re,H)=>{"use strict";H.d(Re,{T:()=>de});var T=H(2202),y=H(576);function de(be){return(0,y.m)(null==be?void 0:be[T.h])}},8239:(ft,Re,H)=>{"use strict";H.d(Re,{t:()=>y});var T=H(576);function y(de){return(0,T.m)(null==de?void 0:de.then)}},3260:(ft,Re,H)=>{"use strict";H.d(Re,{L:()=>be,Q:()=>de});var T=H(655),y=H(576);function de(ye){return(0,T.FC)(this,arguments,function*(){const Be=ye.getReader();try{for(;;){const{value:Fe,done:Oe}=yield(0,T.qq)(Be.read());if(Oe)return yield(0,T.qq)(void 0);yield yield(0,T.qq)(Fe)}}finally{Be.releaseLock()}})}function be(ye){return(0,y.m)(null==ye?void 0:ye.getReader)}},3532:(ft,Re,H)=>{"use strict";H.d(Re,{K:()=>y});var T=H(576);function y(de){return de&&(0,T.m)(de.schedule)}},4482:(ft,Re,H)=>{"use strict";H.d(Re,{A:()=>y,e:()=>de});var T=H(576);function y(be){return(0,T.m)(null==be?void 0:be.lift)}function de(be){return ye=>{if(y(ye))return ye.lift(function(Ne){try{return be(Ne,this)}catch(Be){this.error(Be)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ft,Re,H)=>{"use strict";H.d(Re,{Z:()=>be});var T=H(4004);const{isArray:y}=Array;function be(ye){return(0,T.U)(Ne=>function de(ye,Ne){return y(Ne)?ye(...Ne):ye(Ne)}(ye,Ne))}},5032:(ft,Re,H)=>{"use strict";function T(){}H.d(Re,{Z:()=>T})},7849:(ft,Re,H)=>{"use strict";H.d(Re,{h:()=>de});var T=H(2416),y=H(3410);function de(be){y.z.setTimeout(()=>{const{onUnhandledError:ye}=T.v;if(!ye)throw be;ye(be)})}},4532:(ft,Re,H)=>{"use strict";function T(y){return new TypeError(`You provided ${null!==y&&"object"==typeof y?"an invalid object":`'${y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}H.d(Re,{z:()=>T})},8099:ft=>{ft.exports=function Re(H,T){var y,de=null;try{y=JSON.parse(H,T)}catch(be){de=be}return[de,y]}},3871:function(ft){var H,T,y,de,be;H=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,T=/^(?=([^\/?#]*))\1([^]*)$/,y=/(?:\/|^)\.(?=\/)/g,de=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,ft.exports=be={buildAbsoluteURL:function(ye,Ne,Be){if(Be=Be||{},ye=ye.trim(),!(Ne=Ne.trim())){if(!Be.alwaysNormalize)return ye;var Fe=be.parseURL(ye);if(!Fe)throw new Error("Error trying to parse base URL.");return Fe.path=be.normalizePath(Fe.path),be.buildURLFromParts(Fe)}var Oe=be.parseURL(Ne);if(!Oe)throw new Error("Error trying to parse relative URL.");if(Oe.scheme)return Be.alwaysNormalize?(Oe.path=be.normalizePath(Oe.path),be.buildURLFromParts(Oe)):Ne;var xe=be.parseURL(ye);if(!xe)throw new Error("Error trying to parse base URL.");if(!xe.netLoc&&xe.path&&"/"!==xe.path[0]){var we=T.exec(xe.path);xe.netLoc=we[1],xe.path=we[2]}xe.netLoc&&!xe.path&&(xe.path="/");var De={scheme:xe.scheme,netLoc:Oe.netLoc,path:null,params:Oe.params,query:Oe.query,fragment:Oe.fragment};if(!Oe.netLoc&&(De.netLoc=xe.netLoc,"/"!==Oe.path[0]))if(Oe.path){var Ve=xe.path,Ce=Ve.substring(0,Ve.lastIndexOf("/")+1)+Oe.path;De.path=be.normalizePath(Ce)}else De.path=xe.path,Oe.params||(De.params=xe.params,Oe.query||(De.query=xe.query));return null===De.path&&(De.path=Be.alwaysNormalize?be.normalizePath(Oe.path):Oe.path),be.buildURLFromParts(De)},parseURL:function(ye){var Ne=H.exec(ye);return Ne?{scheme:Ne[1]||"",netLoc:Ne[2]||"",path:Ne[3]||"",params:Ne[4]||"",query:Ne[5]||"",fragment:Ne[6]||""}:null},normalizePath:function(ye){for(ye=ye.split("").reverse().join("").replace(y,"");ye.length!==(ye=ye.replace(de,"")).length;);return ye.split("").reverse().join("")},buildURLFromParts:function(ye){return ye.scheme+ye.netLoc+ye.path+ye.params+ye.query+ye.fragment}}},3629:(ft,Re,H)=>{var T=H(9226),y=ft.exports={WebVTT:H(8318),VTTCue:H(5713),VTTRegion:H(3872)};T.vttjs=y,T.WebVTT=y.WebVTT;var de=y.VTTCue,be=y.VTTRegion,ye=T.VTTCue,Ne=T.VTTRegion;y.shim=function(){T.VTTCue=de,T.VTTRegion=be},y.restore=function(){T.VTTCue=ye,T.VTTRegion=Ne},T.VTTCue||y.shim()},8318:(ft,Re,H)=>{var T=H(1421),y=Object.create||function(){function K(){}return function(te){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return K.prototype=te,new K}}();function de(K,te){this.name="ParsingError",this.code=K.code,this.message=te||K.message}function be(K){function te(ce,ue,Se,he){return 3600*(0|ce)+60*(0|ue)+(0|Se)+(0|he)/1e3}var ee=K.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return ee?ee[3]?te(ee[1],ee[2],ee[3].replace(":",""),ee[4]):ee[1]>59?te(ee[1],ee[2],0,ee[4]):te(0,ee[1],ee[2],ee[4]):null}function ye(){this.values=y(null)}function Ne(K,te,ee,ce){var ue=ce?K.split(ce):[K];for(var Se in ue)if("string"==typeof ue[Se]){var he=ue[Se].split(ee);2===he.length&&te(he[0],he[1])}}function Be(K,te,ee){var ce=K;function ue(){var Ue=be(K);if(null===Ue)throw new de(de.Errors.BadTimeStamp,"Malformed timestamp: "+ce);return K=K.replace(/^[^\sa-zA-Z-]+/,""),Ue}function he(){K=K.replace(/^\s+/,"")}if(he(),te.startTime=ue(),he(),"--\x3e"!==K.substr(0,3))throw new de(de.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+ce);K=K.substr(3),he(),te.endTime=ue(),he(),function Se(Ue,He){var st=new ye;Ne(Ue,function(Ke,We){switch(Ke){case"region":for(var xt=ee.length-1;xt>=0;xt--)if(ee[xt].id===We){st.set(Ke,ee[xt].region);break}break;case"vertical":st.alt(Ke,We,["rl","lr"]);break;case"line":var zt=We.split(","),Nt=zt[0];st.integer(Ke,Nt),st.percent(Ke,Nt)&&st.set("snapToLines",!1),st.alt(Ke,Nt,["auto"]),2===zt.length&&st.alt("lineAlign",zt[1],["start","center","end"]);break;case"position":zt=We.split(","),st.percent(Ke,zt[0]),2===zt.length&&st.alt("positionAlign",zt[1],["start","center","end"]);break;case"size":st.percent(Ke,We);break;case"align":st.alt(Ke,We,["start","center","end","left","right"])}},/:/,/\s/),He.region=st.get("region",null),He.vertical=st.get("vertical","");try{He.line=st.get("line","auto")}catch(Ke){}He.lineAlign=st.get("lineAlign","start"),He.snapToLines=st.get("snapToLines",!0),He.size=st.get("size",100);try{He.align=st.get("align","center")}catch(Ke){He.align=st.get("align","middle")}try{He.position=st.get("position","auto")}catch(Ke){He.position=st.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},He.align)}He.positionAlign=st.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},He.align)}(K,te)}(de.prototype=y(Error.prototype)).constructor=de,de.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},ye.prototype={set:function(K,te){!this.get(K)&&""!==te&&(this.values[K]=te)},get:function(K,te,ee){return ee?this.has(K)?this.values[K]:te[ee]:this.has(K)?this.values[K]:te},has:function(K){return K in this.values},alt:function(K,te,ee){for(var ce=0;ce<ee.length;++ce)if(te===ee[ce]){this.set(K,te);break}},integer:function(K,te){/^-?\d+$/.test(te)&&this.set(K,parseInt(te,10))},percent:function(K,te){return!!(te.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(te=parseFloat(te),te>=0&&te<=100))&&(this.set(K,te),!0)}};var Fe=T.createElement&&T.createElement("textarea"),Oe={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},xe={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},we={v:"title",lang:"lang"},De={rt:"ruby"};function Ve(K,te){function ee(){if(!te)return null;var Mt=te.match(/^([^<]*)(<[^>]*>?)?/);return function Nt(Ct){return te=te.substr(Ct.length),Ct}(Mt[1]?Mt[1]:Mt[2])}function ce(Nt){return Fe.innerHTML=Nt,Nt=Fe.textContent,Fe.textContent="",Nt}function Se(Nt,Mt){var Ct=Oe[Nt];if(!Ct)return null;var Gn=K.document.createElement(Ct),sn=we[Nt];return sn&&Mt&&(Gn[sn]=Mt.trim()),Gn}for(var He,he=K.document.createElement("div"),Ue=he,st=[];null!==(He=ee());)if("<"!==He[0])Ue.appendChild(K.document.createTextNode(ce(He)));else{if("/"===He[1]){st.length&&st[st.length-1]===He.substr(2).replace(">","")&&(st.pop(),Ue=Ue.parentNode);continue}var We,Ke=be(He.substr(1,He.length-2));if(Ke){We=K.document.createProcessingInstruction("timestamp",Ke),Ue.appendChild(We);continue}var xt=He.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!xt||!(We=Se(xt[1],xt[3]))||De[(Mt=We).localName]&&De[Mt.localName]!==Ue.localName)continue;if(xt[2]){var zt=xt[2].split(".");zt.forEach(function(Nt){var Mt=/^bg_/.test(Nt),Ct=Mt?Nt.slice(3):Nt;xe.hasOwnProperty(Ct)&&(We.style[Mt?"background-color":"color"]=xe[Ct])}),We.className=zt.join(" ")}st.push(xt[1]),Ue.appendChild(We),Ue=We}var Mt;return he}var Ce=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function gt(K){for(var te=0;te<Ce.length;te++){var ee=Ce[te];if(K>=ee[0]&&K<=ee[1])return!0}return!1}function wt(K){var te=[],ee="";if(!K||!K.childNodes)return"ltr";function ue(Ue,He){for(var st=He.childNodes.length-1;st>=0;st--)Ue.push(He.childNodes[st])}function Se(Ue){if(!Ue||!Ue.length)return null;var He=Ue.pop(),st=He.textContent||He.innerText;if(st){var Ke=st.match(/^.*(\n|\r)/);return Ke?(Ue.length=0,Ke[0]):st}return"ruby"===He.tagName?Se(Ue):He.childNodes?(ue(Ue,He),Se(Ue)):void 0}for(ue(te,K);ee=Se(te);)for(var he=0;he<ee.length;he++)if(gt(ee.charCodeAt(he)))return"rtl";return"ltr"}function At(){}function dt(K,te,ee){At.call(this),this.cue=te,this.cueDiv=Ve(K,te.text);var ce={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===te.vertical?"horizontal-tb":"lr"===te.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(ce,this.cueDiv),this.div=K.document.createElement("div"),ce={direction:wt(this.cueDiv),writingMode:""===te.vertical?"horizontal-tb":"lr"===te.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===te.align?"center":te.align,font:ee.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(ce),this.div.appendChild(this.cueDiv);var ue=0;switch(te.positionAlign){case"start":ue=te.position;break;case"center":ue=te.position-te.size/2;break;case"end":ue=te.position-te.size}this.applyStyles(""===te.vertical?{left:this.formatStyle(ue,"%"),width:this.formatStyle(te.size,"%")}:{top:this.formatStyle(ue,"%"),height:this.formatStyle(te.size,"%")}),this.move=function(Se){this.applyStyles({top:this.formatStyle(Se.top,"px"),bottom:this.formatStyle(Se.bottom,"px"),left:this.formatStyle(Se.left,"px"),right:this.formatStyle(Se.right,"px"),height:this.formatStyle(Se.height,"px"),width:this.formatStyle(Se.width,"px")})}}function nt(K){var te,ee,ce,ue;if(K.div){ee=K.div.offsetHeight,ce=K.div.offsetWidth,ue=K.div.offsetTop;var Se=(Se=K.div.childNodes)&&(Se=Se[0])&&Se.getClientRects&&Se.getClientRects();K=K.div.getBoundingClientRect(),te=Se?Math.max(Se[0]&&Se[0].height||0,K.height/Se.length):0}this.left=K.left,this.right=K.right,this.top=K.top||ue,this.height=K.height||ee,this.bottom=K.bottom||ue+(K.height||ee),this.width=K.width||ce,this.lineHeight=void 0!==te?te:K.lineHeight}function it(K,te,ee,ce){var Se=new nt(te),he=te.cue,Ue=function Ae(K){if("number"==typeof K.line&&(K.snapToLines||K.line>=0&&K.line<=100))return K.line;if(!K.track||!K.track.textTrackList||!K.track.textTrackList.mediaElement)return-1;for(var te=K.track,ee=te.textTrackList,ce=0,ue=0;ue<ee.length&&ee[ue]!==te;ue++)"showing"===ee[ue].mode&&ce++;return-1*++ce}(he),He=[];if(he.snapToLines){var st;switch(he.vertical){case"":He=["+y","-y"],st="height";break;case"rl":He=["+x","-x"],st="width";break;case"lr":He=["-x","+x"],st="width"}var Ke=Se.lineHeight,We=Ke*Math.round(Ue),xt=ee[st]+Ke,zt=He[0];Math.abs(We)>xt&&(We=We<0?-1:1,We*=Math.ceil(xt/Ke)*Ke),Ue<0&&(We+=""===he.vertical?ee.height:ee.width,He=He.reverse()),Se.move(zt,We)}else{var Nt=Se.lineHeight/ee.height*100;switch(he.lineAlign){case"center":Ue-=Nt/2;break;case"end":Ue-=Nt}switch(he.vertical){case"":te.applyStyles({top:te.formatStyle(Ue,"%")});break;case"rl":te.applyStyles({left:te.formatStyle(Ue,"%")});break;case"lr":te.applyStyles({right:te.formatStyle(Ue,"%")})}He=["+y","-x","+x","-y"],Se=new nt(te)}var Mt=function ue(Ct,Gn){for(var sn,Tn=new nt(Ct),fn=1,hr=0;hr<Gn.length;hr++){for(;Ct.overlapsOppositeAxis(ee,Gn[hr])||Ct.within(ee)&&Ct.overlapsAny(ce);)Ct.move(Gn[hr]);if(Ct.within(ee))return Ct;var _r=Ct.intersectPercentage(ee);fn>_r&&(sn=new nt(Ct),fn=_r),Ct=new nt(Tn)}return sn||Tn}(Se,He);te.move(Mt.toCSSCompatValues(ee))}function Ee(){}At.prototype.applyStyles=function(K,te){for(var ee in te=te||this.div,K)K.hasOwnProperty(ee)&&(te.style[ee]=K[ee])},At.prototype.formatStyle=function(K,te){return 0===K?0:K+te},(dt.prototype=y(At.prototype)).constructor=dt,nt.prototype.move=function(K,te){switch(te=void 0!==te?te:this.lineHeight,K){case"+x":this.left+=te,this.right+=te;break;case"-x":this.left-=te,this.right-=te;break;case"+y":this.top+=te,this.bottom+=te;break;case"-y":this.top-=te,this.bottom-=te}},nt.prototype.overlaps=function(K){return this.left<K.right&&this.right>K.left&&this.top<K.bottom&&this.bottom>K.top},nt.prototype.overlapsAny=function(K){for(var te=0;te<K.length;te++)if(this.overlaps(K[te]))return!0;return!1},nt.prototype.within=function(K){return this.top>=K.top&&this.bottom<=K.bottom&&this.left>=K.left&&this.right<=K.right},nt.prototype.overlapsOppositeAxis=function(K,te){switch(te){case"+x":return this.left<K.left;case"-x":return this.right>K.right;case"+y":return this.top<K.top;case"-y":return this.bottom>K.bottom}},nt.prototype.intersectPercentage=function(K){return Math.max(0,Math.min(this.right,K.right)-Math.max(this.left,K.left))*Math.max(0,Math.min(this.bottom,K.bottom)-Math.max(this.top,K.top))/(this.height*this.width)},nt.prototype.toCSSCompatValues=function(K){return{top:this.top-K.top,bottom:K.bottom-this.bottom,left:this.left-K.left,right:K.right-this.right,height:this.height,width:this.width}},nt.getSimpleBoxPosition=function(K){var te=K.div?K.div.offsetHeight:K.tagName?K.offsetHeight:0,ee=K.div?K.div.offsetWidth:K.tagName?K.offsetWidth:0,ce=K.div?K.div.offsetTop:K.tagName?K.offsetTop:0;return{left:(K=K.div?K.div.getBoundingClientRect():K.tagName?K.getBoundingClientRect():K).left,right:K.right,top:K.top||ce,height:K.height||te,bottom:K.bottom||ce+(K.height||te),width:K.width||ee}},Ee.StringDecoder=function(){return{decode:function(K){if(!K)return"";if("string"!=typeof K)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(K))}}},Ee.convertCueToDOMTree=function(K,te){return K&&te?Ve(K,te):null},Ee.processCues=function(K,te,ee){if(!K||!te||!ee)return null;for(;ee.firstChild;)ee.removeChild(ee.firstChild);var ce=K.document.createElement("div");if(ce.style.position="absolute",ce.style.left="0",ce.style.right="0",ce.style.top="0",ce.style.bottom="0",ce.style.margin="1.5%",ee.appendChild(ce),function ue(Ke){for(var We=0;We<Ke.length;We++)if(Ke[We].hasBeenReset||!Ke[We].displayState)return!0;return!1}(te)){var he=[],Ue=nt.getSimpleBoxPosition(ce),st={font:Math.round(.05*Ue.height*100)/100+"px sans-serif"};!function(){for(var Ke,We,xt=0;xt<te.length;xt++)Ke=new dt(K,We=te[xt],st),ce.appendChild(Ke.div),it(0,Ke,Ue,he),We.displayState=Ke.div,he.push(nt.getSimpleBoxPosition(Ke))}()}else for(var Se=0;Se<te.length;Se++)ce.appendChild(te[Se].displayState)},(Ee.Parser=function(K,te,ee){ee||(ee=te,te={}),te||(te={}),this.window=K,this.vttjs=te,this.state="INITIAL",this.buffer="",this.decoder=ee||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(K){if(!(K instanceof de))throw K;this.onparsingerror&&this.onparsingerror(K)},parse:function(K){var Ke,te=this;function ee(){for(var Ke=te.buffer,We=0;We<Ke.length&&"\r"!==Ke[We]&&"\n"!==Ke[We];)++We;var xt=Ke.substr(0,We);return"\r"===Ke[We]&&++We,"\n"===Ke[We]&&++We,te.buffer=Ke.substr(We),xt}K&&(te.buffer+=te.decoder.decode(K,{stream:!0}));try{var he;if("INITIAL"===te.state){if(!/\r\n|\n/.test(te.buffer))return this;var Ue=(he=ee()).match(/^WEBVTT([ \t].*)?$/);if(!Ue||!Ue[0])throw new de(de.Errors.BadSignature);te.state="HEADER"}for(var He=!1;te.buffer;){if(!/\r\n|\n/.test(te.buffer))return this;switch(He?He=!1:he=ee(),te.state){case"HEADER":/:/.test(he)?(Ke=he).match(/X-TIMESTAMP-MAP/)?Ne(Ke,function(We,xt){"X-TIMESTAMP-MAP"===We&&function ue(Ke){var We=new ye;Ne(Ke,function(xt,zt){switch(xt){case"MPEGT":We.integer(xt+"S",zt);break;case"LOCA":We.set(xt+"L",be(zt))}},/[^\d]:/,/,/),te.ontimestampmap&&te.ontimestampmap({MPEGTS:We.get("MPEGTS"),LOCAL:We.get("LOCAL")})}(xt)},/=/):Ne(Ke,function(We,xt){"Region"===We&&function ce(Ke){var We=new ye;if(Ne(Ke,function(zt,Nt){switch(zt){case"id":We.set(zt,Nt);break;case"width":We.percent(zt,Nt);break;case"lines":We.integer(zt,Nt);break;case"regionanchor":case"viewportanchor":var Mt=Nt.split(",");if(2!==Mt.length)break;var Ct=new ye;if(Ct.percent("x",Mt[0]),Ct.percent("y",Mt[1]),!Ct.has("x")||!Ct.has("y"))break;We.set(zt+"X",Ct.get("x")),We.set(zt+"Y",Ct.get("y"));break;case"scroll":We.alt(zt,Nt,["up"])}},/=/,/\s/),We.has("id")){var xt=new(te.vttjs.VTTRegion||te.window.VTTRegion);xt.width=We.get("width",100),xt.lines=We.get("lines",3),xt.regionAnchorX=We.get("regionanchorX",0),xt.regionAnchorY=We.get("regionanchorY",100),xt.viewportAnchorX=We.get("viewportanchorX",0),xt.viewportAnchorY=We.get("viewportanchorY",100),xt.scroll=We.get("scroll",""),te.onregion&&te.onregion(xt),te.regionList.push({id:We.get("id"),region:xt})}}(xt)},/:/):he||(te.state="ID");continue;case"NOTE":he||(te.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(he)){te.state="NOTE";break}if(!he)continue;te.cue=new(te.vttjs.VTTCue||te.window.VTTCue)(0,0,"");try{te.cue.align="center"}catch(Ke){te.cue.align="middle"}if(te.state="CUE",-1===he.indexOf("--\x3e")){te.cue.id=he;continue}case"CUE":try{Be(he,te.cue,te.regionList)}catch(Ke){te.reportOrThrowError(Ke),te.cue=null,te.state="BADCUE";continue}te.state="CUETEXT";continue;case"CUETEXT":var st=-1!==he.indexOf("--\x3e");if(!he||st&&(He=!0)){te.oncue&&te.oncue(te.cue),te.cue=null,te.state="ID";continue}te.cue.text&&(te.cue.text+="\n"),te.cue.text+=he.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":he||(te.state="ID");continue}}}catch(Ke){te.reportOrThrowError(Ke),"CUETEXT"===te.state&&te.cue&&te.oncue&&te.oncue(te.cue),te.cue=null,te.state="INITIAL"===te.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var K=this;try{if(K.buffer+=K.decoder.decode(),(K.cue||"HEADER"===K.state)&&(K.buffer+="\n\n",K.parse()),"INITIAL"===K.state)throw new de(de.Errors.BadSignature)}catch(te){K.reportOrThrowError(te)}return K.onflush&&K.onflush(),this}},ft.exports=Ee},5713:ft=>{var H={"":1,lr:1,rl:1},T={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function de(ye){return"string"==typeof ye&&!!T[ye.toLowerCase()]&&ye.toLowerCase()}function be(ye,Ne,Be){this.hasBeenReset=!1;var Fe="",Oe=!1,xe=ye,we=Ne,De=Be,Ve=null,Ce="",gt=!0,wt="auto",Ae="start",At="auto",dt="auto",nt=100,it="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return Fe},set:function(Ee){Fe=""+Ee}},pauseOnExit:{enumerable:!0,get:function(){return Oe},set:function(Ee){Oe=!!Ee}},startTime:{enumerable:!0,get:function(){return xe},set:function(Ee){if("number"!=typeof Ee)throw new TypeError("Start time must be set to a number.");xe=Ee,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return we},set:function(Ee){if("number"!=typeof Ee)throw new TypeError("End time must be set to a number.");we=Ee,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return De},set:function(Ee){De=""+Ee,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return Ve},set:function(Ee){Ve=Ee,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return Ce},set:function(Ee){var et=function y(ye){return"string"==typeof ye&&!!H[ye.toLowerCase()]&&ye.toLowerCase()}(Ee);if(!1===et)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");Ce=et,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return gt},set:function(Ee){gt=!!Ee,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return wt},set:function(Ee){if("number"!=typeof Ee&&"auto"!==Ee)throw new SyntaxError("Line: an invalid number or illegal string was specified.");wt=Ee,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return Ae},set:function(Ee){var et=de(Ee);et?(Ae=et,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return At},set:function(Ee){if(Ee<0||Ee>100)throw new Error("Position must be between 0 and 100.");At=Ee,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return dt},set:function(Ee){var et=de(Ee);et?(dt=et,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return nt},set:function(Ee){if(Ee<0||Ee>100)throw new Error("Size must be between 0 and 100.");nt=Ee,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return it},set:function(Ee){var et=de(Ee);if(!et)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");it=et,this.hasBeenReset=!0}}}),this.displayState=void 0}be.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},ft.exports=be},3872:ft=>{var Re={"":!0,up:!0};function T(de){return"number"==typeof de&&de>=0&&de<=100}ft.exports=function y(){var de=100,be=3,ye=0,Ne=100,Be=0,Fe=100,Oe="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return de},set:function(xe){if(!T(xe))throw new Error("Width must be between 0 and 100.");de=xe}},lines:{enumerable:!0,get:function(){return be},set:function(xe){if("number"!=typeof xe)throw new TypeError("Lines must be set to a number.");be=xe}},regionAnchorY:{enumerable:!0,get:function(){return Ne},set:function(xe){if(!T(xe))throw new Error("RegionAnchorX must be between 0 and 100.");Ne=xe}},regionAnchorX:{enumerable:!0,get:function(){return ye},set:function(xe){if(!T(xe))throw new Error("RegionAnchorY must be between 0 and 100.");ye=xe}},viewportAnchorY:{enumerable:!0,get:function(){return Fe},set:function(xe){if(!T(xe))throw new Error("ViewportAnchorY must be between 0 and 100.");Fe=xe}},viewportAnchorX:{enumerable:!0,get:function(){return Be},set:function(xe){if(!T(xe))throw new Error("ViewportAnchorX must be between 0 and 100.");Be=xe}},scroll:{enumerable:!0,get:function(){return Oe},set:function(xe){var we=function H(de){return"string"==typeof de&&!!Re[de.toLowerCase()]&&de.toLowerCase()}(xe);!1===we?console.warn("Scroll: an invalid or illegal string was specified."):Oe=we}}})}},7154:ft=>{function Re(){return ft.exports=Re=Object.assign||function(H){for(var T=1;T<arguments.length;T++){var y=arguments[T];for(var de in y)Object.prototype.hasOwnProperty.call(y,de)&&(H[de]=y[de])}return H},ft.exports.__esModule=!0,ft.exports.default=ft.exports,Re.apply(this,arguments)}ft.exports=Re,ft.exports.__esModule=!0,ft.exports.default=ft.exports},655:(ft,Re,H)=>{"use strict";function Fe(ee,ce,ue,Se){return new(ue||(ue=Promise))(function(Ue,He){function st(xt){try{We(Se.next(xt))}catch(zt){He(zt)}}function Ke(xt){try{We(Se.throw(xt))}catch(zt){He(zt)}}function We(xt){xt.done?Ue(xt.value):function he(Ue){return Ue instanceof ue?Ue:new ue(function(He){He(Ue)})}(xt.value).then(st,Ke)}We((Se=Se.apply(ee,ce||[])).next())})}function Ae(ee){return this instanceof Ae?(this.v=ee,this):new Ae(ee)}function At(ee,ce,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,Se=ue.apply(ee,ce||[]),Ue=[];return he={},He("next"),He("throw"),He("return"),he[Symbol.asyncIterator]=function(){return this},he;function He(Nt){Se[Nt]&&(he[Nt]=function(Mt){return new Promise(function(Ct,Gn){Ue.push([Nt,Mt,Ct,Gn])>1||st(Nt,Mt)})})}function st(Nt,Mt){try{!function Ke(Nt){Nt.value instanceof Ae?Promise.resolve(Nt.value.v).then(We,xt):zt(Ue[0][2],Nt)}(Se[Nt](Mt))}catch(Ct){zt(Ue[0][3],Ct)}}function We(Nt){st("next",Nt)}function xt(Nt){st("throw",Nt)}function zt(Nt,Mt){Nt(Mt),Ue.shift(),Ue.length&&st(Ue[0][0],Ue[0][1])}}function nt(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ce=ee[Symbol.asyncIterator];return ce?ce.call(ee):(ee=function De(ee){var ce="function"==typeof Symbol&&Symbol.iterator,ue=ce&&ee[ce],Se=0;if(ue)return ue.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&Se>=ee.length&&(ee=void 0),{value:ee&&ee[Se++],done:!ee}}};throw new TypeError(ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),ue={},Se("next"),Se("throw"),Se("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function Se(Ue){ue[Ue]=ee[Ue]&&function(He){return new Promise(function(st,Ke){!function he(Ue,He,st,Ke){Promise.resolve(Ke).then(function(We){Ue({value:We,done:st})},He)}(st,Ke,(He=ee[Ue](He)).done,He.value)})}}}H.d(Re,{FC:()=>At,KL:()=>nt,mG:()=>Fe,qq:()=>Ae})},5893:()=>{},9808:(ft,Re,H)=>{"use strict";H.d(Re,{Do:()=>it,EM:()=>$r,HT:()=>ye,JF:()=>Fa,K0:()=>Be,Mx:()=>sr,NF:()=>xs,O5:()=>mi,Ov:()=>da,S$:()=>Ae,Ts:()=>Bo,V_:()=>xe,Ye:()=>Ee,b0:()=>nt,bD:()=>Ds,ez:()=>Ji,lw:()=>Fe,mr:()=>dt,q:()=>de,sg:()=>qt,w_:()=>Ne});var T=H(4893);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let y=null;function de(){return y}function ye(R){y||(y=R)}class Ne{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Be=new T.OlP("DocumentToken");
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Fe=(()=>{class R{historyGo(L){throw new Error("Not implemented")}}return R.\u0275fac=function(L){return new(L||R)},R.\u0275prov=T.Yz7({token:R,factory:function(){return function Oe(){return(0,T.LFG)(we)}()},providedIn:"platform"}),R})();const xe=new T.OlP("Location Initialized");let we=(()=>{class R extends Fe{constructor(L){super(),this._doc=L,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return de().getBaseHref(this._doc)}onPopState(L){const q=de().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",L,!1),()=>q.removeEventListener("popstate",L)}onHashChange(L){const q=de().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",L,!1),()=>q.removeEventListener("hashchange",L)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(L){this.location.pathname=L}pushState(L,q,le){De()?this._history.pushState(L,q,le):this.location.hash=le}replaceState(L,q,le){De()?this._history.replaceState(L,q,le):this.location.hash=le}forward(){this._history.forward()}back(){this._history.back()}historyGo(L=0){this._history.go(L)}getState(){return this._history.state}}return R.\u0275fac=function(L){return new(L||R)(T.LFG(Be))},R.\u0275prov=T.Yz7({token:R,factory:function(){return function Ve(){return new we((0,T.LFG)(Be))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */()},providedIn:"platform"}),R})();function De(){return!!window.history.pushState}function Ce(R,$){if(0==R.length)return $;if(0==$.length)return R;let L=0;return R.endsWith("/")&&L++,$.startsWith("/")&&L++,2==L?R+$.substring(1):1==L?R+$:R+"/"+$}function gt(R){const $=R.match(/#|\?|$/),L=$&&$.index||R.length;return R.slice(0,L-("/"===R[L-1]?1:0))+R.slice(L)}function wt(R){return R&&"?"!==R[0]?"?"+R:R}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Ae=(()=>{class R{historyGo(L){throw new Error("Not implemented")}}return R.\u0275fac=function(L){return new(L||R)},R.\u0275prov=T.Yz7({token:R,factory:function(){return function At(R){const $=(0,T.LFG)(Be).location;return new nt((0,T.LFG)(Fe),$&&$.origin||"")}()},providedIn:"root"}),R})();const dt=new T.OlP("appBaseHref");let nt=(()=>{class R extends Ae{constructor(L,q){if(super(),this._platformLocation=L,this._removeListenerFns=[],null==q&&(q=this._platformLocation.getBaseHrefFromDOM()),null==q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}prepareExternalUrl(L){return Ce(this._baseHref,L)}path(L=!1){const q=this._platformLocation.pathname+wt(this._platformLocation.search),le=this._platformLocation.hash;return le&&L?`${q}${le}`:q}pushState(L,q,le,Xe){const ht=this.prepareExternalUrl(le+wt(Xe));this._platformLocation.pushState(L,q,ht)}replaceState(L,q,le,Xe){const ht=this.prepareExternalUrl(le+wt(Xe));this._platformLocation.replaceState(L,q,ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var q,le;null===(le=(q=this._platformLocation).historyGo)||void 0===le||le.call(q,L)}}return R.\u0275fac=function(L){return new(L||R)(T.LFG(Fe),T.LFG(dt,8))},R.\u0275prov=T.Yz7({token:R,factory:R.\u0275fac}),R})(),it=(()=>{class R extends Ae{constructor(L,q){super(),this._platformLocation=L,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(L){this._removeListenerFns.push(this._platformLocation.onPopState(L),this._platformLocation.onHashChange(L))}getBaseHref(){return this._baseHref}path(L=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(L){const q=Ce(this._baseHref,L);return q.length>0?"#"+q:q}pushState(L,q,le,Xe){let ht=this.prepareExternalUrl(le+wt(Xe));0==ht.length&&(ht=this._platformLocation.pathname),this._platformLocation.pushState(L,q,ht)}replaceState(L,q,le,Xe){let ht=this.prepareExternalUrl(le+wt(Xe));0==ht.length&&(ht=this._platformLocation.pathname),this._platformLocation.replaceState(L,q,ht)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(L=0){var q,le;null===(le=(q=this._platformLocation).historyGo)||void 0===le||le.call(q,L)}}return R.\u0275fac=function(L){return new(L||R)(T.LFG(Fe),T.LFG(dt,8))},R.\u0275prov=T.Yz7({token:R,factory:R.\u0275fac}),R})(),Ee=(()=>{class R{constructor(L,q){this._subject=new T.vpe,this._urlChangeListeners=[],this._platformStrategy=L;const le=this._platformStrategy.getBaseHref();this._platformLocation=q,this._baseHref=gt(vt(le)),this._platformStrategy.onPopState(Xe=>{this._subject.emit({url:this.path(!0),pop:!0,state:Xe.state,type:Xe.type})})}path(L=!1){return this.normalize(this._platformStrategy.path(L))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(L,q=""){return this.path()==this.normalize(L+wt(q))}normalize(L){return R.stripTrailingSlash(function _t(R,$){return R&&$.startsWith(R)?$.substring(R.length):$}(this._baseHref,vt(L)))}prepareExternalUrl(L){return L&&"/"!==L[0]&&(L="/"+L),this._platformStrategy.prepareExternalUrl(L)}go(L,q="",le=null){this._platformStrategy.pushState(le,"",L,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+wt(q)),le)}replaceState(L,q="",le=null){this._platformStrategy.replaceState(le,"",L,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(L+wt(q)),le)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(L=0){var q,le;null===(le=(q=this._platformStrategy).historyGo)||void 0===le||le.call(q,L)}onUrlChange(L){this._urlChangeListeners.push(L),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)}))}_notifyUrlChangeListeners(L="",q){this._urlChangeListeners.forEach(le=>le(L,q))}subscribe(L,q,le){return this._subject.subscribe({next:L,error:q,complete:le})}}return R.normalizeQueryParams=wt,R.joinWithSlash=Ce,R.stripTrailingSlash=gt,R.\u0275fac=function(L){return new(L||R)(T.LFG(Ae),T.LFG(Fe))},R.\u0275prov=T.Yz7({token:R,factory:function(){return function et(){return new Ee((0,T.LFG)(Ae),(0,T.LFG)(Fe))}()},providedIn:"root"}),R})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function vt(R){return R.replace(/\/index.html$/,"")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function sr(R,$){$=encodeURIComponent($);for(const L of R.split(";")){const q=L.indexOf("="),[le,Xe]=-1==q?[L,""]:[L.slice(0,q),L.slice(q+1)];if(le.trim()===$)return decodeURIComponent(Xe)}return null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Ni{constructor($,L,q,le){this.$implicit=$,this.ngForOf=L,this.index=q,this.count=le}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let qt=(()=>{class R{constructor(L,q,le){this._viewContainer=L,this._template=q,this._differs=le,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(L){this._ngForOf=L,this._ngForOfDirty=!0}set ngForTrackBy(L){this._trackByFn=L}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(L){L&&(this._template=L)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const L=this._ngForOf;!this._differ&&L&&(this._differ=this._differs.find(L).create(this.ngForTrackBy))}if(this._differ){const L=this._differ.diff(this._ngForOf);L&&this._applyChanges(L)}}_applyChanges(L){const q=this._viewContainer;L.forEachOperation((le,Xe,ht)=>{if(null==le.previousIndex)q.createEmbeddedView(this._template,new Ni(le.item,this._ngForOf,-1,-1),null===ht?void 0:ht);else if(null==ht)q.remove(null===Xe?void 0:Xe);else if(null!==Xe){const It=q.get(Xe);q.move(It,ht),Dr(It,le)}});for(let le=0,Xe=q.length;le<Xe;le++){const It=q.get(le).context;It.index=le,It.count=Xe,It.ngForOf=this._ngForOf}L.forEachIdentityChange(le=>{Dr(q.get(le.currentIndex),le)})}static ngTemplateContextGuard(L,q){return!0}}return R.\u0275fac=function(L){return new(L||R)(T.Y36(T.s_b),T.Y36(T.Rgc),T.Y36(T.ZZ4))},R.\u0275dir=T.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();function Dr(R,$){R.context.$implicit=$.item}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let mi=(()=>{class R{constructor(L,q){this._viewContainer=L,this._context=new vi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(L){this._context.$implicit=this._context.ngIf=L,this._updateView()}set ngIfThen(L){An("ngIfThen",L),this._thenTemplateRef=L,this._thenViewRef=null,this._updateView()}set ngIfElse(L){An("ngIfElse",L),this._elseTemplateRef=L,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(L,q){return!0}}return R.\u0275fac=function(L){return new(L||R)(T.Y36(T.s_b),T.Y36(T.Rgc))},R.\u0275dir=T.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class vi{constructor(){this.$implicit=null,this.ngIf=null}}function An(R,$){if($&&!$.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,T.AaK)($)}'.`)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class si{createSubscription($,L){return $.subscribe({next:L,error:q=>{throw q}})}dispose($){$.unsubscribe()}onDestroy($){$.unsubscribe()}}class qi{createSubscription($,L){return $.then(L,q=>{throw q})}dispose($){}onDestroy($){}}const ls=new qi,Yi=new si;let da=(()=>{class R{constructor(L){this._ref=L,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(L){return this._obj?L!==this._obj?(this._dispose(),this.transform(L)):this._latestValue:(L&&this._subscribe(L),this._latestValue)}_subscribe(L){this._obj=L,this._strategy=this._selectStrategy(L),this._subscription=this._strategy.createSubscription(L,q=>this._updateLatestValue(L,q))}_selectStrategy(L){if((0,T.QGY)(L))return ls;if((0,T.F4k)(L))return Yi;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
throw function Qn(R,$){return new T.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(L,q){L===this._obj&&(this._latestValue=q,this._ref.markForCheck())}}return R.\u0275fac=function(L){return new(L||R)(T.Y36(T.sBO,16))},R.\u0275pipe=T.Yjl({name:"async",type:R,pure:!1}),R})(),Bo=(()=>{class R{transform(L){return JSON.stringify(L,null,2)}}return R.\u0275fac=function(L){return new(L||R)},R.\u0275pipe=T.Yjl({name:"json",type:R,pure:!1}),R})(),Ji=(()=>{class R{}return R.\u0275fac=function(L){return new(L||R)},R.\u0275mod=T.oAB({type:R}),R.\u0275inj=T.cJS({}),R})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Ds="browser";function xs(R){return R===Ds}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let $r=(()=>{class R{}return R.\u0275prov=(0,T.Yz7)({token:R,providedIn:"root",factory:()=>new xi((0,T.LFG)(Be),window)}),R})();class xi{constructor($,L){this.document=$,this.window=L,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const L=function La(R,$){const L=R.getElementById($)||R.getElementsByName($)[0];if(L)return L;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const q=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let le=q.currentNode;for(;le;){const Xe=le.shadowRoot;if(Xe){const ht=Xe.getElementById($)||Xe.querySelector(`[name="${$}"]`);if(ht)return ht}le=q.nextNode()}}return null}(this.document,$);L&&(this.scrollToElement(L),L.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const L=this.window.history;L&&L.scrollRestoration&&(L.scrollRestoration=$)}}scrollToElement($){const L=$.getBoundingClientRect(),q=L.left+this.window.pageXOffset,le=L.top+this.window.pageYOffset,Xe=this.offset();this.window.scrollTo(q-Xe[0],le-Xe[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=Li(this.window.history)||Li(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch($){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch($){return!1}}}function Li(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Fa{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */},520:(ft,Re,H)=>{"use strict";H.d(Re,{JF:()=>xn,TP:()=>He,eN:()=>he});var T=H(9808),y=H(4893),de=H(9646),be=H(8306),ye=H(4351),Ne=H(9300),Be=H(4004);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Fe{}class Oe{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class xe{constructor(Te){this.normalizedNames=new Map,this.lazyUpdate=null,Te?this.lazyInit="string"==typeof Te?()=>{this.headers=new Map,Te.split("\n").forEach(me=>{const Ge=me.indexOf(":");if(Ge>0){const rt=me.slice(0,Ge),ot=rt.toLowerCase(),bt=me.slice(Ge+1).trim();this.maybeSetNormalizedName(rt,ot),this.headers.has(ot)?this.headers.get(ot).push(bt):this.headers.set(ot,[bt])}})}:()=>{this.headers=new Map,Object.keys(Te).forEach(me=>{let Ge=Te[me];const rt=me.toLowerCase();"string"==typeof Ge&&(Ge=[Ge]),Ge.length>0&&(this.headers.set(rt,Ge),this.maybeSetNormalizedName(me,rt))})}:this.headers=new Map}has(Te){return this.init(),this.headers.has(Te.toLowerCase())}get(Te){this.init();const me=this.headers.get(Te.toLowerCase());return me&&me.length>0?me[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Te){return this.init(),this.headers.get(Te.toLowerCase())||null}append(Te,me){return this.clone({name:Te,value:me,op:"a"})}set(Te,me){return this.clone({name:Te,value:me,op:"s"})}delete(Te,me){return this.clone({name:Te,value:me,op:"d"})}maybeSetNormalizedName(Te,me){this.normalizedNames.has(me)||this.normalizedNames.set(me,Te)}init(){this.lazyInit&&(this.lazyInit instanceof xe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Te=>this.applyUpdate(Te)),this.lazyUpdate=null))}copyFrom(Te){Te.init(),Array.from(Te.headers.keys()).forEach(me=>{this.headers.set(me,Te.headers.get(me)),this.normalizedNames.set(me,Te.normalizedNames.get(me))})}clone(Te){const me=new xe;return me.lazyInit=this.lazyInit&&this.lazyInit instanceof xe?this.lazyInit:this,me.lazyUpdate=(this.lazyUpdate||[]).concat([Te]),me}applyUpdate(Te){const me=Te.name.toLowerCase();switch(Te.op){case"a":case"s":let Ge=Te.value;if("string"==typeof Ge&&(Ge=[Ge]),0===Ge.length)return;this.maybeSetNormalizedName(Te.name,me);const rt=("a"===Te.op?this.headers.get(me):void 0)||[];rt.push(...Ge),this.headers.set(me,rt);break;case"d":const ot=Te.value;if(ot){let bt=this.headers.get(me);if(!bt)return;bt=bt.filter(Ln=>-1===ot.indexOf(Ln)),0===bt.length?(this.headers.delete(me),this.normalizedNames.delete(me)):this.headers.set(me,bt)}else this.headers.delete(me),this.normalizedNames.delete(me)}}forEach(Te){this.init(),Array.from(this.normalizedNames.keys()).forEach(me=>Te(this.normalizedNames.get(me),this.headers.get(me)))}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class we{encodeKey(Te){return gt(Te)}encodeValue(Te){return gt(Te)}decodeKey(Te){return decodeURIComponent(Te)}decodeValue(Te){return decodeURIComponent(Te)}}const Ve=/%(\d[a-f0-9])/gi,Ce={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function gt(qe){return encodeURIComponent(qe).replace(Ve,(Te,me)=>{var Ge;return null!==(Ge=Ce[me])&&void 0!==Ge?Ge:Te})}function wt(qe){return`${qe}`}class Ae{constructor(Te={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Te.encoder||new we,Te.fromString){if(Te.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function De(qe,Te){const me=new Map;return qe.length>0&&qe.replace(/^\?/,"").split("&").forEach(rt=>{const ot=rt.indexOf("="),[bt,Ln]=-1==ot?[Te.decodeKey(rt),""]:[Te.decodeKey(rt.slice(0,ot)),Te.decodeValue(rt.slice(ot+1))],hn=me.get(bt)||[];hn.push(Ln),me.set(bt,hn)}),me}(Te.fromString,this.encoder)}else Te.fromObject?(this.map=new Map,Object.keys(Te.fromObject).forEach(me=>{const Ge=Te.fromObject[me];this.map.set(me,Array.isArray(Ge)?Ge:[Ge])})):this.map=null}has(Te){return this.init(),this.map.has(Te)}get(Te){this.init();const me=this.map.get(Te);return me?me[0]:null}getAll(Te){return this.init(),this.map.get(Te)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Te,me){return this.clone({param:Te,value:me,op:"a"})}appendAll(Te){const me=[];return Object.keys(Te).forEach(Ge=>{const rt=Te[Ge];Array.isArray(rt)?rt.forEach(ot=>{me.push({param:Ge,value:ot,op:"a"})}):me.push({param:Ge,value:rt,op:"a"})}),this.clone(me)}set(Te,me){return this.clone({param:Te,value:me,op:"s"})}delete(Te,me){return this.clone({param:Te,value:me,op:"d"})}toString(){return this.init(),this.keys().map(Te=>{const me=this.encoder.encodeKey(Te);return this.map.get(Te).map(Ge=>me+"="+this.encoder.encodeValue(Ge)).join("&")}).filter(Te=>""!==Te).join("&")}clone(Te){const me=new Ae({encoder:this.encoder});return me.cloneFrom=this.cloneFrom||this,me.updates=(this.updates||[]).concat(Te),me}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Te=>this.map.set(Te,this.cloneFrom.map.get(Te))),this.updates.forEach(Te=>{switch(Te.op){case"a":case"s":const me=("a"===Te.op?this.map.get(Te.param):void 0)||[];me.push(wt(Te.value)),this.map.set(Te.param,me);break;case"d":if(void 0===Te.value){this.map.delete(Te.param);break}{let Ge=this.map.get(Te.param)||[];const rt=Ge.indexOf(wt(Te.value));-1!==rt&&Ge.splice(rt,1),Ge.length>0?this.map.set(Te.param,Ge):this.map.delete(Te.param)}}}),this.cloneFrom=this.updates=null)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class dt{constructor(){this.map=new Map}set(Te,me){return this.map.set(Te,me),this}get(Te){return this.map.has(Te)||this.map.set(Te,Te.defaultValue()),this.map.get(Te)}delete(Te){return this.map.delete(Te),this}has(Te){return this.map.has(Te)}keys(){return this.map.keys()}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function it(qe){return"undefined"!=typeof ArrayBuffer&&qe instanceof ArrayBuffer}function Ee(qe){return"undefined"!=typeof Blob&&qe instanceof Blob}function et(qe){return"undefined"!=typeof FormData&&qe instanceof FormData}class vt{constructor(Te,me,Ge,rt){let ot;if(this.url=me,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Te.toUpperCase(),function nt(qe){switch(qe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||rt?(this.body=void 0!==Ge?Ge:null,ot=rt):ot=Ge,ot&&(this.reportProgress=!!ot.reportProgress,this.withCredentials=!!ot.withCredentials,ot.responseType&&(this.responseType=ot.responseType),ot.headers&&(this.headers=ot.headers),ot.context&&(this.context=ot.context),ot.params&&(this.params=ot.params)),this.headers||(this.headers=new xe),this.context||(this.context=new dt),this.params){const bt=this.params.toString();if(0===bt.length)this.urlWithParams=me;else{const Ln=me.indexOf("?");this.urlWithParams=me+(-1===Ln?"?":Ln<me.length-1?"&":"")+bt}}else this.params=new Ae,this.urlWithParams=me}serializeBody(){return null===this.body?null:it(this.body)||Ee(this.body)||et(this.body)||function _t(qe){return"undefined"!=typeof URLSearchParams&&qe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ae?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||et(this.body)?null:Ee(this.body)?this.body.type||null:it(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ae?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Te={}){var me;const Ge=Te.method||this.method,rt=Te.url||this.url,ot=Te.responseType||this.responseType,bt=void 0!==Te.body?Te.body:this.body,Ln=void 0!==Te.withCredentials?Te.withCredentials:this.withCredentials,hn=void 0!==Te.reportProgress?Te.reportProgress:this.reportProgress;let mn=Te.headers||this.headers,kr=Te.params||this.params;const En=null!==(me=Te.context)&&void 0!==me?me:this.context;return void 0!==Te.setHeaders&&(mn=Object.keys(Te.setHeaders).reduce((Yr,Xt)=>Yr.set(Xt,Te.setHeaders[Xt]),mn)),Te.setParams&&(kr=Object.keys(Te.setParams).reduce((Yr,Xt)=>Yr.set(Xt,Te.setParams[Xt]),kr)),new vt(Ge,rt,bt,{params:kr,headers:mn,context:En,reportProgress:hn,responseType:ot,withCredentials:Ln})}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */var K=(()=>((K=K||{})[K.Sent=0]="Sent",K[K.UploadProgress=1]="UploadProgress",K[K.ResponseHeader=2]="ResponseHeader",K[K.DownloadProgress=3]="DownloadProgress",K[K.Response=4]="Response",K[K.User=5]="User",K))();class te{constructor(Te,me=200,Ge="OK"){this.headers=Te.headers||new xe,this.status=void 0!==Te.status?Te.status:me,this.statusText=Te.statusText||Ge,this.url=Te.url||null,this.ok=this.status>=200&&this.status<300}}class ee extends te{constructor(Te={}){super(Te),this.type=K.ResponseHeader}clone(Te={}){return new ee({headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class ce extends te{constructor(Te={}){super(Te),this.type=K.Response,this.body=void 0!==Te.body?Te.body:null}clone(Te={}){return new ce({body:void 0!==Te.body?Te.body:this.body,headers:Te.headers||this.headers,status:void 0!==Te.status?Te.status:this.status,statusText:Te.statusText||this.statusText,url:Te.url||this.url||void 0})}}class ue extends te{constructor(Te){super(Te,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Te.url||"(unknown url)"}`:`Http failure response for ${Te.url||"(unknown url)"}: ${Te.status} ${Te.statusText}`,this.error=Te.error||null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Se(qe,Te){return{body:Te,headers:qe.headers,context:qe.context,observe:qe.observe,params:qe.params,reportProgress:qe.reportProgress,responseType:qe.responseType,withCredentials:qe.withCredentials}}let he=(()=>{class qe{constructor(me){this.handler=me}request(me,Ge,rt={}){let ot;if(me instanceof vt)ot=me;else{let hn,mn;hn=rt.headers instanceof xe?rt.headers:new xe(rt.headers),rt.params&&(mn=rt.params instanceof Ae?rt.params:new Ae({fromObject:rt.params})),ot=new vt(me,Ge,void 0!==rt.body?rt.body:null,{headers:hn,context:rt.context,params:mn,reportProgress:rt.reportProgress,responseType:rt.responseType||"json",withCredentials:rt.withCredentials})}const bt=(0,de.of)(ot).pipe((0,ye.b)(hn=>this.handler.handle(hn)));if(me instanceof vt||"events"===rt.observe)return bt;const Ln=bt.pipe((0,Ne.h)(hn=>hn instanceof ce));switch(rt.observe||"body"){case"body":switch(ot.responseType){case"arraybuffer":return Ln.pipe((0,Be.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return hn.body}));case"blob":return Ln.pipe((0,Be.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof Blob))throw new Error("Response is not a Blob.");return hn.body}));case"text":return Ln.pipe((0,Be.U)(hn=>{if(null!==hn.body&&"string"!=typeof hn.body)throw new Error("Response is not a string.");return hn.body}));default:return Ln.pipe((0,Be.U)(hn=>hn.body))}case"response":return Ln;default:throw new Error(`Unreachable: unhandled observe type ${rt.observe}}`)}}delete(me,Ge={}){return this.request("DELETE",me,Ge)}get(me,Ge={}){return this.request("GET",me,Ge)}head(me,Ge={}){return this.request("HEAD",me,Ge)}jsonp(me,Ge){return this.request("JSONP",me,{params:(new Ae).append(Ge,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(me,Ge={}){return this.request("OPTIONS",me,Ge)}patch(me,Ge,rt={}){return this.request("PATCH",me,Se(rt,Ge))}post(me,Ge,rt={}){return this.request("POST",me,Se(rt,Ge))}put(me,Ge,rt={}){return this.request("PUT",me,Se(rt,Ge))}}return qe.\u0275fac=function(me){return new(me||qe)(y.LFG(Fe))},qe.\u0275prov=y.Yz7({token:qe,factory:qe.\u0275fac}),qe})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Ue{constructor(Te,me){this.next=Te,this.interceptor=me}handle(Te){return this.interceptor.intercept(Te,this.next)}}const He=new y.OlP("HTTP_INTERCEPTORS");let st=(()=>{class qe{intercept(me,Ge){return Ge.handle(me)}}return qe.\u0275fac=function(me){return new(me||qe)},qe.\u0275prov=y.Yz7({token:qe,factory:qe.\u0275fac}),qe})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const sn=/^\)\]\}',?\n/;let fn=(()=>{class qe{constructor(me){this.xhrFactory=me}handle(me){if("JSONP"===me.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new be.y(Ge=>{const rt=this.xhrFactory.build();if(rt.open(me.method,me.urlWithParams),me.withCredentials&&(rt.withCredentials=!0),me.headers.forEach((Xt,Jt)=>rt.setRequestHeader(Xt,Jt.join(","))),me.headers.has("Accept")||rt.setRequestHeader("Accept","application/json, text/plain, */*"),!me.headers.has("Content-Type")){const Xt=me.detectContentTypeHeader();null!==Xt&&rt.setRequestHeader("Content-Type",Xt)}if(me.responseType){const Xt=me.responseType.toLowerCase();rt.responseType="json"!==Xt?Xt:"text"}const ot=me.serializeBody();let bt=null;const Ln=()=>{if(null!==bt)return bt;const Xt=rt.statusText||"OK",Jt=new xe(rt.getAllResponseHeaders()),vn=function Tn(qe){return"responseURL"in qe&&qe.responseURL?qe.responseURL:/^X-Request-URL:/m.test(qe.getAllResponseHeaders())?qe.getResponseHeader("X-Request-URL"):null}(rt)||me.url;return bt=new ee({headers:Jt,status:rt.status,statusText:Xt,url:vn}),bt},hn=()=>{let{headers:Xt,status:Jt,statusText:vn,url:jn}=Ln(),gn=null;204!==Jt&&(gn=void 0===rt.response?rt.responseText:rt.response),0===Jt&&(Jt=gn?200:0);let yn=Jt>=200&&Jt<300;if("json"===me.responseType&&"string"==typeof gn){const jr=gn;gn=gn.replace(sn,"");try{gn=""!==gn?JSON.parse(gn):null}catch(Ri){gn=jr,yn&&(yn=!1,gn={error:Ri,text:gn})}}yn?(Ge.next(new ce({body:gn,headers:Xt,status:Jt,statusText:vn,url:jn||void 0})),Ge.complete()):Ge.error(new ue({error:gn,headers:Xt,status:Jt,statusText:vn,url:jn||void 0}))},mn=Xt=>{const{url:Jt}=Ln(),vn=new ue({error:Xt,status:rt.status||0,statusText:rt.statusText||"Unknown Error",url:Jt||void 0});Ge.error(vn)};let kr=!1;const En=Xt=>{kr||(Ge.next(Ln()),kr=!0);let Jt={type:K.DownloadProgress,loaded:Xt.loaded};Xt.lengthComputable&&(Jt.total=Xt.total),"text"===me.responseType&&!!rt.responseText&&(Jt.partialText=rt.responseText),Ge.next(Jt)},Yr=Xt=>{let Jt={type:K.UploadProgress,loaded:Xt.loaded};Xt.lengthComputable&&(Jt.total=Xt.total),Ge.next(Jt)};return rt.addEventListener("load",hn),rt.addEventListener("error",mn),rt.addEventListener("timeout",mn),rt.addEventListener("abort",mn),me.reportProgress&&(rt.addEventListener("progress",En),null!==ot&&rt.upload&&rt.upload.addEventListener("progress",Yr)),rt.send(ot),Ge.next({type:K.Sent}),()=>{rt.removeEventListener("error",mn),rt.removeEventListener("abort",mn),rt.removeEventListener("load",hn),rt.removeEventListener("timeout",mn),me.reportProgress&&(rt.removeEventListener("progress",En),null!==ot&&rt.upload&&rt.upload.removeEventListener("progress",Yr)),rt.readyState!==rt.DONE&&rt.abort()}})}}return qe.\u0275fac=function(me){return new(me||qe)(y.LFG(T.JF))},qe.\u0275prov=y.Yz7({token:qe,factory:qe.\u0275fac}),qe})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const hr=new y.OlP("XSRF_COOKIE_NAME"),_r=new y.OlP("XSRF_HEADER_NAME");class Nn{}let gi=(()=>{class qe{constructor(me,Ge,rt){this.doc=me,this.platform=Ge,this.cookieName=rt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const me=this.doc.cookie||"";return me!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,T.Mx)(me,this.cookieName),this.lastCookieString=me),this.lastToken}}return qe.\u0275fac=function(me){return new(me||qe)(y.LFG(T.K0),y.LFG(y.Lbi),y.LFG(hr))},qe.\u0275prov=y.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),bn=(()=>{class qe{constructor(me,Ge){this.tokenService=me,this.headerName=Ge}intercept(me,Ge){const rt=me.url.toLowerCase();if("GET"===me.method||"HEAD"===me.method||rt.startsWith("http://")||rt.startsWith("https://"))return Ge.handle(me);const ot=this.tokenService.getToken();return null!==ot&&!me.headers.has(this.headerName)&&(me=me.clone({headers:me.headers.set(this.headerName,ot)})),Ge.handle(me)}}return qe.\u0275fac=function(me){return new(me||qe)(y.LFG(Nn),y.LFG(_r))},qe.\u0275prov=y.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),qr=(()=>{class qe{constructor(me,Ge){this.backend=me,this.injector=Ge,this.chain=null}handle(me){if(null===this.chain){const Ge=this.injector.get(He,[]);this.chain=Ge.reduceRight((rt,ot)=>new Ue(rt,ot),this.backend)}return this.chain.handle(me)}}return qe.\u0275fac=function(me){return new(me||qe)(y.LFG(Oe),y.LFG(y.zs3))},qe.\u0275prov=y.Yz7({token:qe,factory:qe.\u0275fac}),qe})(),Sn=(()=>{class qe{static disable(){return{ngModule:qe,providers:[{provide:bn,useClass:st}]}}static withOptions(me={}){return{ngModule:qe,providers:[me.cookieName?{provide:hr,useValue:me.cookieName}:[],me.headerName?{provide:_r,useValue:me.headerName}:[]]}}}return qe.\u0275fac=function(me){return new(me||qe)},qe.\u0275mod=y.oAB({type:qe}),qe.\u0275inj=y.cJS({providers:[bn,{provide:He,useExisting:bn,multi:!0},{provide:Nn,useClass:gi},{provide:hr,useValue:"XSRF-TOKEN"},{provide:_r,useValue:"X-XSRF-TOKEN"}]}),qe})(),xn=(()=>{class qe{}return qe.\u0275fac=function(me){return new(me||qe)},qe.\u0275mod=y.oAB({type:qe}),qe.\u0275inj=y.cJS({providers:[he,{provide:Fe,useClass:qr},fn,{provide:Oe,useExisting:fn}],imports:[[Sn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),qe})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */,4893:(ft,Re,H)=>{"use strict";H.d(Re,{deG:()=>Ly,tb:()=>ih,AFp:()=>Sd,ip1:()=>Rg,CZH:()=>Wl,hGG:()=>LE,z2F:()=>Gb,sBO:()=>TE,Sil:()=>Fb,_Vd:()=>Uf,EJc:()=>Cu,SBq:()=>cd,qLn:()=>eu,vpe:()=>Ts,tBr:()=>lr,XFs:()=>Bt,OlP:()=>Or,zs3:()=>na,ZZ4:()=>Xb,aQg:()=>qb,soG:()=>qn,YKP:()=>Y0,h0i:()=>Nl,PXZ:()=>zi,R0b:()=>ua,FiY:()=>pc,Lbi:()=>Nb,g9A:()=>wy,Qsj:()=>dd,FYo:()=>z0,JOm:()=>Zs,q3G:()=>Rr,tp0:()=>gc,Rgc:()=>Bl,dDg:()=>ne,GfV:()=>K0,s_b:()=>Ro,ifc:()=>mn,eFA:()=>sh,G48:()=>_E,Gpc:()=>wt,_c5:()=>NE,VLi:()=>fe,c2e:()=>Lb,zSh:()=>Kc,wAp:()=>en,vHH:()=>nt,EiD:()=>yo,mCW:()=>za,qzn:()=>Gu,JVY:()=>Wa,pB0:()=>tm,eBb:()=>Tc,L6k:()=>_c,LAX:()=>li,cg1:()=>lg,kL8:()=>Pl,yhl:()=>wr,dqk:()=>Jt,sIi:()=>Qc,CqO:()=>Gv,QGY:()=>Xp,F4k:()=>Hv,RDi:()=>$,AaK:()=>Ve,z3N:()=>ns,qOj:()=>gl,TTD:()=>Ds,_Bn:()=>Pa,xp6:()=>xm,uIk:()=>Tf,Tol:()=>t0,ekj:()=>wf,Suo:()=>cy,Xpm:()=>an,lG2:()=>Lr,Yz7:()=>fn,cJS:()=>_r,oAB:()=>pr,Yjl:()=>or,Y36:()=>ed,_UZ:()=>Cf,BQk:()=>Df,ynx:()=>wl,qZA:()=>pu,TgZ:()=>xo,EpF:()=>Kp,n5z:()=>$o,LFG:()=>Ai,$8M:()=>Od,$Z:()=>jp,NdJ:()=>qp,CRH:()=>dy,kcU:()=>ui,O4$:()=>oh,oxw:()=>Al,ALo:()=>br,lcZ:()=>pi,Q6J:()=>Wp,DdM:()=>J0,VKq:()=>ey,iGM:()=>Cg,MAs:()=>kp,Jf7:()=>mm,CHM:()=>es,oJD:()=>wh,LSH:()=>jd,YNc:()=>xv,W1O:()=>py,_uU:()=>l0,Oqu:()=>og,hij:()=>If,AsE:()=>aa,Gf:()=>ly});var T=H(7579),y=H(727),de=H(8306),be=H(6451),ye=H(2076),Ne=H(5698),Be=H(930),Fe=H(4482);function xe(i,s,...o){return!0===s?(i(),null):!1===s?null:s(...o).pipe((0,Ne.q)(1)).subscribe(()=>i())}
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function we(i){for(let s in i)if(i[s]===we)return s;throw Error("Could not find renamed property on target object.")}function De(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ve(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Ve).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function Ce(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const gt=we({__forward_ref__:we});function wt(i){return i.__forward_ref__=wt,i.toString=function(){return Ve(this())},i}function Ae(i){return At(i)?i():i}function At(i){return"function"==typeof i&&i.hasOwnProperty(gt)&&i.__forward_ref__===wt}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class nt extends Error{constructor(s,o){super(function it(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(s,o)),this.code=s}}function Ee(i){return"string"==typeof i?i:null==i?"":String(i)}function et(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():Ee(i)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function te(i,s){const o=s?` in ${s}`:"";throw new nt(-201,`No provider for ${et(i)} found${o}`)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Mt(i,s){null==i&&function Ct(i,s,o,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${o} ${c} ${s} <=Actual]`))}(s,i,null,"!=")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function fn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function _r(i){return{providers:i.providers||[],imports:i.imports||[]}}function Nn(i){return gi(i,Ei)||gi(i,xn)}function gi(i,s){return i.hasOwnProperty(s)?i[s]:null}function tr(i){return i&&(i.hasOwnProperty(Sn)||i.hasOwnProperty(Oi))?i[Sn]:null}const Ei=we({\u0275prov:we}),Sn=we({\u0275inj:we}),xn=we({ngInjectableDef:we}),Oi=we({ngInjectorDef:we});
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */var Bt=(()=>((Bt=Bt||{})[Bt.Default=0]="Default",Bt[Bt.Host=1]="Host",Bt[Bt.Self=2]="Self",Bt[Bt.SkipSelf=4]="SkipSelf",Bt[Bt.Optional=8]="Optional",Bt))();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let qe;function me(i){const s=qe;return qe=i,s}function Ge(i,s,o){const c=Nn(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&Bt.Optional?null:void 0!==s?s:void te(Ve(i),"Injector")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function ot(i){return{toString:i}.toString()}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */var bt=(()=>((bt=bt||{})[bt.OnPush=0]="OnPush",bt[bt.Default=1]="Default",bt))(),mn=(()=>{return(i=mn||(mn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",mn;var i})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const kr="undefined"!=typeof globalThis&&globalThis,En="undefined"!=typeof window&&window,Yr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Jt=kr||"undefined"!=typeof global&&global||En||Yr,gn={},yn=[],jr=we({\u0275cmp:we}),Ri=we({\u0275dir:we}),Z=we({\u0275pipe:we}),re=we({\u0275mod:we}),_e=we({\u0275fac:we}),ze=we({__NG_ELEMENT_ID__:we});
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Tt=0;function an(i){return ot(()=>{const o={},c={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||yn,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||mn.Emulated,id:"c",styles:i.styles||yn,_:null,setInput:null,schemas:i.schemas||null,tView:null},f=i.directives,h=i.features,m=i.pipes;return c.id+=Tt++,c.inputs=pn(i.inputs,o),c.outputs=pn(i.outputs),h&&h.forEach(S=>S(c)),c.directiveDefs=f?()=>("function"==typeof f?f():f).map(cn):null,c.pipeDefs=m?()=>("function"==typeof m?m():m).map(Yt):null,c})}function cn(i){return Pn(i)||function Sr(i){return i[Ri]||null}(i)}function Yt(i){return function on(i){return i[Z]||null}(i)}const Fn={};function pr(i){return ot(()=>{const s={type:i.type,bootstrap:i.bootstrap||yn,declarations:i.declarations||yn,imports:i.imports||yn,exports:i.exports||yn,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Fn[i.id]=i.type),s})}function pn(i,s){if(null==i)return gn;const o={};for(const c in i)if(i.hasOwnProperty(c)){let f=i[c],h=f;Array.isArray(f)&&(h=f[1],f=f[0]),o[f]=c,s&&(s[f]=h)}return o}const Lr=an;function or(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Pn(i){return i[jr]||null}function gr(i,s){const o=i[re]||null;if(!o&&!0===s)throw new Error(`Type ${Ve(i)} does not have '\u0275mod' property.`);return o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Zr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Br(i){return Array.isArray(i)&&!0===i[1]}function ca(i){return 0!=(8&i.flags)}function Xi(i){return 2==(2&i.flags)}function Qn(i){return 1==(1&i.flags)}function si(i){return null!==i.template}function qi(i){return 0!=(512&i[2])}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function ds(i,s){return i.hasOwnProperty(_e)?i[_e]:null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Ji{constructor(s,o,c){this.previousValue=s,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ds(){return co}function co(i){return i.type.prototype.ngOnChanges&&(i.setInput=fo),Vo}function Vo(){const i=yi(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===gn)i.previous=s;else for(let c in s)o[c]=s[c];i.current=null,this.ngOnChanges(s)}}function fo(i,s,o,c){const f=yi(i)||function Na(i,s){return i[xs]=s}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(i,{previous:gn,current:null}),h=f.current||(f.current={}),m=f.previous,S=this.declaredInputs[o],A=m[S];h[S]=new Ji(A&&A.currentValue,s,m===gn),i[c]=s}Ds.ngInherit=!0;const xs="__ngSimpleChanges__";function yi(i){return i[xs]||null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let R;function $(i){R=i}function L(){return void 0!==R?R:"undefined"!=typeof document?document:void 0}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function le(i){return!!i.listen}const Xe={createRenderer:(i,s)=>L()};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function It(i){for(;Array.isArray(i);)i=i[0];return i}function Cn(i,s){return It(s[i])}function nn(i,s){return It(s[i.index])}function $n(i,s){return i.data[s]}function at(i,s){return i[s]}function kn(i,s){const o=s[i];return Zr(o)?o:o[0]}function Fi(i){return 4==(4&i[2])}function Qt(i){return 128==(128&i[2])}function ai(i,s){return null==s?null:i[s]}function Dt(i){i[18]=0}function Us(i,s){i[5]+=s;let o=i,c=i[3];for(;null!==c&&(1===s&&1===o[5]||-1===s&&0===o[5]);)c[5]+=s,o=c,c=c[3]
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}const k={lFrame:Ha(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return k.bindingsEnabled}function lt(){return k.lFrame.lView}function dn(){return k.lFrame.tView}function es(i){return k.lFrame.contextLView=i,i[8]}function mr(){let i=Ba();for(;null!==i&&64===i.type;)i=i.parent;return i}function Ba(){return k.lFrame.currentTNode}function As(i,s){const o=k.lFrame;o.currentTNode=i,o.isParent=s}function xu(){return k.lFrame.isParent}function zl(){k.lFrame.isParent=!1}function wu(){return k.isInCheckNoChangesMode}function Ti(i){k.isInCheckNoChangesMode=i}function bi(){const i=k.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function ga(){return k.lFrame.bindingIndex++}function Hs(i){const s=k.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function Xl(i,s){const o=k.lFrame;o.bindingIndex=o.bindingRootIndex=i,Mu(s)}function Mu(i){k.lFrame.currentDirectiveIndex=i}function fs(){return k.lFrame.currentQueryIndex}function Yl(i){k.lFrame.currentQueryIndex=i}function Bg(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Ql(i,s,o){if(o&Bt.SkipSelf){let f=s,h=i;for(;!(f=f.parent,null!==f||o&Bt.Host||(f=Bg(h),null===f||(h=h[15],10&f.type))););if(null===f)return!1;s=f,i=h}const c=k.lFrame=ho();return c.currentTNode=s,c.lView=i,!0}function Go(i){const s=ho(),o=i[1];k.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function ho(){const i=k.lFrame,s=null===i?null:i.child;return null===s?Ha(i):s}function Ha(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Iu(){const i=k.lFrame;return k.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Zl=Iu;function Pu(){const i=Iu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function oi(){return k.lFrame.selectedIndex}function ma(i){k.lFrame.selectedIndex=i}function Tr(){const i=k.lFrame;return $n(i.tView,i.selectedIndex)}function oh(){k.lFrame.currentNamespace="svg"}function ui(){!function wd(){k.lFrame.currentNamespace=null}()}function po(i,s){for(let o=s.directiveStart,c=s.directiveEnd;o<c;o++){const h=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:S,ngAfterViewInit:A,ngAfterViewChecked:V,ngOnDestroy:G}=h;m&&(i.contentHooks||(i.contentHooks=[])).push(-o,m),S&&((i.contentHooks||(i.contentHooks=[])).push(o,S),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,S)),A&&(i.viewHooks||(i.viewHooks=[])).push(-o,A),V&&((i.viewHooks||(i.viewHooks=[])).push(o,V),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,V)),null!=G&&(i.destroyHooks||(i.destroyHooks=[])).push(o,G)}}function go(i,s,o){ya(i,s,3,o)}function js(i,s,o,c){(3&i[2])===o&&ya(i,s,o,c)}function va(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function ya(i,s,o,c){const h=null!=c?c:-1,m=s.length-1;let S=0;for(let A=void 0!==c?65535&i[18]:0;A<m;A++)if("number"==typeof s[A+1]){if(S=s[A],null!=c&&S>=c)break}else s[A]<0&&(i[18]+=65536),(S<h||-1==h)&&(jo(i,o,s,A),i[18]=(4294901760&i[18])+A+2),A++}function jo(i,s,o,c){const f=o[c]<0,h=o[c+1],S=i[f?-o[c]:o[c]];if(f){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(S)}finally{}}}else try{h.call(S)}finally{}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class mo{constructor(s,o,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function Ru(i,s,o){const c=le(i);let f=0;for(;f<o.length;){const h=o[f];if("number"==typeof h){if(0!==h)break;f++;const m=o[f++],S=o[f++],A=o[f++];c?i.setAttribute(s,S,A,m):s.setAttributeNS(m,S,A)}else{const m=h,S=o[++f];ku(m)?c&&i.setProperty(s,m,S):c?i.setAttribute(s,m,S):s.setAttribute(m,S),f++}}return f}function nc(i){return 3===i||4===i||6===i}function ku(i){return 64===i.charCodeAt(0)}function Nu(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let c=0;c<s.length;c++){const f=s[c];"number"==typeof f?o=f:0===o||rc(i,o,f,null,-1===o||2===o?s[++c]:null)}}return i}function rc(i,s,o,c,f){let h=0,m=i.length;if(-1===s)m=-1;else for(;h<i.length;){const S=i[h++];if("number"==typeof S){if(S===s){m=-1;break}if(S>s){m=h-1;break}}}for(;h<i.length;){const S=i[h];if("number"==typeof S)break;if(S===o){if(null===c)return void(null!==f&&(i[h+1]=f));if(c===i[h+1])return void(i[h+2]=f)}h++,null!==c&&h++,null!==f&&h++}-1!==m&&(i.splice(m,0,s),h=m+1),i.splice(h++,0,o),null!==c&&i.splice(h++,0,c),null!==f&&i.splice(h++,0,f)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Wo(i){return-1!==i}function _a(i){return 32767&i}function Ta(i,s){let o=function ic(i){return i>>16}(i),c=s;for(;o>0;)c=c[15],o--;return c}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let sc=!0;function Lu(i){const s=sc;return sc=i,s}let x=0;function _(i,s){const o=B(i,s);if(-1!==o)return o;const c=s[1];c.firstCreatePass&&(i.injectorIndex=s.length,P(c.data,i),P(s,null),P(c.blueprint,null));const f=z(i,s),h=i.injectorIndex;if(Wo(f)){const m=_a(f),S=Ta(f,s),A=S[1].data;for(let V=0;V<8;V++)s[h+V]=S[m+V]|A[m+V]}return s[h+8]=f,h}function P(i,s){i.push(0,0,0,0,0,0,0,0,s)}function B(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function z(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,c=null,f=s;for(;null!==f;){const h=f[1],m=h.type;if(c=2===m?h.declTNode:1===m?f[6]:null,null===c)return-1;if(o++,f=f[15],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return-1}function se(i,s,o){!function b(i,s,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(ze)&&(c=o[ze]),null==c&&(c=o[ze]=x++);const f=255&c;s.data[i+(f>>5)]|=1<<f}(i,s,o)}function $e(i,s,o){if(o&Bt.Optional)return i;te(s,"NodeInjector")}function Ut(i,s,o,c){if(o&Bt.Optional&&void 0===c&&(c=null),0==(o&(Bt.Self|Bt.Host))){const f=i[9],h=me(void 0);try{return f?f.get(s,c,o&Bt.Optional):Ge(s,c,o&Bt.Optional)}finally{me(h)}}return $e(c,s,o)}function un(i,s,o,c=Bt.Default,f){if(null!==i){const h=function ac(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ze)?i[ze]:void 0;return"number"==typeof s?s>=0?255&s:zn:s}(o);if("function"==typeof h){if(!Ql(s,i,c))return c&Bt.Host?$e(f,o,c):Ut(s,o,c,f);try{const m=h(c);if(null!=m||c&Bt.Optional)return m;te(o)}finally{Zl()}}else if("number"==typeof h){let m=null,S=B(i,s),A=-1,V=c&Bt.Host?s[16][6]:null;for((-1===S||c&Bt.SkipSelf)&&(A=-1===S?z(i,s):s[S+8],-1!==A&&rr(c,!1)?(m=s[1],S=_a(A),s=Ta(A,s)):S=-1);-1!==S;){const G=s[1];if(oc(h,S,G.data)){const ie=Hn(S,s,o,m,c,V);if(ie!==Wt)return ie}A=s[S+8],-1!==A&&rr(c,s[1].data[S+8]===V)&&oc(h,S,s)?(m=G,S=_a(A),s=Ta(A,s)):S=-1}}}return Ut(s,o,c,f)}const Wt={};function zn(){return new ba(mr(),lt())}function Hn(i,s,o,c,f,h){const m=s[1],S=m.data[i+8],G=Bi(S,m,o,null==c?Xi(S)&&sc:c!=m&&0!=(3&S.type),f&Bt.Host&&h===S);return null!==G?hs(s,m,G,S):Wt}function Bi(i,s,o,c,f){const h=i.providerIndexes,m=s.data,S=1048575&h,A=i.directiveStart,G=h>>20,pe=f?S+G:i.directiveEnd;for(let Le=c?S:S+G;Le<pe;Le++){const tt=m[Le];if(Le<A&&o===tt||Le>=A&&tt.type===o)return Le}if(f){const Le=m[A];if(Le&&si(Le)&&Le.type===o)return A}return null}function hs(i,s,o,c){let f=i[o];const h=s.data;if(function Ad(i){return i instanceof mo}(f)){const m=f;m.resolving&&function _t(i,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new nt(-200,`Circular dependency in DI detected for ${i}${o}`)}(et(h[o]));const S=Lu(m.canSeeViewProviders);m.resolving=!0;const A=m.injectImpl?me(m.injectImpl):null;Ql(i,c,Bt.Default);try{f=i[o]=m.factory(void 0,h,i,c),s.firstCreatePass&&o>=c.directiveStart&&
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Ou(i,s,o){const{ngOnChanges:c,ngOnInit:f,ngDoCheck:h}=s.type.prototype;if(c){const m=co(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,m)}f&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,f),h&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,h),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,h))}(o,h[o],s)}finally{null!==A&&me(A),Lu(S),m.resolving=!1,Zl()}}return f}function oc(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function rr(i,s){return!(i&Bt.Self||i&Bt.Host&&s)}class ba{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,c){return un(this._tNode,this._lView,s,c,o)}}function $o(i){return ot(()=>{const s=i.prototype.constructor,o=s[_e]||dh(s),c=Object.prototype;let f=Object.getPrototypeOf(i.prototype).constructor;for(;f&&f!==c;){const h=f[_e]||dh(f);if(h&&h!==o)return h;f=Object.getPrototypeOf(f)}return h=>new h})}function dh(i){return At(i)?()=>{const s=dh(Ae(i));return s&&s()}:ds(i)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Od(i){return function ge(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const c=o.length;let f=0;for(;f<c;){const h=o[f];if(nc(h))break;if(0===h)f+=2;else if("number"==typeof h)for(f++;f<c&&"string"==typeof o[f];)f++;else{if(h===s)return o[f+1];f+=2}}}return null}(mr(),i)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Fu="__parameters__";function Bu(i,s,o){return ot(()=>{const c=function fh(i){return function(...o){if(i){const c=i(...o);for(const f in c)this[f]=c[f]}}}(s);function f(...h){if(this instanceof f)return c.apply(this,h),this;const m=new f(...h);return S.annotation=m,S;function S(A,V,G){const ie=A.hasOwnProperty(Fu)?A[Fu]:Object.defineProperty(A,Fu,{value:[]})[Fu];for(;ie.length<=G;)ie.push(null);return(ie[G]=ie[G]||[]).push(m),A}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Or{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=fn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Ly=new Or("AnalyzeForEntryComponents");function Ms(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let c=i[o];Array.isArray(c)?(s===i&&(s=i.slice(0,o)),Ms(c,s)):s!==i&&s.push(c)}return s}function jt(i,s){i.forEach(o=>Array.isArray(o)?jt(o,s):s(o))}function Vy(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function ph(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function ps(i,s,o){let c=Uu(i,s);return c>=0?i[1|c]=o:(c=~c,function dS(i,s,o,c){let f=i.length;if(f==s)i.push(o,c);else if(1===f)i.push(c,i[0]),i[0]=o;else{for(f--,i.push(i[f-1],i[f]);f>s;)i[f]=i[f-2],f--;i[s]=o,i[s+1]=c}}(i,c,s,o)),c}function Nd(i,s){const o=Uu(i,s);if(o>=0)return i[1|o]}function Uu(i,s){return function Hy(i,s,o){let c=0,f=i.length>>o;for(;f!==c;){const h=c+(f-c>>1),m=i[h<<o];if(s===m)return h<<o;m>s?f=h:c=h+1}return~(f<<o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(i,s,1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Ld={},dc="__NG_DI_FLAG__",Fd="ngTempTokenPath",vh=/\n/gm,zo="__source",fc=we({provide:String,useValue:we});let hc;function jg(i){const s=hc;return hc=i,s}function gS(i,s=Bt.Default){if(void 0===hc)throw new nt(203,"");return null===hc?Ge(i,void 0,s):hc.get(i,s&Bt.Optional?null:void 0,s)}function Ai(i,s=Bt.Default){return(function Te(){return qe}()||gS)(Ae(i),s)}const yh=Ai;function _h(i){const s=[];for(let o=0;o<i.length;o++){const c=Ae(i[o]);if(Array.isArray(c)){if(0===c.length)throw new nt(900,"");let f,h=Bt.Default;for(let m=0;m<c.length;m++){const S=c[m],A=Wg(S);"number"==typeof A?-1===A?f=S.token:h|=A:f=S}s.push(Ai(f,h))}else s.push(Ai(c))}return s}function Ks(i,s){return i[dc]=s,i.prototype[dc]=s,i}function Wg(i){return i[dc]}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const lr=Ks(Bu("Inject",i=>({token:i})),-1),pc=Ks(Bu("Optional"),8),gc=Ks(Bu("SkipSelf"),4);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Xs,mc;function Ko(i){var s;return(null===(s=function Sh(){if(void 0===Xs&&(Xs=null,Jt.trustedTypes))try{Xs=Jt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Xs}())||void 0===s?void 0:s.createHTML(i))||i}function vc(i){var s;return(null===(s=function Xo(){if(void 0===mc&&(mc=null,Jt.trustedTypes))try{mc=Jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return mc}())||void 0===s?void 0:s.createHTML(i))||i}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class qo{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Zg extends qo{getTypeName(){return"HTML"}}class _n extends qo{getTypeName(){return"Style"}}class Jg extends qo{getTypeName(){return"Script"}}class qy extends qo{getTypeName(){return"URL"}}class em extends qo{getTypeName(){return"ResourceURL"}}function ns(i){return i instanceof qo?i.changingThisBreaksApplicationSecurity:i}function Gu(i,s){const o=wr(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function wr(i){return i instanceof qo&&i.getTypeName()||null}function Wa(i){return new Zg(i)}function _c(i){return new _n(i)}function Tc(i){return new Jg(i)}function li(i){return new qy(i)}function tm(i){return new em(i)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class rm{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(Ko(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Yy{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const c=this.inertDocument.createElement("body");o.appendChild(c)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=Ko(s),o;const c=this.inertDocument.createElement("body");return c.innerHTML=Ko(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const o=s.attributes;for(let f=o.length-1;0<f;f--){const m=o.item(f).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Ch=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,im=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function za(i){return(i=String(i)).match(Ch)||i.match(im)?i:"unsafe:"+i}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function qs(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Ka(...i){const s={};for(const o of i)for(const c in o)o.hasOwnProperty(c)&&(s[c]=!0);return s}const Hd=qs("area,br,col,hr,img,wbr"),Dh=qs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Yo=qs("rp,rt"),ju=Ka(Hd,Ka(Dh,qs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ka(Yo,qs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ka(Yo,Dh)),xh=qs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Gd=qs("srcset"),Qo=Ka(xh,Gd,qs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),qs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wu=qs("script,style,template");class om{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,c=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!ju.hasOwnProperty(o))return this.sanitizedSomething=!0,!Wu.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=s.attributes;for(let f=0;f<c.length;f++){const h=c.item(f),m=h.name,S=m.toLowerCase();if(!Qo.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let A=h.value;xh[S]&&(A=za(A)),Gd[S]&&(i=A,A=(i=String(i)).split(",").map(s=>za(s.trim())).join(", ")),this.buf.push(" ",m,'="',vo(A),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();ju.hasOwnProperty(o)&&!Hd.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(vo(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const um=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mn=/([^\#-~ |!])/g;function vo(i){return i.replace(/&/g,"&amp;").replace(um,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Mn,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let $u;function yo(i,s){let o=null;try{$u=$u||function nm(i){const s=new Yy(i);return function $a(){try{return!!(new window.DOMParser).parseFromString(Ko(""),"text/html")}catch(i){return!1}}()?new rm(s):s}(i);let c=s?String(s):"";o=$u.getInertBodyElement(c);let f=5,h=c;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,c=h,h=o.innerHTML,o=$u.getInertBodyElement(c)}while(c!==h);return Ko((new om).sanitizeChildren(Ys(o)||o))}finally{if(o){const c=Ys(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Ys(i){return"content"in i&&function bc(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(i)?i.content:null}var Rr=(()=>((Rr=Rr||{})[Rr.NONE=0]="NONE",Rr[Rr.HTML=1]="HTML",Rr[Rr.STYLE=2]="STYLE",Rr[Rr.SCRIPT=3]="SCRIPT",Rr[Rr.URL=4]="URL",Rr[Rr.RESOURCE_URL=5]="RESOURCE_URL",Rr))();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function wh(i){const s=Jo();return s?vc(s.sanitize(Rr.HTML,i)||""):Gu(i,"HTML")?vc(ns(i)):yo(L(),Ee(i))}function jd(i){const s=Jo();return s?s.sanitize(Rr.URL,i)||"":Gu(i,"URL")?ns(i):za(Ee(i))}function Jo(){const i=lt();return i&&i[12]}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Ku="__ngContext__";function Ar(i,s){i[Ku]=s}function $d(i){const s=function Xu(i){return i[Ku]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Kd(i){return i.ngOriginalError}function Xd(i,...s){i.error(...s)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class eu{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),c=function Rh(i){return i&&i.ngErrorLogger||Xd}(s);c(this._console,"ERROR",s),o&&c(this._console,"ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&Kd(s);for(;o&&Kd(o);)o=Kd(o);return o||null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const qa=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Jt))();function mm(i){return i.ownerDocument.defaultView}function di(i){return i instanceof Function?i():i}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
var Zs=(()=>((Zs=Zs||{})[Zs.Important=1]="Important",Zs[Zs.DashCase=2]="DashCase",Zs))();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Qa(i,s){return undefined(i,s)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Ac(i){const s=i[3];return Br(s)?s[3]:s}function Mr(i){return dr(i[13])}function Nh(i){return dr(i[4])}function dr(i){for(;null!==i&&!Br(i);)i=i[4];return i}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Yu(i,s,o,c,f){if(null!=c){let h,m=!1;Br(c)?h=c:Zr(c)&&(m=!0,c=c[0]);const S=It(c);0===i&&null!==o?null==f?bm(s,o,S):Ps(s,o,S,f||null,!0):1===i&&null!==o?Ps(s,o,S,f||null,!0):2===i?function jh(i,s,o){const c=Ju(i,s);c&&function u_(i,s,o,c){le(i)?i.removeChild(s,o,c):s.removeChild(o)}(i,c,s,o)}(s,S,m):3===i&&s.destroyNode(S),null!=h&&function Cm(i,s,o,c,f){const h=o[7];h!==It(o)&&Yu(s,i,c,h,f);for(let S=10;S<o.length;S++){const A=o[S];_o(A[1],A,i,s,c,h)}}(s,i,h,o,f)}}function Fh(i,s,o){if(le(i))return i.createElement(s,o);{const c=null!==o?function Fa(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(o):null;return null===c?i.createElement(s):i.createElementNS(c,s)}}function Zu(i,s){const o=i[9],c=o.indexOf(s),f=s[3];1024&s[2]&&(s[2]&=-1025,Us(f,-1)),o.splice(c,1)}function Is(i,s){if(i.length<=10)return;const o=10+s,c=i[o];if(c){const f=c[17];null!==f&&f!==i&&Zu(f,c),s>0&&(i[o-1][4]=c[4]);const h=ph(i,10+s);!function ym(i,s){_o(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const m=h[19];null!==m&&m.detachView(h[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Qd(i,s){if(!(256&s[2])){const o=s[11];le(o)&&o.destroyNode&&_o(i,s,o,3,null,null),function _m(i){let s=i[13];if(!s)return Uh(i[1],i);for(;s;){let o=null;if(Zr(s))o=s[13];else{const c=s[10];c&&(o=c)}if(!o){for(;s&&!s[4]&&s!==i;)Zr(s)&&Uh(s[1],s),s=s[3];null===s&&(s=i),Zr(s)&&Uh(s[1],s),o=s&&s[4]}s=o}}(s)}}function Uh(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Tm(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let c=0;c<o.length;c+=2){const f=s[o[c]];if(!(f instanceof mo)){const h=o[c+1];if(Array.isArray(h))for(let m=0;m<h.length;m+=2){const S=f[h[m]],A=h[m+1];try{A.call(S)}finally{}}else try{h.call(f)}finally{}}}}(i,s),function o_(i,s){const o=i.cleanup,c=s[7];let f=-1;if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const m=o[h+1],S="function"==typeof m?m(s):It(s[m]),A=c[f=o[h+2]],V=o[h+3];"boolean"==typeof V?S.removeEventListener(o[h],A,V):V>=0?c[f=V]():c[f=-V].unsubscribe(),h+=2}else{const m=c[f=o[h+1]];o[h].call(m)}if(null!==c){for(let h=f+1;h<c.length;h++)c[h]();s[7]=null}}(i,s),1===s[1].type&&le(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&Br(s[3])){o!==s[3]&&Zu(o,s);const c=s[19];null!==c&&c.detachView(i)}}}function Zd(i,s,o){return function nu(i,s,o){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return o[0];if(2&c.flags){const f=i.data[c.directiveStart].encapsulation;if(f===mn.None||f===mn.Emulated)return null}return nn(c,o)}(i,s.parent,o)}function Ps(i,s,o,c,f){le(i)?i.insertBefore(s,o,c,f):s.insertBefore(o,c,f)}function bm(i,s,o){le(i)?i.appendChild(s,o):s.appendChild(o)}function Jd(i,s,o,c,f){null!==c?Ps(i,s,o,c,f):bm(i,s,o)}function Ju(i,s){return le(i)?i.parentNode(s):s.parentNode}let Hh=function Sm(i,s,o){return 40&i.type?nn(i,o):null};function ef(i,s,o,c){const f=Zd(i,c,s),h=s[11],S=function Vh(i,s,o){return Hh(i,s,o)}(c.parent||s[6],c,s);if(null!=f)if(Array.isArray(o))for(let A=0;A<o.length;A++)Jd(h,f,o[A],S,!1);else Jd(h,f,o,S,!1)}function Ic(i,s){if(null!==s){const o=s.type;if(3&o)return nn(s,i);if(4&o)return Pc(-1,i[s.index]);if(8&o){const c=s.child;if(null!==c)return Ic(i,c);{const f=i[s.index];return Br(f)?Pc(-1,f):It(f)}}if(32&o)return Qa(s,i)()||It(i[s.index]);{const c=tf(i,s);return null!==c?Array.isArray(c)?c[0]:Ic(Ac(i[16]),c):Ic(i,s.next)}}return null}function tf(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Pc(i,s){const o=10+i+1;if(o<s.length){const c=s[o],f=c[1].firstChild;if(null!==f)return Ic(c,f)}return s[7]}function Oc(i,s,o,c,f,h,m){for(;null!=o;){const S=c[o.index],A=o.type;if(m&&0===s&&(S&&Ar(It(S),c),o.flags|=4),64!=(64&o.flags))if(8&A)Oc(i,s,o.child,c,f,h,!1),Yu(s,i,f,S,h);else if(32&A){const V=Qa(o,c);let G;for(;G=V();)Yu(s,i,f,G,h);Yu(s,i,f,S,h)}else 16&A?Wh(i,s,c,o,f,h):Yu(s,i,f,S,h);o=m?o.projectionNext:o.next}}function _o(i,s,o,c,f,h){Oc(o,c,i.firstChild,s,f,h,!1)}function Wh(i,s,o,c,f,h){const m=o[16],A=m[6].projection[c.projection];if(Array.isArray(A))for(let V=0;V<A.length;V++)Yu(s,i,f,A[V],h);else Oc(i,s,A,m[3],f,h,!0)}function $h(i,s,o){le(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function nf(i,s,o){le(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function zh(i,s,o){let c=i.length;for(;;){const f=i.indexOf(s,o);if(-1===f)return f;if(0===f||i.charCodeAt(f-1)<=32){const h=s.length;if(f+h===c||i.charCodeAt(f+h)<=32)return f}o=f+1}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Kh="ng-template";function d_(i,s,o){let c=0;for(;c<i.length;){let f=i[c++];if(o&&"class"===f){if(f=i[c],-1!==zh(f.toLowerCase(),s,0))return!0}else if(1===f){for(;c<i.length&&"string"==typeof(f=i[c++]);)if(f.toLowerCase()===s)return!0;return!1}}return!1}function ru(i){return 4===i.type&&i.value!==Kh}function Os(i,s,o){return s===(4!==i.type||o?i.value:Kh)}function el(i,s,o){let c=4;const f=i.attrs||[],h=function Xh(i){for(let s=0;s<i.length;s++)if(nc(i[s]))return s;return i.length}(f);let m=!1;for(let S=0;S<s.length;S++){const A=s[S];if("number"!=typeof A){if(!m)if(4&c){if(c=2|1&c,""!==A&&!Os(i,A,o)||""===A&&1===s.length){if(vr(c))return!1;m=!0}}else{const V=8&c?A:s[++S];if(8&c&&null!==i.attrs){if(!d_(i.attrs,V,o)){if(vr(c))return!1;m=!0}continue}const ie=f_(8&c?"class":A,f,ru(i),o);if(-1===ie){if(vr(c))return!1;m=!0;continue}if(""!==V){let pe;pe=ie>h?"":f[ie+1].toLowerCase();const Le=8&c?pe:null;if(Le&&-1!==zh(Le,V,0)||2&c&&V!==pe){if(vr(c))return!1;m=!0}}}}else{if(!m&&!vr(c)&&!vr(A))return!1;if(m&&vr(A))continue;m=!1,c=A|1&c}}return vr(c)||m}function vr(i){return 0==(1&i)}function f_(i,s,o,c){if(null===s)return-1;let f=0;if(c||!o){let h=!1;for(;f<s.length;){const m=s[f];if(m===i)return f;if(3===m||6===m)h=!0;else{if(1===m||2===m){let S=s[++f];for(;"string"==typeof S;)S=s[++f];continue}if(4===m)break;if(0===m){f+=4;continue}}f+=h?1:2}return-1}return function rf(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const c=i[o];if("number"==typeof c)return-1;if(c===s)return o;o++}return-1}(s,i)}function ar(i,s,o=!1){for(let c=0;c<s.length;c++)if(el(i,s[c],o))return!0;return!1}function Dm(i,s){return i?":not("+s.trim()+")":s}function p_(i){let s=i[0],o=1,c=2,f="",h=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&c){const S=i[++o];f+="["+m+(S.length>0?'="'+S+'"':"")+"]"}else 8&c?f+="."+m:4&c&&(f+=" "+m);else""!==f&&!vr(m)&&(s+=Dm(h,f),f=""),c=m,h=h||!vr(c);o++}return""!==f&&(s+=Dm(h,f)),s}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const ln={};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function xm(i){wm(dn(),lt(),oi()+i,wu())}function wm(i,s,o,c){if(!c)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&go(s,h,o)}else{const h=i.preOrderHooks;null!==h&&js(s,h,0,o)}ma(o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function tl(i,s){return i<<17|s<<2}function Js(i){return i>>17&32767}function Za(i){return 2|i}function Ja(i){return(131068&i)>>2}function nl(i,s){return-131069&i|s<<2}function Yh(i){return 1|i}function Fc(i,s){const o=i.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const f=o[c],h=o[c+1];if(-1!==h){const m=i.data[h];Yl(f),m.contentQueries(2,s[h],h)}}}function il(i,s,o,c,f,h,m,S,A,V){const G=s.blueprint.slice();return G[0]=f,G[2]=140|c,Dt(G),G[3]=G[15]=i,G[8]=o,G[10]=m||i&&i[10],G[11]=S||i&&i[11],G[12]=A||i&&i[12]||null,G[9]=V||i&&i[9]||null,G[6]=h,G[16]=2==s.type?i[16]:G,G}function su(i,s,o,c,f){let h=i.data[s];if(null===h)h=function cf(i,s,o,c,f){const h=Ba(),m=xu(),A=i.data[s]=function qm(i,s,o,c,f,h){return{type:o,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?h:h&&h.parent,o,s,c,f);return null===i.firstChild&&(i.firstChild=A),null!==h&&(m?null==h.child&&null!==A.parent&&(h.child=A):null===h.next&&(h.next=A)),A}(i,s,o,c,f),function Gs(){return k.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=o,h.value=c,h.attrs=f;const m=function Ua(){const i=k.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();h.injectorIndex=null===m?-1:m.injectorIndex}return As(h,!0),h}function So(i,s,o,c){if(0===o)return-1;const f=s.length;for(let h=0;h<o;h++)s.push(c),i.blueprint.push(c),i.data.push(null);return f}function au(i,s,o){Go(s);try{const c=i.viewQuery;null!==c&&uu(1,c,o);const f=i.template;null!==f&&al(i,s,f,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Fc(i,s),i.staticViewQueries&&uu(2,i.viewQuery,o);const h=i.components;null!==h&&function C_(i,s){for(let o=0;o<s.length;o++)O_(i,s[o])}(s,h)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{s[2]&=-5,Pu()}}function sl(i,s,o,c){const f=s[2];if(256==(256&f))return;Go(s);const h=wu();try{Dt(s),function Va(i){return k.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&al(i,s,o,2,c);const m=3==(3&f);if(!h)if(m){const V=i.preOrderCheckHooks;null!==V&&go(s,V,null)}else{const V=i.preOrderHooks;null!==V&&js(s,V,0,null),va(s,0)}if(function sv(i){for(let s=Mr(i);null!==s;s=Nh(s)){if(!s[2])continue;const o=s[9];for(let c=0;c<o.length;c++){const f=o[c],h=f[3];0==(1024&f[2])&&Us(h,1),f[2]|=1024}}}(s),function I_(i){for(let s=Mr(i);null!==s;s=Nh(s))for(let o=10;o<s.length;o++){const c=s[o],f=c[1];Qt(c)&&sl(f,c,f.template,c[8])}}(s),null!==i.contentQueries&&Fc(i,s),!h)if(m){const V=i.contentCheckHooks;null!==V&&go(s,V)}else{const V=i.contentHooks;null!==V&&js(s,V,1),va(s,1)}!function zm(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const f=o[c];if(f<0)ma(~f);else{const h=f,m=o[++c],S=o[++c];Xl(m,h),S(2,s[h])}}}finally{ma(-1)}}(i,s);const S=i.components;null!==S&&function Km(i,s){for(let o=0;o<s.length;o++)P_(i,s[o])}(s,S);const A=i.viewQuery;if(null!==A&&uu(2,A,c),!h)if(m){const V=i.viewCheckHooks;null!==V&&go(s,V)}else{const V=i.viewHooks;null!==V&&js(s,V,2),va(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),h||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Us(s[3],-1))}finally{Pu()}}function Bc(i,s,o,c){const f=s[10],h=!wu(),m=Fi(s);try{h&&!m&&f.begin&&f.begin(),m&&au(i,s,c),sl(i,s,o,c)}finally{h&&!m&&f.end&&f.end()}}function al(i,s,o,c,f){const h=oi(),m=2&c;try{ma(-1),m&&s.length>20&&wm(i,s,20,wu()),o(c,f)}finally{ma(h)}}function tp(i,s,o){if(ca(s)){const f=s.directiveEnd;for(let h=s.directiveStart;h<f;h++){const m=i.data[h];m.contentQueries&&m.contentQueries(1,o[h],h)}}}function Eo(i,s,o){!Ht()||(function ev(i,s,o,c){const f=o.directiveStart,h=o.directiveEnd;i.firstCreatePass||_(o,s),Ar(c,s);const m=o.initialInputs;for(let S=f;S<h;S++){const A=i.data[S],V=si(A);V&&A_(s,o,A);const G=hs(s,i,S,o);Ar(G,s),null!==m&&M_(0,S-f,G,A,0,m),V&&(kn(o.index,s)[8]=G)}}(i,s,o,nn(o,s)),128==(128&o.flags)&&function tv(i,s,o){const c=o.directiveStart,f=o.directiveEnd,m=o.index,S=function Au(){return k.lFrame.currentDirectiveIndex}();try{ma(m);for(let A=c;A<f;A++){const V=i.data[A],G=s[A];Mu(A),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&vf(V,G)}}finally{ma(-1),Mu(S)}}(i,s,o))}function df(i,s,o=nn){const c=s.localNames;if(null!==c){let f=s.index+1;for(let h=0;h<c.length;h+=2){const m=c[h+1],S=-1===m?o(s,i):i[m];i[f++]=S}}}function ff(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=ol(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function ol(i,s,o,c,f,h,m,S,A,V){const G=20+c,ie=G+f,pe=function np(i,s){const o=[];for(let c=0;c<s;c++)o.push(c<i?null:ln);return o}(G,ie),Le="function"==typeof V?V():V;return pe[1]={type:i,blueprint:pe,template:o,queries:null,viewQuery:S,declTNode:s,data:pe.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:A,consts:Le,incompleteFirstPass:!1}}function pf(i,s,o,c){const f=lu(s);null===o?f.push(c):(f.push(o),i.firstCreatePass&&Gc(i).push(c,f.length-1))}function ip(i,s,o){for(let c in i)if(i.hasOwnProperty(c)){const f=i[c];(o=null===o?{}:o).hasOwnProperty(c)?o[c].push(s,f):o[c]=[s,f]}return o}function mf(i,s,o,c){let f=!1;if(Ht()){const h=function up(i,s,o){const c=i.directiveRegistry;let f=null;if(c)for(let h=0;h<c.length;h++){const m=c[h];ar(o,m.selectors,!1)&&(f||(f=[]),se(_(o,s),i,m.type),si(m)?(lp(i,o),f.unshift(m)):f.push(m))}return f}(i,s,o),m=null===c?null:{"":-1};if(null!==h){f=!0,rv(o,i.data.length,h.length);for(let G=0;G<h.length;G++){const ie=h[G];ie.providersResolver&&ie.providersResolver(ie)}let S=!1,A=!1,V=So(i,s,h.length,null);for(let G=0;G<h.length;G++){const ie=h[G];o.mergedAttrs=Nu(o.mergedAttrs,ie.hostAttrs),iv(i,o,s,V,ie),nv(V,ie,m),null!==ie.contentQueries&&(o.flags|=8),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(o.flags|=128);const pe=ie.type.prototype;!S&&(pe.ngOnChanges||pe.ngOnInit||pe.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),S=!0),!A&&(pe.ngOnChanges||pe.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),A=!0),V++}!function sp(i,s){const c=s.directiveEnd,f=i.data,h=s.attrs,m=[];let S=null,A=null;for(let V=s.directiveStart;V<c;V++){const G=f[V],ie=G.inputs,pe=null===h||ru(s)?null:dp(ie,h);m.push(pe),S=ip(ie,V,S),A=ip(G.outputs,V,A)}null!==S&&(S.hasOwnProperty("class")&&(s.flags|=16),S.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=S,s.outputs=A}(i,o)}m&&function ou(i,s,o){if(s){const c=i.localNames=[];for(let f=0;f<s.length;f+=2){const h=o[s[f+1]];if(null==h)throw new nt(-301,!1);c.push(s[f],h)}}}(o,c,m)}return o.mergedAttrs=Nu(o.mergedAttrs,o.attrs),f}function op(i,s,o,c,f,h){const m=h.hostBindings;if(m){let S=i.hostBindingOpCodes;null===S&&(S=i.hostBindingOpCodes=[]);const A=~s.index;(function Jm(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(S)!=A&&S.push(A),S.push(c,f,m)}}function vf(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function lp(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function nv(i,s,o){if(o){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)o[s.exportAs[c]]=i;si(s)&&(o[""]=i)}}function rv(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function iv(i,s,o,c,f){i.data[c]=f;const h=f.factory||(f.factory=ds(f.type)),m=new mo(h,si(f),null);i.blueprint[c]=m,o[c]=m,op(i,s,0,c,So(i,o,f.hostVars,ln),f)}function A_(i,s,o){const c=nn(s,i),f=ff(o),h=i[10],m=Ft(i,il(i,f,null,o.onPush?64:16,c,s,h,h.createRenderer(c,o),null,null));i[s.index]=m}function Ca(i,s,o,c,f,h){const m=nn(i,s);!function cp(i,s,o,c,f,h,m){if(null==h)le(i)?i.removeAttribute(s,f,o):s.removeAttribute(f);else{const S=null==m?Ee(h):m(h,c||"",f);le(i)?i.setAttribute(s,f,S,o):o?s.setAttributeNS(o,f,S):s.setAttribute(f,S)}}(s[11],m,h,i.value,o,c,f)}function M_(i,s,o,c,f,h){const m=h[s];if(null!==m){const S=c.setInput;for(let A=0;A<m.length;){const V=m[A++],G=m[A++],ie=m[A++];null!==S?c.setInput(o,ie,V,G):o[G]=ie}}}function dp(i,s){let o=null,c=0;for(;c<s.length;){const f=s[c];if(0!==f)if(5!==f){if("number"==typeof f)break;i.hasOwnProperty(f)&&(null===o&&(o=[]),o.push(f,i[f],s[c+1])),c+=2}else c+=2;else c+=4}return o}function fp(i,s,o,c){return new Array(i,!0,!1,s,null,0,c,o,null,null)}function P_(i,s){const o=kn(s,i);if(Qt(o)){const c=o[1];80&o[2]?sl(c,o,c.template,o[8]):o[5]>0&&hp(o)}}function hp(i){for(let c=Mr(i);null!==c;c=Nh(c))for(let f=10;f<c.length;f++){const h=c[f];if(1024&h[2]){const m=h[1];sl(m,h,m.template,h[8])}else h[5]>0&&hp(h)}const o=i[1].components;if(null!==o)for(let c=0;c<o.length;c++){const f=kn(o[c],i);Qt(f)&&f[5]>0&&hp(f)}}function O_(i,s){const o=kn(s,i),c=o[1];(function pp(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(c,o),au(c,o,o[8])}function Ft(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function ul(i){for(;i;){i[2]|=64;const s=Ac(i);if(qi(i)&&!s)return i;i=s}return null}function Vc(i,s,o){const c=s[10];c.begin&&c.begin();try{sl(i,s,i.template,o)}catch(f){throw mp(s,f),f}finally{c.end&&c.end()}}function Hc(i){!function Uc(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],c=$d(o),f=c[1];Bc(f,c,f.template,o)}}(i[8])}function uu(i,s,o){Yl(0),s(i,o)}const ll=(()=>Promise.resolve(null))();function lu(i){return i[7]||(i[7]=[])}function Gc(i){return i.cleanup||(i.cleanup=[])}function mp(i,s){const o=i[9],c=o?o.get(eu,null):null;c&&c.handleError(s)}function Wc(i,s,o,c,f){for(let h=0;h<o.length;){const m=o[h++],S=o[h++],A=s[m],V=i.data[m];null!==V.setInput?V.setInput(A,f,c,S):A[S]=f}}function to(i,s,o){const c=Cn(s,i);!function Yd(i,s,o){le(i)?i.setValue(s,o):s.textContent=o}(i[11],c,o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function $c(i,s,o){let c=o?i.styles:null,f=o?i.classes:null,h=0;if(null!==s)for(let m=0;m<s.length;m++){const S=s[m];"number"==typeof S?h=S:1==h?f=Ce(f,S):2==h&&(c=Ce(c,S+": "+s[++m]+";"))}o?i.styles=c:i.stylesWithoutHost=c,o?i.classes=f:i.classesWithoutHost=f}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Ie=new Or("INJECTOR",-1);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class zc{get(s,o=Ld){if(o===Ld){const c=new Error(`NullInjectorError: No provider for ${Ve(s)}!`);throw c.name="NullInjectorError",c}return o}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Kc=new Or("Set Injector scope."),ji={},yf={};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let ms;function no(){return void 0===ms&&(ms=new zc),ms}function ta(i,s=null,o=null,c){const f=vp(i,s,o,c);return f._resolveInjectorDefTypes(),f}function vp(i,s=null,o=null,c){return new cl(i,o,s||no(),c)}class cl{constructor(s,o,c,f=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];o&&jt(o,S=>this.processProvider(S,s,o)),jt([s],S=>this.processInjectorType(S,[],h)),this.records.set(Ie,fl(void 0,this));const m=this.records.get(Kc);this.scope=null!=m?m.value:null,this.source=f||("object"==typeof s?null:Ve(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=Ld,c=Bt.Default){this.assertNotDestroyed();const f=jg(this),h=me(void 0);try{if(!(c&Bt.SkipSelf)){let S=this.records.get(s);if(void 0===S){const A=function lv(i){return"function"==typeof i||"object"==typeof i&&i instanceof Or}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(s)&&Nn(s);S=A&&this.injectableDefInScope(A)?fl(dl(s),ji):null,this.records.set(s,S)}if(null!=S)return this.hydrate(s,S)}return(c&Bt.Self?no():this.parent).get(s,o=c&Bt.Optional&&o===Ld?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[Fd]=m[Fd]||[]).unshift(Ve(s)),f)throw m;return function $y(i,s,o,c){const f=i[Fd];throw s[zo]&&f.unshift(s[zo]),i.message=function zy(i,s,o,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let f=Ve(s);if(Array.isArray(s))f=s.map(Ve).join(" -> ");else if("object"==typeof s){let h=[];for(let m in s)if(s.hasOwnProperty(m)){let S=s[m];h.push(m+":"+("string"==typeof S?JSON.stringify(S):Ve(S)))}f=`{${h.join(", ")}}`}return`${o}${c?"("+c+")":""}[${f}]: ${i.replace(vh,"\n  ")}`}("\n"+i.message,f,o,c),i.ngTokenPath=f,i[Fd]=null,i}(m,s,"R3InjectorError",this.source)}throw m}finally{me(h),jg(f)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,f)=>s.push(Ve(f))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new nt(205,!1)}processInjectorType(s,o,c){if(!(s=Ae(s)))return!1;let f=tr(s);const h=null==f&&s.ngModule||void 0,m=void 0===h?s:h,S=-1!==c.indexOf(m);if(void 0!==h&&(f=tr(h)),null==f)return!1;if(null!=f.imports&&!S){let G;c.push(m);try{jt(f.imports,ie=>{this.processInjectorType(ie,o,c)&&(void 0===G&&(G=[]),G.push(ie))})}finally{}if(void 0!==G)for(let ie=0;ie<G.length;ie++){const{ngModule:pe,providers:Le}=G[ie];jt(Le,tt=>this.processProvider(tt,pe,Le||yn))}}this.injectorDefTypes.add(m);const A=ds(m)||(()=>new m);this.records.set(m,fl(A,ji));const V=f.providers;if(null!=V&&!S){const G=s;jt(V,ie=>this.processProvider(ie,G,V))}return void 0!==h&&void 0!==s.providers}processProvider(s,o,c){let f=Do(s=Ae(s))?s:Ae(s&&s.provide);const h=function F_(i,s,o){return Co(i)?fl(void 0,i.useValue):fl(yp(i),ji)}(s);if(Do(s)||!0!==s.multi)this.records.get(f);else{let m=this.records.get(f);m||(m=fl(void 0,ji,!0),m.factory=()=>_h(m.multi),this.records.set(f,m)),f=s,m.multi.push(s)}this.records.set(f,h)}hydrate(s,o){return o.value===ji&&(o.value=yf,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Tp(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Ae(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function dl(i){const s=Nn(i),o=null!==s?s.factory:ds(i);if(null!==o)return o;if(i instanceof Or)throw new nt(204,!1);if(i instanceof Function)return function L_(i){const s=i.length;if(s>0)throw function Hr(i,s){const o=[];for(let c=0;c<i;c++)o.push(s);return o}(s,"?"),new nt(204,!1);const o=function bn(i){const s=i&&(i[Ei]||i[xn]);if(s){const o=function qr(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new nt(204,!1)}function yp(i,s,o){let c;if(Do(i)){const f=Ae(i);return ds(f)||dl(f)}if(Co(i))c=()=>Ae(i.useValue);else if(function ov(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(..._h(i.deps||[]));else if(function B_(i){return!(!i||!i.useExisting)}(i))c=()=>Ai(Ae(i.useExisting));else{const f=Ae(i&&(i.useClass||i.provide));if(!function _p(i){return!!i.deps}(i))return ds(f)||dl(f);c=()=>new f(..._h(i.deps))}return c}function fl(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function Co(i){return null!==i&&"object"==typeof i&&fc in i}function Do(i){return"function"==typeof i}let na=(()=>{class i{static create(o,c){var f;if(Array.isArray(o))return ta({name:""},c,o,"");{const h=null!==(f=o.name)&&void 0!==f?f:"";return ta({name:h},o.parent,o.providers,h)}}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
return i.THROW_IF_NOT_FOUND=Ld,i.NULL=new zc,i.\u0275prov=fn({token:i,providedIn:"any",factory:()=>Ai(Ie)}),i.__NG_ELEMENT_ID__=-1,i})();function W_(i,s){po($d(i)[1],mr())}function gl(i){let s=
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function wp(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const c=[i];for(;s;){let f;if(si(i))f=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new nt(903,"");f=s.\u0275dir}if(f){if(o){c.push(f);const m=i;m.inputs=Ap(i.inputs),m.declaredInputs=Ap(i.declaredInputs),m.outputs=Ap(i.outputs);const S=f.hostBindings;S&&mv(i,S);const A=f.viewQuery,V=f.contentQueries;if(A&&z_(i,A),V&&K_(i,V),De(i.inputs,f.inputs),De(i.declaredInputs,f.declaredInputs),De(i.outputs,f.outputs),si(f)&&f.data.animation){const G=i.data;G.animation=(G.animation||[]).concat(f.data.animation)}}const h=f.features;if(h)for(let m=0;m<h.length;m++){const S=h[m];S&&S.ngInherit&&S(i),S===gl&&(o=!1)}}s=Object.getPrototypeOf(s)}!function $_(i){let s=0,o=null;for(let c=i.length-1;c>=0;c--){const f=i[c];f.hostVars=s+=f.hostVars,f.hostAttrs=Nu(f.hostAttrs,o=Nu(o,f.hostAttrs))}}(c)}function Ap(i){return i===gn?{}:i===yn?[]:i}function z_(i,s){const o=i.viewQuery;i.viewQuery=o?(c,f)=>{s(c,f),o(c,f)}:s}function K_(i,s){const o=i.contentQueries;i.contentQueries=o?(c,f,h)=>{s(c,f,h),o(c,f,h)}:s}function mv(i,s){const o=i.hostBindings;i.hostBindings=o?(c,f)=>{s(c,f),o(c,f)}:s}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let ml=null;function ra(){if(!ml){const i=Jt.Symbol;if(i&&i.iterator)ml=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const c=s[o];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(ml=c)}}}return ml}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Qc(i){return!!Pp(i)&&(Array.isArray(i)||!(i instanceof Map)&&ra()in i)}function Pp(i){return null!==i&&("function"==typeof i||"object"==typeof i)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function ks(i,s,o){return i[s]=o}function Pi(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Tf(i,s,o,c){const f=lt();return Pi(f,ga(),s)&&(dn(),Ca(Tr(),f,i,s,o,c)),Tf}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function yl(i,s,o,c,f,h){const S=function cu(i,s,o,c){const f=Pi(i,s,o);return Pi(i,s+1,c)||f}(i,function Vs(){return k.lFrame.bindingIndex}(),o,f);return Hs(2),S?s+Ee(o)+c+Ee(f)+h:ln}function xv(i,s,o,c,f,h,m,S){const A=lt(),V=dn(),G=i+20,ie=V.firstCreatePass?
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function q_(i,s,o,c,f,h,m,S,A){const V=s.consts,G=su(s,i,4,m||null,ai(V,S));mf(s,o,G,ai(V,A)),po(s,G);const ie=G.tViews=ol(2,G,c,f,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,V);return null!==s.queries&&(s.queries.template(s,G),ie.queries=s.queries.embeddedTView(G)),G}(G,V,A,s,o,c,f,h,m):V.data[G];As(ie,!1);const pe=A[11].createComment("");ef(V,A,pe,ie),Ar(pe,A),Ft(A,A[G]=fp(pe,A,pe,ie)),Qn(ie)&&Eo(V,A,ie),null!=m&&df(A,ie,S)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function kp(i){return at(function Kl(){return k.lFrame.contextLView}(),20+i)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function ed(i,s=Bt.Default){const o=lt();return null===o?Ai(i,s):un(mr(),o,Ae(i),s)}function jp(){throw new Error("invalid")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Wp(i,s,o){const c=lt();return Pi(c,ga(),s)&&function is(i,s,o,c,f,h,m,S){const A=nn(s,o);let G,V=s.inputs;!S&&null!=V&&(G=V[c])?(Wc(i,o,G,c,f),Xi(s)&&function D_(i,s){const o=kn(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(c=function Ym(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),f=null!=m?m(f,s.value||"",c):f,le(h)?h.setProperty(A,c,f):ku(c)||(A.setProperty?A.setProperty(c,f):A[c]=f))}(dn(),Tr(),c,i,s,c[11],o,!1),Wp}function Dl(i,s,o,c,f){const m=f?"class":"style";Wc(i,o,s.inputs[m],m,c)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function xo(i,s,o,c){const f=lt(),h=dn(),m=20+i,S=f[11],A=f[m]=Fh(S,s,function wi(){return k.lFrame.currentNamespace}()),V=h.firstCreatePass?function Vv(i,s,o,c,f,h,m){const S=s.consts,V=su(s,i,2,f,ai(S,h));return mf(s,o,V,ai(S,m)),null!==V.attrs&&$c(V,V.attrs,!1),null!==V.mergedAttrs&&$c(V,V.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,V),V}(m,h,f,0,s,o,c):h.data[m];As(V,!0);const G=V.mergedAttrs;null!==G&&Ru(S,A,G);const ie=V.classes;null!==ie&&nf(S,A,ie);const pe=V.styles;return null!==pe&&$h(S,A,pe),64!=(64&V.flags)&&ef(h,f,A,V),0===function M(){return k.lFrame.elementDepthCount}()&&Ar(A,f),function X(){k.lFrame.elementDepthCount++}(),Qn(V)&&(Eo(h,f,V),tp(h,V,f)),null!==c&&df(f,V),xo}function pu(){let i=mr();xu()?zl():(i=i.parent,As(i,!1));const s=i;!function Je(){k.lFrame.elementDepthCount--}();const o=dn();return o.firstCreatePass&&(po(o,i),ca(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function zs(i){return 0!=(16&i.flags)}(s)&&Dl(o,s,lt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Id(i){return 0!=(32&i.flags)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(s)&&Dl(o,s,lt(),s.stylesWithoutHost,!1),pu}function Cf(i,s,o,c){return xo(i,s,o,c),pu(),Cf}function wl(i,s,o){const c=lt(),f=dn(),h=i+20,m=f.firstCreatePass?
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function xl(i,s,o,c,f){const h=s.consts,m=ai(h,c),S=su(s,i,8,"ng-container",m);return null!==m&&$c(S,m,!0),mf(s,o,S,ai(h,f)),null!==s.queries&&s.queries.elementStart(s,S),S}(h,f,c,s,o):f.data[h];As(m,!0);const S=c[h]=c[11].createComment("");return ef(f,c,S,m),Ar(S,c),Qn(m)&&(Eo(f,c,m),tp(f,m,c)),null!=o&&df(c,m),wl}function Df(){let i=mr();const s=dn();return xu()?zl():(i=i.parent,As(i,!1)),s.firstCreatePass&&(po(s,i),ca(i)&&s.queries.elementEnd(i)),Df}function Kp(){return lt()}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Xp(i){return!!i&&"function"==typeof i.then}function Hv(i){return!!i&&"function"==typeof i.subscribe}const Gv=Hv;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function qp(i,s,o,c){const f=lt(),h=dn(),m=mr();return function Wv(i,s,o,c,f,h,m,S){const A=Qn(c),G=i.firstCreatePass&&Gc(i),ie=s[8],pe=lu(s);let Le=!0;if(3&c.type||S){const Rt=nn(c,s),Gt=S?S(Rt):Rt,ut=pe.length,Zt=S?Dn=>S(It(Dn[c.index])):c.index;if(le(o)){let Dn=null;if(!S&&A&&(Dn=function uT(i,s,o,c){const f=i.cleanup;if(null!=f)for(let h=0;h<f.length-1;h+=2){const m=f[h];if(m===o&&f[h+1]===c){const S=s[7],A=f[h+2];return S.length>A?S[A]:null}"string"==typeof m&&(h+=2)}return null}(i,s,f,c.index)),null!==Dn)(Dn.__ngLastListenerFn__||Dn).__ngNextListenerFn__=h,Dn.__ngLastListenerFn__=h,Le=!1;else{h=Yp(c,s,ie,h,!1);const ir=o.listen(Gt,f,h);pe.push(h,ir),G&&G.push(f,Zt,ut,ut+1)}}else h=Yp(c,s,ie,h,!0),Gt.addEventListener(f,h,m),pe.push(h),G&&G.push(f,Zt,ut,m)}else h=Yp(c,s,ie,h,!1);const tt=c.outputs;let yt;if(Le&&null!==tt&&(yt=tt[f])){const Rt=yt.length;if(Rt)for(let Gt=0;Gt<Rt;Gt+=2){const la=s[yt[Gt]][yt[Gt+1]].subscribe(h),Dd=pe.length;pe.push(h,la),G&&G.push(f,c.index,Dd,-(Dd+1))}}}(h,f,f[11],m,i,s,!!o,c),qp}function $v(i,s,o,c){try{return!1!==o(c)}catch(f){return mp(i,f),!1}}function Yp(i,s,o,c,f){return function h(m){if(m===Function)return c;const S=2&i.flags?kn(i.index,s):s;0==(32&s[2])&&ul(S);let A=$v(s,0,c,m),V=h.__ngNextListenerFn__;for(;V;)A=$v(s,0,V,m)&&A,V=V.__ngNextListenerFn__;return f&&!1===A&&(m.preventDefault(),m.returnValue=!1),A}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Al(i=1){return function Jl(i){return(k.lFrame.contextLView=function xd(i,s){for(;i>0;)s=s[15],i--;return s}(i,k.lFrame.contextLView))[8]}(i)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function eg(i,s,o,c,f){const h=i[o+1],m=null===s;let S=c?Js(h):Ja(h),A=!1;for(;0!==S&&(!1===A||m);){const G=i[S+1];hT(i[S],s)&&(A=!0,i[S+1]=c?Yh(G):Za(G)),S=c?Js(G):Ja(G)}A&&(i[o+1]=c?Za(h):Yh(h))}function hT(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Uu(i,s)>=0}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Zv(i){return i.substring(Xr.key,Xr.keyEnd)}function ng(i,s){const o=Xr.textEnd;return o===s?-1:(s=Xr.keyEnd=function e0(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,Xr.key=s,o),wo(i,s,o))}function wo(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function wf(i,s){return function Ns(i,s,o,c){const f=lt(),h=dn(),m=Hs(2);h.firstUpdatePass&&r0(h,i,m,c),s!==ln&&Pi(f,m,s)&&a0(h,h.data[oi()],f,f[11],i,f[m+1]=function TT(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Ve(ns(i)))),i}(s,o),c,m)}(i,s,null,!0),wf}function t0(i){!function sa(i,s,o,c){const f=dn(),h=Hs(2);f.firstUpdatePass&&r0(f,null,h,c);const m=lt();if(o!==ln&&Pi(m,h,o)){const S=f.data[oi()];if(u0(S,c)&&!n0(f,h)){let A=c?S.classesWithoutHost:S.stylesWithoutHost;null!==A&&(o=Ce(A,o||"")),Dl(f,S,m,o,c)}else!function s0(i,s,o,c,f,h,m,S){f===ln&&(f=yn);let A=0,V=0,G=0<f.length?f[0]:null,ie=0<h.length?h[0]:null;for(;null!==G||null!==ie;){const pe=A<f.length?f[A+1]:void 0,Le=V<h.length?h[V+1]:void 0;let yt,tt=null;G===ie?(A+=2,V+=2,pe!==Le&&(tt=ie,yt=Le)):null===ie||null!==G&&G<ie?(A+=2,tt=G):(V+=2,tt=ie,yt=Le),null!==tt&&a0(i,s,o,c,tt,yt,m,S),G=A<f.length?f[A]:null,ie=V<h.length?h[V]:null}}(f,S,m,m[11],m[h+1],m[h+1]=function _T(i,s,o){if(null==o||""===o)return yn;const c=[],f=ns(o);if(Array.isArray(f))for(let h=0;h<f.length;h++)i(c,f[h],!0);else if("object"==typeof f)for(const h in f)f.hasOwnProperty(h)&&i(c,h,f[h]);else"string"==typeof f&&s(c,f);return c}(i,s,o),c,h)}}(ps,Aa,i,!0)}function Aa(i,s){for(let o=function ro(i){return function Jv(i){Xr.key=0,Xr.keyEnd=0,Xr.value=0,Xr.valueEnd=0,Xr.textEnd=i.length}(i),ng(i,wo(i,0,Xr.textEnd))}(s);o>=0;o=ng(s,o))ps(i,Zv(s),!0)}function n0(i,s){return s>=i.expandoStartIndex}function r0(i,s,o,c){const f=i.data;if(null===f[o+1]){const h=f[oi()],m=n0(i,o);u0(h,c)&&null===s&&!m&&(s=!1),s=function vT(i,s,o,c){const f=function ql(i){const s=k.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let h=c?s.residualClasses:s.residualStyles;if(null===f)0===(c?s.classBindings:s.styleBindings)&&(o=rd(o=ag(null,i,s,o,c),s.attrs,c),h=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==f)if(o=ag(f,i,s,o,c),null===h){let A=function yT(i,s,o){const c=o?s.classBindings:s.styleBindings;if(0!==Ja(c))return i[Js(c)]}(i,s,c);void 0!==A&&Array.isArray(A)&&(A=ag(null,i,s,A[1],c),A=rd(A,s.attrs,c),function Af(i,s,o,c){i[Js(o?s.classBindings:s.styleBindings)]=c}(i,s,c,A))}else h=function sg(i,s,o){let c;const f=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<f;h++)c=rd(c,i[h].hostAttrs,o);return rd(c,s.attrs,o)}(i,s,c)}return void 0!==h&&(c?s.residualClasses=h:s.residualStyles=h),o}(f,h,s,c),function Qv(i,s,o,c,f,h){let m=h?s.classBindings:s.styleBindings,S=Js(m),A=Ja(m);i[c]=o;let G,V=!1;if(Array.isArray(o)){const ie=o;G=ie[1],(null===G||Uu(ie,G)>0)&&(V=!0)}else G=o;if(f)if(0!==A){const pe=Js(i[S+1]);i[c+1]=tl(pe,S),0!==pe&&(i[pe+1]=nl(i[pe+1],c)),i[S+1]=function v_(i,s){return 131071&i|s<<17}(i[S+1],c)}else i[c+1]=tl(S,0),0!==S&&(i[S+1]=nl(i[S+1],c)),S=c;else i[c+1]=tl(A,0),0===S?S=c:i[A+1]=nl(i[A+1],c),A=c;V&&(i[c+1]=Za(i[c+1])),eg(i,G,c,!0),eg(i,G,c,!1),function fT(i,s,o,c,f){const h=f?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&Uu(h,s)>=0&&(o[c+1]=Yh(o[c+1]))}(s,G,i,c,h),m=tl(S,A),h?s.classBindings=m:s.styleBindings=m}(f,h,s,o,m,c)}}function ag(i,s,o,c,f){let h=null;const m=o.directiveEnd;let S=o.directiveStylingLast;for(-1===S?S=o.directiveStart:S++;S<m&&(h=s[S],c=rd(c,h.hostAttrs,f),h!==i);)S++;return null!==i&&(o.directiveStylingLast=S),c}function rd(i,s,o){const c=o?1:2;let f=-1;if(null!==s)for(let h=0;h<s.length;h++){const m=s[h];"number"==typeof m?f=m:f===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),ps(i,m,!!o||s[++h]))}return void 0===i?null:i}function a0(i,s,o,c,f,h,m,S){if(!(3&s.type))return;const A=i.data,V=A[S+1];Mf(function Mm(i){return 1==(1&i)}(V)?o0(A,s,o,f,Ja(V),m):void 0)||(Mf(h)||function Am(i){return 2==(2&i)}(V)&&(h=o0(A,null,o,f,S,m)),function Rc(i,s,o,c,f){const h=le(i);if(s)f?h?i.addClass(o,c):o.classList.add(c):h?i.removeClass(o,c):o.classList.remove(c);else{let m=-1===c.indexOf("-")?void 0:Zs.DashCase;if(null==f)h?i.removeStyle(o,c,m):o.style.removeProperty(c);else{const S="string"==typeof f&&f.endsWith("!important");S&&(f=f.slice(0,-10),m|=Zs.Important),h?i.setStyle(o,c,f,m):o.style.setProperty(c,f,S?"important":"")}}}(c,m,Cn(oi(),o),f,h))}function o0(i,s,o,c,f,h){const m=null===s;let S;for(;f>0;){const A=i[f],V=Array.isArray(A),G=V?A[1]:A,ie=null===G;let pe=o[f+1];pe===ln&&(pe=ie?yn:void 0);let Le=ie?Nd(pe,c):G===c?pe:void 0;if(V&&!Mf(Le)&&(Le=Nd(A,c)),Mf(Le)&&(S=Le,m))return S;const tt=i[f+1];f=m?Js(tt):Ja(tt)}if(null!==s){let A=h?s.residualClasses:s.residualStyles;null!=A&&(S=Nd(A,c))}return S}function Mf(i){return void 0!==i}function u0(i,s){return 0!=(i.flags&(s?16:32))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function l0(i,s=""){const o=lt(),c=dn(),f=i+20,h=c.firstCreatePass?su(c,f,1,s,null):c.data[f],m=o[f]=function Lh(i,s){return le(i)?i.createText(s):i.createTextNode(s)}(o[11],s);ef(c,o,m,h),As(h,!1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function og(i){return If("",i,""),og}function If(i,s,o){const c=lt(),f=function vl(i,s,o,c){return Pi(i,ga(),o)?s+Ee(o)+c:ln}(c,i,s,o);return f!==ln&&to(c,oi(),f),If}function aa(i,s,o,c,f){const h=lt(),m=yl(h,i,s,o,c,f);return m!==ln&&to(h,oi(),m),aa}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const gu=void 0;var NT=["en",[["a","p"],["AM","PM"],gu],[["AM","PM"],gu,gu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gu,"{1} 'at' {0}",gu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kT(i){const o=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Il={};function lg(i){const s=function LS(i){return i.toLowerCase().replace(/_/g,"-")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(i);let o=M0(s);if(o)return o;const c=s.split("-")[0];if(o=M0(c),o)return o;if("en"===c)return NT;throw new Error(`Missing locale data for the locale "${i}".`)}function Pl(i){return lg(i)[en.PluralCase]}function M0(i){return i in Il||(Il[i]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[i]),Il[i]}var en=(()=>((en=en||{})[en.LocaleId=0]="LocaleId",en[en.DayPeriodsFormat=1]="DayPeriodsFormat",en[en.DayPeriodsStandalone=2]="DayPeriodsStandalone",en[en.DaysFormat=3]="DaysFormat",en[en.DaysStandalone=4]="DaysStandalone",en[en.MonthsFormat=5]="MonthsFormat",en[en.MonthsStandalone=6]="MonthsStandalone",en[en.Eras=7]="Eras",en[en.FirstDayOfWeek=8]="FirstDayOfWeek",en[en.WeekendRange=9]="WeekendRange",en[en.DateFormat=10]="DateFormat",en[en.TimeFormat=11]="TimeFormat",en[en.DateTimeFormat=12]="DateTimeFormat",en[en.NumberSymbols=13]="NumberSymbols",en[en.NumberFormats=14]="NumberFormats",en[en.CurrencyCode=15]="CurrencyCode",en[en.CurrencySymbol=16]="CurrencySymbol",en[en.CurrencyName=17]="CurrencyName",en[en.Currencies=18]="Currencies",en[en.Directionality=19]="Directionality",en[en.PluralCase=20]="PluralCase",en[en.ExtraData=21]="ExtraData",en))();const Of="en-US";
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let cg=Of;function hi(i,s,o,c,f){if(i=Ae(i),Array.isArray(i))for(let h=0;h<i.length;h++)hi(i[h],s,o,c,f);else{const h=dn(),m=lt();let S=Do(i)?i:Ae(i.provide),A=yp(i);const V=mr(),G=1048575&V.providerIndexes,ie=V.directiveStart,pe=V.providerIndexes>>20;if(Do(i)||!i.multi){const Le=new mo(A,f,ed),tt=as(S,s,f?G:G+pe,ie);-1===tt?(se(_(V,m),h,S),Kn(h,i,s.length),s.push(S),V.directiveStart++,V.directiveEnd++,f&&(V.providerIndexes+=1048576),o.push(Le),m.push(Le)):(o[tt]=Le,m[tt]=Le)}else{const Le=as(S,s,G+pe,ie),tt=as(S,s,G,G+pe),yt=Le>=0&&o[Le],Rt=tt>=0&&o[tt];if(f&&!Rt||!f&&!yt){se(_(V,m),h,S);const Gt=function mu(i,s,o,c,f){const h=new mo(i,o,ed);return h.multi=[],h.index=s,h.componentProviders=0,Mo(h,f,c&&!o),h}(f?Ia:Ls,o.length,f,c,A);!f&&Rt&&(o[tt].providerFactory=Gt),Kn(h,i,s.length,0),s.push(S),V.directiveStart++,V.directiveEnd++,f&&(V.providerIndexes+=1048576),o.push(Gt),m.push(Gt)}else Kn(h,i,Le>-1?Le:tt,Mo(o[f?tt:Le],A,!f&&c));!f&&c&&Rt&&o[tt].componentProviders++}}}function Kn(i,s,o,c){const f=Do(s),h=function uv(i){return!!i.useClass}(s);if(f||h){const A=(h?Ae(s.useClass):s).prototype.ngOnDestroy;if(A){const V=i.destroyHooks||(i.destroyHooks=[]);if(!f&&s.multi){const G=V.indexOf(o);-1===G?V.push(o,[c,A]):V[G+1].push(c,A)}else V.push(o,A)}}}function Mo(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function as(i,s,o,c){for(let f=o;f<c;f++)if(s[f]===i)return f;return-1}function Ls(i,s,o,c){return oa(this.multi,[])}function Ia(i,s,o,c){const f=this.multi;let h;if(this.providerFactory){const m=this.providerFactory.componentProviders,S=hs(o,o[1],this.providerFactory.index,c);h=S.slice(0,m),oa(f,h);for(let A=m;A<S.length;A++)h.push(S[A])}else h=[],oa(f,h);return h}function oa(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function Pa(i,s=[]){return o=>{o.providersResolver=(c,f)=>
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function fr(i,s,o){const c=dn();if(c.firstCreatePass){const f=si(i);hi(o,c.data,c.blueprint,f,!0),hi(s,c.data,c.blueprint,f,!1)}}(c,f?f(i):i,s)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Io{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class tb{resolveComponentFactory(s){throw function $0(i){const s=Error(`No component factory found for ${Ve(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Uf=(()=>{class i{}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
return i.NULL=new tb,i})();function nb(){return yu(mr(),lt())}function yu(i,s){return new cd(nn(i,s))}let cd=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=nb,i})();function rb(i){return i instanceof cd?i.nativeElement:i}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class z0{}let dd=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function mg(){const i=lt(),o=kn(mr().index,i);return function Po(i){return i[11]}(Zr(o)?o:i)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(),i})(),er=(()=>{class i{}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
return i.\u0275prov=fn({token:i,providedIn:"root",factory:()=>null}),i})();class K0{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const vg=new K0("13.3.5"),yg={};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function kl(i,s,o,c,f=!1){for(;null!==o;){const h=s[o.index];if(null!==h&&c.push(It(h)),Br(h))for(let S=10;S<h.length;S++){const A=h[S],V=A[1].firstChild;null!==V&&kl(A[1],A,V,c)}const m=o.type;if(8&m)kl(i,s,o.child,c);else if(32&m){const S=Qa(o,s);let A;for(;A=S();)c.push(A)}else if(16&m){const S=tf(s,o);if(Array.isArray(S))c.push(...S);else{const A=Ac(s[16]);kl(A[1],A,S,c,!0)}}o=f?o.projectionNext:o.next}return c}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class _u{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return kl(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Br(s)){const o=s[8],c=o?o.indexOf(this):-1;c>-1&&(Is(s,c),ph(o,c))}this._attachedToViewContainer=!1}Qd(this._lView[1],this._lView)}onDestroy(s){pf(this._lView[1],this._lView,null,s)}markForCheck(){ul(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function R_(i,s,o){Ti(!0);try{Vc(i,s,o)}finally{Ti(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new nt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function tu(i,s){_o(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new nt(902,"");this._appRef=s}}class _g extends _u{constructor(s){super(s),this._view=s}detectChanges(){Hc(this._view)}checkNoChanges(){!function Kr(i){Ti(!0);try{Hc(i)}finally{Ti(!1)}}(this._view)}get context(){return null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class fd extends Uf{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Pn(s);return new Hf(o,this.ngModule)}}function Vf(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}class Hf extends Io{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function g_(i){return i.map(p_).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Vf(this.componentDef.inputs)}get outputs(){return Vf(this.componentDef.outputs)}create(s,o,c,f){const h=(f=f||this.ngModule)?function q0(i,s){return{get:(o,c,f)=>{const h=i.get(o,yg,f);return h!==yg||c===yg?h:s.get(o,c,f)}}}(s,f.injector):s,m=h.get(z0,Xe),S=h.get(er,null),A=m.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",G=c?function rp(i,s,o){if(le(i))return i.selectRootElement(s,o===mn.ShadowDom);let c="string"==typeof s?i.querySelector(s):s;return c.textContent="",c}(A,c,this.componentDef.encapsulation):Fh(m.createRenderer(null,this.componentDef),V,function X0(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(V)),ie=this.componentDef.onPush?576:528,pe=function gv(i,s){return{components:[],scheduler:i||qa,clean:ll,playerHandler:s||null,flags:0}}(),Le=ol(0,null,null,1,0,null,null,null,null,null),tt=il(null,Le,pe,ie,null,null,m,A,S,h);let yt,Rt;Go(tt);try{const Gt=function pl(i,s,o,c,f,h){const m=o[1];o[20]=i;const A=su(m,20,2,"#host",null),V=A.mergedAttrs=s.hostAttrs;null!==V&&($c(A,V,!0),null!==i&&(Ru(f,i,V),null!==A.classes&&nf(f,i,A.classes),null!==A.styles&&$h(f,i,A.styles)));const G=c.createRenderer(i,s),ie=il(o,ff(s),null,s.onPush?64:16,o[20],A,c,G,h||null,null);return m.firstCreatePass&&(se(_(A,o),m,s.type),lp(m,A),rv(A,o.length,1)),Ft(o,ie),o[20]=ie}(G,this.componentDef,tt,m,A);if(G)if(c)Ru(A,G,["ng-version",vg.full]);else{const{attrs:ut,classes:Zt}=function m_(i){const s=[],o=[];let c=1,f=2;for(;c<i.length;){let h=i[c];if("string"==typeof h)2===f?""!==h&&s.push(h,i[++c]):8===f&&o.push(h);else{if(!vr(f))break;f=h}c++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);ut&&Ru(A,G,ut),Zt&&Zt.length>0&&nf(A,G,Zt.join(" "))}if(Rt=$n(Le,20),void 0!==o){const ut=Rt.projection=[];for(let Zt=0;Zt<this.ngContentSelectors.length;Zt++){const Dn=o[Zt];ut.push(null!=Dn?Array.from(Dn):null)}}yt=function xp(i,s,o,c,f){const h=o[1],m=function Zm(i,s,o){const c=mr();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),iv(i,c,s,So(i,s,1,null),o));const f=hs(s,i,c.directiveStart,c);Ar(f,s);const h=nn(c,s);return h&&Ar(h,s),f}(h,o,s);if(c.components.push(m),i[8]=m,f&&f.forEach(A=>A(m,s)),s.contentQueries){const A=mr();s.contentQueries(1,m,A.directiveStart)}const S=mr();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ma(S.index),op(o[1],S,0,S.directiveStart,S.directiveEnd,s),vf(s,m)),m}(Gt,this.componentDef,tt,pe,[W_]),au(Le,tt,null)}finally{Pu()}return new ib(this.componentType,yt,yu(Rt,tt),tt,Rt)}}class ib extends class vu{}{constructor(s,o,c,f,h){super(),this.location=c,this._rootLView=f,this._tNode=h,this.instance=o,this.hostView=this.changeDetectorRef=new _g(f),this.componentType=s}get injector(){return new ba(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Nl{}class Y0{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const io=new Map;class Z0 extends Nl{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new fd(this);const c=gr(s);this._bootstrapComponents=di(c.bootstrap),this._r3Injector=vp(s,o,[{provide:Nl,useValue:this},{provide:Uf,useValue:this.componentFactoryResolver}],Ve(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=na.THROW_IF_NOT_FOUND,c=Bt.Default){return s===na||s===Nl||s===Ie?this:this._r3Injector.get(s,o,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Tg extends Y0{constructor(s){super(),this.moduleType=s,null!==gr(s)&&function ab(i){const s=new Set;!function o(c){const f=gr(c,!0),h=f.id;null!==h&&(function Q0(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${Ve(s)} vs ${Ve(s.name)}`)}(h,io.get(h),c),io.set(h,c));const m=di(f.imports);for(const S of m)s.has(S)||(s.add(S),o(S))}(i)}(s)}create(s){return new Z0(this.moduleType,s)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function J0(i,s,o){const c=bi()+i,f=lt();return f[c]===ln?ks(f,c,o?s.call(o):s()):function Zc(i,s){return i[s]}(f,c)}function ey(i,s,o,c){return ty(lt(),bi(),i,s,o,c)}function ty(i,s,o,c,f,h){const m=s+o;return Pi(i,m,f)?ks(i,m+1,h?c.call(h,f):c(f)):function Jn(i,s){const o=i[s];return o===ln?void 0:o}(i,m+1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function br(i,s){const o=dn();let c;const f=i+20;o.firstCreatePass?(c=function Wf(i,s){if(s)for(let o=s.length-1;o>=0;o--){const c=s[o];if(i===c.name)return c}}(s,o.pipeRegistry),o.data[f]=c,c.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(f,c.onDestroy)):c=o.data[f];const h=c.factory||(c.factory=ds(c.type)),m=me(ed);try{const S=Lu(!1),A=h();return Lu(S),function Y_(i,s,o,c){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=c}(o,lt(),f,A),A}finally{me(m)}}function pi(i,s,o){const c=i+20,f=lt(),h=at(f,c);return function Ll(i,s){return i[1].data[s].pure}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(f,c)?ty(f,bi(),s,h.transform,o,h):h.transform(o)}function $f(i){return s=>{setTimeout(i,void 0,s)}}const Ts=class iy extends T.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,c){var f,h,m;let S=s,A=o||(()=>null),V=c;if(s&&"object"==typeof s){const ie=s;S=null===(f=ie.next)||void 0===f?void 0:f.bind(ie),A=null===(h=ie.error)||void 0===h?void 0:h.bind(ie),V=null===(m=ie.complete)||void 0===m?void 0:m.bind(ie)}this.__isAsync&&(A=$f(A),S&&(S=$f(S)),V&&(V=$f(V)));const G=super.subscribe({next:S,error:A,complete:V});return s instanceof y.w0&&s.add(G),G}};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function hb(){return this._results[ra()]()}class Fl{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=ra(),c=Fl.prototype;c[o]||(c[o]=hb)}get changes(){return this._changes||(this._changes=new Ts)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const c=this;c.dirty=!1;const f=Ms(s);(this._changesDetected=!function Uy(i,s,o){if(i.length!==s.length)return!1;for(let c=0;c<i.length;c++){let f=i[c],h=s[c];if(o&&(f=o(f),h=o(h)),h!==f)return!1}return!0}(c._results,f,o))&&(c._results=f,c.length=f.length,c.last=f[this.length-1],c.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Bl=(()=>{class i{}return i.__NG_ELEMENT_ID__=gb,i})();const zf=Bl,pb=class extends zf{constructor(s,o,c){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=c}createEmbeddedView(s){const o=this._declarationTContainer.tViews,c=il(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(c[19]=h.createEmbeddedView(o)),au(o,c,s),new _u(c)}};function gb(){return Tu(mr(),lt())}function Tu(i,s){return 4&i.type?new pb(s,i,yu(i,s)):null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Ro=(()=>{class i{}return i.__NG_ELEMENT_ID__=Kf,i})();function Kf(){return Oa(mr(),lt())}const Ul=Ro,Xf=class extends Ul{constructor(s,o,c){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=c}get element(){return yu(this._hostTNode,this._hostLView)}get injector(){return new ba(this._hostTNode,this._hostLView)}get parentInjector(){const s=z(this._hostTNode,this._hostLView);if(Wo(s)){const o=Ta(s,this._hostLView),c=_a(s);return new ba(o[1].data[c+8],o)}return new ba(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=Sg(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,c){const f=s.createEmbeddedView(o||{});return this.insert(f,c),f}createComponent(s,o,c,f,h){const m=s&&!function lc(i){return"function"==typeof i}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(s);let S;if(m)S=o;else{const ie=o||{};S=ie.index,c=ie.injector,f=ie.projectableNodes,h=ie.ngModuleRef}const A=m?s:new Hf(Pn(s)),V=c||this.parentInjector;if(!h&&null==A.ngModule){const pe=(m?V:this.parentInjector).get(Nl,null);pe&&(h=pe)}const G=A.create(V,f,void 0,h);return this.insert(G.hostView,S),G}insert(s,o){const c=s._lView,f=c[1];if(function Kt(i){return Br(i[3])}(c)){const G=this.indexOf(s);if(-1!==G)this.detach(G);else{const ie=c[3],pe=new Xf(ie,ie[6],ie[3]);pe.detach(pe.indexOf(s))}}const h=this._adjustIndex(o),m=this._lContainer;!function Hi(i,s,o,c){const f=10+c,h=o.length;c>0&&(o[f-1][4]=s),c<h-10?(s[4]=o[f],Vy(o,10+c,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function Qu(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(m,s);const S=s[19];null!==S&&S.insertView(i),s[2]|=128}(f,c,m,h);const S=Pc(h,m),A=c[11],V=Ju(A,m[7]);return null!==V&&function Bh(i,s,o,c,f,h){c[0]=f,c[6]=s,_o(i,c,o,1,f,h)}(f,m[6],A,c,V,S),s.attachToViewContainerRef(),Vy(md(m),h,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=Sg(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),c=Is(this._lContainer,o);c&&(ph(md(this._lContainer),o),Qd(c[1],c))}detach(s){const o=this._adjustIndex(s,-1),c=Is(this._lContainer,o);return c&&null!=ph(md(this._lContainer),o)?new _u(c):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function Sg(i){return i[8]}function md(i){return i[8]||(i[8]=[])}function Oa(i,s){let o;const c=s[i.index];if(Br(c))o=c;else{let f;if(8&i.type)f=It(c);else{const h=s[11];f=h.createComment("");const m=nn(i,s);Ps(h,Ju(h,m),f,function l_(i,s){return le(i)?i.nextSibling(s):s.nextSibling}(h,m),!1)}s[i.index]=o=fp(c,s,f,i),Ft(s,o)}return new Xf(o,i,s)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Yf{constructor(s){this.queryList=s,this.matches=null}clone(){return new Yf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qf{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const c=null!==s.contentQueries?s.contentQueries[0]:o.length,f=[];for(let h=0;h<c;h++){const m=o.getByIndex(h);f.push(this.queries[m.indexInDeclarationView].clone())}return new Qf(f)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==vd(s,o).matches&&this.queries[o].setDirty()}}class sy{constructor(s,o,c=null){this.predicate=s,this.flags=o,this.read=c}}class Vl{constructor(s=[]){this.queries=s}elementStart(s,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let c=0;c<this.length;c++){const f=null!==o?o.length:0,h=this.getByIndex(c).embeddedTView(s,f);h&&(h.indexInDeclarationView=c,null!==o?o.push(h):o=[h])}return null!==o?new Vl(o):null}template(s,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class bu{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new bu(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let f=0;f<c.length;f++){const h=c[f];this.matchTNodeWithReadOption(s,o,ay(o,h)),this.matchTNodeWithReadOption(s,o,Bi(o,s,h,!1,!1))}else c===Bl?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Bi(o,s,c,!1,!1))}matchTNodeWithReadOption(s,o,c){if(null!==c){const f=this.metadata.read;if(null!==f)if(f===cd||f===Ro||f===Bl&&4&o.type)this.addMatch(o.index,-2);else{const h=Bi(o,s,f,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,c)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function ay(i,s){const o=i.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===s)return o[c+1];return null}function _b(i,s,o,c){return-1===o?function yb(i,s){return 11&i.type?yu(i,s):4&i.type?Tu(i,s):null}(s,i):-2===o?function oy(i,s,o){return o===cd?yu(s,i):o===Bl?Tu(s,i):o===Ro?Oa(s,i):void 0}(i,s,c):hs(i,i[1],o,s)}function uy(i,s,o,c){const f=s[19].queries[c];if(null===f.matches){const h=i.data,m=o.matches,S=[];for(let A=0;A<m.length;A+=2){const V=m[A];S.push(V<0?null:_b(s,h[V],m[A+1],o.metadata.read))}f.matches=S}return f.matches}function Eg(i,s,o,c){const f=i.queries.getByIndex(o),h=f.matches;if(null!==h){const m=uy(i,s,f,o);for(let S=0;S<h.length;S+=2){const A=h[S];if(A>0)c.push(m[S/2]);else{const V=h[S+1],G=s[-A];for(let ie=10;ie<G.length;ie++){const pe=G[ie];pe[17]===pe[3]&&Eg(pe[1],pe,V,c)}if(null!==G[9]){const ie=G[9];for(let pe=0;pe<ie.length;pe++){const Le=ie[pe];Eg(Le[1],Le,V,c)}}}}}return c}function Cg(i){const s=lt(),o=dn(),c=fs();Yl(c+1);const f=vd(o,c);if(i.dirty&&Fi(s)===(2==(2&f.metadata.flags))){if(null===f.matches)i.reset([]);else{const h=f.crossesNgTemplate?Eg(o,s,c,[]):uy(o,s,f,c);i.reset(h,rb),i.notifyOnChanges()}return!0}return!1}function ly(i,s,o){const c=dn();c.firstCreatePass&&(hy(c,new sy(i,s,o),-1),2==(2&s)&&(c.staticViewQueries=!0)),fy(c,lt(),s)}function cy(i,s,o,c){const f=dn();if(f.firstCreatePass){const h=mr();hy(f,new sy(s,o,c),h.index),function Zf(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(f,i),2==(2&o)&&(f.staticContentQueries=!0)}fy(f,lt(),o)}function dy(){return function Tb(i,s){return i[19].queries[s].queryList}(lt(),fs())}function fy(i,s,o){const c=new Fl(4==(4&o));pf(i,s,c,c.destroy),null===s[19]&&(s[19]=new Qf),s[19].queries.push(new Yf(c))}function hy(i,s,o){null===i.queries&&(i.queries=new Vl),i.queries.track(new bu(s,o))}function vd(i,s){return i.queries.getByIndex(s)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function py(i,s){return Tu(i,s)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function jl(...i){}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Rg=new Or("Application Initializer");let Wl=(()=>{class i{constructor(o){this.appInits=o,this.resolve=jl,this.reject=jl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,f)=>{this.resolve=c,this.reject=f})}runInitializers(){if(this.initialized)return;const o=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const h=this.appInits[f]();if(Xp(h))o.push(h);else if(Gv(h)){const m=new Promise((S,A)=>{h.subscribe({complete:S,error:A})});o.push(m)}}Promise.all(o).then(()=>{c()}).catch(f=>{this.reject(f)}),0===o.length&&c(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(Ai(Rg,8))},i.\u0275prov=fn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Sd=new Or("AppId",{providedIn:"root",factory:function xy(){return`${kg()}${kg()}${kg()}`}});function kg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wy=new Or("Platform Initializer"),Nb=new Or("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ih=new Or("appBootstrapListener");
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Lb=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=fn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const qn=new Or("LocaleId",{providedIn:"root",factory:()=>yh(qn,Bt.Optional|Bt.SkipSelf)||function $l(){return"undefined"!=typeof $localize&&$localize.locale||Of}()}),Cu=new Or("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Ay{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let Fb=(()=>{class i{compileModuleSync(o){return new Tg(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),h=di(gr(o).declarations).reduce((m,S)=>{const A=Pn(S);return A&&m.push(new Hf(A)),m},[]);return new Ay(c,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=fn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Ub=(()=>Promise.resolve(0))();function Ng(i){"undefined"==typeof Zone?Ub.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class ua{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ts(!1),this.onMicrotaskEmpty=new Ts(!1),this.onStable=new Ts(!1),this.onError=new Ts(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!c&&o,f.shouldCoalesceRunChangeDetection=c,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Vb(){let i=Jt.requestAnimationFrame,s=Jt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function D(i){const s=()=>{!function v(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Jt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,C(i),i.isCheckStableRunning=!0,j(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),C(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,f,h,m,S)=>{try{return w(i),o.invokeTask(f,h,m,S)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),F(i)}},onInvoke:(o,c,f,h,m,S,A)=>{try{return w(i),o.invoke(f,h,m,S,A)}finally{i.shouldCoalesceRunChangeDetection&&s(),F(i)}},onHasTask:(o,c,f,h)=>{o.hasTask(f,h),c===f&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,C(i),j(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,c,f,h)=>(o.handleError(f,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(f)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ua.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ua.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,c){return this._inner.run(s,o,c)}runTask(s,o,c,f){const h=this._inner,m=h.scheduleEventTask("NgZoneEvent: "+f,s,My,jl,jl);try{return h.runTask(m,o,c)}finally{h.cancelTask(m)}}runGuarded(s,o,c){return this._inner.runGuarded(s,o,c)}runOutsideAngular(s){return this._outer.run(s)}}const My={};function j(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function C(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function w(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function F(i){i._nesting--,j(i)}class U{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ts,this.onMicrotaskEmpty=new Ts,this.onStable=new Ts,this.onError=new Ts}run(s,o,c){return s.apply(o,c)}runGuarded(s,o,c){return s.apply(o,c)}runOutsideAngular(s){return s()}runTask(s,o,c,f){return s.apply(o,c)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let ne=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ua.assertNotInAngularZone(),Ng(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ng(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,f){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==h),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:f})}whenStable(o,c,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,c,f){return[]}}return i.\u0275fac=function(o){return new(o||i)(Ai(ua))},i.\u0275prov=fn({token:i,factory:i.\u0275fac}),i})(),ae=(()=>{class i{constructor(){this._applications=new Map,Me.addToWindow(this)}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return Me.findTestabilityInTree(this,o,c)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=fn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class ve{addToWindow(s){}findTestabilityInTree(s,o,c){return null}}function fe(i){Me=i}let Me=new ve,Ye=null;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Pt=new Or("AllowMultipleToken"),Vt=new Or("PlatformOnDestroy");class zi{constructor(s,o){this.name=s,this.token=o}}function sh(i,s,o=[]){const c=`Platform: ${s}`,f=new Or(c);return(h=[])=>{let m=Ed();if(!m||m.injector.get(Pt,!1)){const S=[...o,...h,{provide:f,useValue:!0}];i?i(S):function Du(i){if(Ye&&!Ye.get(Pt,!1))throw new nt(400,"");Ye=i;const s=i.get(Lg),o=i.get(wy,null);o&&o.forEach(c=>c())}(function Py(i=[],s){return na.create({name:s,providers:[{provide:Kc,useValue:"platform"},{provide:Vt,useValue:()=>Ye=null},...i]})}(S,c))}return function Iy(i){const s=Ed();if(!s)throw new nt(401,"");return s}()}}function Ed(){var i;return null!==(i=null==Ye?void 0:Ye.get(Lg))&&void 0!==i?i:null}let Lg=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const S=function Gr(i,s){let o;return o="noop"===i?new U:("zone.js"===i?void 0:i)||new ua({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),A=[{provide:ua,useValue:S}];return S.run(()=>{const V=na.create({providers:A,parent:this.injector,name:o.moduleType.name}),G=o.create(V),ie=G.injector.get(eu,null);if(!ie)throw new nt(402,"");return S.runOutsideAngular(()=>{const pe=S.onError.subscribe({next:Le=>{ie.handleError(Le)}});G.onDestroy(()=>{jb(this._modules,G),pe.unsubscribe()})}),function Oy(i,s,o){try{const c=o();return Xp(c)?c.catch(f=>{throw s.runOutsideAngular(()=>i.handleError(f)),f}):c}catch(c){throw s.runOutsideAngular(()=>i.handleError(c)),c}}(ie,S,()=>{const pe=G.injector.get(Wl);return pe.runInitializers(),pe.donePromise.then(()=>(function I0(i){Mt(i,"Expected localeId to be defined"),"string"==typeof i&&(cg=i.toLowerCase().replace(/_/g,"-"))}(G.injector.get(qn,Of)||Of),this._moduleDoBootstrap(G),G))})})}bootstrapModule(o,c=[]){const f=Lo({},c);return function Et(i,s,o){const c=new Tg(o);return Promise.resolve(c)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,f))}_moduleDoBootstrap(o){const c=o.injector.get(Gb);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>c.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new nt(403,"");o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new nt(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(Vt,null);null==o||o(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(Ai(na))},i.\u0275prov=fn({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function Lo(i,s){return Array.isArray(s)?s.reduce(Lo,i):Object.assign(Object.assign({},i),s)}let Gb=(()=>{class i{constructor(o,c,f,h){this._zone=o,this._injector=c,this._exceptionHandler=f,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new de.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),S=new de.y(A=>{let V;this._zone.runOutsideAngular(()=>{V=this._zone.onStable.subscribe(()=>{ua.assertNotInAngularZone(),Ng(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{ua.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{V.unsubscribe(),G.unsubscribe()}});this.isStable=(0,be.T)(m,S.pipe(function Oe(i={}){const{connector:s=(()=>new T.x),resetOnError:o=!0,resetOnComplete:c=!0,resetOnRefCountZero:f=!0}=i;return h=>{let m=null,S=null,A=null,V=0,G=!1,ie=!1;const pe=()=>{null==S||S.unsubscribe(),S=null},Le=()=>{pe(),m=A=null,G=ie=!1},tt=()=>{const yt=m;Le(),null==yt||yt.unsubscribe()};return(0,Fe.e)((yt,Rt)=>{V++,!ie&&!G&&pe();const Gt=A=null!=A?A:s();Rt.add(()=>{V--,0===V&&!ie&&!G&&(S=xe(tt,f))}),Gt.subscribe(Rt),m||(m=new Be.Hp({next:ut=>Gt.next(ut),error:ut=>{ie=!0,pe(),S=xe(Le,o,ut),Gt.error(ut)},complete:()=>{G=!0,pe(),S=xe(Le,c),Gt.complete()}}),(0,ye.D)(yt).subscribe(m))})(h)}}()))}bootstrap(o,c){if(!this._initStatus.done)throw new nt(405,"");let f;f=o instanceof Io?o:this._injector.get(Uf).resolveComponentFactory(o),this.componentTypes.push(f.componentType);const h=function ni(i){return i.isBoundToModule}(f)?void 0:this._injector.get(Nl),S=f.create(na.NULL,[],c||f.selector,h),A=S.location.nativeElement,V=S.injector.get(ne,null),G=V&&S.injector.get(ae);return V&&G&&G.registerApplication(A,V),S.onDestroy(()=>{this.detachView(S.hostView),jb(this.components,S),G&&G.unregisterApplication(A)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new nt(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;jb(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(ih,[]).concat(this._bootstrapListeners).forEach(f=>f(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(Ai(ua),Ai(na),Ai(eu),Ai(Wl))},i.\u0275prov=fn({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function jb(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let iE=!0;function _E(){iE=!1}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let TE=(()=>{class i{}return i.__NG_ELEMENT_ID__=bE,i})();function bE(i){return function SE(i,s,o){if(Xi(i)&&!o){const c=kn(i.index,s);return new _u(c,c)}return 47&i.type?new _u(s[16],s):null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(mr(),lt(),16==(16&i))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class lE{constructor(){}supports(s){return Qc(s)}create(s){return new AE(s)}}const wE=(i,s)=>s;class AE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||wE}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,c=this._removalsHead,f=0,h=null;for(;o||c;){const m=!c||o&&o.currentIndex<dE(c,f,h)?o:c,S=dE(m,f,h),A=m.currentIndex;if(m===c)f--,c=c._nextRemoved;else if(o=o._next,null==m.previousIndex)f++;else{h||(h=[]);const V=S-f,G=A-f;if(V!=G){for(let pe=0;pe<V;pe++){const Le=pe<h.length?h[pe]:h[pe]=0,tt=Le+pe;G<=tt&&tt<V&&(h[pe]=Le+1)}h[m.previousIndex]=G-V}}S!==A&&s(m,S,A)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Qc(s))throw new nt(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,h,m,o=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let S=0;S<this.length;S++)h=s[S],m=this._trackByFn(S,h),null!==o&&Object.is(o.trackById,m)?(c&&(o=this._verifyReinsertion(o,h,m,S)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,m,S),c=!0),o=o._next}else f=0,function _v(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[ra()]();let c;for(;!(c=o.next()).done;)s(c.value)}}(s,S=>{m=this._trackByFn(f,S),null!==o&&Object.is(o.trackById,m)?(c&&(o=this._verifyReinsertion(o,S,m,f)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,m,f),c=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,c,f){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,h,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,f))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,h,f)):s=this._addAfter(new ME(o,c),h,f),s}_verifyReinsertion(s,o,c,f){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?s=this._reinsertAfter(h,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,h=s._nextRemoved;return null===f?this._removalsHead=h:f._nextRemoved=h,null===h?this._removalsTail=f:h._prevRemoved=f,this._insertAfter(s,o,c),this._addToMoves(s,c),s}_moveAfter(s,o,c){return this._unlink(s),this._insertAfter(s,o,c),this._addToMoves(s,c),s}_addAfter(s,o,c){return this._insertAfter(s,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,c){const f=null===o?this._itHead:o._next;return s._next=f,s._prev=o,null===f?this._itTail=s:f._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new cE),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,c=s._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cE),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class ME{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class IE{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const o=s._prevDup,c=s._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class cE{constructor(){this.map=new Map}put(s){const o=s.trackById;let c=this.map.get(o);c||(c=new IE,this.map.set(o,c)),c.add(s)}get(s,o){const f=this.map.get(s);return f?f.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dE(i,s,o){const c=i.previousIndex;if(null===c)return c;let f=0;return o&&c<o.length&&(f=o[c]),c+s+f
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}class fE{constructor(){}supports(s){return s instanceof Map||Pp(s)}create(){return new PE}}class PE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Pp(s)))throw new nt(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(f,c);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const c=s._prev;return o._next=s,o._prev=c,s._prev=o,c&&(c._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,o);const h=f._prev,m=f._next;return h&&(h._next=m),m&&(m._prev=h),f._next=null,f._prev=null,f}const c=new OE(s);return this._records.set(s,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(c=>o(s[c],c))}}class OE{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function hE(){return new Xb([new lE])}let Xb=(()=>{class i{constructor(o){this.factories=o}static create(o,c){if(null!=c){const f=c.factories.slice();o=o.concat(f)}return new i(o)}static extend(o){return{provide:i,useFactory:c=>i.create(o,c||hE()),deps:[[i,new gc,new pc]]}}find(o){const c=this.factories.find(f=>f.supports(o));if(null!=c)return c;throw new nt(901,"")}}return i.\u0275prov=fn({token:i,providedIn:"root",factory:hE}),i})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function pE(){return new qb([new fE])}let qb=(()=>{class i{constructor(o){this.factories=o}static create(o,c){if(c){const f=c.factories.slice();o=o.concat(f)}return new i(o)}static extend(o){return{provide:i,useFactory:c=>i.create(o,c||pE()),deps:[[i,new gc,new pc]]}}find(o){const c=this.factories.find(h=>h.supports(o));if(c)return c;throw new nt(901,"")}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
return i.\u0275prov=fn({token:i,providedIn:"root",factory:pE}),i})();const NE=sh(null,"core",[]);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let LE=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(Ai(Gb))},i.\u0275mod=pr({type:i}),i.\u0275inj=_r({}),i})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */,2382:(ft,Re,H)=>{"use strict";H.d(Re,{Wl:()=>Ae,Fj:()=>it,NI:()=>Ci,oH:()=>Ur,u:()=>Cs,cw:()=>mi,sg:()=>Es,u5:()=>Qt,JJ:()=>Te,JL:()=>me,UX:()=>Kt,kI:()=>te,_Y:()=>qi});var T=H(4893),y=H(9808),de=H(8306),be=H(4742),ye=H(8421),Ne=H(3269),Be=H(5403),Fe=H(3268),Oe=H(1810),we=H(2076),De=H(4004);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Ve=(()=>{class k{constructor(M,X){this._renderer=M,this._elementRef=X,this.onChange=Je=>{},this.onTouched=()=>{}}setProperty(M,X){this._renderer.setProperty(this._elementRef.nativeElement,M,X)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return k.\u0275fac=function(M){return new(M||k)(T.Y36(T.Qsj),T.Y36(T.SBq))},k.\u0275dir=T.lG2({type:k}),k})(),Ce=(()=>{class k extends Ve{}return k.\u0275fac=function(){let I;return function(X){return(I||(I=T.n5z(k)))(X||k)}}(),k.\u0275dir=T.lG2({type:k,features:[T.qOj]}),k})();const gt=new T.OlP("NgValueAccessor"),wt={provide:gt,useExisting:(0,T.Gpc)(()=>Ae),multi:!0};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Ae=(()=>{class k extends Ce{writeValue(M){this.setProperty("checked",M)}}return k.\u0275fac=function(){let I;return function(X){return(I||(I=T.n5z(k)))(X||k)}}(),k.\u0275dir=T.lG2({type:k,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(M,X){1&M&&T.NdJ("change",function(Ht){return X.onChange(Ht.target.checked)})("blur",function(){return X.onTouched()})},features:[T._Bn([wt]),T.qOj]}),k})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const At={provide:gt,useExisting:(0,T.Gpc)(()=>it),multi:!0},nt=new T.OlP("CompositionEventMode");let it=(()=>{class k extends Ve{constructor(M,X,Je){super(M,X),this._compositionMode=Je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function dt(){const k=(0,y.q)()?(0,y.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return k.\u0275fac=function(M){return new(M||k)(T.Y36(T.Qsj),T.Y36(T.SBq),T.Y36(nt,8))},k.\u0275dir=T.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,X){1&M&&T.NdJ("input",function(Ht){return X._handleInput(Ht.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(Ht){return X._compositionEnd(Ht.target.value)})},features:[T._Bn([At]),T.qOj]}),k})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ee(k){return null==k||0===k.length}function et(k){return null!=k&&"number"==typeof k.length}const _t=new T.OlP("NgValidators"),vt=new T.OlP("NgAsyncValidators"),K=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class te{static min(I){return function ee(k){return I=>{if(Ee(I.value)||Ee(k))return null;const M=parseFloat(I.value);return!isNaN(M)&&M<k?{min:{min:k,actual:I.value}}:null}}(I)}static max(I){return function ce(k){return I=>{if(Ee(I.value)||Ee(k))return null;const M=parseFloat(I.value);return!isNaN(M)&&M>k?{max:{max:k,actual:I.value}}:null}}(I)}static required(I){return function ue(k){return Ee(k.value)?{required:!0}:null}(I)}static requiredTrue(I){return function Se(k){return!0===k.value?null:{required:!0}}(I)}static email(I){return function he(k){return Ee(k.value)||K.test(k.value)?null:{email:!0}}(I)}static minLength(I){return function Ue(k){return I=>Ee(I.value)||!et(I.value)?null:I.value.length<k?{minlength:{requiredLength:k,actualLength:I.value.length}}:null}(I)}static maxLength(I){return function He(k){return I=>et(I.value)&&I.value.length>k?{maxlength:{requiredLength:k,actualLength:I.value.length}}:null}(I)}static pattern(I){return function st(k){if(!k)return Ke;let I,M;return"string"==typeof k?(M="","^"!==k.charAt(0)&&(M+="^"),M+=k,"$"!==k.charAt(k.length-1)&&(M+="$"),I=new RegExp(M)):(M=k.toString(),I=k),X=>{if(Ee(X.value))return null;const Je=X.value;return I.test(Je)?null:{pattern:{requiredPattern:M,actualValue:Je}}}}(I)}static nullValidator(I){return null}static compose(I){return Gn(I)}static composeAsync(I){return Tn(I)}}function Ke(k){return null}function We(k){return null!=k}function xt(k){const I=(0,T.QGY)(k)?(0,we.D)(k):k;return(0,T.CqO)(I),I}function zt(k){let I={};return k.forEach(M=>{I=null!=M?Object.assign(Object.assign({},I),M):I}),0===Object.keys(I).length?null:I}function Nt(k,I){return I.map(M=>M(k))}function Ct(k){return k.map(I=>function Mt(k){return!k.validate}(I)?I:M=>I.validate(M))}function Gn(k){if(!k)return null;const I=k.filter(We);return 0==I.length?null:function(M){return zt(Nt(M,I))}}function sn(k){return null!=k?Gn(Ct(k)):null}function Tn(k){if(!k)return null;const I=k.filter(We);return 0==I.length?null:function(M){return function xe(...k){const I=(0,Ne.jO)(k),{args:M,keys:X}=(0,be.D)(k),Je=new de.y(Ht=>{const{length:Zn}=M;if(!Zn)return void Ht.complete();const zr=new Array(Zn);let lt=Zn,dn=Zn;for(let es=0;es<Zn;es++){let mr=!1;(0,ye.Xf)(M[es]).subscribe((0,Be.x)(Ht,Ba=>{mr||(mr=!0,dn--),zr[es]=Ba},()=>lt--,void 0,()=>{(!lt||!mr)&&(dn||Ht.next(X?(0,Oe.n)(X,zr):zr),Ht.complete())}))}});return I?Je.pipe((0,Fe.Z)(I)):Je}(Nt(M,I).map(xt)).pipe((0,De.U)(zt))}}function fn(k){return null!=k?Tn(Ct(k)):null}function hr(k,I){return null===k?[I]:Array.isArray(k)?[...k,I]:[k,I]}function _r(k){return k._rawValidators}function Nn(k){return k._rawAsyncValidators}function gi(k){return k?Array.isArray(k)?k:[k]:[]}function bn(k,I){return Array.isArray(k)?k.includes(I):k===I}function qr(k,I){const M=gi(I);return gi(k).forEach(Je=>{bn(M,Je)||M.push(Je)}),M}function tr(k,I){return gi(I).filter(M=>!bn(k,M))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Ei{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(I){this._rawValidators=I||[],this._composedValidatorFn=sn(this._rawValidators)}_setAsyncValidators(I){this._rawAsyncValidators=I||[],this._composedAsyncValidatorFn=fn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(I){this._onDestroyCallbacks.push(I)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(I=>I()),this._onDestroyCallbacks=[]}reset(I){this.control&&this.control.reset(I)}hasError(I,M){return!!this.control&&this.control.hasError(I,M)}getError(I,M){return this.control?this.control.getError(I,M):null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Sn extends Ei{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class xn extends Ei{get formDirective(){return null}get path(){return null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Oi{constructor(I){this._cd=I}is(I){var M,X,Je;return"submitted"===I?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(Je=null===(X=this._cd)||void 0===X?void 0:X.control)||void 0===Je?void 0:Je[I])}}let Te=(()=>{class k extends Oi{constructor(M){super(M)}}return k.\u0275fac=function(M){return new(M||k)(T.Y36(Sn,2))},k.\u0275dir=T.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,X){2&M&&T.ekj("ng-untouched",X.is("untouched"))("ng-touched",X.is("touched"))("ng-pristine",X.is("pristine"))("ng-dirty",X.is("dirty"))("ng-valid",X.is("valid"))("ng-invalid",X.is("invalid"))("ng-pending",X.is("pending"))},features:[T.qOj]}),k})(),me=(()=>{class k extends Oi{constructor(M){super(M)}}return k.\u0275fac=function(M){return new(M||k)(T.Y36(xn,10))},k.\u0275dir=T.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,X){2&M&&T.ekj("ng-untouched",X.is("untouched"))("ng-touched",X.is("touched"))("ng-pristine",X.is("pristine"))("ng-dirty",X.is("dirty"))("ng-valid",X.is("valid"))("ng-invalid",X.is("invalid"))("ng-pending",X.is("pending"))("ng-submitted",X.is("submitted"))},features:[T.qOj]}),k})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ri(k,I){ze(k,I),I.valueAccessor.writeValue(k.value),function an(k,I){I.valueAccessor.registerOnChange(M=>{k._pendingValue=M,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&cn(k,I)})}(k,I),function Yt(k,I){const M=(X,Je)=>{I.valueAccessor.writeValue(X),Je&&I.viewToModelUpdate(X)};k.registerOnChange(M),I._registerOnDestroy(()=>{k._unregisterOnChange(M)})}(k,I),function nr(k,I){I.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&cn(k,I),"submit"!==k.updateOn&&k.markAsTouched()})}(k,I),function _e(k,I){if(I.valueAccessor.setDisabledState){const M=X=>{I.valueAccessor.setDisabledState(X)};k.registerOnDisabledChange(M),I._registerOnDestroy(()=>{k._unregisterOnDisabledChange(M)})}}(k,I)}function Z(k,I,M=!0){const X=()=>{};I.valueAccessor&&(I.valueAccessor.registerOnChange(X),I.valueAccessor.registerOnTouched(X)),Tt(k,I),k&&(I._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function re(k,I){k.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(I)})}function ze(k,I){const M=_r(k);null!==I.validator?k.setValidators(hr(M,I.validator)):"function"==typeof M&&k.setValidators([M]);const X=Nn(k);null!==I.asyncValidator?k.setAsyncValidators(hr(X,I.asyncValidator)):"function"==typeof X&&k.setAsyncValidators([X]);const Je=()=>k.updateValueAndValidity();re(I._rawValidators,Je),re(I._rawAsyncValidators,Je)}function Tt(k,I){let M=!1;if(null!==k){if(null!==I.validator){const Je=_r(k);if(Array.isArray(Je)&&Je.length>0){const Ht=Je.filter(Zn=>Zn!==I.validator);Ht.length!==Je.length&&(M=!0,k.setValidators(Ht))}}if(null!==I.asyncValidator){const Je=Nn(k);if(Array.isArray(Je)&&Je.length>0){const Ht=Je.filter(Zn=>Zn!==I.asyncValidator);Ht.length!==Je.length&&(M=!0,k.setAsyncValidators(Ht))}}}const X=()=>{};return re(I._rawValidators,X),re(I._rawAsyncValidators,X),M}function cn(k,I){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),I.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function Pn(k,I){if(!k.hasOwnProperty("model"))return!1;const M=k.model;return!!M.isFirstChange()||!Object.is(I,M.currentValue)}function gr(k,I){if(!I)return null;let M,X,Je;return Array.isArray(I),I.forEach(Ht=>{Ht.constructor===it?M=Ht:function Sr(k){return Object.getPrototypeOf(k.constructor)===Ce}(Ht)?X=Ht:Je=Ht}),Je||X||M||null}function Pr(k,I){const M=k.indexOf(I);M>-1&&k.splice(M,1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Er="VALID",ri="INVALID",Yn="PENDING",Bs="DISABLED";function mt(k){return(Cr(k)?k.validators:k)||null}function tn(k){return Array.isArray(k)?sn(k):k||null}function wn(k,I){return(Cr(I)?I.asyncValidators:k)||null}function Bn(k){return Array.isArray(k)?fn(k):k||null}function Cr(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}const Un=k=>k instanceof Ci,sr=k=>k instanceof mi;function Ki(k){return Un(k)?k.value:k.getRawValue()}function Ni(k,I){const M=sr(k),X=k.controls;if(!(M?Object.keys(X):X).length)throw new T.vHH(1e3,"");if(!X[I])throw new T.vHH(1001,"")}function qt(k,I){sr(k),k._forEachChild((X,Je)=>{if(void 0===I[Je])throw new T.vHH(1002,"")})}class Dr{constructor(I,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=I,this._rawAsyncValidators=M,this._composedValidatorFn=tn(this._rawValidators),this._composedAsyncValidatorFn=Bn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(I){this._rawValidators=this._composedValidatorFn=I}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(I){this._rawAsyncValidators=this._composedAsyncValidatorFn=I}get parent(){return this._parent}get valid(){return this.status===Er}get invalid(){return this.status===ri}get pending(){return this.status==Yn}get disabled(){return this.status===Bs}get enabled(){return this.status!==Bs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(I){this._rawValidators=I,this._composedValidatorFn=tn(I)}setAsyncValidators(I){this._rawAsyncValidators=I,this._composedAsyncValidatorFn=Bn(I)}addValidators(I){this.setValidators(qr(I,this._rawValidators))}addAsyncValidators(I){this.setAsyncValidators(qr(I,this._rawAsyncValidators))}removeValidators(I){this.setValidators(tr(I,this._rawValidators))}removeAsyncValidators(I){this.setAsyncValidators(tr(I,this._rawAsyncValidators))}hasValidator(I){return bn(this._rawValidators,I)}hasAsyncValidator(I){return bn(this._rawAsyncValidators,I)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(I={}){this.touched=!0,this._parent&&!I.onlySelf&&this._parent.markAsTouched(I)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(I=>I.markAllAsTouched())}markAsUntouched(I={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!I.onlySelf&&this._parent._updateTouched(I)}markAsDirty(I={}){this.pristine=!1,this._parent&&!I.onlySelf&&this._parent.markAsDirty(I)}markAsPristine(I={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!I.onlySelf&&this._parent._updatePristine(I)}markAsPending(I={}){this.status=Yn,!1!==I.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!I.onlySelf&&this._parent.markAsPending(I)}disable(I={}){const M=this._parentMarkedDirty(I.onlySelf);this.status=Bs,this.errors=null,this._forEachChild(X=>{X.disable(Object.assign(Object.assign({},I),{onlySelf:!0}))}),this._updateValue(),!1!==I.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},I),{skipPristineCheck:M})),this._onDisabledChange.forEach(X=>X(!0))}enable(I={}){const M=this._parentMarkedDirty(I.onlySelf);this.status=Er,this._forEachChild(X=>{X.enable(Object.assign(Object.assign({},I),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},I),{skipPristineCheck:M})),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(I){this._parent&&!I.onlySelf&&(this._parent.updateValueAndValidity(I),I.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(I){this._parent=I}updateValueAndValidity(I={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Er||this.status===Yn)&&this._runAsyncValidator(I.emitEvent)),!1!==I.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!I.onlySelf&&this._parent.updateValueAndValidity(I)}_updateTreeValidity(I={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(I)),this.updateValueAndValidity({onlySelf:!0,emitEvent:I.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bs:Er}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(I){if(this.asyncValidator){this.status=Yn,this._hasOwnPendingAsyncValidator=!0;const M=xt(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:I})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(I,M={}){this.errors=I,this._updateControlsErrors(!1!==M.emitEvent)}get(I){return function ii(k,I,M){if(null==I||(Array.isArray(I)||(I=I.split(M)),Array.isArray(I)&&0===I.length))return null;let X=k;return I.forEach(Je=>{X=sr(X)?X.controls.hasOwnProperty(Je)?X.controls[Je]:null:(k=>k instanceof vi)(X)&&X.at(Je)||null}),X}(this,I,".")}getError(I,M){const X=M?this.get(M):this;return X&&X.errors?X.errors[I]:null}hasError(I,M){return!!this.getError(I,M)}get root(){let I=this;for(;I._parent;)I=I._parent;return I}_updateControlsErrors(I){this.status=this._calculateStatus(),I&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(I)}_initObservables(){this.valueChanges=new T.vpe,this.statusChanges=new T.vpe}_calculateStatus(){return this._allControlsDisabled()?Bs:this.errors?ri:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yn)?Yn:this._anyControlsHaveStatus(ri)?ri:Er}_anyControlsHaveStatus(I){return this._anyControls(M=>M.status===I)}_anyControlsDirty(){return this._anyControls(I=>I.dirty)}_anyControlsTouched(){return this._anyControls(I=>I.touched)}_updatePristine(I={}){this.pristine=!this._anyControlsDirty(),this._parent&&!I.onlySelf&&this._parent._updatePristine(I)}_updateTouched(I={}){this.touched=this._anyControlsTouched(),this._parent&&!I.onlySelf&&this._parent._updateTouched(I)}_isBoxedValue(I){return"object"==typeof I&&null!==I&&2===Object.keys(I).length&&"value"in I&&"disabled"in I}_registerOnCollectionChange(I){this._onCollectionChange=I}_setUpdateStrategy(I){Cr(I)&&null!=I.updateOn&&(this._updateOn=I.updateOn)}_parentMarkedDirty(I){return!I&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ci extends Dr{constructor(I=null,M,X){super(mt(M),wn(X,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(I),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cr(M)&&M.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(I)?I.value:I)}setValue(I,M={}){this.value=this._pendingValue=I,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(I,M={}){this.setValue(I,M)}reset(I=this.defaultValue,M={}){this._applyFormState(I),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(I){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(I){this._onChange.push(I)}_unregisterOnChange(I){Pr(this._onChange,I)}registerOnDisabledChange(I){this._onDisabledChange.push(I)}_unregisterOnDisabledChange(I){Pr(this._onDisabledChange,I)}_forEachChild(I){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(I){this._isBoxedValue(I)?(this.value=this._pendingValue=I.value,I.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=I}}class mi extends Dr{constructor(I,M,X){super(mt(M),wn(X,M)),this.controls=I,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(I,M){return this.controls[I]?this.controls[I]:(this.controls[I]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(I,M,X={}){this.registerControl(I,M),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(I,M={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(I,M,X={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),delete this.controls[I],M&&this.registerControl(I,M),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(I){return this.controls.hasOwnProperty(I)&&this.controls[I].enabled}setValue(I,M={}){qt(this,I),Object.keys(I).forEach(X=>{Ni(this,X),this.controls[X].setValue(I[X],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(I,M={}){null!=I&&(Object.keys(I).forEach(X=>{this.controls[X]&&this.controls[X].patchValue(I[X],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(I={},M={}){this._forEachChild((X,Je)=>{X.reset(I[Je],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(I,M,X)=>(I[X]=Ki(M),I))}_syncPendingControls(){let I=this._reduceChildren(!1,(M,X)=>!!X._syncPendingControls()||M);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_forEachChild(I){Object.keys(this.controls).forEach(M=>{const X=this.controls[M];X&&I(X,M)})}_setUpControls(){this._forEachChild(I=>{I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(I){for(const M of Object.keys(this.controls)){const X=this.controls[M];if(this.contains(M)&&I(X))return!0}return!1}_reduceValue(){return this._reduceChildren({},(I,M,X)=>((M.enabled||this.disabled)&&(I[X]=M.value),I))}_reduceChildren(I,M){let X=I;return this._forEachChild((Je,Ht)=>{X=M(X,Je,Ht)}),X}_allControlsDisabled(){for(const I of Object.keys(this.controls))if(this.controls[I].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class vi extends Dr{constructor(I,M,X){super(mt(M),wn(X,M)),this.controls=I,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(I){return this.controls[I]}push(I,M={}){this.controls.push(I),this._registerControl(I),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(I,M,X={}){this.controls.splice(I,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:X.emitEvent})}removeAt(I,M={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),this.controls.splice(I,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(I,M,X={}){this.controls[I]&&this.controls[I]._registerOnCollectionChange(()=>{}),this.controls.splice(I,1),M&&(this.controls.splice(I,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(I,M={}){qt(this,I),I.forEach((X,Je)=>{Ni(this,Je),this.at(Je).setValue(X,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(I,M={}){null!=I&&(I.forEach((X,Je)=>{this.at(Je)&&this.at(Je).patchValue(X,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(I=[],M={}){this._forEachChild((X,Je)=>{X.reset(I[Je],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(I=>Ki(I))}clear(I={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:I.emitEvent}))}_syncPendingControls(){let I=this.controls.reduce((M,X)=>!!X._syncPendingControls()||M,!1);return I&&this.updateValueAndValidity({onlySelf:!0}),I}_forEachChild(I){this.controls.forEach((M,X)=>{I(M,X)})}_updateValue(){this.value=this.controls.filter(I=>I.enabled||this.disabled).map(I=>I.value)}_anyControls(I){return this.controls.some(M=>M.enabled&&I(M))}_setUpControls(){this._forEachChild(I=>this._registerControl(I))}_allControlsDisabled(){for(const I of this.controls)if(I.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(I){I.setParent(this),I._registerOnCollectionChange(this._onCollectionChange)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let qi=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275dir=T.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})(),uo=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=T.oAB({type:k}),k.\u0275inj=T.cJS({}),k})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Ss=new T.OlP("NgModelWithFormControlWarning"),Qi={provide:Sn,useExisting:(0,T.Gpc)(()=>Ur)};let Ur=(()=>{class k extends Sn{constructor(M,X,Je,Ht){super(),this._ngModelWarningConfig=Ht,this.update=new T.vpe,this._ngModelWarningSent=!1,this._setValidators(M),this._setAsyncValidators(X),this.valueAccessor=gr(0,Je)}set isDisabled(M){}ngOnChanges(M){if(this._isControlChanged(M)){const X=M.form.previousValue;X&&Z(X,this,!1),Ri(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Pn(M,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Z(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_isControlChanged(M){return M.hasOwnProperty("form")}}return k._ngModelWarningSentOnce=!1,k.\u0275fac=function(M){return new(M||k)(T.Y36(_t,10),T.Y36(vt,10),T.Y36(gt,10),T.Y36(Ss,8))},k.\u0275dir=T.lG2({type:k,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[T._Bn([Qi]),T.qOj,T.TTD]}),k})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Bo={provide:xn,useExisting:(0,T.Gpc)(()=>Es)};let Es=(()=>{class k extends xn{constructor(M,X){super(),this.validators=M,this.asyncValidators=X,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new T.vpe,this._setValidators(M),this._setAsyncValidators(X)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const X=this.form.get(M.path);return Ri(X,M),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),X}getControl(M){return this.form.get(M.path)}removeControl(M){Z(M.control||null,M,!1),Pr(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,X){this.form.get(M.path).setValue(X)}onSubmit(M){return this.submitted=!0,function on(k,I){k._syncPendingControls(),I.forEach(M=>{const X=M.control;"submit"===X.updateOn&&X._pendingChange&&(M.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const X=M.control,Je=this.form.get(M.path);X!==Je&&(Z(X||null,M),Un(Je)&&(Ri(Je,M),M.control=Je))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const X=this.form.get(M.path);(function Fn(k,I){ze(k,I)})(X,M),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const X=this.form.get(M.path);X&&function pr(k,I){return Tt(k,I)}(X,M)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ze(this.form,this),this._oldForm&&Tt(this._oldForm,this)}_checkFormPresent(){}}return k.\u0275fac=function(M){return new(M||k)(T.Y36(_t,10),T.Y36(vt,10))},k.\u0275dir=T.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(M,X){1&M&&T.NdJ("submit",function(Ht){return X.onSubmit(Ht)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[T._Bn([Bo]),T.qOj,T.TTD]}),k})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const pa={provide:Sn,useExisting:(0,T.Gpc)(()=>Cs)};let Cs=(()=>{class k extends Sn{constructor(M,X,Je,Ht,Zn){super(),this._ngModelWarningConfig=Zn,this._added=!1,this.update=new T.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(X),this._setAsyncValidators(Je),this.valueAccessor=gr(0,Ht)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),Pn(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
return function jr(k,I){return[...I.path,k]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return k._ngModelWarningSentOnce=!1,k.\u0275fac=function(M){return new(M||k)(T.Y36(xn,13),T.Y36(_t,10),T.Y36(vt,10),T.Y36(gt,10),T.Y36(Ss,8))},k.\u0275dir=T.lG2({type:k,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[T._Bn([pa]),T.qOj,T.TTD]}),k})(),Fi=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=T.oAB({type:k}),k.\u0275inj=T.cJS({imports:[[uo]]}),k})(),Qt=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=T.oAB({type:k}),k.\u0275inj=T.cJS({imports:[Fi]}),k})(),Kt=(()=>{class k{static withConfig(M){return{ngModule:k,providers:[{provide:Ss,useValue:M.warnOnNgModelWithFormControl}]}}}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=T.oAB({type:k}),k.\u0275inj=T.cJS({imports:[Fi]}),k})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */,1605:(ft,Re,H)=>{"use strict";H.d(Re,{gz:()=>An,F0:()=>wi,Od:()=>ya,yS:()=>js,Bz:()=>Ru,lC:()=>ws});var T=H(4893),y=H(8306),de=H(4742),be=H(2076),ye=H(4671),Ne=H(3268),Be=H(3269),Fe=H(1810),Oe=H(5403),xe=H(9672);function Ve(x,b,_){x?(0,xe.f)(_,x,b):b()}var Ce=H(9646),gt=H(1135),wt=H(2843),Ae=H(6805),At=H(7272),dt=H(9770),nt=H(515),it=H(4033),Ee=H(7579),et=H(4482);function vt(x,b,_,P,B){return(z,se)=>{let ge=_,$e=b,Ut=0;z.subscribe((0,Oe.x)(se,un=>{const Wt=Ut++;$e=ge?x($e,un,Wt):(ge=!0,un),P&&se.next($e)},B&&(()=>{ge&&se.next($e),se.complete()})))}}function K(x,b){return(0,et.e)(vt(x,b,arguments.length>=2,!0))}var te=H(9300);function ee(x){return x<=0?()=>nt.E:(0,et.e)((b,_)=>{let P=[];b.subscribe((0,Oe.x)(_,B=>{P.push(B),x<P.length&&P.shift()},()=>{for(const B of P)_.next(B);_.complete()},void 0,()=>{P=null}))})}function ce(x=ue){return(0,et.e)((b,_)=>{let P=!1;b.subscribe((0,Oe.x)(_,B=>{P=!0,_.next(B)},()=>P?_.complete():_.error(x())))})}function ue(){return new Ae.K}function Se(x){return(0,et.e)((b,_)=>{let P=!1;b.subscribe((0,Oe.x)(_,B=>{P=!0,_.next(B)},()=>{P||_.next(x),_.complete()}))})}var Ue=H(5698);function He(x,b){const _=arguments.length>=2;return P=>P.pipe(x?(0,te.h)((B,z)=>x(B,z,P)):ye.y,(0,Ue.q)(1),_?Se(b):ce(()=>new Ae.K))}var Ke=H(4004),We=H(3900),xt=H(262),zt=H(4351),Nt=H(5577),Mt=H(8505),Ct=H(8343),Gn=H(8189),sn=H(9808);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Tn{constructor(b,_){this.id=b,this.url=_}}class fn extends Tn{constructor(b,_,P="imperative",B=null){super(b,_),this.navigationTrigger=P,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hr extends Tn{constructor(b,_,P){super(b,_),this.urlAfterRedirects=P}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _r extends Tn{constructor(b,_,P){super(b,_),this.reason=P}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nn extends Tn{constructor(b,_,P){super(b,_),this.error=P}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gi extends Tn{constructor(b,_,P,B){super(b,_),this.urlAfterRedirects=P,this.state=B}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bn extends Tn{constructor(b,_,P,B){super(b,_),this.urlAfterRedirects=P,this.state=B}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qr extends Tn{constructor(b,_,P,B,z){super(b,_),this.urlAfterRedirects=P,this.state=B,this.shouldActivate=z}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tr extends Tn{constructor(b,_,P,B){super(b,_),this.urlAfterRedirects=P,this.state=B}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends Tn{constructor(b,_,P,B){super(b,_),this.urlAfterRedirects=P,this.state=B}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sn{constructor(b){this.route=b}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xn{constructor(b){this.route=b}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Oi{constructor(b){this.snapshot=b}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bt{constructor(b){this.snapshot=b}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(b){this.snapshot=b}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Te{constructor(b){this.snapshot=b}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class me{constructor(b,_,P){this.routerEvent=b,this.position=_,this.anchor=P}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Ge="primary";class rt{constructor(b){this.params=b||{}}has(b){return Object.prototype.hasOwnProperty.call(this.params,b)}get(b){if(this.has(b)){const _=this.params[b];return Array.isArray(_)?_[0]:_}return null}getAll(b){if(this.has(b)){const _=this.params[b];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function ot(x){return new rt(x)}const bt="ngNavigationCancelingError";function Ln(x){const b=Error("NavigationCancelingError: "+x);return b[bt]=!0,b}function mn(x,b,_){const P=_.path.split("/");if(P.length>x.length||"full"===_.pathMatch&&(b.hasChildren()||P.length<x.length))return null;const B={};for(let z=0;z<P.length;z++){const se=P[z],ge=x[z];if(se.startsWith(":"))B[se.substring(1)]=ge;else if(se!==ge.path)return null}return{consumed:x.slice(0,P.length),posParams:B}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function En(x,b){const _=x?Object.keys(x):void 0,P=b?Object.keys(b):void 0;if(!_||!P||_.length!=P.length)return!1;let B;for(let z=0;z<_.length;z++)if(B=_[z],!Yr(x[B],b[B]))return!1;return!0}function Yr(x,b){if(Array.isArray(x)&&Array.isArray(b)){if(x.length!==b.length)return!1;const _=[...x].sort(),P=[...b].sort();return _.every((B,z)=>P[z]===B)}return x===b}function Xt(x){return Array.prototype.concat.apply([],x)}function Jt(x){return x.length>0?x[x.length-1]:null}function jn(x,b){for(const _ in x)x.hasOwnProperty(_)&&b(x[_],_)}function gn(x){return(0,T.CqO)(x)?x:(0,T.QGY)(x)?(0,be.D)(Promise.resolve(x)):(0,Ce.of)(x)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const jr={exact:function _e(x,b,_){if(!Nr(x.segments,b.segments)||!nr(x.segments,b.segments,_)||x.numberOfChildren!==b.numberOfChildren)return!1;for(const P in b.children)if(!x.children[P]||!_e(x.children[P],b.children[P],_))return!1;return!0},subset:Tt},Ri={exact:function re(x,b){return En(x,b)},subset:function ze(x,b){return Object.keys(b).length<=Object.keys(x).length&&Object.keys(b).every(_=>Yr(x[_],b[_]))},ignored:()=>!0};function Z(x,b,_){return jr[_.paths](x.root,b.root,_.matrixParams)&&Ri[_.queryParams](x.queryParams,b.queryParams)&&!("exact"===_.fragment&&x.fragment!==b.fragment)}function Tt(x,b,_){return an(x,b,b.segments,_)}function an(x,b,_,P){if(x.segments.length>_.length){const B=x.segments.slice(0,_.length);return!(!Nr(B,_)||b.hasChildren()||!nr(B,_,P))}if(x.segments.length===_.length){if(!Nr(x.segments,_)||!nr(x.segments,_,P))return!1;for(const B in b.children)if(!x.children[B]||!Tt(x.children[B],b.children[B],P))return!1;return!0}{const B=_.slice(0,x.segments.length),z=_.slice(x.segments.length);return!!(Nr(x.segments,B)&&nr(x.segments,B,P)&&x.children[Ge])&&an(x.children[Ge],b,z,P)}}function nr(x,b,_){return b.every((P,B)=>Ri[_](x[B].parameters,P.parameters))}class cn{constructor(b,_,P){this.root=b,this.queryParams=_,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ot(this.queryParams)),this._queryParamMap}toString(){return Pn.serialize(this)}}class Yt{constructor(b,_){this.segments=b,this.children=_,this.parent=null,jn(_,(P,B)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Sr(this)}}class Fn{constructor(b,_){this.path=b,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=ot(this.parameters)),this._parameterMap}toString(){return Yn(this)}}function Nr(x,b){return x.length===b.length&&x.every((_,P)=>_.path===b[P].path)}class Lr{}class or{parse(b){const _=new sr(b);return new cn(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(b){const _=`/${on(b.root,!0)}`,P=function ii(x){const b=Object.keys(x).map(_=>{const P=x[_];return Array.isArray(P)?P.map(B=>`${Pr(_)}=${Pr(B)}`).join("&"):`${Pr(_)}=${Pr(P)}`}).filter(_=>!!_);return b.length?`?${b.join("&")}`:""}(b.queryParams);return`${_}${P}${"string"==typeof b.fragment?`#${function us(x){return encodeURI(x)}(b.fragment)}`:""}`}}const Pn=new or;function Sr(x){return x.segments.map(b=>Yn(b)).join("/")}function on(x,b){if(!x.hasChildren())return Sr(x);if(b){const _=x.children[Ge]?on(x.children[Ge],!1):"",P=[];return jn(x.children,(B,z)=>{z!==Ge&&P.push(`${z}:${on(B,!1)}`)}),P.length>0?`${_}(${P.join("//")})`:_}{const _=function pn(x,b){let _=[];return jn(x.children,(P,B)=>{B===Ge&&(_=_.concat(b(P,B)))}),jn(x.children,(P,B)=>{B!==Ge&&(_=_.concat(b(P,B)))}),_}(x,(P,B)=>B===Ge?[on(x.children[Ge],!1)]:[`${B}:${on(P,!1)}`]);return 1===Object.keys(x.children).length&&null!=x.children[Ge]?`${Sr(x)}/${_[0]}`:`${Sr(x)}/(${_.join("//")})`}}function gr(x){return encodeURIComponent(x).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pr(x){return gr(x).replace(/%3B/gi,";")}function ki(x){return gr(x).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Er(x){return decodeURIComponent(x)}function ri(x){return Er(x.replace(/\+/g,"%20"))}function Yn(x){return`${ki(x.path)}${function Bs(x){return Object.keys(x).map(b=>`;${ki(b)}=${ki(x[b])}`).join("")}(x.parameters)}`}const mt=/^[^\/()?;=#]+/;function tn(x){const b=x.match(mt);return b?b[0]:""}const wn=/^[^=?&#]+/,Cr=/^[^&#]+/;class sr{constructor(b){this.url=b,this.remaining=b}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const b={};if(this.consumeOptional("?"))do{this.parseQueryParam(b)}while(this.consumeOptional("&"));return b}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const b=[];for(this.peekStartsWith("(")||b.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),b.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(b.length>0||Object.keys(_).length>0)&&(P[Ge]=new Yt(b,_)),P}parseSegment(){const b=tn(this.remaining);if(""===b&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(b),new Fn(Er(b),this.parseMatrixParams())}parseMatrixParams(){const b={};for(;this.consumeOptional(";");)this.parseParam(b);return b}parseParam(b){const _=tn(this.remaining);if(!_)return;this.capture(_);let P="";if(this.consumeOptional("=")){const B=tn(this.remaining);B&&(P=B,this.capture(P))}b[Er(_)]=Er(P)}parseQueryParam(b){const _=function Bn(x){const b=x.match(wn);return b?b[0]:""}(this.remaining);if(!_)return;this.capture(_);let P="";if(this.consumeOptional("=")){const se=function Un(x){const b=x.match(Cr);return b?b[0]:""}(this.remaining);se&&(P=se,this.capture(P))}const B=ri(_),z=ri(P);if(b.hasOwnProperty(B)){let se=b[B];Array.isArray(se)||(se=[se],b[B]=se),se.push(z)}else b[B]=z}parseParens(b){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=tn(this.remaining),B=this.remaining[P.length];if("/"!==B&&")"!==B&&";"!==B)throw new Error(`Cannot parse url '${this.url}'`);let z;P.indexOf(":")>-1?(z=P.substr(0,P.indexOf(":")),this.capture(z),this.capture(":")):b&&(z=Ge);const se=this.parseChildren();_[z]=1===Object.keys(se).length?se[Ge]:new Yt([],se),this.consumeOptional("//")}return _}peekStartsWith(b){return this.remaining.startsWith(b)}consumeOptional(b){return!!this.peekStartsWith(b)&&(this.remaining=this.remaining.substring(b.length),!0)}capture(b){if(!this.consumeOptional(b))throw new Error(`Expected "${b}".`)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class On{constructor(b){this._root=b}get root(){return this._root.value}parent(b){const _=this.pathFromRoot(b);return _.length>1?_[_.length-2]:null}children(b){const _=Ki(b,this._root);return _?_.children.map(P=>P.value):[]}firstChild(b){const _=Ki(b,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(b){const _=Ni(b,this._root);return _.length<2?[]:_[_.length-2].children.map(B=>B.value).filter(B=>B!==b)}pathFromRoot(b){return Ni(b,this._root).map(_=>_.value)}}function Ki(x,b){if(x===b.value)return b;for(const _ of b.children){const P=Ki(x,_);if(P)return P}return null}function Ni(x,b){if(x===b.value)return[b];for(const _ of b.children){const P=Ni(x,_);if(P.length)return P.unshift(b),P}return[]}class qt{constructor(b,_){this.value=b,this.children=_}toString(){return`TreeNode(${this.value})`}}function Dr(x){const b={};return x&&x.children.forEach(_=>b[_.value.outlet]=_),b
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}class Ci extends On{constructor(b,_){super(b),this.snapshot=_,Fo(this,b)}toString(){return this.snapshot.toString()}}function mi(x,b){const _=function vi(x,b){const se=new Fr([],{},{},"",{},Ge,b,null,x.root,-1,{});return new Rn("",new qt(se,[]))}(x,b),P=new gt.X([new Fn("",{})]),B=new gt.X({}),z=new gt.X({}),se=new gt.X({}),ge=new gt.X(""),$e=new An(P,B,se,ge,z,Ge,b,_.root);return $e.snapshot=_.root,new Ci(new qt($e,[]),_)}class An{constructor(b,_,P,B,z,se,ge,$e){this.url=b,this.params=_,this.queryParams=P,this.fragment=B,this.data=z,this.outlet=se,this.component=ge,this._futureSnapshot=$e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ke.U)(b=>ot(b)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ke.U)(b=>ot(b)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qr(x,b="emptyOnly"){const _=x.pathFromRoot;let P=0;if("always"!==b)for(P=_.length-1;P>=1;){const B=_[P],z=_[P-1];if(B.routeConfig&&""===B.routeConfig.path)P--;else{if(z.component)break;P--}}return function Di(x){return x.reduce((b,_)=>({params:Object.assign(Object.assign({},b.params),_.params),data:Object.assign(Object.assign({},b.data),_.data),resolve:Object.assign(Object.assign({},b.resolve),_._resolvedData)}),{params:{},data:{},resolve:{}})}(_.slice(P))}class Fr{constructor(b,_,P,B,z,se,ge,$e,Ut,un,Wt){this.url=b,this.params=_,this.queryParams=P,this.fragment=B,this.data=z,this.outlet=se,this.component=ge,this.routeConfig=$e,this._urlSegment=Ut,this._lastPathIndex=un,this._resolve=Wt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ot(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ot(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rn extends On{constructor(b,_){super(_),this.url=b,Fo(this,_)}toString(){return oo(this._root)}}function Fo(x,b){b.value._routerState=x,b.children.forEach(_=>Fo(x,_))}function oo(x){const b=x.children.length>0?` { ${x.children.map(oo).join(", ")} } `:"";return`${x.value}${b}`}function Zr(x){if(x.snapshot){const b=x.snapshot,_=x._futureSnapshot;x.snapshot=_,En(b.queryParams,_.queryParams)||x.queryParams.next(_.queryParams),b.fragment!==_.fragment&&x.fragment.next(_.fragment),En(b.params,_.params)||x.params.next(_.params),function kr(x,b){if(x.length!==b.length)return!1;for(let _=0;_<x.length;++_)if(!En(x[_],b[_]))return!1;return!0}(b.url,_.url)||x.url.next(_.url),En(b.data,_.data)||x.data.next(_.data)}else x.snapshot=x._futureSnapshot,x.data.next(x._futureSnapshot.data)}function Br(x,b){const _=En(x.params,b.params)&&function pr(x,b){return Nr(x,b)&&x.every((_,P)=>En(_.parameters,b[P].parameters))}(x.url,b.url);return _&&!(!x.parent!=!b.parent)&&(!x.parent||Br(x.parent,b.parent))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Xi(x,b,_){if(_&&x.shouldReuseRoute(b.value,_.value.snapshot)){const P=_.value;P._futureSnapshot=b.value;const B=function Qn(x,b,_){return b.children.map(P=>{for(const B of _.children)if(x.shouldReuseRoute(P.value,B.value.snapshot))return Xi(x,P,B);return Xi(x,P)})}(x,b,_);return new qt(P,B)}{if(x.shouldAttach(b.value)){const z=x.retrieve(b.value);if(null!==z){const se=z.route;return se.value._futureSnapshot=b.value,se.children=b.children.map(ge=>Xi(x,ge)),se}}const P=function si(x){return new An(new gt.X(x.url),new gt.X(x.params),new gt.X(x.queryParams),new gt.X(x.fragment),new gt.X(x.data),x.outlet,x.component,x)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(b.value),B=b.children.map(z=>Xi(x,z));return new qt(P,B)}}function ls(x){return"object"==typeof x&&null!=x&&!x.outlets&&!x.segmentPath}function Yi(x){return"object"==typeof x&&null!=x&&x.outlets}function da(x,b,_,P,B){let z={};if(P&&jn(P,(ge,$e)=>{z[$e]=Array.isArray(ge)?ge.map(Ut=>`${Ut}`):`${ge}`}),x===b)return new cn(_,z,B);const se=Ra(x,b,_);return new cn(se,z,B)}function Ra(x,b,_){const P={};return jn(x.children,(B,z)=>{P[z]=B===b?_:Ra(B,b,_)}),new Yt(x.segments,P)}class uo{constructor(b,_,P){if(this.isAbsolute=b,this.numberOfDoubleDots=_,this.commands=P,b&&P.length>0&&ls(P[0]))throw new Error("Root segment cannot have matrix parameters");const B=P.find(Yi);if(B&&B!==Jt(P))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jr{constructor(b,_,P){this.segmentGroup=b,this.processChildren=_,this.index=P}}function Qi(x,b,_){if(x||(x=new Yt([],{})),0===x.segments.length&&x.hasChildren())return Ur(x,b,_);const P=function Bo(x,b,_){let P=0,B=b;const z={match:!1,pathIndex:0,commandIndex:0};for(;B<x.segments.length;){if(P>=_.length)return z;const se=x.segments[B],ge=_[P];if(Yi(ge))break;const $e=`${ge}`,Ut=P<_.length-1?_[P+1]:null;if(B>0&&void 0===$e)break;if($e&&Ut&&"object"==typeof Ut&&void 0===Ut.outlets){if(!Uo($e,Ut,se))return z;P+=2}else{if(!Uo($e,{},se))return z;P++}B++}return{match:!0,pathIndex:B,commandIndex:P}}(x,b,_),B=_.slice(P.commandIndex);if(P.match&&P.pathIndex<x.segments.length){const z=new Yt(x.segments.slice(0,P.pathIndex),{});return z.children[Ge]=new Yt(x.segments.slice(P.pathIndex),x.children),Ur(z,0,B)}return P.match&&0===B.length?new Yt(x.segments,{}):P.match&&!x.hasChildren()?Es(x,b,_):P.match?Ur(x,0,B):Es(x,b,_)}function Ur(x,b,_){if(0===_.length)return new Yt(x.segments,{});{const P=function Ss(x){return Yi(x[0])?x[0].outlets:{[Ge]:x}}(_),B={};return jn(P,(z,se)=>{"string"==typeof z&&(z=[z]),null!==z&&(B[se]=Qi(x.children[se],b,z))}),jn(x.children,(z,se)=>{void 0===P[se]&&(B[se]=z)}),new Yt(x.segments,B)}}function Es(x,b,_){const P=x.segments.slice(0,b);let B=0;for(;B<_.length;){const z=_[B];if(Yi(z)){const $e=lo(z.outlets);return new Yt(P,$e)}if(0===B&&ls(_[0])){P.push(new Fn(x.segments[b].path,fa(_[0]))),B++;continue}const se=Yi(z)?z.outlets[Ge]:`${z}`,ge=B<_.length-1?_[B+1]:null;se&&ge&&ls(ge)?(P.push(new Fn(se,fa(ge))),B+=2):(P.push(new Fn(se,{})),B++)}return new Yt(P,{})}function lo(x){const b={};return jn(x,(_,P)=>{"string"==typeof _&&(_=[_]),null!==_&&(b[P]=Es(new Yt([],{}),0,_))}),b}function fa(x){const b={};return jn(x,(_,P)=>b[P]=`${_}`),b}function Uo(x,b,_){return x==_.path&&En(b,_.parameters)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Zi{constructor(b,_,P,B){this.routeReuseStrategy=b,this.futureState=_,this.currState=P,this.forwardEvent=B}activate(b){const _=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,P,b),Zr(this.futureState.root),this.activateChildRoutes(_,P,b)}deactivateChildRoutes(b,_,P){const B=Dr(_);b.children.forEach(z=>{const se=z.value.outlet;this.deactivateRoutes(z,B[se],P),delete B[se]}),jn(B,(z,se)=>{this.deactivateRouteAndItsChildren(z,P)})}deactivateRoutes(b,_,P){const B=b.value,z=_?_.value:null;if(B===z)if(B.component){const se=P.getContext(B.outlet);se&&this.deactivateChildRoutes(b,_,se.children)}else this.deactivateChildRoutes(b,_,P);else z&&this.deactivateRouteAndItsChildren(_,P)}deactivateRouteAndItsChildren(b,_){b.value.component&&this.routeReuseStrategy.shouldDetach(b.value.snapshot)?this.detachAndStoreRouteSubtree(b,_):this.deactivateRouteAndOutlet(b,_)}detachAndStoreRouteSubtree(b,_){const P=_.getContext(b.value.outlet),B=P&&b.value.component?P.children:_,z=Dr(b);for(const se of Object.keys(z))this.deactivateRouteAndItsChildren(z[se],B);if(P&&P.outlet){const se=P.outlet.detach(),ge=P.children.onOutletDeactivated();this.routeReuseStrategy.store(b.value.snapshot,{componentRef:se,route:b,contexts:ge})}}deactivateRouteAndOutlet(b,_){const P=_.getContext(b.value.outlet),B=P&&b.value.component?P.children:_,z=Dr(b);for(const se of Object.keys(z))this.deactivateRouteAndItsChildren(z[se],B);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(b,_,P){const B=Dr(_);b.children.forEach(z=>{this.activateRoutes(z,B[z.value.outlet],P),this.forwardEvent(new Te(z.value.snapshot))}),b.children.length&&this.forwardEvent(new Bt(b.value.snapshot))}activateRoutes(b,_,P){const B=b.value,z=_?_.value:null;if(Zr(B),B===z)if(B.component){const se=P.getOrCreateContext(B.outlet);this.activateChildRoutes(b,_,se.children)}else this.activateChildRoutes(b,_,P);else if(B.component){const se=P.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const ge=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),se.children.onOutletReAttached(ge.contexts),se.attachRef=ge.componentRef,se.route=ge.route.value,se.outlet&&se.outlet.attach(ge.componentRef,ge.route.value),Zr(ge.route.value),this.activateChildRoutes(b,null,se.children)}else{const ge=function pa(x){for(let b=x.parent;b;b=b.parent){const _=b.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig;if(_&&_.component)return null}return null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(B.snapshot),$e=ge?ge.module.componentFactoryResolver:null;se.attachRef=null,se.route=B,se.resolver=$e,se.outlet&&se.outlet.activateWith(B,$e),this.activateChildRoutes(b,null,se.children)}}else this.activateChildRoutes(b,null,P)}}class Cs{constructor(b,_){this.routes=b,this.module=_}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function cs(x){return"function"==typeof x}function Ji(x){return x instanceof cn}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const xs=Symbol("INITIAL_VALUE");function yi(){return(0,We.w)(x=>function we(...x){const b=(0,Be.yG)(x),_=(0,Be.jO)(x),{args:P,keys:B}=(0,de.D)(x);if(0===P.length)return(0,be.D)([],b);const z=new y.y(function De(x,b,_=ye.y){return P=>{Ve(b,()=>{const{length:B}=x,z=new Array(B);let se=B,ge=B;for(let $e=0;$e<B;$e++)Ve(b,()=>{const Ut=(0,be.D)(x[$e],b);let un=!1;Ut.subscribe((0,Oe.x)(P,Wt=>{z[$e]=Wt,un||(un=!0,ge--),ge||P.next(_(z.slice()))},()=>{--se||P.complete()}))},P)},P)}}(P,b,B?se=>(0,Fe.n)(B,se):ye.y));return _?z.pipe((0,Ne.Z)(_)):z}(x.map(b=>b.pipe((0,Ue.q)(1),function _t(...x){const b=(0,Be.yG)(x);return(0,et.e)((_,P)=>{(b?(0,At.z)(x,_,b):(0,At.z)(x,_)).subscribe(P)})}(xs)))).pipe(K((b,_)=>{let P=!1;return _.reduce((B,z,se)=>B!==xs?B:(z===xs&&(P=!0),P||!1!==z&&se!==_.length-1&&!Ji(z)?B:z),b)},xs),(0,te.h)(b=>b!==xs),(0,Ke.U)(b=>Ji(b)?b:!0===b),(0,Ue.q)(1)))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Na{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _i,this.attachRef=null}}class _i{constructor(){this.contexts=new Map}onChildOutletCreated(b,_){const P=this.getOrCreateContext(b);P.outlet=_,this.contexts.set(b,P)}onChildOutletDestroyed(b){const _=this.getContext(b);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let _=this.getContext(b);return _||(_=new Na,this.contexts.set(b,_)),_}getContext(b){return this.contexts.get(b)||null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let ws=(()=>{class x{constructor(_,P,B,z,se){this.parentContexts=_,this.location=P,this.resolver=B,this.changeDetector=se,this.activated=null,this._activatedRoute=null,this.activateEvents=new T.vpe,this.deactivateEvents=new T.vpe,this.attachEvents=new T.vpe,this.detachEvents=new T.vpe,this.name=z||Ge,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,P){this.activated=_,this._activatedRoute=P,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,P){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;const se=(P=P||this.resolver).resolveComponentFactory(_._futureSnapshot.routeConfig.component),ge=this.parentContexts.getOrCreateContext(this.name).children,$e=new $r(_,ge,this.location.injector);this.activated=this.location.createComponent(se,this.location.length,$e),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return x.\u0275fac=function(_){return new(_||x)(T.Y36(_i),T.Y36(T.s_b),T.Y36(T._Vd),T.$8M("name"),T.Y36(T.sBO))},x.\u0275dir=T.lG2({type:x,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),x})();class $r{constructor(b,_,P){this.route=b,this.childContexts=_,this.parent=P}get(b,_){return b===An?this.route:b===_i?this.childContexts:this.parent.get(b,_)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let xi=(()=>{class x{}return x.\u0275fac=function(_){return new(_||x)},x.\u0275cmp=T.Xpm({type:x,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,P){1&_&&T._UZ(0,"router-outlet")},directives:[ws],encapsulation:2}),x})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Li(x,b=""){for(let _=0;_<x.length;_++){const P=x[_];La(P,Ho(b,P))}}function La(x,b){x.children&&Li(x.children,b)}function Ho(x,b){return b?x||b.path?x&&!b.path?`${x}/`:!x&&b.path?b.path:`${x}/${b.path}`:"":x}function Fa(x){const b=x.children&&x.children.map(Fa),_=b?Object.assign(Object.assign({},x),{children:b}):Object.assign({},x);return!_.component&&(b||_.loadChildren)&&_.outlet&&_.outlet!==Ge&&(_.component=xi),_}function R(x){return x.outlet||Ge}function $(x,b){const _=x.filter(P=>R(P)===b);return _.push(...x.filter(P=>R(P)!==b)),_
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}const L={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function q(x,b,_){var P;if(""===b.path)return"full"===b.pathMatch&&(x.hasChildren()||_.length>0)?Object.assign({},L):{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const z=(b.matcher||mn)(_,x,b);if(!z)return Object.assign({},L);const se={};jn(z.posParams,($e,Ut)=>{se[Ut]=$e.path});const ge=z.consumed.length>0?Object.assign(Object.assign({},se),z.consumed[z.consumed.length-1].parameters):se;return{matched:!0,consumedSegments:z.consumed,remainingSegments:_.slice(z.consumed.length),parameters:ge,positionalParamSegments:null!==(P=z.posParams)&&void 0!==P?P:{}}}function le(x,b,_,P,B="corrected"){if(_.length>0&&function It(x,b,_){return _.some(P=>Vn(x,b,P)&&R(P)!==Ge)}(x,_,P)){const se=new Yt(b,function ht(x,b,_,P){const B={};B[Ge]=P,P._sourceSegment=x,P._segmentIndexShift=b.length;for(const z of _)if(""===z.path&&R(z)!==Ge){const se=new Yt([],{});se._sourceSegment=x,se._segmentIndexShift=b.length,B[R(z)]=se}return B}(x,b,P,new Yt(_,x.children)));return se._sourceSegment=x,se._segmentIndexShift=b.length,{segmentGroup:se,slicedSegments:[]}}if(0===_.length&&function Wn(x,b,_){return _.some(P=>Vn(x,b,P))}(x,_,P)){const se=new Yt(x.segments,function Xe(x,b,_,P,B,z){const se={};for(const ge of P)if(Vn(x,_,ge)&&!B[R(ge)]){const $e=new Yt([],{});$e._sourceSegment=x,$e._segmentIndexShift="legacy"===z?x.segments.length:b.length,se[R(ge)]=$e}return Object.assign(Object.assign({},B),se)}(x,b,_,P,x.children,B));return se._sourceSegment=x,se._segmentIndexShift=b.length,{segmentGroup:se,slicedSegments:_}}const z=new Yt(x.segments,x.children);return z._sourceSegment=x,z._segmentIndexShift=b.length,{segmentGroup:z,slicedSegments:_}}function Vn(x,b,_){return(!(x.hasChildren()||b.length>0)||"full"!==_.pathMatch)&&""===_.path}function Cn(x,b,_,P){return!!(R(x)===P||P!==Ge&&Vn(b,_,x))&&("**"===x.path||q(b,x,_).matched)}function nn(x,b,_){return 0===b.length&&!x.children[_]}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class oe{constructor(b){this.segmentGroup=b||null}}class $n{constructor(b){this.urlTree=b}}function at(x){return(0,wt._)(new oe(x))}function kn(x){return(0,wt._)(new $n(x))}class ai{constructor(b,_,P,B,z){this.configLoader=_,this.urlSerializer=P,this.urlTree=B,this.config=z,this.allowRedirects=!0,this.ngModule=b.get(T.h0i)}apply(){const b=le(this.urlTree.root,[],[],this.config).segmentGroup,_=new Yt(b.segments,b.children);return this.expandSegmentGroup(this.ngModule,this.config,_,Ge).pipe((0,Ke.U)(z=>this.createUrlTree(Us(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,xt.K)(z=>{if(z instanceof $n)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof oe?this.noMatchError(z):z}))}match(b){return this.expandSegmentGroup(this.ngModule,this.config,b.root,Ge).pipe((0,Ke.U)(B=>this.createUrlTree(Us(B),b.queryParams,b.fragment))).pipe((0,xt.K)(B=>{throw B instanceof oe?this.noMatchError(B):B}))}noMatchError(b){return new Error(`Cannot match any routes. URL Segment: '${b.segmentGroup}'`)}createUrlTree(b,_,P){const B=b.segments.length>0?new Yt([],{[Ge]:b}):b;return new cn(B,_,P)}expandSegmentGroup(b,_,P,B){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(b,_,P).pipe((0,Ke.U)(z=>new Yt([],z))):this.expandSegment(b,P,_,P.segments,B,!0)}expandChildren(b,_,P){const B=[];for(const z of Object.keys(P.children))"primary"===z?B.unshift(z):B.push(z);return(0,be.D)(B).pipe((0,zt.b)(z=>{const se=P.children[z],ge=$(_,z);return this.expandSegmentGroup(b,ge,se,z).pipe((0,Ke.U)($e=>({segment:$e,outlet:z})))}),K((z,se)=>(z[se.outlet]=se.segment,z),{}),function he(x,b){const _=arguments.length>=2;return P=>P.pipe(x?(0,te.h)((B,z)=>x(B,z,P)):ye.y,ee(1),_?Se(b):ce(()=>new Ae.K))}())}expandSegment(b,_,P,B,z,se){return(0,be.D)(P).pipe((0,zt.b)(ge=>this.expandSegmentAgainstRoute(b,_,P,ge,B,z,se).pipe((0,xt.K)(Ut=>{if(Ut instanceof oe)return(0,Ce.of)(null);throw Ut}))),He(ge=>!!ge),(0,xt.K)((ge,$e)=>{if(ge instanceof Ae.K||"EmptyError"===ge.name)return nn(_,B,z)?(0,Ce.of)(new Yt([],{})):at(_);throw ge}))}expandSegmentAgainstRoute(b,_,P,B,z,se,ge){return Cn(B,_,z,se)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(b,_,B,z,se):ge&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(b,_,P,B,z,se):at(_):at(_)}expandSegmentAgainstRouteUsingRedirect(b,_,P,B,z,se){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(b,P,B,se):this.expandRegularSegmentAgainstRouteUsingRedirect(b,_,P,B,z,se)}expandWildCardWithParamsAgainstRouteUsingRedirect(b,_,P,B){const z=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?kn(z):this.lineralizeSegments(P,z).pipe((0,Nt.z)(se=>{const ge=new Yt(se,{});return this.expandSegment(b,ge,_,se,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(b,_,P,B,z,se){const{matched:ge,consumedSegments:$e,remainingSegments:Ut,positionalParamSegments:un}=q(_,B,z);if(!ge)return at(_);const Wt=this.applyRedirectCommands($e,B.redirectTo,un);return B.redirectTo.startsWith("/")?kn(Wt):this.lineralizeSegments(B,Wt).pipe((0,Nt.z)(zn=>this.expandSegment(b,_,P,zn.concat(Ut),se,!1)))}matchSegmentAgainstRoute(b,_,P,B,z){if("**"===P.path)return P.loadChildren?(P._loadedConfig?(0,Ce.of)(P._loadedConfig):this.configLoader.load(b.injector,P)).pipe((0,Ke.U)(Wt=>(P._loadedConfig=Wt,new Yt(B,{})))):(0,Ce.of)(new Yt(B,{}));const{matched:se,consumedSegments:ge,remainingSegments:$e}=q(_,P,B);return se?this.getChildConfig(b,P,B).pipe((0,Nt.z)(un=>{const Wt=un.module,zn=un.routes,{segmentGroup:Hn,slicedSegments:Bi}=le(_,ge,$e,zn),hs=new Yt(Hn.segments,Hn.children);if(0===Bi.length&&hs.hasChildren())return this.expandChildren(Wt,zn,hs).pipe((0,Ke.U)(ba=>new Yt(ge,ba)));if(0===zn.length&&0===Bi.length)return(0,Ce.of)(new Yt(ge,{}));const ac=R(P)===z;return this.expandSegment(Wt,hs,zn,Bi,ac?Ge:z,!0).pipe((0,Ke.U)(rr=>new Yt(ge.concat(rr.segments),rr.children)))})):at(_)}getChildConfig(b,_,P){return _.children?(0,Ce.of)(new Cs(_.children,b)):_.loadChildren?void 0!==_._loadedConfig?(0,Ce.of)(_._loadedConfig):this.runCanLoadGuards(b.injector,_,P).pipe((0,Nt.z)(B=>B?this.configLoader.load(b.injector,_).pipe((0,Ke.U)(z=>(_._loadedConfig=z,z))):function Qt(x){return(0,wt._)(Ln(`Cannot load children because the guard of the route "path: '${x.path}'" returned false`))}(_))):(0,Ce.of)(new Cs([],b))}runCanLoadGuards(b,_,P){const B=_.canLoad;if(!B||0===B.length)return(0,Ce.of)(!0);const z=B.map(se=>{const ge=b.get(se);let $e;if(function Ds(x){return x&&cs(x.canLoad)}(ge))$e=ge.canLoad(_,P);else{if(!cs(ge))throw new Error("Invalid CanLoad guard");$e=ge(_,P)}return gn($e)});return(0,Ce.of)(z).pipe(yi(),(0,Mt.b)(se=>{if(!Ji(se))return;const ge=Ln(`Redirecting to "${this.urlSerializer.serialize(se)}"`);throw ge.url=se,ge}),(0,Ke.U)(se=>!0===se))}lineralizeSegments(b,_){let P=[],B=_.root;for(;;){if(P=P.concat(B.segments),0===B.numberOfChildren)return(0,Ce.of)(P);if(B.numberOfChildren>1||!B.children[Ge])return(0,wt._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${b.redirectTo}'`));B=B.children[Ge]}}applyRedirectCommands(b,_,P){return this.applyRedirectCreatreUrlTree(_,this.urlSerializer.parse(_),b,P)}applyRedirectCreatreUrlTree(b,_,P,B){const z=this.createSegmentGroup(b,_.root,P,B);return new cn(z,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(b,_){const P={};return jn(b,(B,z)=>{if("string"==typeof B&&B.startsWith(":")){const ge=B.substring(1);P[z]=_[ge]}else P[z]=B}),P}createSegmentGroup(b,_,P,B){const z=this.createSegments(b,_.segments,P,B);let se={};return jn(_.children,(ge,$e)=>{se[$e]=this.createSegmentGroup(b,ge,P,B)}),new Yt(z,se)}createSegments(b,_,P,B){return _.map(z=>z.path.startsWith(":")?this.findPosParam(b,z,B):this.findOrReturn(z,P))}findPosParam(b,_,P){const B=P[_.path.substring(1)];if(!B)throw new Error(`Cannot redirect to '${b}'. Cannot find '${_.path}'.`);return B}findOrReturn(b,_){let P=0;for(const B of _){if(B.path===b.path)return _.splice(P),B;P++}return b}}function Us(x){const b={};for(const P of Object.keys(x.children)){const z=Us(x.children[P]);(z.segments.length>0||z.hasChildren())&&(b[P]=z)}return function Dt(x){if(1===x.numberOfChildren&&x.children[Ge]){const b=x.children[Ge];return new Yt(x.segments.concat(b.segments),b.children)}return x}(new Yt(x.segments,b))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class I{constructor(b){this.path=b,this.route=this.path[this.path.length-1]}}class M{constructor(b,_){this.component=b,this.route=_}}function X(x,b,_){const P=x._root;return zr(P,b?b._root:null,_,[P.value])}function Ht(x,b,_){const P=function Zn(x){if(!x)return null;for(let b=x.parent;b;b=b.parent){const _=b.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig}return null}(b);return(P?P.module.injector:_).get(x)}function zr(x,b,_,P,B={canDeactivateChecks:[],canActivateChecks:[]}){const z=Dr(b);return x.children.forEach(se=>{(function lt(x,b,_,P,B={canDeactivateChecks:[],canActivateChecks:[]}){const z=x.value,se=b?b.value:null,ge=_?_.getContext(x.value.outlet):null;if(se&&z.routeConfig===se.routeConfig){const $e=function dn(x,b,_){if("function"==typeof _)return _(x,b);switch(_){case"pathParamsChange":return!Nr(x.url,b.url);case"pathParamsOrQueryParamsChange":return!Nr(x.url,b.url)||!En(x.queryParams,b.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Br(x,b)||!En(x.queryParams,b.queryParams);default:return!Br(x,b)}}(se,z,z.routeConfig.runGuardsAndResolvers);$e?B.canActivateChecks.push(new I(P)):(z.data=se.data,z._resolvedData=se._resolvedData),zr(x,b,z.component?ge?ge.children:null:_,P,B),$e&&ge&&ge.outlet&&ge.outlet.isActivated&&B.canDeactivateChecks.push(new M(ge.outlet.component,se))}else se&&es(b,ge,B),B.canActivateChecks.push(new I(P)),zr(x,null,z.component?ge?ge.children:null:_,P,B)})(se,z[se.value.outlet],_,P.concat([se.value]),B),delete z[se.value.outlet]}),jn(z,(se,ge)=>es(se,_.getContext(ge),B)),B}function es(x,b,_){const P=Dr(x),B=x.value;jn(P,(z,se)=>{es(z,B.component?b?b.children.getContext(se):null:b,_)}),_.canDeactivateChecks.push(new M(B.component&&b&&b.outlet&&b.outlet.isActivated?b.outlet.component:null,B))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class wu{}function Ti(x){return new y.y(b=>b.error(x))}class Vs{constructor(b,_,P,B,z,se){this.rootComponentType=b,this.config=_,this.urlTree=P,this.url=B,this.paramsInheritanceStrategy=z,this.relativeLinkResolution=se}recognize(){const b=le(this.urlTree.root,[],[],this.config.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution).segmentGroup,_=this.processSegmentGroup(this.config,b,Ge);if(null===_)return null;const P=new Fr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ge,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new qt(P,_),z=new Rn(this.url,B);return this.inheritParamsAndData(z._root),z}inheritParamsAndData(b){const _=b.value,P=Qr(_,this.paramsInheritanceStrategy);_.params=Object.freeze(P.params),_.data=Object.freeze(P.data),b.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(b,_,P){return 0===_.segments.length&&_.hasChildren()?this.processChildren(b,_):this.processSegment(b,_,_.segments,P)}processChildren(b,_){const P=[];for(const z of Object.keys(_.children)){const se=_.children[z],ge=$(b,z),$e=this.processSegmentGroup(ge,se,z);if(null===$e)return null;P.push(...$e)}const B=Gs(P);return function Va(x){x.sort((b,_)=>b.value.outlet===Ge?-1:_.value.outlet===Ge?1:b.value.outlet.localeCompare(_.value.outlet))}(B),B}processSegment(b,_,P,B){for(const z of b){const se=this.processSegmentAgainstRoute(z,_,P,B);if(null!==se)return se}return nn(_,P,B)?[]:null}processSegmentAgainstRoute(b,_,P,B){if(b.redirectTo||!Cn(b,_,P,B))return null;let z,se=[],ge=[];if("**"===b.path){const Hn=P.length>0?Jt(P).parameters:{};z=new Fr(P,Hn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mu(b),R(b),b.component,b,Xl(_),Au(_)+P.length,ql(b))}else{const Hn=q(_,b,P);if(!Hn.matched)return null;se=Hn.consumedSegments,ge=Hn.remainingSegments,z=new Fr(se,Hn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Mu(b),R(b),b.component,b,Xl(_),Au(_)+se.length,ql(b))}const $e=function ga(x){return x.children?x.children:x.loadChildren?x._loadedConfig.routes:[]}(b),{segmentGroup:Ut,slicedSegments:un}=le(_,se,ge,$e.filter(Hn=>void 0===Hn.redirectTo),this.relativeLinkResolution);if(0===un.length&&Ut.hasChildren()){const Hn=this.processChildren($e,Ut);return null===Hn?null:[new qt(z,Hn)]}if(0===$e.length&&0===un.length)return[new qt(z,[])];const Wt=R(b)===B,zn=this.processSegment($e,Ut,un,Wt?Ge:B);return null===zn?null:[new qt(z,zn)]}}function Hs(x){const b=x.value.routeConfig;return b&&""===b.path&&void 0===b.redirectTo}function Gs(x){const b=[],_=new Set;for(const P of x){if(!Hs(P)){b.push(P);continue}const B=b.find(z=>P.value.routeConfig===z.value.routeConfig);void 0!==B?(B.children.push(...P.children),_.add(B)):b.push(P)}for(const P of _){const B=Gs(P.children);b.push(new qt(P.value,B))}return b.filter(P=>!_.has(P))}function Xl(x){let b=x;for(;b._sourceSegment;)b=b._sourceSegment;return b}function Au(x){let b=x,_=b._segmentIndexShift?b._segmentIndexShift:0;for(;b._sourceSegment;)b=b._sourceSegment,_+=b._segmentIndexShift?b._segmentIndexShift:0;return _-1}function Mu(x){return x.data||{}}function ql(x){return x.resolve||{}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Go(x){return[...Object.keys(x),...Object.getOwnPropertySymbols(x)]}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Ha(x){return(0,We.w)(b=>{const _=x(b);return _?(0,be.D)(_).pipe((0,Ke.U)(()=>b)):(0,Ce.of)(b)})}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Pu extends class Zl{shouldDetach(b){return!1}store(b,_){}shouldAttach(b){return!1}retrieve(b){return null}shouldReuseRoute(b,_){return b.routeConfig===_.routeConfig}}{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Jl=new T.OlP("ROUTES");class xd{constructor(b,_,P,B){this.injector=b,this.compiler=_,this.onLoadStartListener=P,this.onLoadEndListener=B}load(b,_){if(_._loader$)return _._loader$;this.onLoadStartListener&&this.onLoadStartListener(_);const B=this.loadModuleFactory(_.loadChildren).pipe((0,Ke.U)(z=>{this.onLoadEndListener&&this.onLoadEndListener(_);const se=z.create(b);return new Cs(Xt(se.injector.get(Jl,void 0,T.XFs.Self|T.XFs.Optional)).map(Fa),se)}),(0,xt.K)(z=>{throw _._loader$=void 0,z}));return _._loader$=new it.c(B,()=>new Ee.x).pipe((0,Ct.x)()),_._loader$}loadModuleFactory(b){return gn(b()).pipe((0,Nt.z)(_=>_ instanceof T.YKP?(0,Ce.of)(_):(0,be.D)(this.compiler.compileModuleAsync(_))))}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class ma{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,_){return b}}function Tr(x){throw x}function oh(x,b,_){return b.parse("/")}function ec(x,b){return(0,Ce.of)(null)}const ui={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wi=(()=>{class x{constructor(_,P,B,z,se,ge,$e){this.rootComponentType=_,this.urlSerializer=P,this.rootContexts=B,this.location=z,this.config=$e,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ee.x,this.errorHandler=Tr,this.malformedUriErrorHandler=oh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ec,afterPreactivation:ec},this.urlHandlingStrategy=new ma,this.routeReuseStrategy=new Pu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=se.get(T.h0i),this.console=se.get(T.c2e);const Wt=se.get(T.R0b);this.isNgZoneEnabled=Wt instanceof T.R0b&&T.R0b.isInAngularZone(),this.resetConfig($e),this.currentUrlTree=function yn(){return new cn(new Yt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xd(se,ge,zn=>this.triggerEvent(new Sn(zn)),zn=>this.triggerEvent(new xn(zn))),this.routerState=mi(this.currentUrlTree,this.rootComponentType),this.transitions=new gt.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var _;return null===(_=this.location.getState())||void 0===_?void 0:_.\u0275routerPageId}setupNavigations(_){const P=this.events;return _.pipe((0,te.h)(B=>0!==B.id),(0,Ke.U)(B=>Object.assign(Object.assign({},B),{extractedUrl:this.urlHandlingStrategy.extract(B.rawUrl)})),(0,We.w)(B=>{let z=!1,se=!1;return(0,Ce.of)(B).pipe((0,Mt.b)(ge=>{this.currentNavigation={id:ge.id,initialUrl:ge.currentRawUrl,extractedUrl:ge.extractedUrl,trigger:ge.source,extras:ge.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,We.w)(ge=>{const $e=this.browserUrlTree.toString(),Ut=!this.navigated||ge.extractedUrl.toString()!==$e||$e!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ut)&&this.urlHandlingStrategy.shouldProcessUrl(ge.rawUrl))return po(ge.source)&&(this.browserUrlTree=ge.extractedUrl),(0,Ce.of)(ge).pipe((0,We.w)(Wt=>{const zn=this.transitions.getValue();return P.next(new fn(Wt.id,this.serializeUrl(Wt.extractedUrl),Wt.source,Wt.restoredState)),zn!==this.transitions.getValue()?nt.E:Promise.resolve(Wt)}),function k(x,b,_,P){return(0,We.w)(B=>function Kt(x,b,_,P,B){return new ai(x,b,_,P,B).apply()}(x,b,_,B.extractedUrl,P).pipe((0,Ke.U)(z=>Object.assign(Object.assign({},B),{urlAfterRedirects:z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Mt.b)(Wt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Wt.urlAfterRedirects})}),function fs(x,b,_,P,B){return(0,Nt.z)(z=>function bi(x,b,_,P,B="emptyOnly",z="legacy"){try{const se=new Vs(x,b,_,P,B,z).recognize();return null===se?Ti(new wu):(0,Ce.of)(se)}catch(se){return Ti(se)}}(x,b,z.urlAfterRedirects,_(z.urlAfterRedirects),P,B).pipe((0,Ke.U)(se=>Object.assign(Object.assign({},z),{targetSnapshot:se}))))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(this.rootComponentType,this.config,Wt=>this.serializeUrl(Wt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Mt.b)(Wt=>{if("eager"===this.urlUpdateStrategy){if(!Wt.extras.skipLocationChange){const Hn=this.urlHandlingStrategy.merge(Wt.urlAfterRedirects,Wt.rawUrl);this.setBrowserUrl(Hn,Wt)}this.browserUrlTree=Wt.urlAfterRedirects}const zn=new gi(Wt.id,this.serializeUrl(Wt.extractedUrl),this.serializeUrl(Wt.urlAfterRedirects),Wt.targetSnapshot);P.next(zn)}));if(Ut&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:zn,extractedUrl:Hn,source:Bi,restoredState:hs,extras:ac}=ge,oc=new fn(zn,this.serializeUrl(Hn),Bi,hs);P.next(oc);const rr=mi(Hn,this.rootComponentType).snapshot;return(0,Ce.of)(Object.assign(Object.assign({},ge),{targetSnapshot:rr,urlAfterRedirects:Hn,extras:Object.assign(Object.assign({},ac),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=ge.rawUrl,ge.resolve(null),nt.E}),Ha(ge=>{const{targetSnapshot:$e,id:Ut,extractedUrl:un,rawUrl:Wt,extras:{skipLocationChange:zn,replaceUrl:Hn}}=ge;return this.hooks.beforePreactivation($e,{navigationId:Ut,appliedUrlTree:un,rawUrlTree:Wt,skipLocationChange:!!zn,replaceUrl:!!Hn})}),(0,Mt.b)(ge=>{const $e=new bn(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot);this.triggerEvent($e)}),(0,Ke.U)(ge=>Object.assign(Object.assign({},ge),{guards:X(ge.targetSnapshot,ge.currentSnapshot,this.rootContexts)})),function mr(x,b){return(0,Nt.z)(_=>{const{targetSnapshot:P,currentSnapshot:B,guards:{canActivateChecks:z,canDeactivateChecks:se}}=_;return 0===se.length&&0===z.length?(0,Ce.of)(Object.assign(Object.assign({},_),{guardsResult:!0})):function Ba(x,b,_,P){return(0,be.D)(x).pipe((0,Nt.z)(B=>function Kl(x,b,_,P,B){const z=b&&b.routeConfig?b.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,Ce.of)(!0);const se=z.map(ge=>{const $e=Ht(ge,b,B);let Ut;if(function fo(x){return x&&cs(x.canDeactivate)}($e))Ut=gn($e.canDeactivate(x,b,_,P));else{if(!cs($e))throw new Error("Invalid CanDeactivate guard");Ut=gn($e(x,b,_,P))}return Ut.pipe(He())});return(0,Ce.of)(se).pipe(yi())}(B.component,B.route,_,b,P)),He(B=>!0!==B,!0))}(se,P,B,x).pipe((0,Nt.z)(ge=>ge&&function ds(x){return"boolean"==typeof x}(ge)?function Ua(x,b,_,P){return(0,be.D)(b).pipe((0,zt.b)(B=>(0,At.z)(function xu(x,b){return null!==x&&b&&b(new Oi(x)),(0,Ce.of)(!0)}(B.route.parent,P),function As(x,b){return null!==x&&b&&b(new qe(x)),(0,Ce.of)(!0)}(B.route,P),function Fg(x,b,_){const P=b[b.length-1],z=b.slice(0,b.length-1).reverse().map(se=>function Je(x){const b=x.routeConfig?x.routeConfig.canActivateChild:null;return b&&0!==b.length?{node:x,guards:b}:null}(se)).filter(se=>null!==se).map(se=>(0,dt.P)(()=>{const ge=se.guards.map($e=>{const Ut=Ht($e,se.node,_);let un;if(function Vo(x){return x&&cs(x.canActivateChild)}(Ut))un=gn(Ut.canActivateChild(P,x));else{if(!cs(Ut))throw new Error("Invalid CanActivateChild guard");un=gn(Ut(P,x))}return un.pipe(He())});return(0,Ce.of)(ge).pipe(yi())}));return(0,Ce.of)(z).pipe(yi())}(x,B.path,_),function zl(x,b,_){const P=b.routeConfig?b.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Ce.of)(!0);const B=P.map(z=>(0,dt.P)(()=>{const se=Ht(z,b,_);let ge;if(function co(x){return x&&cs(x.canActivate)}(se))ge=gn(se.canActivate(b,x));else{if(!cs(se))throw new Error("Invalid CanActivate guard");ge=gn(se(b,x))}return ge.pipe(He())}));return(0,Ce.of)(B).pipe(yi())}(x,B.route,_))),He(B=>!0!==B,!0))}(P,z,x,b):(0,Ce.of)(ge)),(0,Ke.U)(ge=>Object.assign(Object.assign({},_),{guardsResult:ge})))})}(this.ngModule.injector,ge=>this.triggerEvent(ge)),(0,Mt.b)(ge=>{if(Ji(ge.guardsResult)){const Ut=Ln(`Redirecting to "${this.serializeUrl(ge.guardsResult)}"`);throw Ut.url=ge.guardsResult,Ut}const $e=new qr(ge.id,this.serializeUrl(ge.extractedUrl),this.serializeUrl(ge.urlAfterRedirects),ge.targetSnapshot,!!ge.guardsResult);this.triggerEvent($e)}),(0,te.h)(ge=>!!ge.guardsResult||(this.restoreHistory(ge),this.cancelNavigationTransition(ge,""),!1)),Ha(ge=>{if(ge.guards.canActivateChecks.length)return(0,Ce.of)(ge).pipe((0,Mt.b)($e=>{const Ut=new tr($e.id,this.serializeUrl($e.extractedUrl),this.serializeUrl($e.urlAfterRedirects),$e.targetSnapshot);this.triggerEvent(Ut)}),(0,We.w)($e=>{let Ut=!1;return(0,Ce.of)($e).pipe(function Yl(x,b){return(0,Nt.z)(_=>{const{targetSnapshot:P,guards:{canActivateChecks:B}}=_;if(!B.length)return(0,Ce.of)(_);let z=0;return(0,be.D)(B).pipe((0,zt.b)(se=>function Bg(x,b,_,P){return function Ql(x,b,_,P){const B=Go(x);if(0===B.length)return(0,Ce.of)({});const z={};return(0,be.D)(B).pipe((0,Nt.z)(se=>function ho(x,b,_,P){const B=Ht(x,b,P);return gn(B.resolve?B.resolve(b,_):B(b,_))}(x[se],b,_,P).pipe((0,Mt.b)(ge=>{z[se]=ge}))),ee(1),(0,Nt.z)(()=>Go(z).length===B.length?(0,Ce.of)(z):nt.E))}(x._resolve,x,b,P).pipe((0,Ke.U)(z=>(x._resolvedData=z,x.data=Object.assign(Object.assign({},x.data),Qr(x,_).resolve),null)))}(se.route,P,x,b)),(0,Mt.b)(()=>z++),ee(1),(0,Nt.z)(se=>z===B.length?(0,Ce.of)(_):nt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Mt.b)({next:()=>Ut=!0,complete:()=>{Ut||(this.restoreHistory($e),this.cancelNavigationTransition($e,"At least one route resolver didn't emit any value."))}}))}),(0,Mt.b)($e=>{const Ut=new Ei($e.id,this.serializeUrl($e.extractedUrl),this.serializeUrl($e.urlAfterRedirects),$e.targetSnapshot);this.triggerEvent(Ut)}))}),Ha(ge=>{const{targetSnapshot:$e,id:Ut,extractedUrl:un,rawUrl:Wt,extras:{skipLocationChange:zn,replaceUrl:Hn}}=ge;return this.hooks.afterPreactivation($e,{navigationId:Ut,appliedUrlTree:un,rawUrlTree:Wt,skipLocationChange:!!zn,replaceUrl:!!Hn})}),(0,Ke.U)(ge=>{const $e=function ca(x,b,_){const P=Xi(x,b._root,_?_._root:void 0);return new Ci(P,b)}(this.routeReuseStrategy,ge.targetSnapshot,ge.currentRouterState);return Object.assign(Object.assign({},ge),{targetRouterState:$e})}),(0,Mt.b)(ge=>{this.currentUrlTree=ge.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ge.urlAfterRedirects,ge.rawUrl),this.routerState=ge.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ge.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ge),this.browserUrlTree=ge.urlAfterRedirects)}),((x,b,_)=>(0,Ke.U)(P=>(new Zi(b,P.targetRouterState,P.currentRouterState,_).activate(x),P)))(this.rootContexts,this.routeReuseStrategy,ge=>this.triggerEvent(ge)),(0,Mt.b)({next(){z=!0},complete(){z=!0}}),function st(x){return(0,et.e)((b,_)=>{try{b.subscribe(_)}finally{_.add(x)}})}(()=>{var ge;z||se||this.cancelNavigationTransition(B,`Navigation ID ${B.id} is not equal to the current navigation id ${this.navigationId}`),(null===(ge=this.currentNavigation)||void 0===ge?void 0:ge.id)===B.id&&(this.currentNavigation=null)}),(0,xt.K)(ge=>{if(se=!0,function hn(x){return x&&x[bt]}(ge)){const $e=Ji(ge.url);$e||(this.navigated=!0,this.restoreHistory(B,!0));const Ut=new _r(B.id,this.serializeUrl(B.extractedUrl),ge.message);P.next(Ut),$e?setTimeout(()=>{const un=this.urlHandlingStrategy.merge(ge.url,this.rawUrlTree),Wt={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||po(B.source)};this.scheduleNavigation(un,"imperative",null,Wt,{resolve:B.resolve,reject:B.reject,promise:B.promise})},0):B.resolve(!1)}else{this.restoreHistory(B,!0);const $e=new Nn(B.id,this.serializeUrl(B.extractedUrl),ge);P.next($e);try{B.resolve(this.errorHandler(ge))}catch(Ut){B.reject(Ut)}}return nt.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),_))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const P="popstate"===_.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{var B;const z={replaceUrl:!0},se=(null===(B=_.state)||void 0===B?void 0:B.navigationId)?_.state:null;if(se){const $e=Object.assign({},se);delete $e.navigationId,delete $e.\u0275routerPageId,0!==Object.keys($e).length&&(z.state=$e)}const ge=this.parseUrl(_.url);this.scheduleNavigation(ge,P,se,z)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){Li(_),this.config=_.map(Fa),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,P={}){const{relativeTo:B,queryParams:z,fragment:se,queryParamsHandling:ge,preserveFragment:$e}=P,Ut=B||this.routerState.root,un=$e?this.currentUrlTree.fragment:se;let Wt=null;switch(ge){case"merge":Wt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),z);break;case"preserve":Wt=this.currentUrlTree.queryParams;break;default:Wt=z||null}return null!==Wt&&(Wt=this.removeEmptyProps(Wt)),function qi(x,b,_,P,B){if(0===_.length)return da(b.root,b.root,b.root,P,B);const z=function Wr(x){if("string"==typeof x[0]&&1===x.length&&"/"===x[0])return new uo(!0,0,x);let b=0,_=!1;const P=x.reduce((B,z,se)=>{if("object"==typeof z&&null!=z){if(z.outlets){const ge={};return jn(z.outlets,($e,Ut)=>{ge[Ut]="string"==typeof $e?$e.split("/"):$e}),[...B,{outlets:ge}]}if(z.segmentPath)return[...B,z.segmentPath]}return"string"!=typeof z?[...B,z]:0===se?(z.split("/").forEach((ge,$e)=>{0==$e&&"."===ge||(0==$e&&""===ge?_=!0:".."===ge?b++:""!=ge&&B.push(ge))}),B):[...B,z]},[]);return new uo(_,b,P)}(_);if(z.toRoot())return da(b.root,b.root,new Yt([],{}),P,B);const se=function ka(x,b,_){if(x.isAbsolute)return new Jr(b.root,!0,0);if(-1===_.snapshot._lastPathIndex){const z=_.snapshot._urlSegment;return new Jr(z,z===b.root,0)}const P=ls(x.commands[0])?0:1;return function bs(x,b,_){let P=x,B=b,z=_;for(;z>B;){if(z-=B,P=P.parent,!P)throw new Error("Invalid number of '../'");B=P.segments.length}return new Jr(P,!1,B-z)}(_.snapshot._urlSegment,_.snapshot._lastPathIndex+P,x.numberOfDoubleDots)}(z,b,x),ge=se.processChildren?Ur(se.segmentGroup,se.index,z.commands):Qi(se.segmentGroup,se.index,z.commands);return da(b.root,se.segmentGroup,ge,P,B)}(Ut,this.currentUrlTree,_,Wt,null!=un?un:null)}navigateByUrl(_,P={skipLocationChange:!1}){const B=Ji(_)?_:this.parseUrl(_),z=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(z,"imperative",null,P)}navigate(_,P={skipLocationChange:!1}){return function Ou(x){for(let b=0;b<x.length;b++){const _=x[b];if(null==_)throw new Error(`The requested path contains ${_} segment at index ${b}`)}}(_),this.navigateByUrl(this.createUrlTree(_,P),P)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let P;try{P=this.urlSerializer.parse(_)}catch(B){P=this.malformedUriErrorHandler(B,this.urlSerializer,_)}return P}isActive(_,P){let B;if(B=!0===P?Object.assign({},ui):!1===P?Object.assign({},wd):P,Ji(_))return Z(this.currentUrlTree,_,B);const z=this.parseUrl(_);return Z(this.currentUrlTree,z,B)}removeEmptyProps(_){return Object.keys(_).reduce((P,B)=>{const z=_[B];return null!=z&&(P[B]=z),P},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new hr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,P,B,z,se){var ge,$e;if(this.disposed)return Promise.resolve(!1);let Ut,un,Wt;se?(Ut=se.resolve,un=se.reject,Wt=se.promise):Wt=new Promise((Bi,hs)=>{Ut=Bi,un=hs});const zn=++this.navigationId;let Hn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(B=this.location.getState()),Hn=B&&B.\u0275routerPageId?B.\u0275routerPageId:z.replaceUrl||z.skipLocationChange?null!==(ge=this.browserPageId)&&void 0!==ge?ge:0:(null!==($e=this.browserPageId)&&void 0!==$e?$e:0)+1):Hn=0,this.setTransition({id:zn,targetPageId:Hn,source:P,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:z,resolve:Ut,reject:un,promise:Wt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Wt.catch(Bi=>Promise.reject(Bi))}setBrowserUrl(_,P){const B=this.urlSerializer.serialize(_),z=Object.assign(Object.assign({},P.extras.state),this.generateNgRouterState(P.id,P.targetPageId));this.location.isCurrentPathEqualTo(B)||P.extras.replaceUrl?this.location.replaceState(B,"",z):this.location.go(B,"",z)}restoreHistory(_,P=!1){var B,z;if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(B=this.currentNavigation)||void 0===B?void 0:B.finalUrl)||0===se?this.currentUrlTree===(null===(z=this.currentNavigation)||void 0===z?void 0:z.finalUrl)&&0===se&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(se)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,P){const B=new _r(_.id,this.serializeUrl(_.extractedUrl),P);this.triggerEvent(B),_.resolve(!1)}generateNgRouterState(_,P){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:P}:{navigationId:_}}}return x.\u0275fac=function(_){T.$Z()},x.\u0275prov=T.Yz7({token:x,factory:x.\u0275fac}),x})();function po(x){return"imperative"!==x}let go=(()=>{class x{constructor(_,P,B,z,se){this.router=_,this.route=P,this.tabIndexAttribute=B,this.renderer=z,this.el=se,this.commands=null,this.onChanges=new Ee.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){if(null!=this.tabIndexAttribute)return;const P=this.renderer,B=this.el.nativeElement;null!==_?P.setAttribute(B,"tabindex",_):P.removeAttribute(B,"tabindex")}ngOnChanges(_){this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const _={skipLocationChange:va(this.skipLocationChange),replaceUrl:va(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:va(this.preserveFragment)})}}return x.\u0275fac=function(_){return new(_||x)(T.Y36(wi),T.Y36(An),T.$8M("tabindex"),T.Y36(T.Qsj),T.Y36(T.SBq))},x.\u0275dir=T.lG2({type:x,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,P){1&_&&T.NdJ("click",function(){return P.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[T.TTD]}),x})(),js=(()=>{class x{constructor(_,P,B){this.router=_,this.route=P,this.locationStrategy=B,this.commands=null,this.href=null,this.onChanges=new Ee.x,this.subscription=_.events.subscribe(z=>{z instanceof hr&&this.updateTargetUrlAndHref()})}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,P,B,z,se){if(0!==_||P||B||z||se||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const ge={skipLocationChange:va(this.skipLocationChange),replaceUrl:va(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,ge),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:va(this.preserveFragment)})}}return x.\u0275fac=function(_){return new(_||x)(T.Y36(wi),T.Y36(An),T.Y36(sn.S$))},x.\u0275dir=T.lG2({type:x,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,P){1&_&&T.NdJ("click",function(z){return P.onClick(z.button,z.ctrlKey,z.shiftKey,z.altKey,z.metaKey)}),2&_&&T.uIk("target",P.target)("href",P.href,T.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[T.TTD]}),x})();function va(x){return""===x||!!x}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let ya=(()=>{class x{constructor(_,P,B,z,se,ge){this.router=_,this.element=P,this.renderer=B,this.cdr=z,this.link=se,this.linkWithHref=ge,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new T.vpe,this.routerEventsSubscription=_.events.subscribe($e=>{$e instanceof hr&&this.update()})}ngAfterContentInit(){(0,Ce.of)(this.links.changes,this.linksWithHrefs.changes,(0,Ce.of)(null)).pipe((0,Gn.J)()).subscribe(_=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var _;null===(_=this.linkInputChangesSubscription)||void 0===_||_.unsubscribe();const P=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(B=>!!B).map(B=>B.onChanges);this.linkInputChangesSubscription=(0,be.D)(P).pipe((0,Gn.J)()).subscribe(B=>{this.isActive!==this.isLinkActive(this.router)(B)&&this.update()})}set routerLinkActive(_){const P=Array.isArray(_)?_:_.split(" ");this.classes=P.filter(B=>!!B)}ngOnChanges(_){this.update()}ngOnDestroy(){var _;this.routerEventsSubscription.unsubscribe(),null===(_=this.linkInputChangesSubscription)||void 0===_||_.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const _=this.hasActiveLinks();this.isActive!==_&&(this.isActive=_,this.cdr.markForCheck(),this.classes.forEach(P=>{_?this.renderer.addClass(this.element.nativeElement,P):this.renderer.removeClass(this.element.nativeElement,P)}),this.isActiveChange.emit(_))})}isLinkActive(_){const P=function jo(x){return!!x.paths}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return B=>!!B.urlTree&&_.isActive(B.urlTree,P)}hasActiveLinks(){const _=this.isLinkActive(this.router);return this.link&&_(this.link)||this.linkWithHref&&_(this.linkWithHref)||this.links.some(_)||this.linksWithHrefs.some(_)}}return x.\u0275fac=function(_){return new(_||x)(T.Y36(wi),T.Y36(T.SBq),T.Y36(T.Qsj),T.Y36(T.sBO),T.Y36(go,8),T.Y36(js,8))},x.\u0275dir=T.lG2({type:x,selectors:[["","routerLinkActive",""]],contentQueries:function(_,P,B){if(1&_&&(T.Suo(B,go,5),T.Suo(B,js,5)),2&_){let z;T.iGM(z=T.CRH())&&(P.links=z),T.iGM(z=T.CRH())&&(P.linksWithHrefs=z)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[T.TTD]}),x})();class Ws{}class Ad{preload(b,_){return(0,Ce.of)(null)}}let Md=(()=>{class x{constructor(_,P,B,z){this.router=_,this.injector=B,this.preloadingStrategy=z,this.loader=new xd(B,P,$e=>_.triggerEvent(new Sn($e)),$e=>_.triggerEvent(new xn($e)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,te.h)(_=>_ instanceof hr),(0,zt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const _=this.injector.get(T.h0i);return this.processRoutes(_,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,P){const B=[];for(const z of P)if(z.loadChildren&&!z.canLoad&&z._loadedConfig){const se=z._loadedConfig;B.push(this.processRoutes(se.module,se.routes))}else z.loadChildren&&!z.canLoad?B.push(this.preloadConfig(_,z)):z.children&&B.push(this.processRoutes(_,z.children));return(0,be.D)(B).pipe((0,Gn.J)(),(0,Ke.U)(z=>{}))}preloadConfig(_,P){return this.preloadingStrategy.preload(P,()=>(P._loadedConfig?(0,Ce.of)(P._loadedConfig):this.loader.load(_.injector,P)).pipe((0,Nt.z)(z=>(P._loadedConfig=z,this.processRoutes(z.module,z.routes)))))}}return x.\u0275fac=function(_){return new(_||x)(T.LFG(wi),T.LFG(T.Sil),T.LFG(T.zs3),T.LFG(Ws))},x.\u0275prov=T.Yz7({token:x,factory:x.\u0275fac}),x})(),$s=(()=>{class x{constructor(_,P,B={}){this.router=_,this.viewportScroller=P,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof fn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof hr&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof me&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,P){this.router.triggerEvent(new me(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return x.\u0275fac=function(_){T.$Z()},x.\u0275prov=T.Yz7({token:x,factory:x.\u0275fac}),x})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const zs=new T.OlP("ROUTER_CONFIGURATION"),Id=new T.OlP("ROUTER_FORROOT_GUARD"),Ug=[sn.Ye,{provide:Lr,useClass:or},{provide:wi,useFactory:function Wo(x,b,_,P,B,z,se={},ge,$e){const Ut=new wi(null,x,b,_,P,B,Xt(z));return ge&&(Ut.urlHandlingStrategy=ge),$e&&(Ut.routeReuseStrategy=$e),function _a(x,b){x.errorHandler&&(b.errorHandler=x.errorHandler),x.malformedUriErrorHandler&&(b.malformedUriErrorHandler=x.malformedUriErrorHandler),x.onSameUrlNavigation&&(b.onSameUrlNavigation=x.onSameUrlNavigation),x.paramsInheritanceStrategy&&(b.paramsInheritanceStrategy=x.paramsInheritanceStrategy),x.relativeLinkResolution&&(b.relativeLinkResolution=x.relativeLinkResolution),x.urlUpdateStrategy&&(b.urlUpdateStrategy=x.urlUpdateStrategy),x.canceledNavigationResolution&&(b.canceledNavigationResolution=x.canceledNavigationResolution)}(se,Ut),se.enableTracing&&Ut.events.subscribe(un=>{var Wt,zn;null===(Wt=console.group)||void 0===Wt||Wt.call(console,`Router Event: ${un.constructor.name}`),console.log(un.toString()),console.log(un),null===(zn=console.groupEnd)||void 0===zn||zn.call(console)}),Ut},deps:[Lr,_i,sn.Ye,T.zs3,T.Sil,Jl,zs,[class oi{},new T.FiY],[class Iu{},new T.FiY]]},_i,{provide:An,useFactory:function ic(x){return x.routerState.root},deps:[wi]},Md,Ad,class mo{preload(b,_){return _().pipe((0,xt.K)(()=>(0,Ce.of)(null)))}},{provide:zs,useValue:{enableTracing:!1}}];function uh(){return new T.PXZ("Router",wi)}let Ru=(()=>{class x{constructor(_,P){}static forRoot(_,P){return{ngModule:x,providers:[Ug,rc(_),{provide:Id,useFactory:Nu,deps:[[wi,new T.FiY,new T.tp0]]},{provide:zs,useValue:P||{}},{provide:sn.S$,useFactory:ku,deps:[sn.lw,[new T.tBr(sn.mr),new T.FiY],zs]},{provide:$s,useFactory:nc,deps:[wi,sn.EM,zs]},{provide:Ws,useExisting:P&&P.preloadingStrategy?P.preloadingStrategy:Ad},{provide:T.PXZ,multi:!0,useFactory:uh},[Ta,{provide:T.ip1,multi:!0,useFactory:sc,deps:[Ta]},{provide:lh,useFactory:Lu,deps:[Ta]},{provide:T.tb,multi:!0,useExisting:lh}]]}}static forChild(_){return{ngModule:x,providers:[rc(_)]}}}return x.\u0275fac=function(_){return new(_||x)(T.LFG(Id,8),T.LFG(wi,8))},x.\u0275mod=T.oAB({type:x}),x.\u0275inj=T.cJS({}),x})();function nc(x,b,_){return _.scrollOffset&&b.setOffset(_.scrollOffset),new $s(x,b,_)}function ku(x,b,_={}){return _.useHash?new sn.Do(x,b):new sn.b0(x,b)}function Nu(x){return"guarded"}function rc(x){return[{provide:T.deG,multi:!0,useValue:x},{provide:Jl,multi:!0,useValue:x}]}let Ta=(()=>{class x{constructor(_){this.injector=_,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ee.x}appInitializer(){return this.injector.get(sn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let P=null;const B=new Promise(ge=>P=ge),z=this.injector.get(wi),se=this.injector.get(zs);return"disabled"===se.initialNavigation?(z.setUpLocationChangeListener(),P(!0)):"enabled"===se.initialNavigation||"enabledBlocking"===se.initialNavigation?(z.hooks.afterPreactivation=()=>this.initNavigation?(0,Ce.of)(null):(this.initNavigation=!0,P(!0),this.resultOfPreactivationDone),z.initialNavigation()):P(!0),B})}bootstrapListener(_){const P=this.injector.get(zs),B=this.injector.get(Md),z=this.injector.get($s),se=this.injector.get(wi),ge=this.injector.get(T.z2F);_===ge.components[0]&&(("enabledNonBlocking"===P.initialNavigation||void 0===P.initialNavigation)&&se.initialNavigation(),B.setUpPreloading(),z.init(),se.resetRootComponentType(ge.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return x.\u0275fac=function(_){return new(_||x)(T.LFG(T.zs3))},x.\u0275prov=T.Yz7({token:x,factory:x.\u0275fac}),x})();function sc(x){return x.appInitializer.bind(x)}function Lu(x){return x.bootstrapListener.bind(x)}const lh=new T.OlP("Router Initializer")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */},ft=>{ft(ft.s=2033)}]);