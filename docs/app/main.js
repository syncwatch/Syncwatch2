(self.webpackChunksyncwatch_frontend=self.webpackChunksyncwatch_frontend||[]).push([["main"],{7877:(rt,xe,U)=>{"use strict";var N=U(9808),f=U(4893);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class te extends N.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class _e extends te{static makeCurrent(){(0,N.HT)(new _e)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ee(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==e?null:function Ae(r){Re=Re||document.createElement("a"),Re.setAttribute("href",r);const t=Re.pathname;return"/"===t.charAt(0)?t:`/${t}`}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(e)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return(0,N.Mx)(document.cookie,t)}}let Re,me=null;const Me=new f.OlP("TRANSITION_ID"),Te=[{provide:f.ip1,useFactory:function Ce(r,t,e){return()=>{e.get(f.CZH).donePromise.then(()=>{const i=(0,N.q)(),n=t.querySelectorAll(`style[ng-transition="${r}"]`);for(let s=0;s<n.length;s++)i.remove(n[s])})}},deps:[Me,N.K0,f.zs3],multi:!0}];
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class ke{static init(){(0,f.VLi)(new ke)}addToWindow(t){f.dqk.getAngularTestability=(i,n=!0)=>{const s=t.findTestabilityInTree(i,n);if(null==s)throw new Error("Could not find testability for element.");return s},f.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(i=>{const n=f.dqk.getAllAngularTestabilities();let s=n.length,l=!1;const d=function(p){l=l||p,s--,0==s&&i(l)};n.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const n=t.getTestability(e);return null!=n?n:i?(0,N.q)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let je=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Le=new f.OlP("EventManagerPlugins");let vt=(()=>{class r{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(n=>n.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,n){return this._findPluginFor(i).addEventListener(e,i,n)}addGlobalEventListener(e,i,n){return this._findPluginFor(i).addGlobalEventListener(e,i,n)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const n=this._plugins;for(let s=0;s<n.length;s++){const l=n[s];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Le),f.LFG(f.R0b))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();class mt{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const n=(0,N.q)().getGlobalEventTarget(this._doc,t);if(!n)throw new Error(`Unsupported event target ${n} for event ${e}`);return this.addEventListener(n,e,i)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let De=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(n=>{this._stylesSet.has(n)||(this._stylesSet.add(n),i.add(n))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),ut=(()=>{class r extends De{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,n){e.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,n.push(i.appendChild(l))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Ze),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,n)=>{this._addStylesToHost(e,n,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ze))}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(N.K0))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();function Ze(r){(0,N.q)().remove(r)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Ke={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Xe=/%COMP%/g;function X(r,t,e){for(let i=0;i<t.length;i++){let n=t[i];Array.isArray(n)?X(r,n,e):(n=n.replace(Xe,r),e.push(n))}return e}function oe(r){return t=>{if("__ngUnwrap__"===t)return r;!1===r(t)&&(t.preventDefault(),t.returnValue=!1)}}let ve=(()=>{class r{constructor(e,i,n){this.eventManager=e,this.sharedStylesHost=i,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new de(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case f.ifc.Emulated:{let n=this.rendererByCompId.get(i.id);return n||(n=new Qe(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,n)),n.applyToHost(e),n}case 1:case f.ifc.ShadowDom:return new Je(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const n=X(i.id,i.styles,[]);this.sharedStylesHost.addStyles(n),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(vt),f.LFG(ut),f.LFG(f.AFp))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();class de{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ke[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,n){if(n){e=n+":"+e;const s=Ke[n];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const n=Ke[i];n?t.removeAttributeNS(n,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,n){n&(f.JOm.DashCase|f.JOm.Important)?t.style.setProperty(e,i,n&f.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&f.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,oe(i)):this.eventManager.addEventListener(t,e,oe(i))}}class Qe extends de{constructor(t,e,i,n){super(t),this.component=i;const s=X(n+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function K(r){return"_ngcontent-%COMP%".replace(Xe,r)}(n+"-"+i.id),this.hostAttr=function J(r){return"_nghost-%COMP%".replace(Xe,r)}(n+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Je extends de{constructor(t,e,i,n){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=X(n.id,n.styles,[]);for(let l=0;l<s.length;l++){const d=document.createElement("style");d.textContent=s[l],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let He=(()=>{class r extends mt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,n){return e.addEventListener(i,n,!1),()=>this.removeEventListener(e,i,n)}removeEventListener(e,i,n){return e.removeEventListener(i,n)}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(N.K0))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const pt=["alt","control","meta","shift"],It={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gt={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let Xn=(()=>{class r extends mt{constructor(e){super(e)}supports(e){return null!=r.parseEventName(e)}addEventListener(e,i,n){const s=r.parseEventName(i),l=r.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,N.q)().onAndCancel(e,s.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const s=r._normalizeKey(i.pop());let l="";if(pt.forEach(p=>{const m=i.indexOf(p);m>-1&&(i.splice(m,1),l+=p+".")}),l+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=n,d.fullKey=l,d}static getEventFullKey(e){let i="",n=function bn(r){let t=r.key;if(null==t){if(t=r.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===r.location&&Dt.hasOwnProperty(t)&&(t=Dt[t]))}return It[t]||t}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),pt.forEach(s=>{s!=n&&gt[s](e)&&(i+=s+".")}),i+=n,i}static eventCallback(e,i,n){return s=>{r.getEventFullKey(s)===e&&n.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(N.K0))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();const Ln=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:N.bD},{provide:f.g9A,useValue:function Qn(){_e.makeCurrent(),ke.init()},multi:!0},{provide:N.K0,useFactory:function Mr(){return(0,f.RDi)(document),document},deps:[]}]),_s=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function fn(){return new f.qLn},deps:[]},{provide:Le,useClass:He,multi:!0,deps:[N.K0,f.R0b,f.Lbi]},{provide:Le,useClass:Xn,multi:!0,deps:[N.K0]},{provide:ve,useClass:ve,deps:[vt,ut,f.AFp]},{provide:f.FYo,useExisting:ve},{provide:De,useExisting:ut},{provide:ut,useClass:ut,deps:[N.K0]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:vt,useClass:vt,deps:[Le,f.R0b]},{provide:N.JF,useClass:je,deps:[]}];let Kn=(()=>{class r{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:r,providers:[{provide:f.AFp,useValue:e.appId},{provide:Me,useExisting:f.AFp},Te]}}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(r,12))},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({providers:_s,imports:[N.ez,f.hGG]}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */"undefined"!=typeof window&&window;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
var mn=U(2461);const Ii="about:now",On={BASE_URL:Ii,LOGIN_URL:`${Ii}/login`,LOGOUT_URL:`${Ii}/logout`,SESSIONS_URL:`${Ii}/sessions`,DELETE_SESSIONS_URL:`${Ii}/delete-sessions`,THUMBNAIL_URL:"https://static.wikia.nocookie.net/overgeared/images/e/ea/GridWebtoon2020.png",MOVIE_URL:`${Ii}/movie`,MOVIES_URL:`${Ii}/movies`,MOVIE_STREAM_URL:"https://dl8.webmfiles.org/big-buck-bunny_trailer.webm"};function _r(r,t,e,i,n,s,l){try{var d=r[s](l),p=d.value}catch(m){return void e(m)}d.done?t(p):Promise.resolve(p).then(i,n)}function Yt(r){return function(){var t=this,e=arguments;return new Promise(function(i,n){var s=r.apply(t,e);function l(p){_r(s,i,n,l,d,"next",p)}function d(p){_r(s,i,n,l,d,"throw",p)}l(void 0)})}}var oi=U(8421),Tn=U(8306),vn=U(5577),Oi=U(1144),en=U(576),yi=U(3268);const yr=["addListener","removeListener"],ss=["addEventListener","removeEventListener"],as=["on","off"];function Un(r,t,e,i){if((0,en.m)(e)&&(i=e,e=void 0),i)return Un(r,t,e).pipe((0,yi.Z)(i));const[n,s]=function lr(r){return(0,en.m)(r.addEventListener)&&(0,en.m)(r.removeEventListener)}(r)?ss.map(l=>d=>r[l](t,d,e)):function di(r){return(0,en.m)(r.addListener)&&(0,en.m)(r.removeListener)}(r)?yr.map(os(r,t)):function Dc(r){return(0,en.m)(r.on)&&(0,en.m)(r.off)}(r)?as.map(os(r,t)):[];if(!n&&(0,Oi.z)(r))return(0,vn.z)(l=>Un(l,t,e))((0,oi.Xf)(r));if(!n)throw new TypeError("Invalid event target");return new Tn.y(l=>{const d=(...p)=>l.next(1<p.length?p:p[0]);return n(d),()=>s(d)})}function os(r,t){return e=>i=>r[e](t,i)}var tt=U(4004),Wt=U(6805),_n=U(930);function sn(r,t){const e="object"==typeof t;return new Promise((i,n)=>{const s=new _n.Hp({next:l=>{i(l),s.unsubscribe()},error:n,complete:()=>{e?i(t.defaultValue):n(new Wt.K)}});r.subscribe(s)})}var Sn=U(9300),Zt=U(5698),Pn=U(9646);let Dn=(()=>{class r{constructor(){this.byteSizes=[{v:1e9,s:"GB"},{v:1e6,s:"MB"},{v:1e3,s:"KB"},{v:1,s:"B"}],this.workerMessageCounter=0,this.setupWorker()}setupWorker(){"undefined"!=typeof Worker?(this.worker=new Worker(U.tu(new URL(U.p+U.u("src_app_shared_worker_indexeddb_worker_ts"),U.b))),this.workerMessages=Un(this.worker,"message").pipe((0,tt.U)(e=>e.data))):console.error("worker not supported")}workerPostMessage(e,i){const n=this.workerMessageCounter;return this.workerMessageCounter++,this.worker.postMessage({counter:n,event:e,data:i}),sn(this.workerMessages.pipe((0,Sn.h)(({counter:s})=>s===n),(0,tt.U)(s=>{if("data"in s)return s.data;throw new Error(s)}),(0,Zt.q)(1)))}bytesToReadable(e){if(void 0===e)return"Unknown";for(let i of this.byteSizes)if(e>=i.v)return`${(e/i.v).toFixed()} ${i.s}`;return e.toFixed()}isStoragePersisted(){return Yt(function*(){return(yield navigator.storage)&&navigator.storage.persisted?navigator.storage.persisted():Promise.reject("storage not available")})()}persist(){return Yt(function*(){return(yield navigator.storage)&&navigator.storage.persist?navigator.storage.persist():Promise.reject("storage not available")})()}getStorageEstimate(){return Yt(function*(){return(yield navigator.storage)&&navigator.storage.estimate?navigator.storage.estimate():Promise.reject("storage not available")})()}getStorageEstimateReadable(){var e=this;return Yt(function*(){return yield sn((0,Pn.of)(yield e.getStorageEstimate()).pipe((0,tt.U)(i=>({quota:e.bytesToReadable(i.quota),usage:e.bytesToReadable(i.usage)}))))})()}getIndexedDBEstimate(){var e=this;return Yt(function*(){return yield sn((0,Pn.of)(yield e.getStorageEstimate()).pipe((0,tt.U)(i=>{let n=i.usage;return i.usageDetails&&(n=0,i.usageDetails.indexedDB&&(n=i.usageDetails.indexedDB)),{quota:i.quota,usage:n}})))})()}getIndexedDBEstimateReadable(){var e=this;return Yt(function*(){return yield sn((0,Pn.of)(yield e.getIndexedDBEstimate()).pipe((0,tt.U)(i=>({quota:e.bytesToReadable(i.quota),usage:e.bytesToReadable(i.usage)}))))})()}tryPersistWithoutPromtingUser(){return Yt(function*(){if(!navigator.storage||!navigator.storage.persisted)return"never";let e=yield navigator.storage.persisted();if(e)return"persisted";if(!navigator.permissions||!navigator.permissions.query)return"prompt";const i=yield navigator.permissions.query({name:"persistent-storage"});if("granted"===i.state){if(e=yield navigator.storage.persist(),e)return"persisted";throw new Error("Failed to persist")}return"prompt"===i.state?"prompt":"never"})()}getMovies(){var e=this;return Yt(function*(){return yield e.workerPostMessage("getMovies")})()}getMovie(e){var i=this;return Yt(function*(){return yield i.workerPostMessage("getMovie",e)})()}putMovie(e){var i=this;return Yt(function*(){return yield i.workerPostMessage("putMovie",e)})()}putMovieFragment(e){var i=this;return Yt(function*(){return yield i.workerPostMessage("putMovieFragment",e)})()}deleteMovieAndFragments(e){var i=this;return Yt(function*(){return yield i.workerPostMessage("deleteMovieAndFragments",e)})()}putThumbnail(e){var i=this;return Yt(function*(){return yield i.workerPostMessage("putThumbnail",e)})()}deleteThumbnail(e){var i=this;return Yt(function*(){return yield i.workerPostMessage("deleteThumbnail",e)})()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();function br(r,t){1&r&&(f.TgZ(0,"p"),f._uU(1,"Storage not supported"),f.qZA())}function Ts(r,t){if(1&r&&(f.TgZ(0,"p"),f._uU(1),f.qZA()),2&r){const e=f.oxw();f.xp6(1),f.AsE("Used ",e.storageUsage," of ",e.storageQuota,"")}}let $t=(()=>{class r{constructor(e,i){this.ref=e,this.storageService=i,this.storageSupported=!0,this.storageQuota="",this.storageUsage=""}ngOnInit(){this.storageService.getIndexedDBEstimateReadable().then(e=>{this.storageQuota=e.quota,this.storageUsage=e.usage,this.ref.detectChanges()}).catch(e=>{this.storageSupported=!1,this.ref.detectChanges()})}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.sBO),f.Y36(Dn))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-downloads"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["container",""]],template:function(e,i){if(1&e&&(f.YNc(0,br,2,0,"p",0),f.YNc(1,Ts,2,2,"ng-template",null,1,f.W1O)),2&e){const n=f.MAs(2);f.Q6J("ngIf",!i.storageSupported)("ngIfElse",n)}},directives:[N.O5],styles:[""],changeDetection:0}),r})();const Zi={UKNOWN:"Unknown"},ls={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Zi.UKNOWN},Wr={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},ur={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},Rn={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Zi.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},Or=[Rn.PS4,Rn.CHROME_BOOK,Rn.MAC,Rn.DELL,Rn.ASUS,Rn.UNKNOWN],us={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Zi.UKNOWN},Pi={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Zi.UKNOWN.toLowerCase()},Cn={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},Yl=Object.assign(Object.assign(Object.assign(Object.assign({},Wr),ur),Cn),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),Ri={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},bi={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},zs=Object.keys(Ri).reduce((r,t)=>(r[t]=Ri[t],r),{}),Ta=Object.keys(bi).reduce((r,t)=>(r[ls[t]]=bi[t],r),{});var kn=Object.freeze({__proto__:null,GENERAL:Zi,BROWSERS:ls,MOBILES_RE:Wr,TABLETS_RE:ur,DEVICES:Rn,DESKTOP_DEVICES:Or,OS:us,OS_VERSIONS:Pi,OS_RE:Cn,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:Yl,OS_VERSIONS_RE_MAP:Ri,BROWSER_VERSIONS_RE_MAP:bi,OS_VERSIONS_RE:zs,BROWSER_VERSIONS_RE:Ta});class Tr{constructor(){}test(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every(i=>this.test(t,i)):e&&Array.isArray(e.or)?e.or.some(i=>this.test(t,i)):!(!e||!e.not||this.test(t,e.not))}exec(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(t):e&&Array.isArray(e)?e.reduce((i,n)=>i||this.exec(t,n),null):null}}var $r=(()=>{return(r=$r||($r={})).Mobile="mobile",r.Tablet="tablet",r.Desktop="desktop",r.Unknown="unknown",$r;var r})(),Za=(()=>{return(r=Za||(Za={})).Portrait="portrait",r.Landscape="landscape",Za;var r})();const Fo="iPad";let Kl=(()=>{class r{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new Tr,this.deviceType="",this.orientation="",(0,N.NF)(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(n=>{this[n.prop]=Object.keys(kn[n.const]).reduce((s,l)=>"device"===kn[n.const][l]&&(0,N.NF)(this.platformId)&&(this.reTree.test(this.userAgent,ur[Fo])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(s[kn[n.const][l]]=Fo,Object):(s[kn[n.const][l]]=this.reTree.test(e,kn[`${n.const}_RE`][l]),s),{})}),i.forEach(n=>{this[n.prop]=Object.keys(kn[n.const]).map(s=>kn[n.const][s]).reduce((s,l)=>"device"===n.prop&&s===kn[n.const].ANDROID?this[n.prop][l]?l:s:s===kn[n.const].UNKNOWN&&this[n.prop][l]?l:s,kn[n.const].UNKNOWN)}),this.browser_version="0",this.browser!==ls.UNKNOWN){const s=this.reTree.exec(e,Ta[this.browser]);s&&(this.browser_version=s[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?Za.Landscape:Za.Portrait:Zi.UKNOWN,this.deviceType=this.isTablet()?$r.Tablet:this.isMobile(this.userAgent)?$r.Mobile:this.isDesktop(this.userAgent)?$r.Desktop:$r.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(Wr).find(n=>this.reTree.test(e,Wr[n]))}isTablet(e=this.userAgent){return!(!(0,N.NF)(this.platformId)||!(this.reTree.test(this.userAgent,ur[Fo])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(ur).find(n=>!!this.reTree.test(e,ur[n]))}isDesktop(e=this.userAgent){return(this.device!==Rn.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&Or.indexOf(this.device)>-1}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(f.Lbi))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ja=(()=>{class r{constructor(e){this.deviceService=e}lockOrientation(e){const i=screen;i.orientation?i.orientation.lock(e):i.lockOrientation?i.lockOrientation(e):i.mozLockOrientation?i.mozLockOrientation(e):i.msLockOrientation&&i.msLockOrientation(e)}unlockOrientation(){const e=screen;e.orientation?e.orientation.unlock():e.lockOrientation?e.unlockOrientation():e.mozLockOrientation?e.mozUnlockOrientation():e.msLockOrientation&&e.msUnlockOrientation()}requestFullscreenMobile(){this.deviceService.isDesktop()||this.requestFullscreen()}requestFullscreen(){const e=document.body;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}exitFullscreen(){if(!this.isFullscreen())return;const e=document;e.exitFullscreen?e.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitExitFullscreen?e.webkitExitFullscreen():e.msExitFullscreen&&e.msExitFullscreen()}isFullscreen(){const e=document;return e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Kl))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();function Lo(r,t){1&r&&(f.TgZ(0,"div",2),f._uU(1," SAFE BOX\n"),f.qZA())}const cf=function(){return[]};let ql=(()=>{class r{constructor(e){this.displayService=e}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(Ja))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-home"]],decls:13,vars:2,consts:[["type","button",1,"btn","btn-primary",3,"click"],["class","bg-danger mt-2 m-safe-x w-100",4,"ngFor","ngForOf"],[1,"bg-danger","mt-2","m-safe-x","w-100"]],template:function(e,i){1&e&&(f.TgZ(0,"p"),f._uU(1,"home works!"),f.qZA(),f.TgZ(2,"button",0),f.NdJ("click",function(){return i.displayService.requestFullscreen()}),f._uU(3," Enter Fullscreen\n"),f.qZA(),f.TgZ(4,"button",0),f.NdJ("click",function(){return i.displayService.exitFullscreen()}),f._uU(5," Exit Fullscreen\n"),f.qZA(),f.TgZ(6,"button",0),f.NdJ("click",function(){return i.displayService.lockOrientation("landscape")}),f._uU(7," Lock Rotation landscape\n"),f.qZA(),f.TgZ(8,"button",0),f.NdJ("click",function(){return i.displayService.lockOrientation("portrait")}),f._uU(9," Lock Rotation portrait\n"),f.qZA(),f.TgZ(10,"button",0),f.NdJ("click",function(){return i.displayService.unlockOrientation()}),f._uU(11," Unlock Rotation\n"),f.qZA(),f.YNc(12,Lo,2,0,"div",1)),2&e&&(f.xp6(12),f.Q6J("ngForOf",f.DdM(1,cf).constructor(30)))},directives:[N.sg],styles:[""]}),r})();var Bo=U(2076),Ec=U(4742),Ho=U(3269),Ss=U(5403),df=U(1810);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Uo=(()=>{class r{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=n=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.Qsj),f.Y36(f.SBq))},r.\u0275dir=f.lG2({type:r}),r})(),Ji=(()=>{class r extends Uo{}return r.\u0275fac=function(){let t;return function(i){return(t||(t=f.n5z(r)))(i||r)}}(),r.\u0275dir=f.lG2({type:r,features:[f.qOj]}),r})();const cr=new f.OlP("NgValueAccessor"),Ys={provide:cr,useExisting:(0,f.Gpc)(()=>eo),multi:!0};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let eo=(()=>{class r extends Ji{writeValue(e){this.setProperty("checked",e)}}return r.\u0275fac=function(){let t;return function(i){return(t||(t=f.n5z(r)))(i||r)}}(),r.\u0275dir=f.lG2({type:r,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,i){1&e&&f.NdJ("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[f._Bn([Ys]),f.qOj]}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Vo={provide:cr,useExisting:(0,f.Gpc)(()=>Cs),multi:!0},Ql=new f.OlP("CompositionEventMode");let Cs=(()=>{class r extends Uo{constructor(e,i,n){super(e,i),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Xl(){const r=(0,N.q)()?(0,N.q)().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Ql,8))},r.\u0275dir=f.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&f.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[f._Bn([Vo]),f.qOj]}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ti(r){return null==r||0===r.length}function Zl(r){return null!=r&&"number"==typeof r.length}const Vn=new f.OlP("NgValidators"),Sr=new f.OlP("NgAsyncValidators"),xc=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Go{static min(t){return function to(r){return t=>{if(Ti(t.value)||Ti(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}(t)}static max(t){return function Jl(r){return t=>{if(Ti(t.value)||Ti(r))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>r?{max:{max:r,actual:t.value}}:null}}(t)}static required(t){return function Ac(r){return Ti(r.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Sa(r){return!0===r.value?null:{required:!0}}(t)}static email(t){return function dr(r){return Ti(r.value)||xc.test(r.value)?null:{email:!0}}(t)}static minLength(t){return function Gi(r){return t=>Ti(t.value)||!Zl(t.value)?null:t.value.length<r?{minlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Ca(r){return t=>Zl(t.value)&&t.value.length>r?{maxlength:{requiredLength:r,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Ks(r){if(!r)return zr;let t,e;return"string"==typeof r?(e="","^"!==r.charAt(0)&&(e+="^"),e+=r,"$"!==r.charAt(r.length-1)&&(e+="$"),t=new RegExp(e)):(e=r.toString(),t=r),i=>{if(Ti(i.value))return null;const n=i.value;return t.test(n)?null:{pattern:{requiredPattern:e,actualValue:n}}}}(t)}static nullValidator(t){return null}static compose(t){return se(t)}static composeAsync(t){return st(t)}}function zr(r){return null}function Mc(r){return null!=r}function eu(r){const t=(0,f.QGY)(r)?(0,Bo.D)(r):r;return(0,f.CqO)(t),t}function O(r){let t={};return r.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function $(r,t){return t.map(e=>e(r))}function Y(r){return r.map(t=>function P(r){return!r.validate}(t)?t:e=>t.validate(e))}function se(r){if(!r)return null;const t=r.filter(Mc);return 0==t.length?null:function(e){return O($(e,t))}}function Ue(r){return null!=r?se(Y(r)):null}function st(r){if(!r)return null;const t=r.filter(Mc);return 0==t.length?null:function(e){return function wc(...r){const t=(0,Ho.jO)(r),{args:e,keys:i}=(0,Ec.D)(r),n=new Tn.y(s=>{const{length:l}=e;if(!l)return void s.complete();const d=new Array(l);let p=l,m=l;for(let y=0;y<l;y++){let M=!1;(0,oi.Xf)(e[y]).subscribe((0,Ss.x)(s,A=>{M||(M=!0,m--),d[y]=A},()=>p--,void 0,()=>{(!p||!M)&&(m||s.next(i?(0,df.n)(i,d):d),s.complete())}))}});return t?n.pipe((0,yi.Z)(t)):n}($(e,t).map(eu)).pipe((0,tt.U)(O))}}function ht(r){return null!=r?st(Y(r)):null}function En(r,t){return null===r?[t]:Array.isArray(r)?[...r,t]:[r,t]}function Fn(r){return r._rawValidators}function yn(r){return r._rawAsyncValidators}function Vt(r){return r?Array.isArray(r)?r:[r]:[]}function li(r,t){return Array.isArray(r)?r.includes(t):r===t}function wn(r,t){const e=Vt(t);return Vt(r).forEach(n=>{li(e,n)||e.push(n)}),e}function Gn(r,t){return Vt(t).filter(e=>!li(r,e))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class fi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ue(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Ei extends fi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class jn extends fi{get formDirective(){return null}get path(){return null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Ds{constructor(t){this._cd=t}is(t){var e,i,n;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(n=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===n?void 0:n[t])}}let Da=(()=>{class r extends Ds{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(Ei,2))},r.\u0275dir=f.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&f.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[f.qOj]}),r})(),Bt=(()=>{class r extends Ds{constructor(e){super(e)}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(jn,10))},r.\u0275dir=f.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&f.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[f.qOj]}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Wo(r,t){Pr(r,t),t.valueAccessor.writeValue(r.value),function wa(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&gf(r,t)})}(r,t),function mf(r,t){const e=(i,n)=>{t.valueAccessor.writeValue(i),n&&t.viewToModelUpdate(i)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}(r,t),function Es(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&gf(r,t),"submit"!==r.updateOn&&r.markAsTouched()})}(r,t),function ji(r,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}(r,t)}function Xs(r,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),io(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function no(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Pr(r,t){const e=Fn(r);null!==t.validator?r.setValidators(En(e,t.validator)):"function"==typeof e&&r.setValidators([e]);const i=yn(r);null!==t.asyncValidator?r.setAsyncValidators(En(i,t.asyncValidator)):"function"==typeof i&&r.setAsyncValidators([i]);const n=()=>r.updateValueAndValidity();no(t._rawValidators,n),no(t._rawAsyncValidators,n)}function io(r,t){let e=!1;if(null!==r){if(null!==t.validator){const n=Fn(r);if(Array.isArray(n)&&n.length>0){const s=n.filter(l=>l!==t.validator);s.length!==n.length&&(e=!0,r.setValidators(s))}}if(null!==t.asyncValidator){const n=yn(r);if(Array.isArray(n)&&n.length>0){const s=n.filter(l=>l!==t.asyncValidator);s.length!==n.length&&(e=!0,r.setAsyncValidators(s))}}}const i=()=>{};return no(t._rawValidators,i),no(t._rawAsyncValidators,i),e}function gf(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function ru(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const ws="VALID",au="INVALID",so="PENDING",hn="DISABLED";function Wn(r){return(zo(r)?r.validators:r)||null}function ou(r){return Array.isArray(r)?Ue(r):r||null}function ao(r,t){return(zo(t)?t.asyncValidators:r)||null}function xa(r){return Array.isArray(r)?ht(r):r||null}function zo(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}const Tf=r=>r instanceof Yr,lu=r=>r instanceof Rr;function oo(r){return Tf(r)?r.value:r.getRawValue()}function lo(r,t){const e=lu(r),i=r.controls;if(!(e?Object.keys(i):i).length)throw new f.vHH(1e3,"");if(!i[t])throw new f.vHH(1001,"")}function uo(r,t){lu(r),r._forEachChild((i,n)=>{if(void 0===t[n])throw new f.vHH(1002,"")})}class Fc{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ou(this._rawValidators),this._composedAsyncValidatorFn=xa(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ws}get invalid(){return this.status===au}get pending(){return this.status==so}get disabled(){return this.status===hn}get enabled(){return this.status!==hn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ou(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=xa(t)}addValidators(t){this.setValidators(wn(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(wn(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Gn(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Gn(t,this._rawAsyncValidators))}hasValidator(t){return li(this._rawValidators,t)}hasAsyncValidator(t){return li(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=so,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=hn,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ws,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ws||this.status===so)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?hn:ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=so,this._hasOwnPendingAsyncValidator=!0;const e=eu(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Qs(r,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=r;return t.forEach(n=>{i=lu(i)?i.controls.hasOwnProperty(n)?i.controls[n]:null:(r=>r instanceof Yo)(i)&&i.at(n)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?hn:this.errors?au:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(so)?so:this._anyControlsHaveStatus(au)?au:ws}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Yr extends Fc{constructor(t=null,e,i){super(Wn(e),ao(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),zo(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ru(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ru(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Rr extends Fc{constructor(t,e,i){super(Wn(e),ao(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){uo(this,t),Object.keys(t).forEach(i=>{lo(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,n)=>{i.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=oo(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((n,s)=>{i=e(i,n,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Yo extends Fc{constructor(t,e,i){super(Wn(e),ao(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){uo(this,t),t.forEach((i,n)=>{lo(this,n),this.at(n).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,n)=>{this.at(n)&&this.at(n).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,n)=>{i.reset(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>oo(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Bc=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=f.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})(),I=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Ve=new f.OlP("NgModelWithFormControlWarning"),Pt={provide:jn,useExisting:(0,f.Gpc)(()=>nn)};let nn=(()=>{class r extends jn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(io(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Wo(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Xs(e.control||null,e,!1),ru(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function ro(r,t){r._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,n=this.form.get(e.path);i!==n&&(Xs(i||null,e),Tf(n)&&(Wo(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function vf(r,t){Pr(r,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function _f(r,t){return io(r,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Pr(this.form,this),this._oldForm&&io(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(Vn,10),f.Y36(Sr,10))},r.\u0275dir=f.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&f.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Pt]),f.qOj,f.TTD]}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const fo={provide:Ei,useExisting:(0,f.Gpc)(()=>Hc)};let Hc=(()=>{class r extends Ei{constructor(e,i,n,s,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(n),this.valueAccessor=function iu(r,t){if(!t)return null;let e,i,n;return Array.isArray(t),t.forEach(s=>{s.constructor===Cs?e=s:function nu(r){return Object.getPrototypeOf(r.constructor)===Ji}(s)?i=s:n=s}),n||i||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function kc(r,t){if(!r.hasOwnProperty("model"))return!1;const e=r.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
return function Pc(r,t){return[...t.path,r]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r._ngModelWarningSentOnce=!1,r.\u0275fac=function(e){return new(e||r)(f.Y36(jn,13),f.Y36(Vn,10),f.Y36(Sr,10),f.Y36(cr,10),f.Y36(Ve,8))},r.\u0275dir=f.lG2({type:r,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([fo]),f.qOj,f.TTD]}),r})(),As=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[I]]}),r})(),Hp=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[As]}),r})(),Sf=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:Ve,useValue:e.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[As]}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
var yu=U(262),Df=U(2843),fs=U(8505),y0=U(4351);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Fr{}class Ef{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Lr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const n=e.slice(0,i),s=n.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(n,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const n=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(n,i),this.maybeSetNormalizedName(e,n))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Lr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Lr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Lr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const n=("a"===t.op?this.headers.get(e):void 0)||[];n.push(...i),this.headers.set(e,n);break;case"d":const s=t.value;if(s){let l=this.headers.get(e);if(!l)return;l=l.filter(d=>-1===s.indexOf(d)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class fE{encodeKey(t){return T0(t)}encodeValue(t){return T0(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const d1=/%(\d[a-f0-9])/gi,f1={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function T0(r){return encodeURIComponent(r).replace(d1,(t,e)=>{var i;return null!==(i=f1[e])&&void 0!==i?i:t})}function S0(r){return`${r}`}class ho{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new fE,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function b0(r,t){const e=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(n=>{const s=n.indexOf("="),[l,d]=-1==s?[t.decodeKey(n),""]:[t.decodeKey(n.slice(0,s)),t.decodeValue(n.slice(s+1))],p=e.get(l)||[];p.push(d),e.set(l,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const n=t[i];Array.isArray(n)?n.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:n,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ho({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(S0(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const n=i.indexOf(S0(t.value));-1!==n&&i.splice(n,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Up{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function p1(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function bu(r){return"undefined"!=typeof Blob&&r instanceof Blob}function xf(r){return"undefined"!=typeof FormData&&r instanceof FormData}class jc{constructor(t,e,i,n){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function wf(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,s=n):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Lr),this.context||(this.context=new Up),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+l}}else this.params=new ho,this.urlWithParams=e}serializeBody(){return null===this.body?null:p1(this.body)||bu(this.body)||xf(this.body)||function Af(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ho?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xf(this.body)?null:bu(this.body)?this.body.type||null:p1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ho?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,n=t.url||this.url,s=t.responseType||this.responseType,l=void 0!==t.body?t.body:this.body,d=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,p=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let m=t.headers||this.headers,y=t.params||this.params;const M=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(m=Object.keys(t.setHeaders).reduce((A,k)=>A.set(k,t.setHeaders[k]),m)),t.setParams&&(y=Object.keys(t.setParams).reduce((A,k)=>A.set(k,t.setParams[k]),y)),new jc(i,n,l,{params:y,headers:m,context:M,reportProgress:p,responseType:s,withCredentials:d})}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */var Ai=(()=>((Ai=Ai||{})[Ai.Sent=0]="Sent",Ai[Ai.UploadProgress=1]="UploadProgress",Ai[Ai.ResponseHeader=2]="ResponseHeader",Ai[Ai.DownloadProgress=3]="DownloadProgress",Ai[Ai.Response=4]="Response",Ai[Ai.User=5]="User",Ai))();class Vp{constructor(t,e=200,i="OK"){this.headers=t.headers||new Lr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Mf extends Vp{constructor(t={}){super(t),this.type=Ai.ResponseHeader}clone(t={}){return new Mf({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Nf extends Vp{constructor(t={}){super(t),this.type=Ai.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Nf({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Tu extends Vp{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function If(r,t){return{body:t,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let Wc=(()=>{class r{constructor(e){this.handler=e}request(e,i,n={}){let s;if(e instanceof jc)s=e;else{let p,m;p=n.headers instanceof Lr?n.headers:new Lr(n.headers),n.params&&(m=n.params instanceof ho?n.params:new ho({fromObject:n.params})),s=new jc(e,i,void 0!==n.body?n.body:null,{headers:p,context:n.context,params:m,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const l=(0,Pn.of)(s).pipe((0,y0.b)(p=>this.handler.handle(p)));if(e instanceof jc||"events"===n.observe)return l;const d=l.pipe((0,Sn.h)(p=>p instanceof Nf));switch(n.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,tt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,tt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,tt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,tt.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ho).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,n={}){return this.request("PATCH",e,If(n,i))}post(e,i,n={}){return this.request("POST",e,If(n,i))}put(e,i,n={}){return this.request("PUT",e,If(n,i))}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Fr))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Wi{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Of=new f.OlP("HTTP_INTERCEPTORS");let g1=(()=>{class r{intercept(e,i){return i.handle(e)}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const $c=/^\)\]\}',?\n/;let jp=(()=>{class r{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Tn.y(i=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((k,W)=>n.setRequestHeader(k,W.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const k=e.detectContentTypeHeader();null!==k&&n.setRequestHeader("Content-Type",k)}if(e.responseType){const k=e.responseType.toLowerCase();n.responseType="json"!==k?k:"text"}const s=e.serializeBody();let l=null;const d=()=>{if(null!==l)return l;const k=n.statusText||"OK",W=new Lr(n.getAllResponseHeaders()),H=function v1(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(n)||e.url;return l=new Mf({headers:W,status:n.status,statusText:k,url:H}),l},p=()=>{let{headers:k,status:W,statusText:H,url:j}=d(),le=null;204!==W&&(le=void 0===n.response?n.responseText:n.response),0===W&&(W=le?200:0);let he=W>=200&&W<300;if("json"===e.responseType&&"string"==typeof le){const Ne=le;le=le.replace($c,"");try{le=""!==le?JSON.parse(le):null}catch(Ie){le=Ne,he&&(he=!1,le={error:Ie,text:le})}}he?(i.next(new Nf({body:le,headers:k,status:W,statusText:H,url:j||void 0})),i.complete()):i.error(new Tu({error:le,headers:k,status:W,statusText:H,url:j||void 0}))},m=k=>{const{url:W}=d(),H=new Tu({error:k,status:n.status||0,statusText:n.statusText||"Unknown Error",url:W||void 0});i.error(H)};let y=!1;const M=k=>{y||(i.next(d()),y=!0);let W={type:Ai.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(W.total=k.total),"text"===e.responseType&&!!n.responseText&&(W.partialText=n.responseText),i.next(W)},A=k=>{let W={type:Ai.UploadProgress,loaded:k.loaded};k.lengthComputable&&(W.total=k.total),i.next(W)};return n.addEventListener("load",p),n.addEventListener("error",m),n.addEventListener("timeout",m),n.addEventListener("abort",m),e.reportProgress&&(n.addEventListener("progress",M),null!==s&&n.upload&&n.upload.addEventListener("progress",A)),n.send(s),i.next({type:Ai.Sent}),()=>{n.removeEventListener("error",m),n.removeEventListener("abort",m),n.removeEventListener("load",p),n.removeEventListener("timeout",m),e.reportProgress&&(n.removeEventListener("progress",M),null!==s&&n.upload&&n.upload.removeEventListener("progress",A)),n.readyState!==n.DONE&&n.abort()}})}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(N.JF))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const zc=new f.OlP("XSRF_COOKIE_NAME"),Su=new f.OlP("XSRF_HEADER_NAME");class Wp{}let _1=(()=>{class r{constructor(e,i,n){this.doc=e,this.platform=i,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,N.Mx)(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(N.K0),f.LFG(f.Lbi),f.LFG(zc))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),$p=(()=>{class r{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Wp),f.LFG(Su))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),Cu=(()=>{class r{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Of,[]);this.chain=i.reduceRight((n,s)=>new Wi(n,s),this.backend)}return this.chain.handle(e)}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Ef),f.LFG(f.zs3))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),vE=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:$p,useClass:g1}]}}static withOptions(e={}){return{ngModule:r,providers:[e.cookieName?{provide:zc,useValue:e.cookieName}:[],e.headerName?{provide:Su,useValue:e.headerName}:[]]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({providers:[$p,{provide:Of,useExisting:$p,multi:!0},{provide:Wp,useClass:_1},{provide:zc,useValue:"XSRF-TOKEN"},{provide:Su,useValue:"X-XSRF-TOKEN"}]}),r})(),D0=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({providers:[Wc,{provide:Fr,useClass:Cu},jp,{provide:Ef,useExisting:jp}],imports:[[vE.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
var er=U(7579);let el=(()=>{class r{constructor(){this.voluntaryOffline=!1,this.networkOffline=!1,this.changes=new er.x,this.networkOffline=!navigator.onLine,Un(window,"online").subscribe(()=>{this.networkOffline=!1,this.changes.next()}),Un(window,"offline").subscribe(()=>{this.networkOffline=!0,this.changes.next()})}setVoluntaryOffline(e){this.voluntaryOffline=e,this.changes.next()}isVoluntaryOffline(){return!this.networkOffline&&this.voluntaryOffline}isOffline(){return this.voluntaryOffline||this.networkOffline}isOnline(){return!this.isOffline()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),Js=(()=>{class r{constructor(e,i){this.http=e,this.syncService=i}getStorage(){return localStorage}login(e,i,n){return this.http.post(On.LOGIN_URL,{username:e,password:i}).pipe((0,fs.b)(s=>this.setSession(s,n)))}logout(){return this.http.post(On.LOGOUT_URL,{},{headers:{Authorization:this.getSessionToken()}}).pipe((0,yu.K)(e=>(this.clearStorage(),(0,Df._)(()=>e))),(0,fs.b)(()=>this.clearStorage()))}isLoggedIn(){return!this.syncService.isOnline()||this.isOnlineLoggedIn()}isOnlineLoggedIn(){const e=this.getExpiration();return void 0!==e&&(-1===e||Math.floor((new Date).getTime()/1e3)<e)}setSession(e,i){localStorage.setItem("stay_signedin",i?"1":"0"),this.getStorage().setItem("session_token",e.session_token),this.getStorage().setItem("session_expires",JSON.stringify(e.expires))}getExpiration(){const e=this.getStorage().getItem("session_expires");if(null!==e)return JSON.parse(e)}getStaySignedin(){return"1"===localStorage.getItem("stay_signedin")}getSessionToken(){const e=this.getStorage().getItem("session_token");return null===e?"":e}unload(){this.getStaySignedin()||!this.isOnlineLoggedIn()||this.logout().subscribe()}clearStorage(){this.getStorage().removeItem("session_token"),this.getStorage().removeItem("session_expires"),localStorage.removeItem("stay_signedin")}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Wc),f.LFG(el))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),Yc=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-logo"]],decls:4,vars:0,consts:[[1,"logo-container","d-flex","align-items-center","justify-content-center"],["src","assets/icons/icon-512x512.png",1,"logo-image"],[1,"logo-text","ms-1"]],template:function(e,i){1&e&&(f.TgZ(0,"div",0),f._UZ(1,"img",1),f.TgZ(2,"span",2),f._uU(3," Syncwatch "),f.qZA()())},styles:[".logo-image[_ngcontent-%COMP%]{height:3rem}.logo-text[_ngcontent-%COMP%]{font-weight:700;font-size:2rem}.logo-lg[_nghost-%COMP%]   .logo-image[_ngcontent-%COMP%]{height:4rem}.logo-lg[_nghost-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-weight:700;font-size:3rem}"]}),r})();function zp(r,t){1&r&&f._UZ(0,"span",13)}function Du(r,t){if(1&r&&(f.TgZ(0,"div",14),f._uU(1),f.qZA()),2&r){const e=f.oxw();f.xp6(1),f.Oqu(e.errorMessage)}}let y1=(()=>{class r{constructor(e,i,n){this.authService=e,this.router=i,this.syncService=n,this.errorMessage="",this.loading=!1,this.loginForm=new Rr({username:new Yr("",Go.required),password:new Yr("",Go.required),stay_signedin:new Yr(!1)})}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}ngOnInit(){(this.authService.isLoggedIn()||!this.syncService.isOnline())&&this.router.navigate(["home"])}useOffline(){this.syncService.setVoluntaryOffline(!0),this.router.navigate(["home"])}login(){this.loginForm.markAllAsTouched();const e=this.loginForm.value;this.loginForm.invalid||(this.loading=!0,this.authService.login(e.username,e.password,e.stay_signedin).pipe((0,yu.K)(i=>(this.errorMessage=i.error.description,this.loading=!1,(0,Df._)(()=>i)))).subscribe(()=>{this.router.navigate(["home"])}))}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(Js),f.Y36(mn.F0),f.Y36(el))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-login"]],decls:18,vars:9,consts:[[1,"jumbotron","d-flex","align-items-center","m-safe","min-vh-100"],[1,"container","text-center",2,"max-width","400px",3,"formGroup","submit"],[1,"logo-lg"],[1,"form-group","mt-3"],["type","text","id","username","formControlName","username","placeholder","Username",1,"form-control"],["type","password","id","password","formControlName","password","placeholder","Password",1,"form-control"],["type","submit",1,"btn","btn-primary","mt-3","w-100",3,"disabled"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],[1,"form-group","mt-2"],["type","checkbox","name","stay_signedin","formControlName","stay_signedin","id","stay_signedin",1,"form-check-input"],["for","stay_signedin",1,"form-check-label","ms-2"],["class","alert alert-danger mt-2","role","alert",4,"ngIf"],["type","button",1,"btn","btn-dark","mt-3",3,"disabled","click"],["role","status",1,"spinner-border","spinner-border-sm"],["role","alert",1,"alert","alert-danger","mt-2"]],template:function(e,i){1&e&&(f.TgZ(0,"div",0)(1,"form",1),f.NdJ("submit",function(){return i.login()}),f._UZ(2,"app-logo",2),f.TgZ(3,"div",3),f._UZ(4,"input",4),f.qZA(),f.TgZ(5,"div",3),f._UZ(6,"input",5),f.qZA(),f.TgZ(7,"button",6),f.YNc(8,zp,1,0,"span",7),f._uU(9," Login "),f.qZA(),f.TgZ(10,"div",8),f._UZ(11,"input",9),f.TgZ(12,"label",10),f._uU(13,"Stay Signed In"),f.qZA()(),f.YNc(14,Du,2,1,"div",11),f.TgZ(15,"button",12),f.NdJ("click",function(){return i.useOffline()}),f.TgZ(16,"span"),f._uU(17,"Use Offline"),f.qZA()()()()),2&e&&(f.xp6(1),f.Q6J("formGroup",i.loginForm),f.xp6(3),f.ekj("is-invalid",i.username.invalid&&(i.username.dirty||i.username.touched)),f.xp6(2),f.ekj("is-invalid",i.password.invalid&&(i.password.dirty||i.password.touched)),f.xp6(1),f.Q6J("disabled",i.loading),f.xp6(1),f.Q6J("ngIf",i.loading),f.xp6(6),f.Q6J("ngIf",i.errorMessage),f.xp6(1),f.Q6J("disabled",i.loading))},directives:[Bc,Bt,nn,Yc,Cs,Da,Hc,N.O5,eo],styles:[""]}),r})();var tl=U(3900);let E0=(()=>{class r{constructor(e,i){this.http=e,this.authService=i}sessions(){return this.http.get(On.SESSIONS_URL,{headers:{Authorization:this.authService.getSessionToken()}}).pipe((0,tt.U)(e=>e.sessions))}deleteSessions(){return this.http.post(On.DELETE_SESSIONS_URL,{},{headers:{Authorization:this.authService.getSessionToken()}}).pipe((0,fs.b)(()=>this.authService.clearStorage()))}deleteSessionById(e,i){let n=this.http.post(On.DELETE_SESSIONS_URL,{session_id:e},{headers:{Authorization:this.authService.getSessionToken()}});return i&&(n=n.pipe((0,fs.b)(()=>this.authService.clearStorage()))),n}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Wc),f.LFG(Js))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();function Ff(r,t){1&r&&(f.TgZ(0,"span"),f._uU(1,"(current) "),f.qZA())}function Yp(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"li",5),f.YNc(1,Ff,2,0,"span",6),f._uU(2),f.TgZ(3,"button",0),f.NdJ("click",function(){const s=f.CHM(e).$implicit;return f.oxw(2).deleteSessionById(s.id,s.is_current)}),f._uU(4,"Delete"),f.qZA()()}if(2&r){const e=t.$implicit;f.xp6(1),f.Q6J("ngIf",e.is_current),f.xp6(1),f.hij(" ",e.device_info," ")}}function w0(r,t){if(1&r&&(f.TgZ(0,"ul",3),f.YNc(1,Yp,5,2,"li",4),f.qZA()),2&r){const e=t.ngIf;f.xp6(1),f.Q6J("ngForOf",e)}}function x0(r,t){1&r&&f._UZ(0,"div",7)}let A0=(()=>{class r{constructor(e,i){this.userService=e,this.router=i}ngOnInit(){this.device_sessions$=this.userService.sessions()}deleteSessions(){this.device_sessions$=this.userService.deleteSessions().pipe((0,fs.b)(()=>this.router.navigate(["login"])))}deleteSessionById(e,i){this.device_sessions$=i?this.userService.deleteSessionById(e,i).pipe((0,fs.b)(()=>this.router.navigate(["login"]))):this.userService.deleteSessionById(e,i).pipe((0,tl.w)(()=>this.userService.sessions()))}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(E0),f.Y36(mn.F0))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-profile"]],decls:10,vars:4,consts:[["type","button",1,"btn","btn-danger",3,"click"],["class","list-group",4,"ngIf","ngIfElse"],["loading",""],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],[4,"ngIf"],["role","status",1,"spinner-border"]],template:function(e,i){if(1&e&&(f.TgZ(0,"div")(1,"h4"),f._uU(2,"Sessions"),f.qZA(),f.TgZ(3,"div")(4,"button",0),f.NdJ("click",function(){return i.deleteSessions()}),f._uU(5,"Delete All Sessions"),f.qZA()(),f.YNc(6,w0,2,1,"ul",1),f.ALo(7,"async"),f.YNc(8,x0,1,0,"ng-template",null,2,f.W1O),f.qZA()),2&e){const n=f.MAs(9);f.xp6(6),f.Q6J("ngIf",f.lcZ(7,2,i.device_sessions$))("ngIfElse",n)}},directives:[N.O5,N.sg],pipes:[N.Ov],styles:[""]}),r})(),po=(()=>{class r{constructor(e,i){this.authService=e,this.router=i}canActivate(){return this.authService.isLoggedIn()||this.router.createUrlTree(["login"])}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Js),f.LFG(mn.F0))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),M0=(()=>{class r{constructor(e,i){this.syncService=e,this.router=i}canActivate(){return this.syncService.isOnline()||this.router.createUrlTree(["home"])}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(el),f.LFG(mn.F0))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),Eu=(()=>{class r{constructor(e){this.displayService=e}canActivate(){return this.displayService.exitFullscreen(),!0}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Ja))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Ms=U(1135);let wu=(()=>{class r{constructor(e,i,n,s){this.http=e,this.authService=i,this.storageService=n,this.syncService=s,this.targetChunkRequestTime=1e3,this.downloadChunkSize=5e5,this.evaluatingChunkSize=!1,this.downloadSpeed=new Ms.X(0),this.movieDownloads={},this.stopDownloads={}}_getMovieUrl(e){return`${On.MOVIE_URL}?id=${e}`}_getMovieStreamUrl(e){return`${On.MOVIE_STREAM_URL}?id=${e}&token=${this.authService.getSessionToken()}`}_getThumbnailUrl(e){return`${On.THUMBNAIL_URL}?id=${e}&token=${this.authService.getSessionToken()}`}getMovieById(e){var i=this;return Yt(function*(){const n=yield i.storageService.getMovie(e);if(i.syncService.isOffline())return n;const s=yield sn(i.http.get(i._getMovieUrl(e),{headers:{Authorization:i.authService.getSessionToken()}}).pipe((0,tt.U)(l=>(l.movie.downloaded_length=0,l.movie)),(0,yu.K)(()=>(0,Pn.of)(n))));return void 0!==n?(console.log(n.hash==(null==s?void 0:s.hash)),n):s})()}getMovies(){return this.syncService.isOffline()?(0,Bo.D)(this.storageService.getMovies()):this.http.get(On.MOVIES_URL,{headers:{Authorization:this.authService.getSessionToken()}}).pipe((0,tt.U)(e=>e.movies),(0,yu.K)(()=>(0,Bo.D)(this.storageService.getMovies())))}_getMovieDownloadProgress(e){return e in this.movieDownloads||(this.movieDownloads[e]=new Ms.X({downloaded:0,downloading:!1,deleting:!1}),this.storageService.getMovie(e).then(i=>{void 0!==i&&this.movieDownloads[e].next({downloaded:i.downloaded_length/i.content_length,downloading:!1,deleting:!1})})),this.movieDownloads[e]}getMovieDownloadProgress(e){return this._getMovieDownloadProgress(e)}deleteMovieDownload(e){var i=this;return Yt(function*(){const n=yield i.getMovieById(e);if(void 0===n)return;const s=i._getMovieDownloadProgress(n.id),l=yield sn(s);l.deleting||l.downloading||(s.next({deleting:!0,downloading:!1,downloaded:l.downloaded}),yield i.storageService.deleteMovieAndFragments(n.id),s.next({deleting:!1,downloading:!1,downloaded:0}))})()}triggerMovieDownload(e){var i=this;return Yt(function*(){const n=yield i.getMovieById(e);if(void 0===n)return;const s=i._getMovieDownloadProgress(n.id),l=yield sn(s);if(!l.deleting){if(l.downloading)return void(n.id in i.stopDownloads||(i.stopDownloads[n.id]=!0,s.next({downloaded:l.downloaded,downloading:!1,deleting:l.deleting})));n.thumbnail_id&&0===n.downloaded_length&&(s.next({downloaded:0,downloading:!0,deleting:!1}),i._downloadThumbnail(n.thumbnail_id)),i._downloadMovieChunk(n,s)}})()}_downloadMovieChunk(e,i){var n=this;if(e.content_length&&e.downloaded_length>=e.content_length)return void i.next({downloaded:1,downloading:!1,deleting:!1});if(e.id in this.stopDownloads)return sn(i).then(l=>{i.next({downloaded:l.downloaded,downloading:!1,deleting:l.deleting})}),void delete this.stopDownloads[e.id];let s;this.evaluatingChunkSize||(this.evaluatingChunkSize=!0,s=Date.now()),this.http.get(this._getMovieStreamUrl(e.id),{responseType:"blob",observe:"response",headers:{Range:`bytes=${e.downloaded_length}-${e.downloaded_length+this.downloadChunkSize}`}}).subscribe(function(){var l=Yt(function*(d){if(null!==d.body){if(void 0!==s){const p=Date.now()-s,m=Math.min(1.5,Math.max(.75,n.targetChunkRequestTime/Math.max(1,p)));n.downloadChunkSize=Math.min(Number.MAX_SAFE_INTEGER,Math.floor(n.downloadChunkSize*m)),n.downloadSpeed.next(1e3*n.downloadChunkSize/n.targetChunkRequestTime),n.evaluatingChunkSize=!1}d.body.arrayBuffer().then(function(){var p=Yt(function*(m){const y=d.headers.get("Content-Type");void 0===e.mime_type&&y&&(e.mime_type=y);const M=d.headers.get("Content-Range");void 0===e.content_length&&M&&(e.content_length=+M.substring(M.lastIndexOf("/")+1));const A=d.headers.get("Content-Length");null!==A&&(yield n.storageService.putMovieFragment({movie_id:e.id,data:m,start:e.downloaded_length,end:e.downloaded_length+Number(A)}),e.downloaded_length+=Number(A),yield n.storageService.putMovie(e),i.next({downloaded:e.downloaded_length/e.content_length,downloading:!0,deleting:!1}),n._downloadMovieChunk(e,i))});return function(m){return p.apply(this,arguments)}}())}});return function(d){return l.apply(this,arguments)}}())}getMovieSources(e){var i=this;return Yt(function*(){const n=yield i.getMovieById(e);return void 0===n?[]:[{src:i._getMovieStreamUrl(e),type:n.mime_type}]})()}_downloadThumbnail(e){var i=this;this.http.get(this._getThumbnailUrl(e),{responseType:"blob"}).subscribe(function(){var n=Yt(function*(s){yield i.storageService.putThumbnail({id:e,blob:s})});return function(s){return n.apply(this,arguments)}}())}getMovieThumbnailSource(e){var i=this;return Yt(function*(){return null===e?"/assets/default-thumbnail.svg":i._getThumbnailUrl(e)})()}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Wc),f.LFG(Js),f.LFG(Dn),f.LFG(el))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();function b1(r,t){1&r&&(f.ynx(0),f._uU(1," Deleting... "),f.BQk())}function go(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"button",4),f.NdJ("click",function(){return f.CHM(e),f.oxw(3).triggerDownload()}),f._uU(1," Download "),f.qZA()}}function Kc(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"button",4),f.NdJ("click",function(){return f.CHM(e),f.oxw(3).triggerDownload()}),f._uU(1," Pause "),f.qZA()}}function T1(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"button",4),f.NdJ("click",function(){return f.CHM(e),f.oxw(3).triggerDownload()}),f._uU(1," Continue "),f.qZA()}}function yE(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"button",4),f.NdJ("click",function(){return f.CHM(e),f.oxw(3).deleteDownload()}),f._uU(1," Delete "),f.qZA()}}function bE(r,t){if(1&r&&(f.YNc(0,go,2,0,"button",3),f.YNc(1,Kc,2,0,"button",3),f.YNc(2,T1,2,0,"button",3),f.YNc(3,yE,2,0,"button",3)),2&r){const e=f.oxw().ngIf;f.Q6J("ngIf",!e.downloading&&0==e.downloaded),f.xp6(1),f.Q6J("ngIf",e.downloading),f.xp6(1),f.Q6J("ngIf",!e.downloading&&e.downloaded>0&&e.downloaded<1),f.xp6(1),f.Q6J("ngIf",!e.downloading&&e.downloaded>0)}}function TE(r,t){if(1&r&&(f.TgZ(0,"div"),f._uU(1),f.ALo(2,"json"),f.ALo(3,"async"),f.YNc(4,b1,2,0,"ng-container",1),f.YNc(5,bE,4,4,"ng-template",null,2,f.W1O),f.qZA()),2&r){const e=t.ngIf,i=f.MAs(6),n=f.oxw();f.xp6(1),f.AsE(" ",f.lcZ(2,4,e)," Speed: ",f.lcZ(3,6,n.downloadSpeed$)," "),f.xp6(3),f.Q6J("ngIf",e.deleting)("ngIfElse",i)}}let S1=(()=>{class r{constructor(e,i){this.movieService=e,this.storageService=i}ngOnInit(){this.downloadProgress$=this.movieService.getMovieDownloadProgress(this.movieId),this.downloadSpeed$=this.movieService.downloadSpeed.pipe((0,tt.U)(e=>this.storageService.bytesToReadable(e)+" / s"))}triggerDownload(){this.movieService.triggerMovieDownload(this.movieId)}deleteDownload(){this.movieService.deleteMovieDownload(this.movieId)}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(wu),f.Y36(Dn))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-download-button"]],inputs:{movieId:"movieId"},decls:2,vars:3,consts:[[4,"ngIf"],[4,"ngIf","ngIfElse"],["download",""],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(f.YNc(0,TE,7,8,"div",0),f.ALo(1,"async")),2&e&&f.Q6J("ngIf",f.lcZ(1,1,i.downloadProgress$))},directives:[N.O5],pipes:[N.Ov,N.Ts],styles:[""],changeDetection:0}),r})();function SE(r,t){if(1&r&&(f.TgZ(0,"div",1),f._UZ(1,"img",2),f.TgZ(2,"div",3)(3,"h5",4),f._uU(4),f.qZA(),f.TgZ(5,"p"),f._uU(6),f.qZA(),f._UZ(7,"app-download-button",5),f.TgZ(8,"a",6),f._uU(9,"Watch"),f.qZA()()()),2&r){const e=f.oxw();f.xp6(1),f.Q6J("src",e.thumbnailSrc,f.LSH),f.xp6(3),f.Oqu(e.movie.title),f.xp6(2),f.Oqu(e.readableSize()),f.xp6(1),f.Q6J("movieId",e.movie.id),f.xp6(1),f.Q6J("routerLink",e.watchRouterLink)}}let N0=(()=>{class r{constructor(e,i,n){this.ref=e,this.movieService=i,this.storageService=n,this.thumbnailSrc="/assets/default-thumbnail.svg"}ngOnInit(){this.movieService.getMovieThumbnailSource(this.movie.thumbnail_id).then(e=>{this.thumbnailSrc=e,this.ref.detectChanges()})}readableSize(){return this.storageService.bytesToReadable(this.movie.file_size)}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.sBO),f.Y36(wu),f.Y36(Dn))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-movie-preview"]],inputs:{movie:"movie",watchRouterLink:"watchRouterLink"},decls:1,vars:1,consts:[["class","card text-white bg-secondary","style","width: 18rem;",4,"ngIf"],[1,"card","text-white","bg-secondary",2,"width","18rem"],[1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[3,"movieId"],[3,"routerLink"]],template:function(e,i){1&e&&f.YNc(0,SE,10,5,"div",0),2&e&&f.Q6J("ngIf",i.movie.id)},directives:[N.O5,S1,mn.yS],styles:[""]}),r})();const C1=function(r){return["../watch",r]};function D1(r,t){if(1&r&&f._UZ(0,"app-movie-preview",6),2&r){const e=t.$implicit;f.Q6J("movie",e)("watchRouterLink",f.VKq(2,C1,e.id))}}function E1(r,t){if(1&r&&(f.TgZ(0,"div",4),f.YNc(1,D1,1,4,"app-movie-preview",5),f.qZA()),2&r){const e=t.ngIf;f.xp6(1),f.Q6J("ngForOf",e)}}function w1(r,t){1&r&&f._UZ(0,"div",7)}let CE=(()=>{class r{constructor(e,i,n){this.ref=e,this.movieService=i,this.syncService=n}ngOnInit(){this.allMovies$=this.movieService.getMovies(),this.onlineSubscription=this.syncService.changes.subscribe(()=>{this.allMovies$=this.movieService.getMovies(),this.ref.detectChanges()})}ngOnDestroy(){this.onlineSubscription&&this.onlineSubscription.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.sBO),f.Y36(wu),f.Y36(el))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-overview"]],decls:6,vars:4,consts:[[1,"m-safe-x"],[1,"bg-light",2,"height","100px"],["class","card-group",4,"ngIf","ngIfElse"],["loading",""],[1,"card-group"],[3,"movie","watchRouterLink",4,"ngFor","ngForOf"],[3,"movie","watchRouterLink"],["role","status",1,"spinner-border"]],template:function(e,i){if(1&e&&(f.TgZ(0,"div",0)(1,"div",1),f.YNc(2,E1,2,1,"div",2),f.ALo(3,"async"),f.YNc(4,w1,1,0,"ng-template",null,3,f.W1O),f.qZA()()),2&e){const n=f.MAs(5);f.xp6(2),f.Q6J("ngIf",f.lcZ(3,2,i.allMovies$))("ngIfElse",n)}},directives:[N.O5,N.sg,N0],pipes:[N.Ov],styles:[""],changeDetection:0}),r})();var x1=U(9226),re=U.n(x1),I0=U(1421),at=U.n(I0);function Cr(){return Cr=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Cr.apply(this,arguments)}var O0=U(1234),zt=U.n(O0);function jt(r){if(void 0===r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Lf(r,t){return(Lf=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i})(r,t)}function bt(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,Lf(r,t)}var DE=U(8099),Kp=U.n(DE),qp=U(745),Bf=U.n(qp),EE=U(3629),A1=U.n(EE);function P0(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function Hf(r,t,e){return(Hf=P0()?Reflect.construct:function(n,s,l){var d=[null];d.push.apply(d,s);var m=new(Function.bind.apply(n,d));return l&&Lf(m,l.prototype),m}).apply(null,arguments)}var N1=U(3871),R0=U.n(N1),Xp="http://example.com";const Vf=function(t,e){if(/^[a-z]+:/i.test(e))return e;/^data:/.test(t)&&(t=re().location&&re().location.href||"");var i="function"==typeof re().URL,n=/^\/\//.test(t),s=!re().location&&!/\/\//i.test(t);if(i?t=new(re().URL)(t,re().location||Xp):/\/\//i.test(t)||(t=R0().buildAbsoluteURL(re().location&&re().location.href||"",t)),i){var l=new URL(e,t);return s?l.href.slice(Xp.length):n?l.href.slice(l.protocol.length):l.href}return R0().buildAbsoluteURL(t,e)};var qc=function(){function r(){this.listeners={}}var t=r.prototype;return t.on=function(i,n){this.listeners[i]||(this.listeners[i]=[]),this.listeners[i].push(n)},t.off=function(i,n){if(!this.listeners[i])return!1;var s=this.listeners[i].indexOf(n);return this.listeners[i]=this.listeners[i].slice(0),this.listeners[i].splice(s,1),s>-1},t.trigger=function(i){var n=this.listeners[i];if(n)if(2===arguments.length)for(var s=n.length,l=0;l<s;++l)n[l].call(this,arguments[1]);else for(var d=Array.prototype.slice.call(arguments,1),p=n.length,m=0;m<p;++m)n[m].apply(this,d)},t.dispose=function(){this.listeners={}},t.pipe=function(i){this.on("data",function(n){i.push(n)})},r}();function Si(r){for(var t=function(t){return re().atob?re().atob(t):Buffer.from(t,"base64").toString("binary")}(r),e=new Uint8Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}
/*! @name m3u8-parser @version 4.7.0 @license Apache-2.0 */var y_,r,k0=function(r){function t(){var i;return(i=r.call(this)||this).buffer="",i}return bt(t,r),t.prototype.push=function(n){var s;for(this.buffer+=n,s=this.buffer.indexOf("\n");s>-1;s=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,s)),this.buffer=this.buffer.substring(s+1)},t}(qc),O1=String.fromCharCode(9),Xc=function(t){var e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),i={};return e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),i},Ns=function(t){for(var s,e=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},n=e.length;n--;)""!==e[n]&&((s=/([^=]*)=(.*)/.exec(e[n]).slice(1))[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),i[s[0]]=s[1]);return i},P1=function(r){function t(){var i;return(i=r.call(this)||this).customParsers=[],i.tagMappers=[],i}bt(t,r);var e=t.prototype;return e.push=function(n){var l,d,s=this;if(0!==(n=n.trim()).length){if("#"!==n[0])return void this.trigger("data",{type:"uri",uri:n});this.tagMappers.reduce(function(m,y){var M=y(n);return M===n?m:m.concat([M])},[n]).forEach(function(m){for(var y=0;y<s.customParsers.length;y++)if(s.customParsers[y].call(s,m))return;if(0===m.indexOf("#EXT"))if(m=m.replace("\r",""),l=/^#EXTM3U/.exec(m))s.trigger("data",{type:"tag",tagType:"m3u"});else{if(l=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(m))return d={type:"tag",tagType:"inf"},l[1]&&(d.duration=parseFloat(l[1])),l[2]&&(d.title=l[2]),void s.trigger("data",d);if(l=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(m))return d={type:"tag",tagType:"targetduration"},l[1]&&(d.duration=parseInt(l[1],10)),void s.trigger("data",d);if(l=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(m))return d={type:"tag",tagType:"version"},l[1]&&(d.version=parseInt(l[1],10)),void s.trigger("data",d);if(l=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(m))return d={type:"tag",tagType:"media-sequence"},l[1]&&(d.number=parseInt(l[1],10)),void s.trigger("data",d);if(l=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(m))return d={type:"tag",tagType:"discontinuity-sequence"},l[1]&&(d.number=parseInt(l[1],10)),void s.trigger("data",d);if(l=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(m))return d={type:"tag",tagType:"playlist-type"},l[1]&&(d.playlistType=l[1]),void s.trigger("data",d);if(l=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(m))return d=Cr(Xc(l[1]),{type:"tag",tagType:"byterange"}),void s.trigger("data",d);if(l=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(m))return d={type:"tag",tagType:"allow-cache"},l[1]&&(d.allowed=!/NO/.test(l[1])),void s.trigger("data",d);if(l=/^#EXT-X-MAP:?(.*)$/.exec(m)){if(d={type:"tag",tagType:"map"},l[1]){var M=Ns(l[1]);M.URI&&(d.uri=M.URI),M.BYTERANGE&&(d.byterange=Xc(M.BYTERANGE))}s.trigger("data",d)}else if(l=/^#EXT-X-STREAM-INF:?(.*)$/.exec(m)){if(d={type:"tag",tagType:"stream-inf"},l[1]){if(d.attributes=Ns(l[1]),d.attributes.RESOLUTION){var A=d.attributes.RESOLUTION.split("x"),k={};A[0]&&(k.width=parseInt(A[0],10)),A[1]&&(k.height=parseInt(A[1],10)),d.attributes.RESOLUTION=k}d.attributes.BANDWIDTH&&(d.attributes.BANDWIDTH=parseInt(d.attributes.BANDWIDTH,10)),d.attributes["PROGRAM-ID"]&&(d.attributes["PROGRAM-ID"]=parseInt(d.attributes["PROGRAM-ID"],10))}s.trigger("data",d)}else{if(l=/^#EXT-X-MEDIA:?(.*)$/.exec(m))return d={type:"tag",tagType:"media"},l[1]&&(d.attributes=Ns(l[1])),void s.trigger("data",d);if(l=/^#EXT-X-ENDLIST/.exec(m))s.trigger("data",{type:"tag",tagType:"endlist"});else{if(!(l=/^#EXT-X-DISCONTINUITY/.exec(m)))return(l=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(m))?(d={type:"tag",tagType:"program-date-time"},l[1]&&(d.dateTimeString=l[1],d.dateTimeObject=new Date(l[1])),void s.trigger("data",d)):(l=/^#EXT-X-KEY:?(.*)$/.exec(m))?(d={type:"tag",tagType:"key"},l[1]&&(d.attributes=Ns(l[1]),d.attributes.IV&&("0x"===d.attributes.IV.substring(0,2).toLowerCase()&&(d.attributes.IV=d.attributes.IV.substring(2)),d.attributes.IV=d.attributes.IV.match(/.{8}/g),d.attributes.IV[0]=parseInt(d.attributes.IV[0],16),d.attributes.IV[1]=parseInt(d.attributes.IV[1],16),d.attributes.IV[2]=parseInt(d.attributes.IV[2],16),d.attributes.IV[3]=parseInt(d.attributes.IV[3],16),d.attributes.IV=new Uint32Array(d.attributes.IV))),void s.trigger("data",d)):(l=/^#EXT-X-START:?(.*)$/.exec(m))?(d={type:"tag",tagType:"start"},l[1]&&(d.attributes=Ns(l[1]),d.attributes["TIME-OFFSET"]=parseFloat(d.attributes["TIME-OFFSET"]),d.attributes.PRECISE=/YES/.test(d.attributes.PRECISE)),void s.trigger("data",d)):(l=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(m))?((d={type:"tag",tagType:"cue-out-cont"}).data=l[1]?l[1]:"",void s.trigger("data",d)):(l=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(m))?((d={type:"tag",tagType:"cue-out"}).data=l[1]?l[1]:"",void s.trigger("data",d)):(l=/^#EXT-X-CUE-IN:?(.*)?$/.exec(m))?((d={type:"tag",tagType:"cue-in"}).data=l[1]?l[1]:"",void s.trigger("data",d)):(l=/^#EXT-X-SKIP:(.*)$/.exec(m))&&l[1]?((d={type:"tag",tagType:"skip"}).attributes=Ns(l[1]),d.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(d.attributes["SKIPPED-SEGMENTS"]=parseInt(d.attributes["SKIPPED-SEGMENTS"],10)),d.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(d.attributes["RECENTLY-REMOVED-DATERANGES"]=d.attributes["RECENTLY-REMOVED-DATERANGES"].split(O1)),void s.trigger("data",d)):(l=/^#EXT-X-PART:(.*)$/.exec(m))&&l[1]?((d={type:"tag",tagType:"part"}).attributes=Ns(l[1]),["DURATION"].forEach(function(W){d.attributes.hasOwnProperty(W)&&(d.attributes[W]=parseFloat(d.attributes[W]))}),["INDEPENDENT","GAP"].forEach(function(W){d.attributes.hasOwnProperty(W)&&(d.attributes[W]=/YES/.test(d.attributes[W]))}),d.attributes.hasOwnProperty("BYTERANGE")&&(d.attributes.byterange=Xc(d.attributes.BYTERANGE)),void s.trigger("data",d)):(l=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(m))&&l[1]?((d={type:"tag",tagType:"server-control"}).attributes=Ns(l[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(W){d.attributes.hasOwnProperty(W)&&(d.attributes[W]=parseFloat(d.attributes[W]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(W){d.attributes.hasOwnProperty(W)&&(d.attributes[W]=/YES/.test(d.attributes[W]))}),void s.trigger("data",d)):(l=/^#EXT-X-PART-INF:(.*)$/.exec(m))&&l[1]?((d={type:"tag",tagType:"part-inf"}).attributes=Ns(l[1]),["PART-TARGET"].forEach(function(W){d.attributes.hasOwnProperty(W)&&(d.attributes[W]=parseFloat(d.attributes[W]))}),void s.trigger("data",d)):(l=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(m))&&l[1]?((d={type:"tag",tagType:"preload-hint"}).attributes=Ns(l[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(W){if(d.attributes.hasOwnProperty(W)){d.attributes[W]=parseInt(d.attributes[W],10);var H="BYTERANGE-LENGTH"===W?"length":"offset";d.attributes.byterange=d.attributes.byterange||{},d.attributes.byterange[H]=d.attributes[W],delete d.attributes[W]}}),void s.trigger("data",d)):(l=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(m))&&l[1]?((d={type:"tag",tagType:"rendition-report"}).attributes=Ns(l[1]),["LAST-MSN","LAST-PART"].forEach(function(W){d.attributes.hasOwnProperty(W)&&(d.attributes[W]=parseInt(d.attributes[W],10))}),void s.trigger("data",d)):void s.trigger("data",{type:"tag",data:m.slice(4)});s.trigger("data",{type:"tag",tagType:"discontinuity"})}}}else s.trigger("data",{type:"comment",text:m.slice(1)})})}},e.addParser=function(n){var s=this,l=n.expression,d=n.customType,p=n.dataParser,m=n.segment;"function"!=typeof p&&(p=function(M){return M}),this.customParsers.push(function(y){if(l.exec(y))return s.trigger("data",{type:"custom",data:p(y),customType:d,segment:m}),!0})},e.addTagMapper=function(n){var s=n.expression,l=n.map;this.tagMappers.push(function(m){return s.test(m)?l(m):m})},t}(qc),xu=function(t){var e={};return Object.keys(t).forEach(function(i){e[function(t){return t.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})}(i)]=t[i]}),e},Qp=function(t){var e=t.serverControl,i=t.targetDuration,n=t.partTargetDuration;if(e){var s="#EXT-X-SERVER-CONTROL",l="holdBack",d="partHoldBack",p=i&&3*i,m=n&&2*n;i&&!e.hasOwnProperty(l)&&(e[l]=p,this.trigger("info",{message:s+" defaulting HOLD-BACK to targetDuration * 3 ("+p+")."})),p&&e[l]<p&&(this.trigger("warn",{message:s+" clamping HOLD-BACK ("+e[l]+") to targetDuration * 3 ("+p+")"}),e[l]=p),n&&!e.hasOwnProperty(d)&&(e[d]=3*n,this.trigger("info",{message:s+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+e[d]+")."})),n&&e[d]<m&&(this.trigger("warn",{message:s+" clamping PART-HOLD-BACK ("+e[d]+") to partTargetDuration * 2 ("+m+")."}),e[d]=m)}},wE=function(r){function t(){var i;(i=r.call(this)||this).lineStream=new k0,i.parseStream=new P1,i.lineStream.pipe(i.parseStream);var d,p,n=jt(i),s=[],l={},m=!1,y=function(){},M={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},k=0;i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var W=0,H=0;return i.on("end",function(){l.uri||!l.parts&&!l.preloadHints||(!l.map&&d&&(l.map=d),!l.key&&p&&(l.key=p),!l.timeline&&"number"==typeof k&&(l.timeline=k),i.manifest.preloadSegment=l)}),i.parseStream.on("data",function(j){var le,he;({tag:function(){({version:function(){j.version&&(this.manifest.version=j.version)},"allow-cache":function(){this.manifest.allowCache=j.allowed,"allowed"in j||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var Pe={};"length"in j&&(l.byterange=Pe,Pe.length=j.length,"offset"in j||(j.offset=W)),"offset"in j&&(l.byterange=Pe,Pe.offset=j.offset),W=Pe.offset+Pe.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),j.duration>0&&(l.duration=j.duration),0===j.duration&&(l.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){if(j.attributes)if("NONE"!==j.attributes.METHOD)if(j.attributes.URI){if("com.apple.streamingkeydelivery"===j.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:j.attributes});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===j.attributes.KEYFORMAT)return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(j.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===j.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==j.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):j.attributes.KEYID&&"0x"===j.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:j.attributes.KEYFORMAT,keyId:j.attributes.KEYID.substring(2)},pssh:Si(j.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}));j.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),p={method:j.attributes.METHOD||"AES-128",uri:j.attributes.URI},void 0!==j.attributes.IV&&(p.iv=j.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else p=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(j.number)?this.manifest.mediaSequence=j.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+j.number})},"discontinuity-sequence":function(){isFinite(j.number)?(this.manifest.discontinuitySequence=j.number,k=j.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+j.number})},"playlist-type":function(){/VOD|EVENT/.test(j.playlistType)?this.manifest.playlistType=j.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+j.playlist})},map:function(){d={},j.uri&&(d.uri=j.uri),j.byterange&&(d.byterange=j.byterange),p&&(d.key=p)},"stream-inf":function(){this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||M,j.attributes?(l.attributes||(l.attributes={}),Cr(l.attributes,j.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||M,j.attributes&&j.attributes.TYPE&&j.attributes["GROUP-ID"]&&j.attributes.NAME){var Pe=this.manifest.mediaGroups[j.attributes.TYPE];Pe[j.attributes["GROUP-ID"]]=Pe[j.attributes["GROUP-ID"]]||{},le=Pe[j.attributes["GROUP-ID"]],(he={default:/yes/i.test(j.attributes.DEFAULT)}).autoselect=!!he.default||/yes/i.test(j.attributes.AUTOSELECT),j.attributes.LANGUAGE&&(he.language=j.attributes.LANGUAGE),j.attributes.URI&&(he.uri=j.attributes.URI),j.attributes["INSTREAM-ID"]&&(he.instreamId=j.attributes["INSTREAM-ID"]),j.attributes.CHARACTERISTICS&&(he.characteristics=j.attributes.CHARACTERISTICS),j.attributes.FORCED&&(he.forced=/yes/i.test(j.attributes.FORCED)),le[j.attributes.NAME]=he}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){k+=1,l.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=j.dateTimeString,this.manifest.dateTimeObject=j.dateTimeObject),l.dateTimeString=j.dateTimeString,l.dateTimeObject=j.dateTimeObject},targetduration:function(){!isFinite(j.duration)||j.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+j.duration}):(this.manifest.targetDuration=j.duration,Qp.call(this,this.manifest))},start:function(){j.attributes&&!isNaN(j.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:j.attributes["TIME-OFFSET"],precise:j.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){l.cueOut=j.data},"cue-out-cont":function(){l.cueOutCont=j.data},"cue-in":function(){l.cueIn=j.data},skip:function(){this.manifest.skip=xu(j.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",j.attributes,["SKIPPED-SEGMENTS"])},part:function(){var Pe=this;m=!0;var ze=this.manifest.segments.length,et=xu(j.attributes);l.parts=l.parts||[],l.parts.push(et),et.byterange&&(et.byterange.hasOwnProperty("offset")||(et.byterange.offset=H),H=et.byterange.offset+et.byterange.length),this.warnOnMissingAttributes_("#EXT-X-PART #"+(l.parts.length-1)+" for segment #"+ze,j.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(dt,lt){dt.hasOwnProperty("lastPart")||Pe.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+lt+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var Pe=this.manifest.serverControl=xu(j.attributes);Pe.hasOwnProperty("canBlockReload")||(Pe.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),Qp.call(this,this.manifest),Pe.canSkipDateranges&&!Pe.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var Pe=this.manifest.segments.length,ze=xu(j.attributes),et=ze.type&&"PART"===ze.type;l.preloadHints=l.preloadHints||[],l.preloadHints.push(ze),ze.byterange&&(ze.byterange.hasOwnProperty("offset")||(ze.byterange.offset=et?H:0,et&&(H=ze.byterange.offset+ze.byterange.length)));var Be=l.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+Be+" for segment #"+Pe,j.attributes,["TYPE","URI"]),ze.type)for(var dt=0;dt<l.preloadHints.length-1;dt++){var lt=l.preloadHints[dt];!lt.type||lt.type===ze.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+Be+" for segment #"+Pe+" has the same TYPE "+ze.type+" as preload hint #"+dt})}},"rendition-report":function(){var Pe=xu(j.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(Pe);var ze=this.manifest.renditionReports.length-1,et=["LAST-MSN","URI"];m&&et.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+ze,j.attributes,et)},"part-inf":function(){this.manifest.partInf=xu(j.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",j.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),Qp.call(this,this.manifest)}}[j.tagType]||y).call(n)},uri:function(){l.uri=j.uri,s.push(l),this.manifest.targetDuration&&!("duration"in l)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),l.duration=this.manifest.targetDuration),p&&(l.key=p),l.timeline=k,d&&(l.map=d),H=0,l={}},comment:function(){},custom:function(){j.segment?(l.custom=l.custom||{},l.custom[j.customType]=j.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[j.customType]=j.data)}})[j.type].call(n)}),i}bt(t,r);var e=t.prototype;return e.warnOnMissingAttributes_=function(n,s,l){var d=[];l.forEach(function(p){s.hasOwnProperty(p)||d.push(p)}),d.length&&this.trigger("warn",{message:n+" lacks required attribute(s): "+d.join(", ")})},e.push=function(n){this.lineStream.push(n)},e.end=function(){this.lineStream.push("\n"),this.trigger("end")},e.addParser=function(n){this.parseStream.addParser(n)},e.addTagMapper=function(n){this.parseStream.addTagMapper(n)},t}(qc),nl={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Qc=["video","audio","text"],fr=["Video","Audio","Text"],Zc=function(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(e,i,n){return"avc1."+("00"+Number(i).toString(16)).slice(-2)+"00"+("00"+Number(n).toString(16)).slice(-2)})},Zn=function(t){void 0===t&&(t="");var e=t.split(","),i=[];return e.forEach(function(n){var s;n=n.trim(),Qc.forEach(function(l){var d=nl[l].exec(n.toLowerCase());if(d&&!(d.length<=1)){s=l;var p=n.substring(0,d[1].length),m=n.replace(p,"");i.push({type:p,details:m,mediaType:l})}}),s||i.push({type:n,details:"",mediaType:"unknown"})}),i},H0=function(t){return void 0===t&&(t=""),nl.audio.test(t.trim().toLowerCase())},Au=function(t){if(t&&"string"==typeof t){var e=t.toLowerCase().split(",").map(function(s){return Zc(s.trim())}),i="video";1===e.length&&H0(e[0])?i="audio":1===e.length&&function(t){return void 0===t&&(t=""),nl.text.test(t.trim().toLowerCase())}(e[0])&&(i="application");var n="mp4";return e.every(function(s){return nl.mp4.test(s)})?n="mp4":e.every(function(s){return nl.webm.test(s)})?n="webm":e.every(function(s){return nl.ogg.test(s)})&&(n="ogg"),i+"/"+n+';codecs="'+t+'"'}},Gf=function(t){return void 0===t&&(t=""),re().MediaSource&&re().MediaSource.isTypeSupported&&re().MediaSource.isTypeSupported(Au(t))||!1},jf=function(t){return void 0===t&&(t=""),t.toLowerCase().split(",").every(function(e){e=e.trim();for(var i=0;i<fr.length;i++)if(nl["muxer"+fr[i]].test(e))return!0;return!1})},U0="mp4a.40.2",L1=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,B1=/^application\/dash\+xml/i,Wf=function(t){return L1.test(t)?"hls":B1.test(t)?"dash":"application/vnd.videojs.vhs+json"===t?"vhs-json":null},U1=U(978),j0=function(t){return!!t&&"object"==typeof t},Dr=function r(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.reduce(function(n,s){return"object"!=typeof s||Object.keys(s).forEach(function(l){n[l]=Array.isArray(n[l])&&Array.isArray(s[l])?n[l].concat(s[l]):j0(n[l])&&j0(s[l])?r(n[l],s[l]):s[l]}),n},{})},ed=function(t){return Object.keys(t).map(function(e){return t[e]})},$f=function(t){return t.reduce(function(e,i){return e.concat(i)},[])},W0=function(t){if(!t.length)return[];for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},Zp=function(t,e){for(var i=0;i<t.length;i++)if(e(t[i]))return i;return-1},td=function(t){var e=t.baseUrl,n=t.source,s=void 0===n?"":n,l=t.range,d=void 0===l?"":l,p=t.indexRange,m=void 0===p?"":p,y={uri:s,resolvedUri:Vf((void 0===e?"":e)||"",s)};if(d||m){var H,A=(d||m).split("-"),k=re().BigInt?re().BigInt(A[0]):parseInt(A[0],10),W=re().BigInt?re().BigInt(A[1]):parseInt(A[1],10);k<Number.MAX_SAFE_INTEGER&&"bigint"==typeof k&&(k=Number(k)),W<Number.MAX_SAFE_INTEGER&&"bigint"==typeof W&&(W=Number(W)),"bigint"==typeof(H="bigint"==typeof W||"bigint"==typeof k?re().BigInt(W)-re().BigInt(k)+re().BigInt(1):W-k+1)&&H<Number.MAX_SAFE_INTEGER&&(H=Number(H)),y.byterange={length:H,offset:k}}return y},z0=function(t){return t&&"number"!=typeof t&&(t=parseInt(t,10)),isNaN(t)?null:t},W1={static:function(t){var e=t.duration,i=t.timescale,n=void 0===i?1:i,s=t.sourceDuration,l=t.periodDuration,d=z0(t.endNumber),p=e/n;return"number"==typeof d?{start:0,end:d}:"number"==typeof l?{start:0,end:l/p}:{start:0,end:s/p}},dynamic:function(t){var e=t.NOW,i=t.clientOffset,n=t.availabilityStartTime,s=t.timescale,l=void 0===s?1:s,d=t.duration,p=t.periodStart,m=void 0===p?0:p,y=t.minimumUpdatePeriod,M=void 0===y?0:y,A=t.timeShiftBufferDepth,k=void 0===A?1/0:A,W=z0(t.endNumber),H=(e+i)/1e3,j=n+m,Ne=Math.ceil((H+M-j)*l/d),Ie=Math.floor((H-j-k)*l/d),Pe=Math.floor((H-j)*l/d);return{start:Math.max(0,Ie),end:"number"==typeof W?W:Math.min(Ne,Pe)}}},Jp=function(t){var e=t.type,i=t.duration,n=t.timescale,s=void 0===n?1:n,l=t.periodDuration,d=t.sourceDuration,p=W1[e](t),M=function(t,e){for(var i=[],n=t;n<e;n++)i.push(n);return i}(p.start,p.end).map(function(t){return function(e){var i=t.duration,n=t.timescale,d=t.startNumber;return{number:(void 0===d?1:d)+e,duration:i/(void 0===n?1:n),timeline:t.periodStart,time:e*i}}}(t));if("static"===e){var A=M.length-1;M[A].duration=("number"==typeof l?l:d)-i/s*A}return M},K0=function(t){var e=t.baseUrl,i=t.initialization,n=void 0===i?{}:i,s=t.sourceDuration,l=t.indexRange,d=void 0===l?"":l,p=t.periodStart,m=t.presentationTime,y=t.number,M=void 0===y?0:y,A=t.duration;if(!e)throw new Error("NO_BASE_URL");var k=td({baseUrl:e,source:n.sourceURL,range:n.range}),W=td({baseUrl:e,source:e,indexRange:d});if(W.map=k,A){var H=Jp(t);H.length&&(W.duration=H[0].duration,W.timeline=H[0].timeline)}else s&&(W.duration=s,W.timeline=p);return W.presentationTime=m||p,W.number=M,[W]},mo=function(t,e,i){var j,n=t.sidx.map?t.sidx.map:null,s=t.sidx.duration,l=t.timeline||0,d=t.sidx.byterange,p=d.offset+d.length,m=e.timescale,y=e.references.filter(function(dt){return 1!==dt.referenceType}),M=[],A=t.endList?"static":"dynamic",k=t.sidx.timeline,W=k,H=t.mediaSequence||0;j="bigint"==typeof e.firstOffset?re().BigInt(p)+e.firstOffset:p+e.firstOffset;for(var le=0;le<y.length;le++){var Pe,he=e.references[le],Ne=he.referencedSize,Ie=he.subsegmentDuration;Pe="bigint"==typeof j?j+re().BigInt(Ne)-re().BigInt(1):j+Ne-1;var Be=K0({baseUrl:i,timescale:m,timeline:l,periodStart:k,presentationTime:W,number:H,duration:Ie,sourceDuration:s,indexRange:j+"-"+Pe,type:A})[0];n&&(Be.map=n),M.push(Be),j+="bigint"==typeof j?re().BigInt(Ne):Ne,W+=Ie/m,H++}return t.segments=M,t},ea=["AUDIO","SUBTITLES"],$1=function(t){return function(t,e){return ed(t.reduce(function(i,n){return n.forEach(function(s){i[function(e){return e.timeline}(s)]=s}),i},{}))}(t).sort(function(e,i){return e.timeline>i.timeline?1:-1})},z1=function(t){var e=[];return function(t,e,i){e.forEach(function(n){for(var s in t.mediaGroups[n])for(var l in t.mediaGroups[n][s])i(t.mediaGroups[n][s][l])})}(t,ea,function(i,n,s,l){e=e.concat(i.playlists||[])}),e},Is=function(t){var e=t.playlist;e.mediaSequence=t.mediaSequence,e.segments.forEach(function(n,s){n.number=e.mediaSequence+s})},zf=function(t){return t&&t.uri+"-"+function(t){var e;return e="bigint"==typeof t.offset||"bigint"==typeof t.length?re().BigInt(t.offset)+re().BigInt(t.length)-re().BigInt(1):t.offset+t.length-1,t.offset+"-"+e}(t.byterange)},Yf=function(t){return ed(t.reduce(function(i,n){var l,s=n.attributes.id+(n.attributes.lang||"");i[s]?(n.segments&&(n.segments[0]&&(n.segments[0].discontinuity=!0),(l=i[s].segments).push.apply(l,n.segments)),n.attributes.contentProtection&&(i[s].attributes.contentProtection=n.attributes.contentProtection)):(i[s]=n,i[s].attributes.timelineStarts=[]);return i[s].attributes.timelineStarts.push({start:n.attributes.periodStart,timeline:n.attributes.periodStart}),i},{})).map(function(i){return i.discontinuityStarts=function(t,e){return t.reduce(function(i,n,s){return n.discontinuity&&i.push(s),i},[])}(i.segments||[]),i})},il=function(t,e){var i=zf(t.sidx),n=i&&e[i]&&e[i].sidx;return n&&mo(t,n,t.sidx.resolvedUri),t},X0=function(t,e){if(void 0===e&&(e={}),!Object.keys(e).length)return t;for(var i in t)t[i]=il(t[i],e);return t},Nu=function(t){var e,i=t.attributes,n=t.segments,s=t.sidx,l=t.discontinuityStarts,d={attributes:(e={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===i.type,timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuityStarts:l,timelineStarts:i.timelineStarts,segments:n};return i.contentProtection&&(d.contentProtection=i.contentProtection),s&&(d.sidx=s),d},rg=function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType},J0=function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType},Y1=function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType},e_=function(t){return t?Object.keys(t).reduce(function(e,i){return e.concat(t[i].playlists)},[]):[]},K1=function(t){var e,i=t.dashPlaylists,n=t.locations,s=t.sidxMapping,l=void 0===s?{}:s,d=t.previousManifest;if(!i.length)return{};var p=i[0].attributes,m=p.sourceDuration,y=p.type,M=p.suggestedPresentationDelay,A=p.minimumUpdatePeriod,k=Yf(i.filter(rg)).map(Nu),W=Yf(i.filter(J0)),H=Yf(i.filter(Y1)),j=i.map(function(et){return et.attributes.captionServices}).filter(Boolean),le={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(e={AUDIO:{},VIDEO:{}},e["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:m,playlists:X0(k,l)};A>=0&&(le.minimumUpdatePeriod=1e3*A),n&&(le.locations=n),"dynamic"===y&&(le.suggestedPresentationDelay=M);var Ne=W.length?function(t,e,i){void 0===e&&(e={}),void 0===i&&(i=!1);var n,s=t.reduce(function(d,p){var m=p.attributes.role&&p.attributes.role.value||"",y=p.attributes.lang||"",M=p.attributes.label||"main";y&&!p.attributes.label&&(M=p.attributes.lang+(m?" ("+m+")":"")),d[M]||(d[M]={language:y,autoselect:!0,default:"main"===m,playlists:[],uri:""});var k=il(function(t,e){var i,n=t.attributes,s=t.segments,l=t.sidx,d=t.mediaSequence,p=t.discontinuitySequence,m=t.discontinuityStarts,y={attributes:(i={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},i["PROGRAM-ID"]=1,i),uri:"",endList:"static"===n.type,timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuitySequence:p,discontinuityStarts:m,timelineStarts:n.timelineStarts,mediaSequence:d,segments:s};return n.contentProtection&&(y.contentProtection=n.contentProtection),l&&(y.sidx=l),e&&(y.attributes.AUDIO="audio",y.attributes.SUBTITLES="subs"),y}(p,i),e);return d[M].playlists.push(k),void 0===n&&"main"===m&&((n=p).default=!0),d},{});return n||(s[Object.keys(s)[0]].default=!0),s}(W,l,0===le.playlists.length):null,Ie=H.length?function(t,e){return void 0===e&&(e={}),t.reduce(function(i,n){var s=n.attributes.lang||"text";return i[s]||(i[s]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),i[s].playlists.push(il(function(t){var e,i=t.attributes,n=t.segments,s=t.mediaSequence,l=t.discontinuityStarts,d=t.discontinuitySequence;void 0===n&&(n=[{uri:i.baseUrl,timeline:i.periodStart,resolvedUri:i.baseUrl||"",duration:i.sourceDuration,number:0}],i.duration=i.sourceDuration);var p=((e={NAME:i.id,BANDWIDTH:i.bandwidth})["PROGRAM-ID"]=1,e);return i.codecs&&(p.CODECS=i.codecs),{attributes:p,uri:"",endList:"static"===i.type,timeline:i.periodStart,resolvedUri:i.baseUrl||"",targetDuration:i.duration,timelineStarts:i.timelineStarts,discontinuityStarts:l,discontinuitySequence:d,mediaSequence:s,segments:n}}(n),e)),i},{})}(H,l):null,Pe=k.concat(e_(Ne),e_(Ie)),ze=Pe.map(function(et){return et.timelineStarts});return le.timelineStarts=$1(ze),function(t,e){t.forEach(function(i){i.mediaSequence=0,i.discontinuitySequence=Zp(e,function(n){return n.timeline===i.timeline}),i.segments&&i.segments.forEach(function(n,s){n.number=s})})}(Pe,le.timelineStarts),Ne&&(le.mediaGroups.AUDIO.audio=Ne),Ie&&(le.mediaGroups.SUBTITLES.subs=Ie),j.length&&(le.mediaGroups["CLOSED-CAPTIONS"].cc=function(t){return t.reduce(function(e,i){return i&&i.forEach(function(n){var l=n.language;e[l]={autoselect:!1,default:!1,instreamId:n.channel,language:l},n.hasOwnProperty("aspectRatio")&&(e[l].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[l].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[l]["3D"]=n["3D"])}),e},{})}(j)),d?function(t){var e=t.oldManifest,i=t.newManifest,n=e.playlists.concat(z1(e)),s=i.playlists.concat(z1(i));return i.timelineStarts=$1([e.timelineStarts,i.timelineStarts]),function(t){var e=t.oldPlaylists,n=t.timelineStarts;t.newPlaylists.forEach(function(s){s.discontinuitySequence=Zp(n,function(y){return y.timeline===s.timeline});var l=function(t,e){for(var i=0;i<t.length;i++)if(t[i].attributes.NAME===e)return t[i];return null}(e,s.attributes.NAME);if(l&&!s.sidx){var d=s.segments[0],p=Zp(l.segments,function(y){return Math.abs(y.presentationTime-d.presentationTime)<.016666666666666666});if(-1===p)return Is({playlist:s,mediaSequence:l.mediaSequence+l.segments.length}),s.segments[0].discontinuity=!0,s.discontinuityStarts.unshift(0),void((!l.segments.length&&s.timeline>l.timeline||l.segments.length&&s.timeline>l.segments[l.segments.length-1].timeline)&&s.discontinuitySequence--);l.segments[p].discontinuity&&!d.discontinuity&&(d.discontinuity=!0,s.discontinuityStarts.unshift(0),s.discontinuitySequence--),Is({playlist:s,mediaSequence:l.segments[p].number})}})}({oldPlaylists:n,newPlaylists:s,timelineStarts:i.timelineStarts}),i}({oldManifest:d,newManifest:le}):le},q1=function(t,e,i){var d=t.timescale,m=t.periodStart,M=t.minimumUpdatePeriod;return Math.ceil((((t.NOW+t.clientOffset)/1e3+(void 0===M?0:M)-(t.availabilityStartTime+(void 0===m?0:m)))*(void 0===d?1:d)-e)/i)},t_=function(t,e){for(var i=t.type,n=t.minimumUpdatePeriod,s=void 0===n?0:n,l=t.media,d=void 0===l?"":l,p=t.sourceDuration,m=t.timescale,y=void 0===m?1:m,M=t.startNumber,A=void 0===M?1:M,k=t.periodStart,W=[],H=-1,j=0;j<e.length;j++){var le=e[j],he=le.d,Ne=le.r||0,Ie=le.t||0;H<0&&(H=Ie),Ie&&Ie>H&&(H=Ie);var Pe=void 0;if(Ne<0){var ze=j+1;Pe=ze===e.length?"dynamic"===i&&s>0&&d.indexOf("$Number$")>0?q1(t,H,he):(p*y-H)/he:(e[ze].t-H)/he}else Pe=Ne+1;for(var et=A+W.length+Pe,Be=A+W.length;Be<et;)W.push({number:Be,duration:he/y,time:H,timeline:k}),H+=he,Be++}return W},X1=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,ag=function(t,e){return t.replace(X1,function(t){return function(e,i,n,s){if("$$"===e)return"$";if(void 0===t[i])return e;var l=""+t[i];return"RepresentationID"===i||(s=n?parseInt(s,10):1,l.length>=s)?l:""+new Array(s-l.length+1).join("0")+l}}(e))},n_=function(t,e){var i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},n=t.initialization,s=void 0===n?{sourceURL:"",range:""}:n,l=td({baseUrl:t.baseUrl,source:ag(s.sourceURL,i),range:s.range}),d=function(t,e){return t.duration||e?t.duration?Jp(t):t_(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]}(t,e);return d.map(function(p){i.Number=p.number,i.Time=p.time;var m=ag(t.media||"",i),A=t.periodStart+(p.time-(t.presentationTimeOffset||0))/(t.timescale||1);return{uri:m,timeline:p.timeline,duration:p.duration,resolvedUri:Vf(t.baseUrl||"",m),map:l,number:p.number,presentationTime:A}})},Z1=function(t,e){var i=t.duration,n=t.segmentUrls,s=void 0===n?[]:n,l=t.periodStart;if(!i&&!e||i&&e)throw new Error("SEGMENT_TIME_UNSPECIFIED");var p,d=s.map(function(y){return function(t,e){var i=t.baseUrl,n=t.initialization,s=void 0===n?{}:n,l=td({baseUrl:i,source:s.sourceURL,range:s.range}),d=td({baseUrl:i,source:e.media,range:e.mediaRange});return d.map=l,d}(t,y)});return i&&(p=Jp(t)),e&&(p=t_(t,e)),p.map(function(y,M){if(d[M]){var A=d[M],k=t.timescale||1,W=t.presentationTimeOffset||0;return A.timeline=y.timeline,A.duration=y.duration,A.number=y.number,A.presentationTime=l+(y.time-W)/k,A}}).filter(function(y){return y})},J1=function(t){var n,s,e=t.attributes,i=t.segmentInfo;i.template?(s=n_,n=Dr(e,i.template)):i.base?(s=K0,n=Dr(e,i.base)):i.list&&(s=Z1,n=Dr(e,i.list));var l={attributes:e};if(!s)return l;var d=s(n,i.segmentTimeline);if(n.duration){var y=n.timescale;n.duration=n.duration/(void 0===y?1:y)}else n.duration=d.length?d.reduce(function(A,k){return Math.max(A,Math.ceil(k.duration))},0):0;return l.attributes=n,l.segments=d,i.base&&n.indexRange&&(l.sidx=d[0],l.segments=[]),l},hi=function(t,e){return W0(t.childNodes).filter(function(i){return i.tagName===e})},Na=function(t){return t.textContent.trim()},rl=function(t){var p=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!p)return 0;var m=p.slice(1),M=m[1],A=m[2],k=m[3],W=m[4],H=m[5];return 31536e3*parseFloat(m[0]||0)+2592e3*parseFloat(M||0)+86400*parseFloat(A||0)+3600*parseFloat(k||0)+60*parseFloat(W||0)+parseFloat(H||0)},s_={mediaPresentationDuration:function(t){return rl(t)},availabilityStartTime:function(t){return function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)}(t)/1e3},minimumUpdatePeriod:function(t){return rl(t)},suggestedPresentationDelay:function(t){return rl(t)},type:function(t){return t},timeShiftBufferDepth:function(t){return rl(t)},start:function(t){return rl(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},presentationTimeOffset:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?rl(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},ki=function(t){return t&&t.attributes?W0(t.attributes).reduce(function(e,i){return e[i.name]=(s_[i.name]||s_.DEFAULT)(i.value),e},{}):{}},eS={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},nd=function(t,e){return e.length?$f(t.map(function(i){return e.map(function(n){return Vf(i,Na(n))})})):t},Kf=function(t){var e=hi(t,"SegmentTemplate")[0],i=hi(t,"SegmentList")[0],n=i&&hi(i,"SegmentURL").map(function(A){return Dr({tag:"SegmentURL"},ki(A))}),s=hi(t,"SegmentBase")[0],l=i||e,d=l&&hi(l,"SegmentTimeline")[0],p=i||s||e,m=p&&hi(p,"Initialization")[0],y=e&&ki(e);y&&m?y.initialization=m&&ki(m):y&&y.initialization&&(y.initialization={sourceURL:y.initialization});var M={template:y,segmentTimeline:d&&hi(d,"S").map(function(A){return ki(A)}),list:i&&Dr(ki(i),{segmentUrls:n,initialization:ki(m)}),base:s&&Dr(ki(s),{initialization:ki(m)})};return Object.keys(M).forEach(function(A){M[A]||delete M[A]}),M},Xf=function(t,e){return function(i,n){var s=nd(e,hi(i.node,"BaseURL")),l=Dr(t,{periodStart:i.attributes.start});"number"==typeof i.attributes.duration&&(l.periodDuration=i.attributes.duration);var d=hi(i.node,"AdaptationSet"),p=Kf(i.node);return $f(d.map(function(t,e,i){return function(n){var s=ki(n),l=nd(e,hi(n,"BaseURL")),d=hi(n,"Role")[0],p={role:ki(d)},m=Dr(t,s,p),y=hi(n,"Accessibility")[0],M=function(t){return"urn:scte:dash:cc:cea-608:2015"===t.schemeIdUri?("string"!=typeof t.value?[]:t.value.split(";")).map(function(n){var s,l;if(l=n,/^CC\d=/.test(n)){var d=n.split("=");s=d[0],l=d[1]}else/^CC\d$/.test(n)&&(s=n);return{channel:s,language:l}}):"urn:scte:dash:cc:cea-708:2015"===t.schemeIdUri?("string"!=typeof t.value?[]:t.value.split(";")).map(function(n){var s={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){var l=n.split("="),p=l[1],m=void 0===p?"":p;s.channel=l[0],s.language=n,m.split(",").forEach(function(y){var M=y.split(":"),A=M[0],k=M[1];"lang"===A?s.language=k:"er"===A?s.easyReader=Number(k):"war"===A?s.aspectRatio=Number(k):"3D"===A&&(s["3D"]=Number(k))})}else s.language=n;return s.channel&&(s.channel="SERVICE"+s.channel),s}):void 0}(ki(y));M&&(m=Dr(m,{captionServices:M}));var A=hi(n,"Label")[0];if(A&&A.childNodes.length){var k=A.childNodes[0].nodeValue.trim();m=Dr(m,{label:k})}var W=function(t){return t.reduce(function(e,i){var n=ki(i),s=eS[n.schemeIdUri];if(s){e[s]={attributes:n};var l=hi(i,"cenc:pssh")[0];if(l){var d=Na(l),p=d&&Si(d);e[s].pssh=p}}return e},{})}(hi(n,"ContentProtection"));Object.keys(W).length&&(m=Dr(m,{contentProtection:W}));var H=Kf(n),j=hi(n,"Representation"),le=Dr(i,H);return $f(j.map(function(t,e,i){return function(n){var s=hi(n,"BaseURL"),l=nd(e,s),d=Dr(t,ki(n)),p=Kf(n);return l.map(function(m){return{segmentInfo:Dr(i,p),attributes:Dr(d,{baseUrl:m})}})}}(m,l,le)))}}(l,s,p)))}},dg=function(t){if(""===t)throw new Error("DASH_EMPTY_MANIFEST");var i,n,e=new U1.DOMParser;try{n=(i=e.parseFromString(t,"application/xml"))&&"MPD"===i.documentElement.tagName?i.documentElement:null}catch(s){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error("DASH_INVALID_XML");return n},nS=U(7459),iS=U.n(nS),kt=function(t){return t instanceof Uint8Array?t:(!Array.isArray(t)&&!function(t){return function(t){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer}(t)}(t)&&!(t instanceof ArrayBuffer)&&(t="number"!=typeof t||"number"==typeof t&&t!=t?0:[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))},$n=re().BigInt||Number,pg=[$n("0x1"),$n("0x100"),$n("0x10000"),$n("0x1000000"),$n("0x100000000"),$n("0x10000000000"),$n("0x1000000000000"),$n("0x100000000000000"),$n("0x10000000000000000")],aS=(r=new Uint16Array([65484]),new Uint8Array(r.buffer,r.byteOffset,r.byteLength),function(t,e){var i=void 0===e?{}:e,n=i.signed,s=void 0!==n&&n,l=i.le,d=void 0!==l&&l;t=kt(t);var p=d?"reduce":"reduceRight",y=(t[p]?t[p]:Array.prototype[p]).call(t,function(A,k,W){var H=d?W:Math.abs(W+1-t.length);return A+$n(k)*pg[H]},$n(0));if(s){var M=pg[t.length]/$n(2)-$n(1);(y=$n(y))>M&&(y-=M,y-=M,y-=$n(2))}return Number(y)}),p_=function(t,e){if("string"!=typeof t&&t&&"function"==typeof t.toString&&(t=t.toString()),"string"!=typeof t)return new Uint8Array;e||(t=unescape(encodeURIComponent(t)));for(var i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i},ii=function(t,e,i){var n=void 0===i?{}:i,s=n.offset,l=void 0===s?0:s,d=n.mask,p=void 0===d?[]:d;return t=kt(t),(e=kt(e)).length&&t.length-l>=e.length&&(e.every?e.every:Array.prototype.every).call(e,function(y,M){return y===(p[M]?p[M]&t[l+M]:t[l+M])})},g_=kt([73,68,51]),vo=function r(t,e){return void 0===e&&(e=0),(t=kt(t)).length-e<10||!ii(t,g_,{offset:e})?e:(e+=function(t,e){void 0===e&&(e=0);var n=(t=kt(t))[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?n+20:n+10}(t,e),r(t,e))},Zf=(new Uint8Array([79,112,117,115,72,101,97,100]),function(t){return"string"==typeof t?p_(t):t}),Jf=function(t){t=kt(t);for(var e=[],i=0;t.length>i;){var n=t[i],s=0,l=0,d=t[++l];for(l++;128&d;)s=(127&d)<<7,d=t[l],l++;s+=127&d;for(var p=0;p<y_.length;p++){var m=y_[p];if(n===m.id){e.push((0,m.parser)(t.subarray(l,l+s)));break}}i+=s+l}return e};
/*! @name mpd-parser @version 0.21.0 @license Apache-2.0 */y_=[{id:3,parser:function(t){var e={tag:3,id:t[0]<<8|t[1],flags:t[2],size:3,dependsOnEsId:0,ocrEsId:0,descriptors:[],url:""};if(128&e.flags&&(e.dependsOnEsId=t[e.size]<<8|t[e.size+1],e.size+=2),64&e.flags){var i=t[e.size];e.url=function(t){if(!t)return"";t=Array.prototype.slice.call(t);var e=String.fromCharCode.apply(null,kt(t));try{return decodeURIComponent(escape(e))}catch(i){}return e}(t.subarray(e.size+1,e.size+1+i)),e.size+=i}return 32&e.flags&&(e.ocrEsId=t[e.size]<<8|t[e.size+1],e.size+=2),e.descriptors=Jf(t.subarray(e.size))||[],e}},{id:4,parser:function(t){return{tag:4,oti:t[0],streamType:t[1],bufferSize:t[2]<<16|t[3]<<8|t[4],maxBitrate:t[5]<<24|t[6]<<16|t[7]<<8|t[8],avgBitrate:t[9]<<24|t[10]<<16|t[11]<<8|t[12],descriptors:Jf(t.subarray(13))}}},{id:5,parser:function(t){return{tag:5,bytes:t}}},{id:6,parser:function(t){return{tag:6,bytes:t}}}];var Kr=function r(t,e,i){void 0===i&&(i=!1),e=function(t){return Array.isArray(t)?t.map(function(e){return Zf(e)}):[Zf(t)]}(e),t=kt(t);var n=[];if(!e.length)return n;for(var s=0;s<t.length;){var l=(t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3])>>>0,d=t.subarray(s+4,s+8);if(0===l)break;var p=s+l;if(p>t.length){if(i)break;p=t.length}var m=t.subarray(s+8,p);ii(d,e[0])&&(1===e.length?n.push(m):n.push.apply(n,r(m,e.slice(1),i))),s=p}return n},Jn={EBML:kt([26,69,223,163]),DocType:kt([66,130]),Segment:kt([24,83,128,103]),SegmentInfo:kt([21,73,169,102]),Tracks:kt([22,84,174,107]),Track:kt([174]),TrackNumber:kt([215]),DefaultDuration:kt([35,227,131]),TrackEntry:kt([174]),TrackType:kt([131]),FlagDefault:kt([136]),CodecID:kt([134]),CodecPrivate:kt([99,162]),VideoTrack:kt([224]),AudioTrack:kt([225]),Cluster:kt([31,67,182,117]),Timestamp:kt([231]),TimestampScale:kt([42,215,177]),BlockGroup:kt([160]),BlockDuration:kt([155]),Block:kt([161]),SimpleBlock:kt([163])},yg=[128,64,32,16,8,4,2,1],sl=function(t,e,i,n){void 0===i&&(i=!0),void 0===n&&(n=!1);var s=function(t){for(var e=1,i=0;i<yg.length&&!(t&yg[i]);i++)e++;return e}(t[e]),l=t.subarray(e,e+s);return i&&((l=Array.prototype.slice.call(t,e,e+s))[0]^=yg[s-1]),{length:s,value:aS(l,{signed:n}),bytes:l}},bg=function r(t){return"string"==typeof t?t.match(/.{1,2}/g).map(function(e){return r(e)}):"number"==typeof t?function(t,e){var n=(void 0===e?{}:e).le,s=void 0!==n&&n;("bigint"!=typeof t&&"number"!=typeof t||"number"==typeof t&&t!=t)&&(t=0);for(var l=function(t){return Math.ceil(function(t){return t.toString(2).length}(t)/8)}(t=$n(t)),d=new Uint8Array(new ArrayBuffer(l)),p=0;p<l;p++){var m=s?p:Math.abs(p+1-d.length);d[m]=Number(t/pg[p]&$n(255)),t<0&&(d[m]=Math.abs(~d[m]),d[m]-=0===p?1:2)}return d}(t):t},fS=function r(t,e,i){if(i>=e.length)return e.length;var n=sl(e,i,!1);if(ii(t.bytes,n.bytes))return i;var s=sl(e,i+n.length);return r(t,e,i+s.length+s.value+n.length)},pi=function r(t,e){e=function(t){return Array.isArray(t)?t.map(function(e){return bg(e)}):[bg(t)]}(e),t=kt(t);var i=[];if(!e.length)return i;for(var n=0;n<t.length;){var s=sl(t,n,!1),l=sl(t,n+s.length),d=n+s.length+l.length;127===l.value&&(l.value=fS(s,t,d),l.value!==t.length&&(l.value-=d));var m=t.subarray(d,d+l.value>t.length?t.length:d+l.value);ii(e[0],s.bytes)&&(1===e.length?i.push(m):i=i.concat(r(m,e.slice(1)))),n+=s.length+l.length+m.length}return i},kE=kt([0,0,0,1]),FE=kt([0,0,1]),LE=kt([0,0,3]),BE=function(t){for(var e=[],i=1;i<t.length-2;)ii(t.subarray(i,i+3),LE)&&(e.push(i+2),i++),i++;if(0===e.length)return t;var n=t.length-e.length,s=new Uint8Array(n),l=0;for(i=0;i<n;l++,i++)l===e[0]&&(l++,e.shift()),s[i]=t[l];return s},pS=function(t,e,i,n){void 0===n&&(n=1/0),t=kt(t),i=[].concat(i);for(var l,s=0,d=0;s<t.length&&(d<n||l);){var p=void 0;if(ii(t.subarray(s),kE)?p=4:ii(t.subarray(s),FE)&&(p=3),p){if(d++,l)return BE(t.subarray(l,s));var m=void 0;"h264"===e?m=31&t[s+p]:"h265"===e&&(m=t[s+p]>>1&63),-1!==i.indexOf(m)&&(l=s+p),s+=p+("h264"===e?1:2)}else s++}return t.subarray(0,0)},Br={webm:kt([119,101,98,109]),matroska:kt([109,97,116,114,111,115,107,97]),flac:kt([102,76,97,67]),ogg:kt([79,103,103,83]),ac3:kt([11,119]),riff:kt([82,73,70,70]),avi:kt([65,86,73]),wav:kt([87,65,86,69]),"3gp":kt([102,116,121,112,51,103]),mp4:kt([102,116,121,112]),fmp4:kt([115,116,121,112]),mov:kt([102,116,121,112,113,116]),moov:kt([109,111,111,118]),moof:kt([109,111,111,102])},id={aac:function(t){var e=vo(t);return ii(t,[255,16],{offset:e,mask:[255,22]})},mp3:function(t){var e=vo(t);return ii(t,[255,2],{offset:e,mask:[255,6]})},webm:function(t){var e=pi(t,[Jn.EBML,Jn.DocType])[0];return ii(e,Br.webm)},mkv:function(t){var e=pi(t,[Jn.EBML,Jn.DocType])[0];return ii(e,Br.matroska)},mp4:function(t){return!id["3gp"](t)&&!id.mov(t)&&(!!(ii(t,Br.mp4,{offset:4})||ii(t,Br.fmp4,{offset:4})||ii(t,Br.moof,{offset:4})||ii(t,Br.moov,{offset:4}))||void 0)},mov:function(t){return ii(t,Br.mov,{offset:4})},"3gp":function(t){return ii(t,Br["3gp"],{offset:4})},ac3:function(t){var e=vo(t);return ii(t,Br.ac3,{offset:e})},ts:function(t){if(t.length<189&&t.length>=1)return 71===t[0];for(var e=0;e+188<t.length&&e<188;){if(71===t[e]&&71===t[e+188])return!0;e+=1}return!1},flac:function(t){var e=vo(t);return ii(t,Br.flac,{offset:e})},ogg:function(t){return ii(t,Br.ogg)},avi:function(t){return ii(t,Br.riff)&&ii(t,Br.avi,{offset:8})},wav:function(t){return ii(t,Br.riff)&&ii(t,Br.wav,{offset:8})},h264:function(t){return function(t,e,i){return pS(t,"h264",7,3)}(t).length},h265:function(t){return function(t,e,i){return pS(t,"h265",[32,33],3)}(t).length}},D_=Object.keys(id).filter(function(r){return"ts"!==r&&"h264"!==r&&"h265"!==r}).concat(["ts","h264","h265"]);D_.forEach(function(r){var t=id[r];id[r]=function(e){return t(kt(e))}});
/**
       * @license
       * Video.js 7.18.1 <http://videojs.com/>
       * Copyright Brightcove, Inc. <https://www.brightcove.com/>
       * Available under Apache License Version 2.0
       * <https://github.com/videojs/video.js/blob/main/LICENSE>
       *
       * Includes vtt.js <https://github.com/mozilla/vtt.js>
       * Available under Apache License Version 2.0
       * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
       */
for(var Ou,bo=id,rd=function(t){t=kt(t);for(var e=0;e<D_.length;e++){var i=D_[e];if(bo[i](t))return i}return""},sd=U(6277),na={},ia=function(t,e){return na[t]=na[t]||[],e&&(na[t]=na[t].concat(e)),na[t]},Oa=function(t,e){var i=ia(t).indexOf(e);return!(i<=-1||(na[t]=na[t].slice(),na[t].splice(i,1),0))},th={prefixed:!0},Iu=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],w_=Iu[0],nh=0;nh<Iu.length;nh++)if(Iu[nh][1]in at()){Ou=Iu[nh];break}if(Ou){for(var ih=0;ih<Ou.length;ih++)th[w_[ih]]=Ou[ih];th.prefixed=Ou[0]!==w_[0]}var $i=[],qt=function rh(r){var e,t="info",i=function(){for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];e("log",t,l)};return e=function(t,e){return function(i,n,s){var l=e.levels[n],d=new RegExp("^("+l+")$");if("log"!==i&&s.unshift(i.toUpperCase()+":"),s.unshift(t+":"),$i){$i.push([].concat(s));var p=$i.length-1e3;$i.splice(0,p>0?p:0)}if(re().console){var m=re().console[i];!m&&"debug"===i&&(m=re().console.info||re().console.log),m&&l&&d.test(i)&&m[Array.isArray(s)?"apply":"call"](re().console,s)}}}(r,i),i.createLogger=function(n){return rh(r+": "+n)},i.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:t},i.level=function(n){if("string"==typeof n){if(!i.levels.hasOwnProperty(n))throw new Error('"'+n+'" in not a valid log level');t=n}return t},(i.history=function(){return $i?[].concat($i):[]}).filter=function(n){return($i||[]).filter(function(s){return new RegExp(".*"+n+".*").test(s[0])})},i.history.clear=function(){$i&&($i.length=0)},i.history.disable=function(){null!==$i&&($i.length=0,$i=null)},i.history.enable=function(){null===$i&&($i=[])},i.error=function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return e("error",t,s)},i.warn=function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return e("warn",t,s)},i.debug=function(){for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return e("debug",t,s)},i}("VIDEOJS"),Ru=qt.createLogger,ku=Object.prototype.toString,x_=function(t){return Os(t)?Object.keys(t):[]};function al(r,t){x_(r).forEach(function(e){return t(r[e],e)})}function ri(r){for(var t=arguments.length,e=new Array(t>1?t-1:0),i=1;i<t;i++)e[i-1]=arguments[i];return Object.assign?Cr.apply(void 0,[r].concat(e)):(e.forEach(function(n){!n||al(n,function(s,l){r[l]=s})}),r)}function Os(r){return!!r&&"object"==typeof r}function Fu(r){return Os(r)&&"[object Object]"===ku.call(r)&&r.constructor===Object}function To(r,t){if(!r||!t)return"";if("function"==typeof re().getComputedStyle){var e;try{e=re().getComputedStyle(r)}catch(i){return""}return e?e.getPropertyValue(t)||e[t]:""}return""}var zi=re().navigator&&re().navigator.userAgent||"",Tg=/AppleWebKit\/([\d.]+)/i.exec(zi),VE=Tg?parseFloat(Tg.pop()):null,Sg=/iPod/i.test(zi),M_=function(){var r=zi.match(/OS (\d+)_/i);return r&&r[1]?r[1]:null}(),Pa=/Android/i.test(zi),sh=function(){var r=zi.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!r)return null;var t=r[1]&&parseFloat(r[1]),e=r[2]&&parseFloat(r[2]);return t&&e?parseFloat(r[1]+"."+r[2]):t||null}(),N_=Pa&&sh<5&&VE<537,I_=/Firefox/i.test(zi),tr=/Edg/i.test(zi),Ra=!tr&&(/Chrome/i.test(zi)||/CriOS/i.test(zi)),O_=function(){var r=zi.match(/(Chrome|CriOS)\/(\d+)/);return r&&r[2]?parseFloat(r[2]):null}(),ah=function(){var r=/MSIE\s(\d+)\.\d/.exec(zi),t=r&&parseFloat(r[1]);return!t&&/Trident\/7.0/i.test(zi)&&/rv:11.0/.test(zi)&&(t=11),t}(),P_=/Safari/i.test(zi)&&!Ra&&!Pa&&!tr,Cg=/Windows/i.test(zi),ad=Boolean(ol()&&("ontouchstart"in re()||re().navigator.maxTouchPoints||re().DocumentTouch&&re().document instanceof re().DocumentTouch)),Dg=/iPad/i.test(zi)||P_&&ad&&!/iPhone/i.test(zi),od=/iPhone/i.test(zi)&&!Dg,hr=od||Dg||Sg,oh=(P_||hr)&&!Ra,vS=Object.freeze({__proto__:null,IS_IPOD:Sg,IOS_VERSION:M_,IS_ANDROID:Pa,ANDROID_VERSION:sh,IS_NATIVE_ANDROID:N_,IS_FIREFOX:I_,IS_EDGE:tr,IS_CHROME:Ra,CHROME_VERSION:O_,IE_VERSION:ah,IS_SAFARI:P_,IS_WINDOWS:Cg,TOUCH_ENABLED:ad,IS_IPAD:Dg,IS_IPHONE:od,IS_IOS:hr,IS_ANY_SAFARI:oh});function R_(r){return"string"==typeof r&&Boolean(r.trim())}function Eg(r){if(r.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function ol(){return at()===re().document}function Lu(r){return Os(r)&&1===r.nodeType}function k_(){try{return re().parent!==re().self}catch(r){return!0}}function wg(r){return function(t,e){if(!R_(t))return at()[r](null);R_(e)&&(e=at().querySelector(e));var i=Lu(e)?e:at();return i[r]&&i[r](t)}}function cn(r,t,e,i){void 0===r&&(r="div"),void 0===t&&(t={}),void 0===e&&(e={});var n=at().createElement(r);return Object.getOwnPropertyNames(t).forEach(function(s){var l=t[s];-1!==s.indexOf("aria-")||"role"===s||"type"===s?(qt.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set "+s+" to "+l+"."),n.setAttribute(s,l)):"textContent"===s?ll(n,l):(n[s]!==l||"tabIndex"===s)&&(n[s]=l)}),Object.getOwnPropertyNames(e).forEach(function(s){n.setAttribute(s,e[s])}),i&&Mg(n,i),n}function ll(r,t){return void 0===r.textContent?r.innerText=t:r.textContent=t,r}function hs(r,t){t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}function ka(r,t){return Eg(t),r.classList?r.classList.contains(t):function _S(r){return new RegExp("(^|\\s)"+r+"($|\\s)")}(t).test(r.className)}function Fa(r,t){return r.classList?r.classList.add(t):ka(r,t)||(r.className=(r.className+" "+t).trim()),r}function ld(r,t){return r?(r.classList?r.classList.remove(t):(Eg(t),r.className=r.className.split(/\s+/).filter(function(e){return e!==t}).join(" ")),r):(qt.warn("removeClass was called with an element that doesn't exist"),null)}function yS(r,t,e){var i=ka(r,t);if("function"==typeof e&&(e=e(r,t)),"boolean"!=typeof e&&(e=!i),e!==i)return e?Fa(r,t):ld(r,t),r}function xg(r,t){Object.getOwnPropertyNames(t).forEach(function(e){var i=t[e];null==i||!1===i?r.removeAttribute(e):r.setAttribute(e,!0===i?"":i)})}function La(r){var t={};if(r&&r.attributes&&r.attributes.length>0)for(var i=r.attributes,n=i.length-1;n>=0;n--){var s=i[n].name,l=i[n].value;("boolean"==typeof r[s]||-1!==",autoplay,controls,playsinline,loop,muted,default,defaultMuted,".indexOf(","+s+","))&&(l=null!==l),t[s]=l}return t}function F_(r,t){return r.getAttribute(t)}function Bu(r,t,e){r.setAttribute(t,e)}function Hu(r,t){r.removeAttribute(t)}function L_(){at().body.focus(),at().onselectstart=function(){return!1}}function B_(){at().onselectstart=function(){return!0}}function Ba(r){if(r&&r.getBoundingClientRect&&r.parentNode){var t=r.getBoundingClientRect(),e={};return["bottom","height","left","right","top","width"].forEach(function(i){void 0!==t[i]&&(e[i]=t[i])}),e.height||(e.height=parseFloat(To(r,"height"))),e.width||(e.width=parseFloat(To(r,"width"))),e}}function ul(r){if(!r||r&&!r.offsetParent)return{left:0,top:0,width:0,height:0};for(var t=r.offsetWidth,e=r.offsetHeight,i=0,n=0;r.offsetParent&&r!==at()[th.fullscreenElement];)i+=r.offsetLeft,n+=r.offsetTop,r=r.offsetParent;return{left:i,top:n,width:t,height:e}}function lh(r,t){var e={x:0,y:0};if(hr)for(var i=r;i&&"html"!==i.nodeName.toLowerCase();){var n=To(i,"transform");if(/^matrix/.test(n)){var s=n.slice(7,-1).split(/,\s/).map(Number);e.x+=s[4],e.y+=s[5]}else if(/^matrix3d/.test(n)){var l=n.slice(9,-1).split(/,\s/).map(Number);e.x+=l[12],e.y+=l[13]}i=i.parentNode}var d={},p=ul(t.target),m=ul(r),y=m.width,A=t.offsetY-(m.top-p.top),k=t.offsetX-(m.left-p.left);return t.changedTouches&&(k=t.changedTouches[0].pageX-m.left,A=t.changedTouches[0].pageY+m.top,hr&&(k-=e.x,A-=e.y)),d.y=1-Math.max(0,Math.min(1,A/m.height)),d.x=Math.max(0,Math.min(1,k/y)),d}function uh(r){return Os(r)&&3===r.nodeType}function ud(r){for(;r.firstChild;)r.removeChild(r.firstChild);return r}function Ag(r){return"function"==typeof r&&(r=r()),(Array.isArray(r)?r:[r]).map(function(t){return"function"==typeof t&&(t=t()),Lu(t)||uh(t)?t:"string"==typeof t&&/\S/.test(t)?at().createTextNode(t):void 0}).filter(function(t){return t})}function Mg(r,t){return Ag(t).forEach(function(e){return r.appendChild(e)}),r}function H_(r,t){return Mg(ud(r),t)}function cl(r){return void 0===r.button&&void 0===r.buttons||0===r.button&&void 0===r.buttons||"mouseup"===r.type&&0===r.button&&0===r.buttons||!(0!==r.button||1!==r.buttons)}var ch,dl=wg("querySelector"),U_=wg("querySelectorAll"),Ng=Object.freeze({__proto__:null,isReal:ol,isEl:Lu,isInFrame:k_,createEl:cn,textContent:ll,prependTo:hs,hasClass:ka,addClass:Fa,removeClass:ld,toggleClass:yS,setAttributes:xg,getAttributes:La,getAttribute:F_,setAttribute:Bu,removeAttribute:Hu,blockTextSelection:L_,unblockTextSelection:B_,getBoundingClientRect:Ba,findPosition:ul,getPointerPosition:lh,isTextNode:uh,emptyEl:ud,normalizeContent:Ag,appendContent:Mg,insertContent:H_,isSingleLeftClick:cl,$:dl,$$:U_}),Ig=!1,V_=function(){if(!1!==ch.options.autoSetup){var t=Array.prototype.slice.call(at().getElementsByTagName("video")),e=Array.prototype.slice.call(at().getElementsByTagName("audio")),i=Array.prototype.slice.call(at().getElementsByTagName("video-js")),n=t.concat(e,i);if(n&&n.length>0)for(var s=0,l=n.length;s<l;s++){var d=n[s];if(!d||!d.getAttribute){dh(1);break}void 0===d.player&&null!==d.getAttribute("data-setup")&&ch(d)}else Ig||dh(1)}};function dh(r,t){!ol()||(t&&(ch=t),re().setTimeout(V_,r))}function Ps(){Ig=!0,re().removeEventListener("load",Ps)}ol()&&("complete"===at().readyState?Ps():re().addEventListener("load",Ps));var Og,cd=function(t){var e=at().createElement("style");return e.className=t,e},G_=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},GE=3;function ra(){return GE++}re().WeakMap||(Og=function(){function r(){this.vdata="vdata"+Math.floor(re().performance&&re().performance.now()||Date.now()),this.data={}}var t=r.prototype;return t.set=function(i,n){var s=i[this.vdata]||ra();return i[this.vdata]||(i[this.vdata]=s),this.data[s]=n,this},t.get=function(i){var n=i[this.vdata];if(n)return this.data[n];qt("We have no data for this element",i)},t.has=function(i){return i[this.vdata]in this.data},t.delete=function(i){var n=i[this.vdata];n&&(delete this.data[n],delete i[this.vdata])},r}());var nr=re().WeakMap?new WeakMap:new Og;function Uu(r,t){if(nr.has(r)){var e=nr.get(r);0===e.handlers[t].length&&(delete e.handlers[t],r.removeEventListener?r.removeEventListener(t,e.dispatcher,!1):r.detachEvent&&r.detachEvent("on"+t,e.dispatcher)),Object.getOwnPropertyNames(e.handlers).length<=0&&(delete e.handlers,delete e.dispatcher,delete e.disabled),0===Object.getOwnPropertyNames(e).length&&nr.delete(r)}}function Pg(r,t,e,i){e.forEach(function(n){r(t,n,i)})}function Vu(r){if(r.fixed_)return r;function t(){return!0}function e(){return!1}if(!r||!r.isPropagationStopped||!r.isImmediatePropagationStopped){var i=r||re().event;for(var n in r={},i)"layerX"!==n&&"layerY"!==n&&"keyLocation"!==n&&"webkitMovementX"!==n&&"webkitMovementY"!==n&&("returnValue"===n&&i.preventDefault||(r[n]=i[n]));if(r.target||(r.target=r.srcElement||at()),r.relatedTarget||(r.relatedTarget=r.fromElement===r.target?r.toElement:r.fromElement),r.preventDefault=function(){i.preventDefault&&i.preventDefault(),r.returnValue=!1,i.returnValue=!1,r.defaultPrevented=!0},r.defaultPrevented=!1,r.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),r.cancelBubble=!0,i.cancelBubble=!0,r.isPropagationStopped=t},r.isPropagationStopped=e,r.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),r.isImmediatePropagationStopped=t,r.stopPropagation()},r.isImmediatePropagationStopped=e,null!=r.clientX){var s=at().documentElement,l=at().body;r.pageX=r.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),r.pageY=r.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}r.which=r.charCode||r.keyCode,null!=r.button&&(r.button=1&r.button?0:4&r.button?1:2&r.button?2:0)}return r.fixed_=!0,r}var dd,W_=["touchstart","touchmove"];function qr(r,t,e){if(Array.isArray(t))return Pg(qr,r,t,e);nr.has(r)||nr.set(r,{});var i=nr.get(r);if(i.handlers||(i.handlers={}),i.handlers[t]||(i.handlers[t]=[]),e.guid||(e.guid=ra()),i.handlers[t].push(e),i.dispatcher||(i.disabled=!1,i.dispatcher=function(s,l){if(!i.disabled){s=Vu(s);var d=i.handlers[s.type];if(d)for(var p=d.slice(0),m=0,y=p.length;m<y&&!s.isImmediatePropagationStopped();m++)try{p[m].call(r,s,l)}catch(M){qt.error(M)}}}),1===i.handlers[t].length)if(r.addEventListener){var n=!1;(function(){if("boolean"!=typeof dd){dd=!1;try{var t=Object.defineProperty({},"passive",{get:function(){dd=!0}});re().addEventListener("test",null,t),re().removeEventListener("test",null,t)}catch(e){}}return dd})()&&W_.indexOf(t)>-1&&(n={passive:!0}),r.addEventListener(t,i.dispatcher,n)}else r.attachEvent&&r.attachEvent("on"+t,i.dispatcher)}function Yi(r,t,e){if(nr.has(r)){var i=nr.get(r);if(i.handlers){if(Array.isArray(t))return Pg(Yi,r,t,e);var n=function(m,y){i.handlers[y]=[],Uu(m,y)};if(void 0===t){for(var s in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},s)&&n(r,s);return}var l=i.handlers[t];if(l){if(!e)return void n(r,t);if(e.guid)for(var d=0;d<l.length;d++)l[d].guid===e.guid&&l.splice(d--,1);Uu(r,t)}}}}function Gu(r,t,e){var i=nr.has(r)?nr.get(r):{},n=r.parentNode||r.ownerDocument;if("string"==typeof t?t={type:t,target:r}:t.target||(t.target=r),t=Vu(t),i.dispatcher&&i.dispatcher.call(r,t,e),n&&!t.isPropagationStopped()&&!0===t.bubbles)Gu.call(null,n,t,e);else if(!n&&!t.defaultPrevented&&t.target&&t.target[t.type]){nr.has(t.target)||nr.set(t.target,{});var s=nr.get(t.target);t.target[t.type]&&(s.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),s.disabled=!1)}return!t.defaultPrevented}function fh(r,t,e){if(Array.isArray(t))return Pg(fh,r,t,e);var i=function n(){Yi(r,t,n),e.apply(this,arguments)};i.guid=e.guid=e.guid||ra(),qr(r,t,i)}function Rg(r,t,e){var i=function n(){Yi(r,t,n),e.apply(this,arguments)};i.guid=e.guid=e.guid||ra(),qr(r,t,i)}var fd,ju=Object.freeze({__proto__:null,fixEvent:Vu,on:qr,off:Yi,trigger:Gu,one:fh,any:Rg}),qn=function(t,e,i){e.guid||(e.guid=ra());var n=e.bind(t);return n.guid=i?i+"_"+e.guid:e.guid,n},Ha=function(t,e){var i=re().performance.now();return function(){var l=re().performance.now();l-i>=e&&(t.apply(void 0,arguments),i=l)}},Ki=function(){};Ki.prototype.allowedEvents_={},Ki.prototype.addEventListener=Ki.prototype.on=function(r,t){var e=this.addEventListener;this.addEventListener=function(){},qr(this,r,t),this.addEventListener=e},Ki.prototype.removeEventListener=Ki.prototype.off=function(r,t){Yi(this,r,t)},Ki.prototype.one=function(r,t){var e=this.addEventListener;this.addEventListener=function(){},fh(this,r,t),this.addEventListener=e},Ki.prototype.any=function(r,t){var e=this.addEventListener;this.addEventListener=function(){},Rg(this,r,t),this.addEventListener=e},Ki.prototype.dispatchEvent=Ki.prototype.trigger=function(r){var t=r.type||r;"string"==typeof r&&(r={type:t}),r=Vu(r),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](r),Gu(this,r)},Ki.prototype.queueTrigger=function(r){var t=this;fd||(fd=new Map);var e=r.type||r,i=fd.get(this);i||fd.set(this,i=new Map);var n=i.get(e);i.delete(e),re().clearTimeout(n);var s=re().setTimeout(function(){0===i.size&&(i=null,fd.delete(t)),t.trigger(r)},0);i.set(e,s)};var hh=function(t){return"function"==typeof t.name?t.name():"string"==typeof t.name?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t},Ua=function(t){return t instanceof Ki||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},hd=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},pd=function(t,e,i){if(!t||!t.nodeName&&!Ua(t))throw new Error("Invalid target for "+hh(e)+"#"+i+"; must be a DOM node or evented object.")},kg=function(t,e,i){if(!hd(t))throw new Error("Invalid event type for "+hh(e)+"#"+i+"; must be a non-empty string or array.")},Fg=function(t,e,i){if("function"!=typeof t)throw new Error("Invalid listener for "+hh(e)+"#"+i+"; must be a function.")},ph=function(t,e,i){var s,l,d,n=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return n?(s=t.eventBusEl_,e.length>=3&&e.shift(),l=e[0],d=e[1]):(s=e[0],l=e[1],d=e[2]),pd(s,t,i),kg(l,t,i),Fg(d,t,i),{isTargetingSelf:n,target:s,type:l,listener:d=qn(t,d)}},fl=function(t,e,i,n){pd(t,t,e),t.nodeName?ju[e](t,i,n):t[e](i,n)},TS={on:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var s=ph(this,i,"on"),l=s.isTargetingSelf,d=s.target,p=s.type,m=s.listener;if(fl(d,"on",p,m),!l){var y=function(){return t.off(d,p,m)};y.guid=m.guid;var M=function(){return t.off("dispose",y)};M.guid=m.guid,fl(this,"on","dispose",y),fl(d,"on","dispose",M)}},one:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var s=ph(this,i,"one"),l=s.isTargetingSelf,d=s.target,p=s.type,m=s.listener;if(l)fl(d,"one",p,m);else{var y=function M(){t.off(d,p,M);for(var A=arguments.length,k=new Array(A),W=0;W<A;W++)k[W]=arguments[W];m.apply(null,k)};y.guid=m.guid,fl(d,"one",p,y)}},any:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var s=ph(this,i,"any"),l=s.isTargetingSelf,d=s.target,p=s.type,m=s.listener;if(l)fl(d,"any",p,m);else{var y=function M(){t.off(d,p,M);for(var A=arguments.length,k=new Array(A),W=0;W<A;W++)k[W]=arguments[W];m.apply(null,k)};y.guid=m.guid,fl(d,"any",p,y)}},off:function(t,e,i){if(!t||hd(t))Yi(this.eventBusEl_,t,e);else{var n=t,s=e;pd(n,this,"off"),kg(s,this,"off"),Fg(i,this,"off"),i=qn(this,i),this.off("dispose",i),n.nodeName?(Yi(n,s,i),Yi(n,"dispose",i)):Ua(n)&&(n.off(s,i),n.off("dispose",i))}},trigger:function(t,e){if(pd(this.eventBusEl_,this,"trigger"),!hd(t&&"string"!=typeof t?t.type:t)){var n="Invalid event type for "+hh(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(!t)throw new Error(n);(this.log||qt).error(n)}return Gu(this.eventBusEl_,t,e)}};function Lg(r,t){void 0===t&&(t={});var i=t.eventBusKey;if(i){if(!r[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');r.eventBusEl_=r[i]}else r.eventBusEl_=cn("span",{className:"vjs-event-bus"});return ri(r,TS),r.eventedCallbacks&&r.eventedCallbacks.forEach(function(n){n()}),r.on("dispose",function(){r.off(),[r,r.el_,r.eventBusEl_].forEach(function(n){n&&nr.has(n)&&nr.delete(n)}),re().setTimeout(function(){r.eventBusEl_=null},0)}),r}var SS={state:{},setState:function(t){var i,e=this;return"function"==typeof t&&(t=t()),al(t,function(n,s){e.state[s]!==n&&((i=i||{})[s]={from:e.state[s],to:n}),e.state[s]=n}),i&&Ua(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function Bg(r,t){return ri(r,SS),r.state=ri({},r.state,t),"function"==typeof r.handleStateChanged&&Ua(r)&&r.on("statechanged",r.handleStateChanged),r}var Hg=function(t){return"string"!=typeof t?t:t.replace(/./,function(e){return e.toLowerCase()})},gi=function(t){return"string"!=typeof t?t:t.replace(/./,function(e){return e.toUpperCase()})};function ei(){for(var r={},t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.forEach(function(n){!n||al(n,function(s,l){Fu(s)?(Fu(r[l])||(r[l]={}),r[l]=ei(r[l],s)):r[l]=s})}),r}var jE=function(){function r(){this.map_={}}var t=r.prototype;return t.has=function(i){return i in this.map_},t.delete=function(i){var n=this.has(i);return delete this.map_[i],n},t.set=function(i,n){return this.map_[i]=n,this},t.forEach=function(i,n){for(var s in this.map_)i.call(n,this.map_[s],s,this)},r}(),WE=re().Map?re().Map:jE,Ug=function(){function r(){this.set_={}}var t=r.prototype;return t.has=function(i){return i in this.set_},t.delete=function(i){var n=this.has(i);return delete this.set_[i],n},t.add=function(i){return this.set_[i]=1,this},t.forEach=function(i,n){for(var s in this.set_)i.call(n,s,s,this)},r}(),Vg=re().Set?re().Set:Ug,it=function(){function r(e,i,n){if(this.player_=!e&&this.play?e=this:e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ei({},this.options_),i=this.options_=ei(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var s=e&&e.id&&e.id()||"no_player";this.id_=s+"_component_"+ra()}this.name_=i.name||null,i.el?this.el_=i.el:!1!==i.createEl&&(this.el_=this.createEl()),!1!==i.evented&&(Lg(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),Bg(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Vg,this.setIntervalIds_=new Vg,this.rafIds_=new Vg,this.namedRafs_=new WE,this.clearingTimersOnDispose_=!1,!1!==i.initChildren&&this.initChildren(),this.ready(n),!1!==i.reportTouchActivity&&this.enableTouchActivity()}var t=r.prototype;return t.dispose=function(){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),this.el_=null),this.player_=null}},t.isDisposed=function(){return Boolean(this.isDisposed_)},t.player=function(){return this.player_},t.options=function(i){return i?(this.options_=ei(this.options_,i),this.options_):this.options_},t.el=function(){return this.el_},t.createEl=function(i,n,s){return cn(i,n,s)},t.localize=function(i,n,s){void 0===s&&(s=i);var l=this.player_.language&&this.player_.language(),d=this.player_.languages&&this.player_.languages(),p=d&&d[l],m=l&&l.split("-")[0],y=d&&d[m],M=s;return p&&p[i]?M=p[i]:y&&y[i]&&(M=y[i]),n&&(M=M.replace(/\{(\d+)\}/g,function(A,k){var W=n[k-1],H=W;return void 0===W&&(H=A),H})),M},t.handleLanguagechange=function(){},t.contentEl=function(){return this.contentEl_||this.el_},t.id=function(){return this.id_},t.name=function(){return this.name_},t.children=function(){return this.children_},t.getChildById=function(i){return this.childIndex_[i]},t.getChild=function(i){if(i)return this.childNameIndex_[i]},t.getDescendant=function(){for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];n=n.reduce(function(p,m){return p.concat(m)},[]);for(var l=this,d=0;d<n.length;d++)if(!(l=l.getChild(n[d]))||!l.getChild)return;return l},t.addChild=function(i,n,s){var l,d;if(void 0===n&&(n={}),void 0===s&&(s=this.children_.length),"string"==typeof i){d=gi(i);var p=n.componentClass||d;n.name=d;var m=r.getComponent(p);if(!m)throw new Error("Component "+p+" does not exist");if("function"!=typeof m)return null;l=new m(this.player_||this,n)}else l=i;if(l.parentComponent_&&l.parentComponent_.removeChild(l),this.children_.splice(s,0,l),l.parentComponent_=this,"function"==typeof l.id&&(this.childIndex_[l.id()]=l),(d=d||l.name&&gi(l.name()))&&(this.childNameIndex_[d]=l,this.childNameIndex_[Hg(d)]=l),"function"==typeof l.el&&l.el()){var y=null;this.children_[s+1]&&(this.children_[s+1].el_?y=this.children_[s+1].el_:Lu(this.children_[s+1])&&(y=this.children_[s+1])),this.contentEl().insertBefore(l.el(),y)}return l},t.removeChild=function(i){if("string"==typeof i&&(i=this.getChild(i)),i&&this.children_){for(var n=!1,s=this.children_.length-1;s>=0;s--)if(this.children_[s]===i){n=!0,this.children_.splice(s,1);break}if(n){i.parentComponent_=null,this.childIndex_[i.id()]=null,this.childNameIndex_[gi(i.name())]=null,this.childNameIndex_[Hg(i.name())]=null;var l=i.el();l&&l.parentNode===this.contentEl()&&this.contentEl().removeChild(i.el())}}},t.initChildren=function(){var i=this,n=this.options_.children;if(n){var d,s=this.options_,p=r.getComponent("Tech");(d=Array.isArray(n)?n:Object.keys(n)).concat(Object.keys(this.options_).filter(function(m){return!d.some(function(y){return"string"==typeof y?m===y:m===y.name})})).map(function(m){var y,M;return"string"==typeof m?M=n[y=m]||i.options_[y]||{}:(y=m.name,M=m),{name:y,opts:M}}).filter(function(m){var y=r.getComponent(m.opts.componentClass||gi(m.name));return y&&!p.isTech(y)}).forEach(function(y){var M=y.name,A=y.opts;if(void 0!==s[M]&&(A=s[M]),!1!==A){!0===A&&(A={}),A.playerOptions=i.options_.playerOptions;var k=i.addChild(M,A);k&&(i[M]=k)}})}},t.buildCSSClass=function(){return""},t.ready=function(i,n){if(void 0===n&&(n=!1),i){if(!this.isReady_)return this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(i);n?i.call(this):this.setTimeout(i,1)}},t.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var i=this.readyQueue_;this.readyQueue_=[],i&&i.length>0&&i.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)},t.$=function(i,n){return dl(i,n||this.contentEl())},t.$$=function(i,n){return U_(i,n||this.contentEl())},t.hasClass=function(i){return ka(this.el_,i)},t.addClass=function(i){Fa(this.el_,i)},t.removeClass=function(i){ld(this.el_,i)},t.toggleClass=function(i,n){yS(this.el_,i,n)},t.show=function(){this.removeClass("vjs-hidden")},t.hide=function(){this.addClass("vjs-hidden")},t.lockShowing=function(){this.addClass("vjs-lock-showing")},t.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.getAttribute=function(i){return F_(this.el_,i)},t.setAttribute=function(i,n){Bu(this.el_,i,n)},t.removeAttribute=function(i){Hu(this.el_,i)},t.width=function(i,n){return this.dimension("width",i,n)},t.height=function(i,n){return this.dimension("height",i,n)},t.dimensions=function(i,n){this.width(i,!0),this.height(n)},t.dimension=function(i,n,s){if(void 0!==n)return(null===n||n!=n)&&(n=0),this.el_.style[i]=-1!==(""+n).indexOf("%")||-1!==(""+n).indexOf("px")?n:"auto"===n?"":n+"px",void(s||this.trigger("componentresize"));if(!this.el_)return 0;var l=this.el_.style[i],d=l.indexOf("px");return parseInt(-1!==d?l.slice(0,d):this.el_["offset"+gi(i)],10)},t.currentDimension=function(i){var n=0;if("width"!==i&&"height"!==i)throw new Error("currentDimension only accepts width or height value");if(n=To(this.el_,i),0===(n=parseFloat(n))||isNaN(n)){var s="offset"+gi(i);n=this.el_[s]}return n},t.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.currentWidth=function(){return this.currentDimension("width")},t.currentHeight=function(){return this.currentDimension("height")},t.focus=function(){this.el_.focus()},t.blur=function(){this.el_.blur()},t.handleKeyDown=function(i){this.player_&&(zt().isEventKey(i,"Tab")||i.stopPropagation(),this.player_.handleKeyDown(i))},t.handleKeyPress=function(i){this.handleKeyDown(i)},t.emitTapEvents=function(){var d,i=0,n=null;this.on("touchstart",function(m){1===m.touches.length&&(n={pageX:m.touches[0].pageX,pageY:m.touches[0].pageY},i=re().performance.now(),d=!0)}),this.on("touchmove",function(m){if(m.touches.length>1)d=!1;else if(n){var y=m.touches[0].pageX-n.pageX,M=m.touches[0].pageY-n.pageY;Math.sqrt(y*y+M*M)>10&&(d=!1)}});var p=function(){d=!1};this.on("touchleave",p),this.on("touchcancel",p),this.on("touchend",function(m){n=null,!0===d&&re().performance.now()-i<200&&(m.preventDefault(),this.trigger("tap"))})},t.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var n,i=qn(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){i(),this.clearInterval(n),n=this.setInterval(i,250)});var s=function(d){i(),this.clearInterval(n)};this.on("touchmove",i),this.on("touchend",s),this.on("touchcancel",s)}},t.setTimeout=function(i,n){var l,s=this;return i=qn(this,i),this.clearTimersOnDispose_(),l=re().setTimeout(function(){s.setTimeoutIds_.has(l)&&s.setTimeoutIds_.delete(l),i()},n),this.setTimeoutIds_.add(l),l},t.clearTimeout=function(i){return this.setTimeoutIds_.has(i)&&(this.setTimeoutIds_.delete(i),re().clearTimeout(i)),i},t.setInterval=function(i,n){i=qn(this,i),this.clearTimersOnDispose_();var s=re().setInterval(i,n);return this.setIntervalIds_.add(s),s},t.clearInterval=function(i){return this.setIntervalIds_.has(i)&&(this.setIntervalIds_.delete(i),re().clearInterval(i)),i},t.requestAnimationFrame=function(i){var s,n=this;return this.supportsRaf_?(this.clearTimersOnDispose_(),i=qn(this,i),s=re().requestAnimationFrame(function(){n.rafIds_.has(s)&&n.rafIds_.delete(s),i()}),this.rafIds_.add(s),s):this.setTimeout(i,1e3/60)},t.requestNamedAnimationFrame=function(i,n){var s=this;if(!this.namedRafs_.has(i)){this.clearTimersOnDispose_(),n=qn(this,n);var l=this.requestAnimationFrame(function(){n(),s.namedRafs_.has(i)&&s.namedRafs_.delete(i)});return this.namedRafs_.set(i,l),i}},t.cancelNamedAnimationFrame=function(i){!this.namedRafs_.has(i)||(this.cancelAnimationFrame(this.namedRafs_.get(i)),this.namedRafs_.delete(i))},t.cancelAnimationFrame=function(i){return this.supportsRaf_?(this.rafIds_.has(i)&&(this.rafIds_.delete(i),re().cancelAnimationFrame(i)),i):this.clearTimeout(i)},t.clearTimersOnDispose_=function(){var i=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(n){var l=n[1];i[n[0]].forEach(function(d,p){return i[l](p)})}),i.clearingTimersOnDispose_=!1}))},r.registerComponent=function(i,n){if("string"!=typeof i||!i)throw new Error('Illegal component name, "'+i+'"; must be a non-empty string.');var s=r.getComponent("Tech"),l=s&&s.isTech(n),d=r===n||r.prototype.isPrototypeOf(n.prototype);if(l||!d)throw new Error('Illegal component, "'+i+'"; '+(l?"techs must be registered using Tech.registerTech()":"must be a Component subclass")+".");i=gi(i),r.components_||(r.components_={});var m=r.getComponent("Player");if("Player"===i&&m&&m.players){var y=m.players,M=Object.keys(y);if(y&&M.length>0&&M.map(function(A){return y[A]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return r.components_[i]=n,r.components_[Hg(i)]=n,n},r.getComponent=function(i){if(i&&r.components_)return r.components_[i]},r}();function DS(r,t,e,i){return function $_(r,t,e){if("number"!=typeof t||t<0||t>e)throw new Error("Failed to execute '"+r+"' on 'TimeRanges': The index provided ("+t+") is non-numeric or out of bounds (0-"+e+").")}(r,i,e.length-1),e[i][t]}function Xr(r){var t;return t=void 0===r||0===r.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:r.length,start:DS.bind(null,"start",0,r),end:DS.bind(null,"end",1,r)},re().Symbol&&re().Symbol.iterator&&(t[re().Symbol.iterator]=function(){return(r||[]).values()}),t}function $u(r,t){return Array.isArray(r)?Xr(r):void 0===r||void 0===t?Xr():Xr([[r,t]])}function ES(r,t){var i,n,e=0;if(!t)return 0;(!r||!r.length)&&(r=$u(0,0));for(var s=0;s<r.length;s++)i=r.start(s),(n=r.end(s))>t&&(n=t),e+=n-i;return e/t}function pr(r){if(r instanceof pr)return r;"number"==typeof r?this.code=r:"string"==typeof r?this.message=r:Os(r)&&("number"==typeof r.code&&(this.code=r.code),ri(this,r)),this.message||(this.message=pr.defaultMessages[this.code]||"")}it.prototype.supportsRaf_="function"==typeof re().requestAnimationFrame&&"function"==typeof re().cancelAnimationFrame,it.registerComponent("Component",it),pr.prototype.code=0,pr.prototype.message="",pr.prototype.status=null,pr.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],pr.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var hl=0;hl<pr.errorTypes.length;hl++)pr[pr.errorTypes[hl]]=hl,pr.prototype[pr.errorTypes[hl]]=hl;function zu(r){return null!=r&&"function"==typeof r.then}function aa(r){zu(r)&&r.then(null,function(t){})}var z_=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(i,n,s){return t[n]&&(i[n]=t[n]),i},{cues:t.cues&&Array.prototype.map.call(t.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},gd="vjs-modal-dialog",Yu=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).handleKeyDown_=function(l){return s.handleKeyDown(l)},s.close_=function(l){return s.close(l)},s.opened_=s.hasBeenOpened_=s.hasBeenFilled_=!1,s.closeable(!s.options_.uncloseable),s.content(s.options_.content),s.contentEl_=cn("div",{className:gd+"-content"},{role:"document"}),s.descEl_=cn("p",{className:gd+"-description vjs-control-text",id:s.el().getAttribute("aria-describedby")}),ll(s.descEl_,s.description()),s.el_.appendChild(s.descEl_),s.el_.appendChild(s.contentEl_),s}bt(t,r);var e=t.prototype;return e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,r.prototype.dispose.call(this)},e.buildCSSClass=function(){return gd+" vjs-hidden "+r.prototype.buildCSSClass.call(this)},e.label=function(){return this.localize(this.options_.label||"Modal Window")},e.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},e.open=function(){if(!this.opened_){var n=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!n.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&n.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=n.controls(),n.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.opened=function(n){return"boolean"==typeof n&&this[n?"open":"close"](),this.opened_},e.close=function(){if(this.opened_){var n=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&n.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&n.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.closeable=function(n){if("boolean"==typeof n){var s=this.closeable_=!!n,l=this.getChild("closeButton");if(s&&!l){var d=this.contentEl_;this.contentEl_=this.el_,l=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=d,this.on(l,"close",this.close_)}!s&&l&&(this.off(l,"close",this.close_),this.removeChild(l),l.dispose())}return this.closeable_},e.fill=function(){this.fillWith(this.content())},e.fillWith=function(n){var s=this.contentEl(),l=s.parentNode,d=s.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,l.removeChild(s),this.empty(),H_(s,n),this.trigger("modalfill"),d?l.insertBefore(s,d):l.appendChild(s);var p=this.getChild("closeButton");p&&l.appendChild(p.el_)},e.empty=function(){this.trigger("beforemodalempty"),ud(this.contentEl()),this.trigger("modalempty")},e.content=function(n){return void 0!==n&&(this.content_=n),this.content_},e.conditionalFocus_=function(){var n=at().activeElement,s=this.player_.el_;this.previouslyActiveEl_=null,(s.contains(n)||s===n)&&(this.previouslyActiveEl_=n,this.focus())},e.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},e.handleKeyDown=function(n){if(n.stopPropagation(),zt().isEventKey(n,"Escape")&&this.closeable())return n.preventDefault(),void this.close();if(zt().isEventKey(n,"Tab")){for(var d,s=this.focusableEls_(),l=this.el_.querySelector(":focus"),p=0;p<s.length;p++)if(l===s[p]){d=p;break}at().activeElement===this.el_&&(d=0),n.shiftKey&&0===d?(s[s.length-1].focus(),n.preventDefault()):!n.shiftKey&&d===s.length-1&&(s[0].focus(),n.preventDefault())}},e.focusableEls_=function(){var n=this.el_.querySelectorAll("*");return Array.prototype.filter.call(n,function(s){return(s instanceof re().HTMLAnchorElement||s instanceof re().HTMLAreaElement)&&s.hasAttribute("href")||(s instanceof re().HTMLInputElement||s instanceof re().HTMLSelectElement||s instanceof re().HTMLTextAreaElement||s instanceof re().HTMLButtonElement)&&!s.hasAttribute("disabled")||s instanceof re().HTMLIFrameElement||s instanceof re().HTMLObjectElement||s instanceof re().HTMLEmbedElement||s.hasAttribute("tabindex")&&-1!==s.getAttribute("tabindex")||s.hasAttribute("contenteditable")})},t}(it);Yu.prototype.options_={pauseOnOpen:!0,temporary:!0},it.registerComponent("ModalDialog",Yu);var Ku=function(r){function t(i){var n;void 0===i&&(i=[]),(n=r.call(this)||this).tracks_=[],Object.defineProperty(jt(n),"length",{get:function(){return this.tracks_.length}});for(var s=0;s<i.length;s++)n.addTrack(i[s]);return n}bt(t,r);var e=t.prototype;return e.addTrack=function(n){var s=this,l=this.tracks_.length;""+l in this||Object.defineProperty(this,l,{get:function(){return this.tracks_[l]}}),-1===this.tracks_.indexOf(n)&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack",target:this})),n.labelchange_=function(){s.trigger({track:n,type:"labelchange",target:s})},Ua(n)&&n.addEventListener("labelchange",n.labelchange_)},e.removeTrack=function(n){for(var s,l=0,d=this.length;l<d;l++)if(this[l]===n){(s=this[l]).off&&s.off(),this.tracks_.splice(l,1);break}!s||this.trigger({track:s,type:"removetrack",target:this})},e.getTrackById=function(n){for(var s=null,l=0,d=this.length;l<d;l++){var p=this[l];if(p.id===n){s=p;break}}return s},t}(Ki);for(var wS in Ku.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"},Ku.prototype.allowedEvents_)Ku.prototype["on"+wS]=null;var jg=function(t,e){for(var i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].enabled=!1)},xS=function(r){function t(i){var n;void 0===i&&(i=[]);for(var s=i.length-1;s>=0;s--)if(i[s].enabled){jg(i,i[s]);break}return(n=r.call(this,i)||this).changing_=!1,n}bt(t,r);var e=t.prototype;return e.addTrack=function(n){var s=this;n.enabled&&jg(this,n),r.prototype.addTrack.call(this,n),n.addEventListener&&(n.enabledChange_=function(){s.changing_||(s.changing_=!0,jg(s,n),s.changing_=!1,s.trigger("change"))},n.addEventListener("enabledchange",n.enabledChange_))},e.removeTrack=function(n){r.prototype.removeTrack.call(this,n),n.removeEventListener&&n.enabledChange_&&(n.removeEventListener("enabledchange",n.enabledChange_),n.enabledChange_=null)},t}(Ku),Wg=function(t,e){for(var i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].selected=!1)},gh=function(r){function t(i){var n;void 0===i&&(i=[]);for(var s=i.length-1;s>=0;s--)if(i[s].selected){Wg(i,i[s]);break}return(n=r.call(this,i)||this).changing_=!1,Object.defineProperty(jt(n),"selectedIndex",{get:function(){for(var d=0;d<this.length;d++)if(this[d].selected)return d;return-1},set:function(){}}),n}bt(t,r);var e=t.prototype;return e.addTrack=function(n){var s=this;n.selected&&Wg(this,n),r.prototype.addTrack.call(this,n),n.addEventListener&&(n.selectedChange_=function(){s.changing_||(s.changing_=!0,Wg(s,n),s.changing_=!1,s.trigger("change"))},n.addEventListener("selectedchange",n.selectedChange_))},e.removeTrack=function(n){r.prototype.removeTrack.call(this,n),n.removeEventListener&&n.selectedChange_&&(n.removeEventListener("selectedchange",n.selectedChange_),n.selectedChange_=null)},t}(Ku),pl=function(r){function t(){return r.apply(this,arguments)||this}bt(t,r);var e=t.prototype;return e.addTrack=function(n){var s=this;r.prototype.addTrack.call(this,n),this.queueChange_||(this.queueChange_=function(){return s.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return s.trigger("selectedlanguagechange")}),n.addEventListener("modechange",this.queueChange_),-1===["metadata","chapters"].indexOf(n.kind)&&n.addEventListener("modechange",this.triggerSelectedlanguagechange_)},e.removeTrack=function(n){r.prototype.removeTrack.call(this,n),n.removeEventListener&&(this.queueChange_&&n.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&n.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},t}(Ku),AS=function(){function r(e){void 0===e&&(e=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var i=0,n=e.length;i<n;i++)this.addTrackElement_(e[i])}var t=r.prototype;return t.addTrackElement_=function(i){var n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.trackElements_[n]}}),-1===this.trackElements_.indexOf(i)&&this.trackElements_.push(i)},t.getTrackElementByTrack_=function(i){for(var n,s=0,l=this.trackElements_.length;s<l;s++)if(i===this.trackElements_[s].track){n=this.trackElements_[s];break}return n},t.removeTrackElement_=function(i){for(var n=0,s=this.trackElements_.length;n<s;n++)if(i===this.trackElements_[n]){this.trackElements_[n].track&&"function"==typeof this.trackElements_[n].track.off&&this.trackElements_[n].track.off(),"function"==typeof this.trackElements_[n].off&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}},r}(),qu=function(){function r(e){r.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var t=r.prototype;return t.setCues_=function(i){var n=this.length||0,s=0,l=i.length;this.cues_=i,this.length_=i.length;var d=function(m){""+m in this||Object.defineProperty(this,""+m,{get:function(){return this.cues_[m]}})};if(n<l)for(s=n;s<l;s++)d.call(this,s)},t.getCueById=function(i){for(var n=null,s=0,l=this.length;s<l;s++){var d=this[s];if(d.id===i){n=d;break}}return n},r}(),MS={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},NS={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},$g={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Rs={disabled:"disabled",hidden:"hidden",showing:"showing"},gl=function(r){function t(e){var i;void 0===e&&(e={}),i=r.call(this)||this;var n={id:e.id||"vjs_track_"+ra(),kind:e.kind||"",language:e.language||""},s=e.label||"",l=function(m){Object.defineProperty(jt(i),m,{get:function(){return n[m]},set:function(){}})};for(var d in n)l(d);return Object.defineProperty(jt(i),"label",{get:function(){return s},set:function(m){m!==s&&(s=m,this.trigger("labelchange"))}}),i}return bt(t,r),t}(Ki),qi=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],i=at().createElement("a");i.href=t;for(var n={},s=0;s<e.length;s++)n[e[s]]=i[e[s]];return"http:"===n.protocol&&(n.host=n.host.replace(/:80$/,"")),"https:"===n.protocol&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=re().location.protocol),n.host||(n.host=re().location.host),n},So=function(t){if(!t.match(/^https?:\/\//)){var e=at().createElement("a");e.href=t,t=e.href}return t},Xu=function(t){if("string"==typeof t){var i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(i)return i.pop().toLowerCase()}return""},Er=function(t,e){void 0===e&&(e=re().location);var i=qi(t);return(":"===i.protocol?e.protocol:i.protocol)+i.host!==e.protocol+e.host},zg=Object.freeze({__proto__:null,parseUrl:qi,getAbsoluteURL:So,getFileExtension:Xu,isCrossOrigin:Er}),ml=function(t,e){var i=new(re().WebVTT.Parser)(re(),re().vttjs,re().WebVTT.StringDecoder()),n=[];i.oncue=function(s){e.addCue(s)},i.onparsingerror=function(s){n.push(s)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),n.length>0&&(re().console&&re().console.groupCollapsed&&re().console.groupCollapsed("Text Track parsing errors for "+e.src),n.forEach(function(s){return qt.error(s)}),re().console&&re().console.groupEnd&&re().console.groupEnd()),i.flush()},vl=function(t,e){var i={uri:t},n=Er(t);n&&(i.cors=n);var s="use-credentials"===e.tech_.crossOrigin();s&&(i.withCredentials=s),Bf()(i,qn(this,function(l,d,p){if(l)return qt.error(l,d);e.loaded_=!0,"function"!=typeof re().WebVTT?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],function(m){if("vttjserror"!==m.type)return ml(p,e);qt.error("vttjs failed to load, stopping trying to process "+e.src)}):ml(p,e)}))},oa=function(r){function t(i){var n;if(void 0===i&&(i={}),!i.tech)throw new Error("A tech was not provided.");var s=ei(i,{kind:$g[i.kind]||"subtitles",language:i.language||i.srclang||""}),l=Rs[s.mode]||"disabled",d=s.default;("metadata"===s.kind||"chapters"===s.kind)&&(l="hidden"),(n=r.call(this,s)||this).tech_=s.tech,n.cues_=[],n.activeCues_=[],n.preload_=!1!==n.tech_.preloadTextTracks;var p=new qu(n.cues_),m=new qu(n.activeCues_),y=!1,M=qn(jt(n),function(){!this.tech_.isReady_||this.tech_.isDisposed()||(this.activeCues=this.activeCues,y&&(this.trigger("cuechange"),y=!1))});return n.tech_.one("dispose",function(){n.tech_.off("timeupdate",M)}),"disabled"!==l&&n.tech_.on("timeupdate",M),Object.defineProperties(jt(n),{default:{get:function(){return d},set:function(){}},mode:{get:function(){return l},set:function(W){!Rs[W]||l!==W&&(l=W,!this.preload_&&"disabled"!==l&&0===this.cues.length&&vl(this.src,this),this.tech_.off("timeupdate",M),"disabled"!==l&&this.tech_.on("timeupdate",M),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?p:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return m;for(var W=this.tech_.currentTime(),H=[],j=0,le=this.cues.length;j<le;j++){var he=this.cues[j];(he.startTime<=W&&he.endTime>=W||he.startTime===he.endTime&&he.startTime<=W&&he.startTime+.5>=W)&&H.push(he)}if(y=!1,H.length!==this.activeCues_.length)y=!0;else for(var Ne=0;Ne<H.length;Ne++)-1===this.activeCues_.indexOf(H[Ne])&&(y=!0);return this.activeCues_=H,m.setCues_(this.activeCues_),m},set:function(){}}}),s.src?(n.src=s.src,n.preload_||(n.loaded_=!0),(n.preload_||"subtitles"!==s.kind&&"captions"!==s.kind)&&vl(n.src,jt(n))):n.loaded_=!0,n}bt(t,r);var e=t.prototype;return e.addCue=function(n){var s=n;if(re().vttjs&&!(n instanceof re().vttjs.VTTCue)){for(var l in s=new(re().vttjs.VTTCue)(n.startTime,n.endTime,n.text),n)l in s||(s[l]=n[l]);s.id=n.id,s.originalCue_=n}for(var d=this.tech_.textTracks(),p=0;p<d.length;p++)d[p]!==this&&d[p].removeCue(s);this.cues_.push(s),this.cues.setCues_(this.cues_)},e.removeCue=function(n){for(var s=this.cues_.length;s--;){var l=this.cues_[s];if(l===n||l.originalCue_&&l.originalCue_===n){this.cues_.splice(s,1),this.cues.setCues_(this.cues_);break}}},t}(gl);oa.prototype.allowedEvents_={cuechange:"cuechange"};var _l=function(r){function t(e){var i;void 0===e&&(e={});var n=ei(e,{kind:NS[e.kind]||""});i=r.call(this,n)||this;var s=!1;return Object.defineProperty(jt(i),"enabled",{get:function(){return s},set:function(d){"boolean"!=typeof d||d===s||(s=d,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,i}return bt(t,r),t}(gl),yl=function(r){function t(e){var i;void 0===e&&(e={});var n=ei(e,{kind:MS[e.kind]||""});i=r.call(this,n)||this;var s=!1;return Object.defineProperty(jt(i),"selected",{get:function(){return s},set:function(d){"boolean"!=typeof d||d===s||(s=d,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),i}return bt(t,r),t}(gl),Sl=function(r){function t(e){var i;void 0===e&&(e={}),i=r.call(this)||this;var n,s=new oa(e);return i.kind=s.kind,i.src=s.src,i.srclang=s.language,i.label=s.label,i.default=s.default,Object.defineProperties(jt(i),{readyState:{get:function(){return n}},track:{get:function(){return s}}}),n=0,s.addEventListener("loadeddata",function(){n=2,i.trigger({type:"load",target:jt(i)})}),i}return bt(t,r),t}(Ki);Sl.prototype.allowedEvents_={load:"load"},Sl.NONE=0,Sl.LOADING=1,Sl.LOADED=2,Sl.ERROR=3;var Qr={audio:{ListClass:xS,TrackClass:_l,capitalName:"Audio"},video:{ListClass:gh,TrackClass:yl,capitalName:"Video"},text:{ListClass:pl,TrackClass:oa,capitalName:"Text"}};Object.keys(Qr).forEach(function(r){Qr[r].getterName=r+"Tracks",Qr[r].privateName=r+"Tracks_"});var Cl={remoteText:{ListClass:pl,TrackClass:oa,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:AS,TrackClass:Sl,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},gr=Cr({},Qr,Cl);Cl.names=Object.keys(Cl),Qr.names=Object.keys(Qr),gr.names=[].concat(Cl.names).concat(Qr.names);var zn=function(r){function t(i,n){var s;return void 0===i&&(i={}),void 0===n&&(n=function(){}),i.reportTouchActivity=!1,(s=r.call(this,null,i,n)||this).onDurationChange_=function(l){return s.onDurationChange(l)},s.trackProgress_=function(l){return s.trackProgress(l)},s.trackCurrentTime_=function(l){return s.trackCurrentTime(l)},s.stopTrackingCurrentTime_=function(l){return s.stopTrackingCurrentTime(l)},s.disposeSourceHandler_=function(l){return s.disposeSourceHandler(l)},s.hasStarted_=!1,s.on("playing",function(){this.hasStarted_=!0}),s.on("loadstart",function(){this.hasStarted_=!1}),gr.names.forEach(function(l){var d=gr[l];i&&i[d.getterName]&&(s[d.privateName]=i[d.getterName])}),s.featuresProgressEvents||s.manualProgressOn(),s.featuresTimeupdateEvents||s.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(l){!1===i["native"+l+"Tracks"]&&(s["featuresNative"+l+"Tracks"]=!1)}),!1===i.nativeCaptions||!1===i.nativeTextTracks?s.featuresNativeTextTracks=!1:(!0===i.nativeCaptions||!0===i.nativeTextTracks)&&(s.featuresNativeTextTracks=!0),s.featuresNativeTextTracks||s.emulateTextTracks(),s.preloadTextTracks=!1!==i.preloadTextTracks,s.autoRemoteTextTracks_=new gr.text.ListClass,s.initTrackListeners(),i.nativeControlsForTouch||s.emitTapEvents(),s.constructor&&(s.name_=s.constructor.name||"Unknown Tech"),s}bt(t,r);var e=t.prototype;return e.triggerSourceset=function(n){var s=this;this.isReady_||this.one("ready",function(){return s.setTimeout(function(){return s.triggerSourceset(n)},1)}),this.trigger({src:n,type:"sourceset"})},e.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},e.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},e.trackProgress=function(n){this.stopTrackingProgress(),this.progressInterval=this.setInterval(qn(this,function(){var s=this.bufferedPercent();this.bufferedPercent_!==s&&this.trigger("progress"),this.bufferedPercent_=s,1===s&&this.stopTrackingProgress()}),500)},e.onDurationChange=function(n){this.duration_=this.duration()},e.buffered=function(){return $u(0,0)},e.bufferedPercent=function(){return ES(this.buffered(),this.duration_)},e.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},e.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},e.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.dispose=function(){this.clearTracks(Qr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),r.prototype.dispose.call(this)},e.clearTracks=function(n){var s=this;(n=[].concat(n)).forEach(function(l){for(var d=s[l+"Tracks"]()||[],p=d.length;p--;){var m=d[p];"text"===l&&s.removeRemoteTextTrack(m),d.removeTrack(m)}})},e.cleanupAutoTextTracks=function(){for(var n=this.autoRemoteTextTracks_||[],s=n.length;s--;)this.removeRemoteTextTrack(n[s])},e.reset=function(){},e.crossOrigin=function(){},e.setCrossOrigin=function(){},e.error=function(n){return void 0!==n&&(this.error_=new pr(n),this.trigger("error")),this.error_},e.played=function(){return this.hasStarted_?$u(0,0):$u()},e.play=function(){},e.setScrubbing=function(){},e.scrubbing=function(){},e.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.initTrackListeners=function(){var n=this;Qr.names.forEach(function(s){var d=function(){n.trigger(s+"trackchange")},p=n[Qr[s].getterName]();p.addEventListener("removetrack",d),p.addEventListener("addtrack",d),n.on("dispose",function(){p.removeEventListener("removetrack",d),p.removeEventListener("addtrack",d)})})},e.addWebVttScript_=function(){var n=this;if(!re().WebVTT)if(at().body.contains(this.el())){if(!this.options_["vtt.js"]&&Fu(A1())&&Object.keys(A1()).length>0)return void this.trigger("vttjsloaded");var s=at().createElement("script");s.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",s.onload=function(){n.trigger("vttjsloaded")},s.onerror=function(){n.trigger("vttjserror")},this.on("dispose",function(){s.onload=null,s.onerror=null}),re().WebVTT=!0,this.el().parentNode.appendChild(s)}else this.ready(this.addWebVttScript_)},e.emulateTextTracks=function(){var n=this,s=this.textTracks(),l=this.remoteTextTracks(),d=function(A){return s.addTrack(A.track)},p=function(A){return s.removeTrack(A.track)};l.on("addtrack",d),l.on("removetrack",p),this.addWebVttScript_();var m=function(){return n.trigger("texttrackchange")},y=function(){m();for(var A=0;A<s.length;A++){var k=s[A];k.removeEventListener("cuechange",m),"showing"===k.mode&&k.addEventListener("cuechange",m)}};y(),s.addEventListener("change",y),s.addEventListener("addtrack",y),s.addEventListener("removetrack",y),this.on("dispose",function(){l.off("addtrack",d),l.off("removetrack",p),s.removeEventListener("change",y),s.removeEventListener("addtrack",y),s.removeEventListener("removetrack",y);for(var M=0;M<s.length;M++)s[M].removeEventListener("cuechange",m)})},e.addTextTrack=function(n,s,l){if(!n)throw new Error("TextTrack kind is required but was not provided");return function q_(r,t,e,i,n){void 0===n&&(n={});var s=r.textTracks();n.kind=t,e&&(n.label=e),i&&(n.language=i),n.tech=r;var l=new gr.text.TrackClass(n);return s.addTrack(l),l}(this,n,s,l)},e.createRemoteTextTrack=function(n){var s=ei(n,{tech:this});return new Cl.remoteTextEl.TrackClass(s)},e.addRemoteTextTrack=function(n,s){var l=this;void 0===n&&(n={});var d=this.createRemoteTextTrack(n);return!0!==s&&!1!==s&&(qt.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),s=!0),this.remoteTextTrackEls().addTrackElement_(d),this.remoteTextTracks().addTrack(d.track),!0!==s&&this.ready(function(){return l.autoRemoteTextTracks_.addTrack(d.track)}),d},e.removeRemoteTextTrack=function(n){var s=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(s),this.remoteTextTracks().removeTrack(n),this.autoRemoteTextTracks_.removeTrack(n)},e.getVideoPlaybackQuality=function(){return{}},e.requestPictureInPicture=function(){var n=this.options_.Promise||re().Promise;if(n)return n.reject()},e.disablePictureInPicture=function(){return!0},e.setDisablePictureInPicture=function(){},e.setPoster=function(){},e.playsinline=function(){},e.setPlaysinline=function(){},e.overrideNativeAudioTracks=function(){},e.overrideNativeVideoTracks=function(){},e.canPlayType=function(){return""},t.canPlayType=function(){return""},t.canPlaySource=function(n,s){return t.canPlayType(n.type)},t.isTech=function(n){return n.prototype instanceof t||n instanceof t||n===t},t.registerTech=function(n,s){if(t.techs_||(t.techs_={}),!t.isTech(s))throw new Error("Tech "+n+" must be a Tech");if(!t.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!t.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return n=gi(n),t.techs_[n]=s,t.techs_[Hg(n)]=s,"Tech"!==n&&t.defaultTechOrder_.push(n),s},t.getTech=function(n){if(n){if(t.techs_&&t.techs_[n])return t.techs_[n];if(n=gi(n),re()&&re().videojs&&re().videojs[n])return qt.warn("The "+n+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),re().videojs[n]}},t}(it);gr.names.forEach(function(r){var t=gr[r];zn.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}}),zn.prototype.featuresVolumeControl=!0,zn.prototype.featuresMuteControl=!0,zn.prototype.featuresFullscreenResize=!1,zn.prototype.featuresPlaybackRate=!1,zn.prototype.featuresProgressEvents=!1,zn.prototype.featuresSourceset=!1,zn.prototype.featuresTimeupdateEvents=!1,zn.prototype.featuresNativeTextTracks=!1,zn.withSourceHandlers=function(r){r.registerSourceHandler=function(e,i){var n=r.sourceHandlers;n||(n=r.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,e)},r.canPlayType=function(e){for(var n,i=r.sourceHandlers||[],s=0;s<i.length;s++)if(n=i[s].canPlayType(e))return n;return""},r.selectSourceHandler=function(e,i){for(var n=r.sourceHandlers||[],l=0;l<n.length;l++)if(n[l].canHandleSource(e,i))return n[l];return null},r.canPlaySource=function(e,i){var n=r.selectSourceHandler(e,i);return n?n.canHandleSource(e,i):""},["seekable","seeking","duration"].forEach(function(e){var i=this[e];"function"==typeof i&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):i.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(e){var i=r.selectSourceHandler(e,this.options_);i||(r.nativeSourceHandler?i=r.nativeSourceHandler:qt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==r.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=i.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},it.registerComponent("Tech",zn),zn.registerTech("Tech",zn),zn.defaultTechOrder_=[];var Co={},mh={},md={};function X_(r,t,e){r.setTimeout(function(){return Dl(t,Co[t.type],e,r)},1)}function J_(r,t,e,i){void 0===i&&(i=null);var n="call"+gi(e),s=r.reduce(vh(n),i),l=s===md,d=l?null:t[e](s);return function RS(r,t,e,i){for(var n=r.length-1;n>=0;n--){var s=r[n];s[t]&&s[t](i,e)}}(r,e,d,l),d}var PS={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},ey={setCurrentTime:1,setMuted:1,setVolume:1},ty={play:1,pause:1};function vh(r){return function(t,e){return t===md?md:e[r]?e[r](t):t}}function Dl(r,t,e,i,n,s){void 0===r&&(r={}),void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===s&&(s=!1);var d=t[0],p=t.slice(1);if("string"==typeof d)Dl(r,Co[d],e,i,n,s);else if(d){var m=function $E(r,t){var e=mh[r.id()],i=null;if(null==e)return i=t(r),mh[r.id()]=[[t,i]],i;for(var n=0;n<e.length;n++){var s=e[n];s[0]===t&&(i=s[1])}return null===i&&(i=t(r),e.push([t,i])),i}(i,d);if(!m.setSource)return n.push(m),Dl(r,p,e,i,n,s);m.setSource(ri({},r),function(y,M){if(y)return Dl(r,p,e,i,n,s);n.push(m),Dl(M,r.type===M.type?p:Co[M.type],e,i,n,s)})}else p.length?Dl(r,p,e,i,n,s):s?e(r,n):Dl(r,Co["*"],e,i,n,!0)}var Yg={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Ju=function(t){void 0===t&&(t="");var e=Xu(t);return Yg[e.toLowerCase()]||""},zE=function r(t){if(Array.isArray(t)){var e=[];t.forEach(function(i){i=r(i),Array.isArray(i)?e=e.concat(i):Os(i)&&e.push(i)}),t=e}else t="string"==typeof t&&t.trim()?[LS({src:t})]:Os(t)&&"string"==typeof t.src&&t.src&&t.src.trim()?[LS(t)]:[];return t};function LS(r){if(!r.type){var t=Ju(r.src);t&&(r.type=t)}return r}var YE=function(r){function t(e,i,n){var s,l=ei({createEl:!1},i);if(s=r.call(this,e,l,n)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)e.src(i.playerOptions.sources);else for(var d=0,p=i.playerOptions.techOrder;d<p.length;d++){var m=gi(p[d]),y=zn.getTech(m);if(m||(y=it.getComponent(m)),y&&y.isSupported()){e.loadTech_(m);break}}return s}return bt(t,r),t}(it);it.registerComponent("MediaLoader",YE);var _h=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).handleMouseOver_=function(l){return s.handleMouseOver(l)},s.handleMouseOut_=function(l){return s.handleMouseOut(l)},s.handleClick_=function(l){return s.handleClick(l)},s.handleKeyDown_=function(l){return s.handleKeyDown(l)},s.emitTapEvents(),s.enable(),s}bt(t,r);var e=t.prototype;return e.createEl=function(n,s,l){void 0===n&&(n="div"),void 0===s&&(s={}),void 0===l&&(l={}),s=ri({className:this.buildCSSClass(),tabIndex:0},s),"button"===n&&qt.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),l=ri({role:"button"},l),this.tabIndex_=s.tabIndex;var d=cn(n,s,l);return d.appendChild(cn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(d),d},e.dispose=function(){this.controlTextEl_=null,r.prototype.dispose.call(this)},e.createControlTextEl=function(n){return this.controlTextEl_=cn("span",{className:"vjs-control-text"},{"aria-live":"polite"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},e.controlText=function(n,s){if(void 0===s&&(s=this.el()),void 0===n)return this.controlText_||"Need Text";var l=this.localize(n);this.controlText_=n,ll(this.controlTextEl_,l),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&s.setAttribute("title",l)},e.buildCSSClass=function(){return"vjs-control vjs-button "+r.prototype.buildCSSClass.call(this)},e.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},e.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},e.handleLanguagechange=function(){this.controlText(this.controlText_)},e.handleClick=function(n){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},e.handleKeyDown=function(n){zt().isEventKey(n,"Space")||zt().isEventKey(n,"Enter")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,n)},t}(it);it.registerComponent("ClickableComponent",_h);var ny=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).update(),s.update_=function(l){return s.update(l)},i.on("posterchange",s.update_),s}bt(t,r);var e=t.prototype;return e.dispose=function(){this.player().off("posterchange",this.update_),r.prototype.dispose.call(this)},e.createEl=function(){return cn("div",{className:"vjs-poster",tabIndex:-1})},e.update=function(n){var s=this.player().poster();this.setSrc(s),s?this.show():this.hide()},e.setSrc=function(n){var s="";n&&(s='url("'+n+'")'),this.el_.style.backgroundImage=s},e.handleClick=function(n){if(this.player_.controls()){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((ah||tr)&&s)&&this.player_.tech(!0).focus(),this.player_.paused()?aa(this.player_.play()):this.player_.pause()}},t}(_h);it.registerComponent("PosterImage",ny);var ks="#222",ec={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Kg(r,t){var e;if(4===r.length)e=r[1]+r[1]+r[2]+r[2]+r[3]+r[3];else{if(7!==r.length)throw new Error("Invalid color code provided, "+r+"; must be formatted as e.g. #f0e or #f604e2.");e=r.slice(1)}return"rgba("+parseInt(e.slice(0,2),16)+","+parseInt(e.slice(2,4),16)+","+parseInt(e.slice(4,6),16)+","+t+")"}function yh(r,t,e){try{r.style[t]=e}catch(i){return}}var BS=function(r){function t(i,n,s){var l;l=r.call(this,i,n,s)||this;var d=function(m){return l.updateDisplay(m)};return i.on("loadstart",function(p){return l.toggleDisplay(p)}),i.on("texttrackchange",d),i.on("loadedmetadata",function(p){return l.preselectTrack(p)}),i.ready(qn(jt(l),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",d),i.on("playerresize",d),re().addEventListener("orientationchange",d),i.on("dispose",function(){return re().removeEventListener("orientationchange",d)});for(var p=this.options_.playerOptions.tracks||[],m=0;m<p.length;m++)this.player_.addRemoteTextTrack(p[m],!0);this.preselectTrack()}})),l}bt(t,r);var e=t.prototype;return e.preselectTrack=function(){for(var d,p,m,n={captions:1,subtitles:1},s=this.player_.textTracks(),l=this.player_.cache_.selectedLanguage,y=0;y<s.length;y++){var M=s[y];l&&l.enabled&&l.language&&l.language===M.language&&M.kind in n?M.kind===l.kind?m=M:m||(m=M):l&&!l.enabled?(m=null,d=null,p=null):M.default&&("descriptions"!==M.kind||d?M.kind in n&&!p&&(p=M):d=M)}m?m.mode="showing":p?p.mode="showing":d&&(d.mode="showing")},e.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},e.clearDisplay=function(){"function"==typeof re().WebVTT&&re().WebVTT.processCues(re(),[],this.el_)},e.updateDisplay=function(){var n=this.player_.textTracks(),s=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),s){for(var l=[],d=0;d<n.length;++d){var p=n[d];"showing"===p.mode&&l.push(p)}this.updateForTrack(l)}else{for(var m=null,y=null,M=n.length;M--;){var A=n[M];"showing"===A.mode&&("descriptions"===A.kind?m=A:y=A)}y?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(y)):m&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(m))}},e.updateDisplayState=function(n){for(var s=this.player_.textTrackSettings.getValues(),l=n.activeCues,d=l.length;d--;){var p=l[d];if(p){var m=p.displayState;if(s.color&&(m.firstChild.style.color=s.color),s.textOpacity&&yh(m.firstChild,"color",Kg(s.color||"#fff",s.textOpacity)),s.backgroundColor&&(m.firstChild.style.backgroundColor=s.backgroundColor),s.backgroundOpacity&&yh(m.firstChild,"backgroundColor",Kg(s.backgroundColor||"#000",s.backgroundOpacity)),s.windowColor&&(s.windowOpacity?yh(m,"backgroundColor",Kg(s.windowColor,s.windowOpacity)):m.style.backgroundColor=s.windowColor),s.edgeStyle&&("dropshadow"===s.edgeStyle?m.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px "+ks:"raised"===s.edgeStyle?m.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px "+ks:"depressed"===s.edgeStyle?m.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px "+ks:"uniform"===s.edgeStyle&&(m.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px "+ks)),s.fontPercent&&1!==s.fontPercent){var y=re().parseFloat(m.style.fontSize);m.style.fontSize=y*s.fontPercent+"px",m.style.height="auto",m.style.top="auto"}s.fontFamily&&"default"!==s.fontFamily&&("small-caps"===s.fontFamily?m.firstChild.style.fontVariant="small-caps":m.firstChild.style.fontFamily=ec[s.fontFamily])}}},e.updateForTrack=function(n){if(Array.isArray(n)||(n=[n]),"function"==typeof re().WebVTT&&!n.every(function(k){return!k.activeCues})){for(var s=[],l=0;l<n.length;++l)for(var d=n[l],p=0;p<d.activeCues.length;++p)s.push(d.activeCues[p]);re().WebVTT.processCues(re(),s,this.el_);for(var m=0;m<n.length;++m){for(var y=n[m],M=0;M<y.activeCues.length;++M){var A=y.activeCues[M].displayState;Fa(A,"vjs-text-track-cue"),Fa(A,"vjs-text-track-cue-"+(y.language?y.language:m)),y.language&&Bu(A,"lang",y.language)}this.player_.textTrackSettings&&this.updateDisplayState(y)}}},t}(it);it.registerComponent("TextTrackDisplay",BS);var ry=function(r){function t(){return r.apply(this,arguments)||this}return bt(t,r),t.prototype.createEl=function(){var n=this.player_.isAudio(),s=this.localize(n?"Audio Player":"Video Player"),l=cn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[s])}),d=r.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return d.appendChild(l),d},t}(it);it.registerComponent("LoadingSpinner",ry);var Hr=function(r){function t(){return r.apply(this,arguments)||this}bt(t,r);var e=t.prototype;return e.createEl=function(n,s,l){void 0===s&&(s={}),void 0===l&&(l={});var d=cn("button",s=ri({className:this.buildCSSClass()},s),l=ri({type:"button"},l));return d.appendChild(cn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(d),d},e.addChild=function(n,s){return void 0===s&&(s={}),qt.warn("Adding an actionable (user controllable) child to a Button ("+this.constructor.name+") is not supported; use a ClickableComponent instead."),it.prototype.addChild.call(this,n,s)},e.enable=function(){r.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.disable=function(){r.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.handleKeyDown=function(n){zt().isEventKey(n,"Space")||zt().isEventKey(n,"Enter")?n.stopPropagation():r.prototype.handleKeyDown.call(this,n)},t}(_h);it.registerComponent("Button",Hr);var sy=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).mouseused_=!1,s.on("mousedown",function(l){return s.handleMouseDown(l)}),s}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-big-play-button"},e.handleClick=function(n){var s=this.player_.play();if(this.mouseused_&&n.clientX&&n.clientY){var l=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;return aa(s),void(this.player_.tech(!0)&&(!ah&&!tr||!l)&&this.player_.tech(!0).focus())}var d=this.player_.getChild("controlBar"),p=d&&d.getChild("playToggle");if(p){var m=function(){return p.focus()};zu(s)?s.then(m,function(){}):this.setTimeout(m,1)}else this.player_.tech(!0).focus()},e.handleKeyDown=function(n){this.mouseused_=!1,r.prototype.handleKeyDown.call(this,n)},e.handleMouseDown=function(n){this.mouseused_=!0},t}(Hr);sy.prototype.controlText_="Play Video",it.registerComponent("BigPlayButton",sy);var ay=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).controlText(n&&n.controlText||s.localize("Close")),s}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-close-button "+r.prototype.buildCSSClass.call(this)},e.handleClick=function(n){this.trigger({type:"close",bubbles:!1})},e.handleKeyDown=function(n){zt().isEventKey(n,"Esc")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,n)},t}(Hr);it.registerComponent("CloseButton",ay);var oy=function(r){function t(i,n){var s;return void 0===n&&(n={}),s=r.call(this,i,n)||this,n.replay=void 0===n.replay||n.replay,s.on(i,"play",function(l){return s.handlePlay(l)}),s.on(i,"pause",function(l){return s.handlePause(l)}),n.replay&&s.on(i,"ended",function(l){return s.handleEnded(l)}),s}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-play-control "+r.prototype.buildCSSClass.call(this)},e.handleClick=function(n){this.player_.paused()?aa(this.player_.play()):this.player_.pause()},e.handleSeeked=function(n){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(n):this.handlePlay(n)},e.handlePlay=function(n){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.handlePause=function(n){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.handleEnded=function(n){var s=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(l){return s.handleSeeked(l)})},t}(Hr);oy.prototype.controlText_="Play",it.registerComponent("PlayToggle",oy);var ly=function(t,e){t=t<0?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),s=Math.floor(t/3600),l=Math.floor(e/60%60),d=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(s=n=i="-"),(s=s>0||d>0?s+":":"")+(n=((s||l>=10)&&n<10?"0"+n:n)+":")+(i<10?"0"+i:i)},qg=ly;function El(r,t){return void 0===t&&(t=r),qg(r,t)}var tc=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).on(i,["timeupdate","ended"],function(l){return s.updateContent(l)}),s.updateTextNode_(),s}bt(t,r);var e=t.prototype;return e.createEl=function(){var n=this.buildCSSClass(),s=r.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control"}),l=cn("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xa0"},{role:"presentation"});return s.appendChild(l),this.contentEl_=cn("span",{className:n+"-display"},{"aria-live":"off",role:"presentation"}),s.appendChild(this.contentEl_),s},e.dispose=function(){this.contentEl_=null,this.textNode_=null,r.prototype.dispose.call(this)},e.updateTextNode_=function(n){var s=this;void 0===n&&(n=0),n=El(n),this.formattedTime_!==n&&(this.formattedTime_=n,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(s.contentEl_){var l=s.textNode_;l&&s.contentEl_.firstChild!==l&&(l=null,qt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),s.textNode_=at().createTextNode(s.formattedTime_),s.textNode_&&(l?s.contentEl_.replaceChild(s.textNode_,l):s.contentEl_.appendChild(s.textNode_))}}))},e.updateContent=function(n){},t}(it);tc.prototype.labelText_="Time",tc.prototype.controlText_="Time",it.registerComponent("TimeDisplay",tc);var bh=function(r){function t(){return r.apply(this,arguments)||this}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-current-time"},e.updateContent=function(n){var s;s=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(s)},t}(tc);bh.prototype.labelText_="Current Time",bh.prototype.controlText_="Current Time",it.registerComponent("CurrentTimeDisplay",bh);var Th=function(r){function t(i,n){var s,l=function(p){return s.updateContent(p)};return(s=r.call(this,i,n)||this).on(i,"durationchange",l),s.on(i,"loadstart",l),s.on(i,"loadedmetadata",l),s}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-duration"},e.updateContent=function(n){var s=this.player_.duration();this.updateTextNode_(s)},t}(tc);Th.prototype.labelText_="Duration",Th.prototype.controlText_="Duration",it.registerComponent("DurationDisplay",Th);var Xg=function(r){function t(){return r.apply(this,arguments)||this}return bt(t,r),t.prototype.createEl=function(){var n=r.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),s=r.prototype.createEl.call(this,"div"),l=r.prototype.createEl.call(this,"span",{textContent:"/"});return s.appendChild(l),n.appendChild(s),n},t}(it);it.registerComponent("TimeDivider",Xg);var uy=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).on(i,"durationchange",function(l){return s.updateContent(l)}),s}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-remaining-time"},e.createEl=function(){var n=r.prototype.createEl.call(this);return!1!==this.options_.displayNegative&&n.insertBefore(cn("span",{},{"aria-hidden":!0},"-"),this.contentEl_),n},e.updateContent=function(n){var s;"number"==typeof this.player_.duration()&&(s=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(s))},t}(tc);uy.prototype.labelText_="Remaining Time",uy.prototype.controlText_="Remaining Time",it.registerComponent("RemainingTimeDisplay",uy);var Qg=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).updateShowing(),s.on(s.player(),"durationchange",function(l){return s.updateShowing(l)}),s}bt(t,r);var e=t.prototype;return e.createEl=function(){var n=r.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=cn("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(cn("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xa0"})),this.contentEl_.appendChild(at().createTextNode(this.localize("LIVE"))),n.appendChild(this.contentEl_),n},e.dispose=function(){this.contentEl_=null,r.prototype.dispose.call(this)},e.updateShowing=function(n){this.player().duration()===1/0?this.show():this.hide()},t}(it);it.registerComponent("LiveDisplay",Qg);var cy=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).updateLiveEdgeStatus(),s.player_.liveTracker&&(s.updateLiveEdgeStatusHandler_=function(l){return s.updateLiveEdgeStatus(l)},s.on(s.player_.liveTracker,"liveedgechange",s.updateLiveEdgeStatusHandler_)),s}bt(t,r);var e=t.prototype;return e.createEl=function(){var n=r.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=cn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),n.appendChild(this.textEl_),n},e.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},e.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},e.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,r.prototype.dispose.call(this)},t}(Hr);cy.prototype.controlText_="Seek to live, currently playing live",it.registerComponent("SeekToLive",cy);var Zg=function(t,e,i){return t=Number(t),Math.min(i,Math.max(e,isNaN(t)?e:t))},wl=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).handleMouseDown_=function(l){return s.handleMouseDown(l)},s.handleMouseUp_=function(l){return s.handleMouseUp(l)},s.handleKeyDown_=function(l){return s.handleKeyDown(l)},s.handleClick_=function(l){return s.handleClick(l)},s.handleMouseMove_=function(l){return s.handleMouseMove(l)},s.update_=function(l){return s.update(l)},s.bar=s.getChild(s.options_.barName),s.vertical(!!s.options_.vertical),s.enable(),s}bt(t,r);var e=t.prototype;return e.enabled=function(){return this.enabled_},e.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.disable=function(){if(this.enabled()){var n=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},e.createEl=function(n,s,l){return void 0===s&&(s={}),void 0===l&&(l={}),s.className=s.className+" vjs-slider",s=ri({tabIndex:0},s),l=ri({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},l),r.prototype.createEl.call(this,n,s,l)},e.handleMouseDown=function(n){var s=this.bar.el_.ownerDocument;"mousedown"===n.type&&n.preventDefault(),"touchstart"===n.type&&!Ra&&n.preventDefault(),L_(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(s,"mousemove",this.handleMouseMove_),this.on(s,"mouseup",this.handleMouseUp_),this.on(s,"touchmove",this.handleMouseMove_),this.on(s,"touchend",this.handleMouseUp_),this.handleMouseMove(n,!0)},e.handleMouseMove=function(n){},e.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;B_(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()},e.update=function(){var n=this;if(this.el_&&this.bar){var s=this.getProgress();return s===this.progress_||(this.progress_=s,this.requestNamedAnimationFrame("Slider#update",function(){var l=n.vertical()?"height":"width";n.bar.el().style[l]=(100*s).toFixed(2)+"%"})),s}},e.getProgress=function(){return Number(Zg(this.getPercent(),0,1).toFixed(4))},e.calculateDistance=function(n){var s=lh(this.el_,n);return this.vertical()?s.y:s.x},e.handleKeyDown=function(n){zt().isEventKey(n,"Left")||zt().isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepBack()):zt().isEventKey(n,"Right")||zt().isEventKey(n,"Up")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):r.prototype.handleKeyDown.call(this,n)},e.handleClick=function(n){n.stopPropagation(),n.preventDefault()},e.vertical=function(n){if(void 0===n)return this.vertical_||!1;this.vertical_=!!n,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal")},t}(it);it.registerComponent("Slider",wl);var Sh=function(t,e){return Zg(t/e*100,0,100).toFixed(2)+"%"},Jg=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).partEls_=[],s.on(i,"progress",function(l){return s.update(l)}),s}bt(t,r);var e=t.prototype;return e.createEl=function(){var n=r.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),s=cn("span",{className:"vjs-control-text"}),l=cn("span",{textContent:this.localize("Loaded")}),d=at().createTextNode(": ");return this.percentageEl_=cn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),n.appendChild(s),s.appendChild(l),s.appendChild(d),s.appendChild(this.percentageEl_),n},e.dispose=function(){this.partEls_=null,this.percentageEl_=null,r.prototype.dispose.call(this)},e.update=function(n){var s=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var l=s.player_.liveTracker,d=s.player_.buffered(),p=l&&l.isLive()?l.seekableEnd():s.player_.duration(),m=s.player_.bufferedEnd(),y=s.partEls_,M=Sh(m,p);s.percent_!==M&&(s.el_.style.width=M,ll(s.percentageEl_,M),s.percent_=M);for(var A=0;A<d.length;A++){var k=d.start(A),W=d.end(A),H=y[A];H||(H=s.el_.appendChild(cn()),y[A]=H),(H.dataset.start!==k||H.dataset.end!==W)&&(H.dataset.start=k,H.dataset.end=W,H.style.left=Sh(k,m),H.style.width=Sh(W-k,m))}for(var j=y.length;j>d.length;j--)s.el_.removeChild(y[j-1]);y.length=d.length})},t}(it);it.registerComponent("LoadProgressBar",Jg);var em=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).update=Ha(qn(jt(s),s.update),30),s}bt(t,r);var e=t.prototype;return e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},e.update=function(n,s,l){var d=ul(this.el_),p=Ba(this.player_.el()),m=n.width*s;if(p&&d){var y=n.left-p.left+m,M=n.width-m+(p.right-n.right),A=d.width/2;y<A?A+=A-y:M<A&&(A=M),A<0?A=0:A>d.width&&(A=d.width),A=Math.round(A),this.el_.style.right="-"+A+"px",this.write(l)}},e.write=function(n){ll(this.el_,n)},e.updateTime=function(n,s,l,d){var p=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var m,y=p.player_.duration();if(p.player_.liveTracker&&p.player_.liveTracker.isLive()){var M=p.player_.liveTracker.liveWindow(),A=M-s*M;m=(A<1?"":"-")+El(A,M)}else m=El(l,y);p.update(n,s,m),d&&d()})},t}(it);it.registerComponent("TimeTooltip",em);var tm=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).update=Ha(qn(jt(s),s.update),30),s}bt(t,r);var e=t.prototype;return e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},e.update=function(n,s){var l=this.getChild("timeTooltip");if(l){var d=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();l.updateTime(n,s,d)}},t}(it);tm.prototype.options_={children:[]},!hr&&!Pa&&tm.prototype.options_.children.push("timeTooltip"),it.registerComponent("PlayProgressBar",tm);var vd=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).update=Ha(qn(jt(s),s.update),30),s}bt(t,r);var e=t.prototype;return e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.update=function(n,s){var l=this,d=s*this.player_.duration();this.getChild("timeTooltip").updateTime(n,s,d,function(){l.el_.style.left=n.width*s+"px"})},t}(it);vd.prototype.options_={children:["timeTooltip"]},it.registerComponent("MouseTimeDisplay",vd);var dy=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).setEventHandlers_(),s}bt(t,r);var e=t.prototype;return e.setEventHandlers_=function(){var n=this;this.update_=qn(this,this.update),this.update=Ha(this.update_,30),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(s){return n.enableInterval_(s)},this.disableIntervalHandler_=function(s){return n.disableInterval_(s)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in at()&&"visibilityState"in at()&&this.on(at(),"visibilitychange",this.toggleVisibility_)},e.toggleVisibility_=function(n){"hidden"===at().visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(n)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},e.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,30))},e.disableInterval_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&n&&"ended"!==n.type||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.update=function(n){var s=this;if("hidden"!==at().visibilityState){var l=r.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var d=s.player_.ended()?s.player_.duration():s.getCurrentTime_(),p=s.player_.liveTracker,m=s.player_.duration();p&&p.isLive()&&(m=s.player_.liveTracker.liveCurrentTime()),s.percent_!==l&&(s.el_.setAttribute("aria-valuenow",(100*l).toFixed(2)),s.percent_=l),(s.currentTime_!==d||s.duration_!==m)&&(s.el_.setAttribute("aria-valuetext",s.localize("progress bar timing: currentTime={1} duration={2}",[El(d,m),El(m,m)],"{1} of {2}")),s.currentTime_=d,s.duration_=m),s.bar&&s.bar.update(Ba(s.el()),s.getProgress())}),l}},e.userSeek_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(n)},e.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.getPercent=function(){var s,n=this.getCurrentTime_(),l=this.player_.liveTracker;return l&&l.isLive()?(s=(n-l.seekableStart())/l.liveWindow(),l.atLiveEdge()&&(s=1)):s=n/this.player_.duration(),s},e.handleMouseDown=function(n){!cl(n)||(n.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),r.prototype.handleMouseDown.call(this,n))},e.handleMouseMove=function(n,s){if(void 0===s&&(s=!1),cl(n)){!s&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var l,d=this.calculateDistance(n),p=this.player_.liveTracker;if(p&&p.isLive()){if(d>=.99)return void p.seekToLiveEdge();var m=p.seekableStart(),y=p.liveCurrentTime();if((l=m+d*p.liveWindow())>=y&&(l=y),l<=m&&(l=m+.1),l===1/0)return}else(l=d*this.player_.duration())===this.player_.duration()&&(l-=.1);this.userSeek_(l)}},e.enable=function(){r.prototype.enable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.show()},e.disable=function(){r.prototype.disable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.hide()},e.handleMouseUp=function(n){r.prototype.handleMouseUp.call(this,n),n&&n.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?aa(this.player_.play()):this.update_()},e.stepForward=function(){this.userSeek_(this.player_.currentTime()+5)},e.stepBack=function(){this.userSeek_(this.player_.currentTime()-5)},e.handleAction=function(n){this.player_.paused()?this.player_.play():this.player_.pause()},e.handleKeyDown=function(n){var s=this.player_.liveTracker;if(zt().isEventKey(n,"Space")||zt().isEventKey(n,"Enter"))n.preventDefault(),n.stopPropagation(),this.handleAction(n);else if(zt().isEventKey(n,"Home"))n.preventDefault(),n.stopPropagation(),this.userSeek_(0);else if(zt().isEventKey(n,"End"))n.preventDefault(),n.stopPropagation(),s&&s.isLive()?this.userSeek_(s.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(zt()(n))){n.preventDefault(),n.stopPropagation();var l=10*(zt().codes[zt()(n)]-zt().codes[0])/100;s&&s.isLive()?this.userSeek_(s.seekableStart()+s.liveWindow()*l):this.userSeek_(this.player_.duration()*l)}else zt().isEventKey(n,"PgDn")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):zt().isEventKey(n,"PgUp")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):r.prototype.handleKeyDown.call(this,n)},e.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in at()&&"visibilityState"in at()&&this.off(at(),"visibilitychange",this.toggleVisibility_),r.prototype.dispose.call(this)},t}(wl);dy.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},!hr&&!Pa&&dy.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),it.registerComponent("SeekBar",dy);var fy=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).handleMouseMove=Ha(qn(jt(s),s.handleMouseMove),30),s.throttledHandleMouseSeek=Ha(qn(jt(s),s.handleMouseSeek),30),s.handleMouseUpHandler_=function(l){return s.handleMouseUp(l)},s.handleMouseDownHandler_=function(l){return s.handleMouseDown(l)},s.enable(),s}bt(t,r);var e=t.prototype;return e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.handleMouseMove=function(n){var s=this.getChild("seekBar");if(s){var l=s.getChild("playProgressBar"),d=s.getChild("mouseTimeDisplay");if(l||d){var p=s.el(),m=ul(p),y=lh(p,n).x;y=Zg(y,0,1),d&&d.update(m,y),l&&l.update(m,s.getProgress())}}},e.handleMouseSeek=function(n){var s=this.getChild("seekBar");s&&s.handleMouseMove(n)},e.enabled=function(){return this.enabled_},e.disable=function(){if(this.children().forEach(function(s){return s.disable&&s.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var n=this.getChild("seekBar");this.player_.scrubbing(!1),n.videoWasPlaying&&aa(this.player_.play())}},e.enable=function(){this.children().forEach(function(n){return n.enable&&n.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.removeListenersAddedOnMousedownAndTouchstart=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseSeek),this.off(n,"touchmove",this.throttledHandleMouseSeek),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)},e.handleMouseDown=function(n){var s=this.el_.ownerDocument,l=this.getChild("seekBar");l&&l.handleMouseDown(n),this.on(s,"mousemove",this.throttledHandleMouseSeek),this.on(s,"touchmove",this.throttledHandleMouseSeek),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},e.handleMouseUp=function(n){var s=this.getChild("seekBar");s&&s.handleMouseUp(n),this.removeListenersAddedOnMousedownAndTouchstart()},t}(it);fy.prototype.options_={children:["seekBar"]},it.registerComponent("ProgressControl",fy);var _d=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).on(i,["enterpictureinpicture","leavepictureinpicture"],function(l){return s.handlePictureInPictureChange(l)}),s.on(i,["disablepictureinpicturechanged","loadedmetadata"],function(l){return s.handlePictureInPictureEnabledChange(l)}),s.disable(),s}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-picture-in-picture-control "+r.prototype.buildCSSClass.call(this)},e.handlePictureInPictureEnabledChange=function(){at().pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()?this.enable():this.disable()},e.handlePictureInPictureChange=function(n){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},e.handleClick=function(n){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},t}(Hr);_d.prototype.controlText_="Picture-in-Picture",it.registerComponent("PictureInPictureToggle",_d);var yd=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).on(i,"fullscreenchange",function(l){return s.handleFullscreenChange(l)}),!1===at()[i.fsApi_.fullscreenEnabled]&&s.disable(),s}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-fullscreen-control "+r.prototype.buildCSSClass.call(this)},e.handleFullscreenChange=function(n){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.handleClick=function(n){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},t}(Hr);yd.prototype.controlText_="Fullscreen",it.registerComponent("FullscreenToggle",yd);var py=function(r){function t(){return r.apply(this,arguments)||this}return bt(t,r),t.prototype.createEl=function(){var n=r.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return n.appendChild(r.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),n},t}(it);it.registerComponent("VolumeLevel",py);var nm=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).update=Ha(qn(jt(s),s.update),30),s}bt(t,r);var e=t.prototype;return e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},e.update=function(n,s,l,d){if(!l){var p=Ba(this.el_),m=Ba(this.player_.el()),y=n.width*s;if(!m||!p)return;var M=n.left-m.left+y,A=n.width-y+(m.right-n.right),k=p.width/2;M<k?k+=k-M:A<k&&(k=A),k<0?k=0:k>p.width&&(k=p.width),this.el_.style.right="-"+k+"px"}this.write(d+"%")},e.write=function(n){ll(this.el_,n)},e.updateVolume=function(n,s,l,d,p){var m=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){m.update(n,s,l,d.toFixed(0)),p&&p()})},t}(it);it.registerComponent("VolumeLevelTooltip",nm);var im=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).update=Ha(qn(jt(s),s.update),30),s}bt(t,r);var e=t.prototype;return e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.update=function(n,s,l){var d=this,p=100*s;this.getChild("volumeLevelTooltip").updateVolume(n,s,l,p,function(){l?d.el_.style.bottom=n.height*s+"px":d.el_.style.left=n.width*s+"px"})},t}(it);im.prototype.options_={children:["volumeLevelTooltip"]},it.registerComponent("MouseVolumeLevelDisplay",im);var bd=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).on("slideractive",function(l){return s.updateLastVolume_(l)}),s.on(i,"volumechange",function(l){return s.updateARIAAttributes(l)}),i.ready(function(){return s.updateARIAAttributes()}),s}bt(t,r);var e=t.prototype;return e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.handleMouseDown=function(n){!cl(n)||r.prototype.handleMouseDown.call(this,n)},e.handleMouseMove=function(n){var s=this.getChild("mouseVolumeLevelDisplay");if(s){var l=this.el(),d=Ba(l),p=this.vertical(),m=lh(l,n);m=Zg(m=p?m.y:m.x,0,1),s.update(d,m,p)}!cl(n)||(this.checkMuted(),this.player_.volume(this.calculateDistance(n)))},e.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.updateARIAAttributes=function(n){var s=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",s),this.el_.setAttribute("aria-valuetext",s+"%")},e.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.updateLastVolume_=function(){var n=this,s=this.player_.volume();this.one("sliderinactive",function(){0===n.player_.volume()&&n.player_.lastVolume_(s)})},t}(wl);bd.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},!hr&&!Pa&&bd.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),bd.prototype.playerEvent="volumechange",it.registerComponent("VolumeBar",bd);var Dh=function(r){function t(i,n){var s;return void 0===n&&(n={}),n.vertical=n.vertical||!1,(void 0===n.volumeBar||Fu(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})}(jt(s=r.call(this,i,n)||this),i),s.throttledHandleMouseMove=Ha(qn(jt(s),s.handleMouseMove),30),s.handleMouseUpHandler_=function(l){return s.handleMouseUp(l)},s.on("mousedown",function(l){return s.handleMouseDown(l)}),s.on("touchstart",function(l){return s.handleMouseDown(l)}),s.on("mousemove",function(l){return s.handleMouseMove(l)}),s.on(s.volumeBar,["focus","slideractive"],function(){s.volumeBar.addClass("vjs-slider-active"),s.addClass("vjs-slider-active"),s.trigger("slideractive")}),s.on(s.volumeBar,["blur","sliderinactive"],function(){s.volumeBar.removeClass("vjs-slider-active"),s.removeClass("vjs-slider-active"),s.trigger("sliderinactive")}),s}bt(t,r);var e=t.prototype;return e.createEl=function(){var n="vjs-volume-horizontal";return this.options_.vertical&&(n="vjs-volume-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+n})},e.handleMouseDown=function(n){var s=this.el_.ownerDocument;this.on(s,"mousemove",this.throttledHandleMouseMove),this.on(s,"touchmove",this.throttledHandleMouseMove),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},e.handleMouseUp=function(n){var s=this.el_.ownerDocument;this.off(s,"mousemove",this.throttledHandleMouseMove),this.off(s,"touchmove",this.throttledHandleMouseMove),this.off(s,"mouseup",this.handleMouseUpHandler_),this.off(s,"touchend",this.handleMouseUpHandler_)},e.handleMouseMove=function(n){this.volumeBar.handleMouseMove(n)},t}(it);Dh.prototype.options_={children:["volumeBar"]},it.registerComponent("VolumeControl",Dh);var my=function(r){function t(i,n){var s;return function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})}(jt(s=r.call(this,i,n)||this),i),s.on(i,["loadstart","volumechange"],function(l){return s.update(l)}),s}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-mute-control "+r.prototype.buildCSSClass.call(this)},e.handleClick=function(n){var s=this.player_.volume(),l=this.player_.lastVolume_();0===s?(this.player_.volume(l<.1?.1:l),this.player_.muted(!1)):this.player_.muted(!this.player_.muted())},e.update=function(n){this.updateIcon_(),this.updateControlText_()},e.updateIcon_=function(){var n=this.player_.volume(),s=3;hr&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===n||this.player_.muted()?s=0:n<.33?s=1:n<.67&&(s=2);for(var l=0;l<4;l++)ld(this.el_,"vjs-vol-"+l);Fa(this.el_,"vjs-vol-"+s)},e.updateControlText_=function(){var s=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==s&&this.controlText(s)},t}(Hr);my.prototype.controlText_="Mute",it.registerComponent("MuteToggle",my);var rm=function(r){function t(i,n){var s;return void 0===n&&(n={}),n.inline=void 0===n.inline||n.inline,(void 0===n.volumeControl||Fu(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),(s=r.call(this,i,n)||this).handleKeyPressHandler_=function(l){return s.handleKeyPress(l)},s.on(i,["loadstart"],function(l){return s.volumePanelState_(l)}),s.on(s.muteToggle,"keyup",function(l){return s.handleKeyPress(l)}),s.on(s.volumeControl,"keyup",function(l){return s.handleVolumeControlKeyUp(l)}),s.on("keydown",function(l){return s.handleKeyPress(l)}),s.on("mouseover",function(l){return s.handleMouseOver(l)}),s.on("mouseout",function(l){return s.handleMouseOut(l)}),s.on(s.volumeControl,["slideractive"],s.sliderActive_),s.on(s.volumeControl,["sliderinactive"],s.sliderInactive_),s}bt(t,r);var e=t.prototype;return e.sliderActive_=function(){this.addClass("vjs-slider-active")},e.sliderInactive_=function(){this.removeClass("vjs-slider-active")},e.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.createEl=function(){var n="vjs-volume-panel-horizontal";return this.options_.inline||(n="vjs-volume-panel-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+n})},e.dispose=function(){this.handleMouseOut(),r.prototype.dispose.call(this)},e.handleVolumeControlKeyUp=function(n){zt().isEventKey(n,"Esc")&&this.muteToggle.focus()},e.handleMouseOver=function(n){this.addClass("vjs-hover"),qr(at(),"keyup",this.handleKeyPressHandler_)},e.handleMouseOut=function(n){this.removeClass("vjs-hover"),Yi(at(),"keyup",this.handleKeyPressHandler_)},e.handleKeyPress=function(n){zt().isEventKey(n,"Esc")&&this.handleMouseOut()},t}(it);rm.prototype.options_={children:["muteToggle","volumeControl"]},it.registerComponent("VolumePanel",rm);var sm=function(r){function t(i,n){var s;return s=r.call(this,i,n)||this,n&&(s.menuButton_=n.menuButton),s.focusedChild_=-1,s.on("keydown",function(l){return s.handleKeyDown(l)}),s.boundHandleBlur_=function(l){return s.handleBlur(l)},s.boundHandleTapClick_=function(l){return s.handleTapClick(l)},s}bt(t,r);var e=t.prototype;return e.addEventListenerForItem=function(n){n instanceof it&&(this.on(n,"blur",this.boundHandleBlur_),this.on(n,["tap","click"],this.boundHandleTapClick_))},e.removeEventListenerForItem=function(n){n instanceof it&&(this.off(n,"blur",this.boundHandleBlur_),this.off(n,["tap","click"],this.boundHandleTapClick_))},e.removeChild=function(n){"string"==typeof n&&(n=this.getChild(n)),this.removeEventListenerForItem(n),r.prototype.removeChild.call(this,n)},e.addItem=function(n){var s=this.addChild(n);s&&this.addEventListenerForItem(s)},e.createEl=function(){this.contentEl_=cn(this.options_.contentElType||"ul",{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var s=r.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return s.appendChild(this.contentEl_),qr(s,"click",function(l){l.preventDefault(),l.stopImmediatePropagation()}),s},e.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,r.prototype.dispose.call(this)},e.handleBlur=function(n){var s=n.relatedTarget||at().activeElement;if(!this.children().some(function(d){return d.el()===s})){var l=this.menuButton_;l&&l.buttonPressed_&&s!==l.el().firstChild&&l.unpressButton()}},e.handleTapClick=function(n){if(this.menuButton_){this.menuButton_.unpressButton();var s=this.children();if(!Array.isArray(s))return;var l=s.filter(function(d){return d.el()===n.target})[0];if(!l)return;"CaptionSettingsMenuItem"!==l.name()&&this.menuButton_.focus()}},e.handleKeyDown=function(n){zt().isEventKey(n,"Left")||zt().isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):(zt().isEventKey(n,"Right")||zt().isEventKey(n,"Up"))&&(n.preventDefault(),n.stopPropagation(),this.stepBack())},e.stepForward=function(){var n=0;void 0!==this.focusedChild_&&(n=this.focusedChild_+1),this.focus(n)},e.stepBack=function(){var n=0;void 0!==this.focusedChild_&&(n=this.focusedChild_-1),this.focus(n)},e.focus=function(n){void 0===n&&(n=0);var s=this.children().slice();s.length&&s[0].hasClass("vjs-menu-title")&&s.shift(),s.length>0&&(n<0?n=0:n>=s.length&&(n=s.length-1),this.focusedChild_=n,s[n].el_.focus())},t}(it);it.registerComponent("Menu",sm);var Td=function(r){function t(i,n){var s;void 0===n&&(n={}),(s=r.call(this,i,n)||this).menuButton_=new Hr(i,n),s.menuButton_.controlText(s.controlText_),s.menuButton_.el_.setAttribute("aria-haspopup","true");var l=Hr.prototype.buildCSSClass();s.menuButton_.el_.className=s.buildCSSClass()+" "+l,s.menuButton_.removeClass("vjs-control"),s.addChild(s.menuButton_),s.update(),s.enabled_=!0;var d=function(m){return s.handleClick(m)};return s.handleMenuKeyUp_=function(p){return s.handleMenuKeyUp(p)},s.on(s.menuButton_,"tap",d),s.on(s.menuButton_,"click",d),s.on(s.menuButton_,"keydown",function(p){return s.handleKeyDown(p)}),s.on(s.menuButton_,"mouseenter",function(){s.addClass("vjs-hover"),s.menu.show(),qr(at(),"keyup",s.handleMenuKeyUp_)}),s.on("mouseleave",function(p){return s.handleMouseLeave(p)}),s.on("keydown",function(p){return s.handleSubmenuKeyDown(p)}),s}bt(t,r);var e=t.prototype;return e.update=function(){var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=n,this.addChild(n),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.createMenu=function(){var n=new sm(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var s=cn("li",{className:"vjs-menu-title",textContent:gi(this.options_.title),tabIndex:-1}),l=new it(this.player_,{el:s});n.addItem(l)}if(this.items=this.createItems(),this.items)for(var d=0;d<this.items.length;d++)n.addItem(this.items[d]);return n},e.createItems=function(){},e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.buildWrapperCSSClass=function(){var n="vjs-menu-button";return"vjs-menu-button "+(n+=!0===this.options_.inline?"-inline":"-popup")+" "+Hr.prototype.buildCSSClass()+" "+r.prototype.buildCSSClass.call(this)},e.buildCSSClass=function(){var n="vjs-menu-button";return"vjs-menu-button "+(n+=!0===this.options_.inline?"-inline":"-popup")+" "+r.prototype.buildCSSClass.call(this)},e.controlText=function(n,s){return void 0===s&&(s=this.menuButton_.el()),this.menuButton_.controlText(n,s)},e.dispose=function(){this.handleMouseLeave(),r.prototype.dispose.call(this)},e.handleClick=function(n){this.buttonPressed_?this.unpressButton():this.pressButton()},e.handleMouseLeave=function(n){this.removeClass("vjs-hover"),Yi(at(),"keyup",this.handleMenuKeyUp_)},e.focus=function(){this.menuButton_.focus()},e.blur=function(){this.menuButton_.blur()},e.handleKeyDown=function(n){zt().isEventKey(n,"Esc")||zt().isEventKey(n,"Tab")?(this.buttonPressed_&&this.unpressButton(),zt().isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus())):(zt().isEventKey(n,"Up")||zt().isEventKey(n,"Down"))&&(this.buttonPressed_||(n.preventDefault(),this.pressButton()))},e.handleMenuKeyUp=function(n){(zt().isEventKey(n,"Esc")||zt().isEventKey(n,"Tab"))&&this.removeClass("vjs-hover")},e.handleSubmenuKeyPress=function(n){this.handleSubmenuKeyDown(n)},e.handleSubmenuKeyDown=function(n){(zt().isEventKey(n,"Esc")||zt().isEventKey(n,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),zt().isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus()))},e.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),hr&&k_())return;this.menu.focus()}},e.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},t}(it);it.registerComponent("MenuButton",Td);var Eh=function(r){function t(e,i){var n,s=i.tracks;if((n=r.call(this,e,i)||this).items.length<=1&&n.hide(),!s)return jt(n);var l=qn(jt(n),n.update);return s.addEventListener("removetrack",l),s.addEventListener("addtrack",l),s.addEventListener("labelchange",l),n.player_.on("ready",l),n.player_.on("dispose",function(){s.removeEventListener("removetrack",l),s.removeEventListener("addtrack",l),s.removeEventListener("labelchange",l)}),n}return bt(t,r),t}(Td);it.registerComponent("TrackButton",Eh);var VS=["Tab","Esc","Up","Down","Right","Left"],nc=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).selectable=n.selectable,s.isSelected_=n.selected||!1,s.multiSelectable=n.multiSelectable,s.selected(s.isSelected_),s.el_.setAttribute("role",s.selectable?s.multiSelectable?"menuitemcheckbox":"menuitemradio":"menuitem"),s}bt(t,r);var e=t.prototype;return e.createEl=function(n,s,l){this.nonIconControl=!0;var d=r.prototype.createEl.call(this,"li",ri({className:"vjs-menu-item",tabIndex:-1},s),l);return d.replaceChild(cn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),d.querySelector(".vjs-icon-placeholder")),d},e.handleKeyDown=function(n){VS.some(function(s){return zt().isEventKey(n,s)})||r.prototype.handleKeyDown.call(this,n)},e.handleClick=function(n){this.selected(!0)},e.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},t}(_h);it.registerComponent("MenuItem",nc);var ic=function(r){function t(i,n){var s,l=n.track,d=i.textTracks();n.label=l.label||l.language||"Unknown",n.selected="showing"===l.mode,(s=r.call(this,i,n)||this).track=l,s.kinds=(n.kinds||[n.kind||s.track.kind]).filter(Boolean);var y,p=function(){for(var A=arguments.length,k=new Array(A),W=0;W<A;W++)k[W]=arguments[W];s.handleTracksChange.apply(jt(s),k)},m=function(){for(var A=arguments.length,k=new Array(A),W=0;W<A;W++)k[W]=arguments[W];s.handleSelectedLanguageChange.apply(jt(s),k)};return i.on(["loadstart","texttrackchange"],p),d.addEventListener("change",p),d.addEventListener("selectedlanguagechange",m),s.on("dispose",function(){i.off(["loadstart","texttrackchange"],p),d.removeEventListener("change",p),d.removeEventListener("selectedlanguagechange",m)}),void 0===d.onchange&&s.on(["tap","click"],function(){if("object"!=typeof re().Event)try{y=new(re().Event)("change")}catch(M){}y||(y=at().createEvent("Event")).initEvent("change",!0,!0),d.dispatchEvent(y)}),s.handleTracksChange(),s}bt(t,r);var e=t.prototype;return e.handleClick=function(n){var s=this.track,l=this.player_.textTracks();if(r.prototype.handleClick.call(this,n),l)for(var d=0;d<l.length;d++){var p=l[d];-1!==this.kinds.indexOf(p.kind)&&(p===s?"showing"!==p.mode&&(p.mode="showing"):"disabled"!==p.mode&&(p.mode="disabled"))}},e.handleTracksChange=function(n){var s="showing"===this.track.mode;s!==this.isSelected_&&this.selected(s)},e.handleSelectedLanguageChange=function(n){if("showing"===this.track.mode){var s=this.player_.cache_.selectedLanguage;if(s&&s.enabled&&s.language===this.track.language&&s.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},e.dispose=function(){this.track=null,r.prototype.dispose.call(this)},t}(nc);it.registerComponent("TextTrackMenuItem",ic);var wh=function(r){function t(i,n){return n.track={player:i,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.track.label=n.label?n.label:n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,r.call(this,i,n)||this}bt(t,r);var e=t.prototype;return e.handleTracksChange=function(n){for(var s=this.player().textTracks(),l=!0,d=0,p=s.length;d<p;d++){var m=s[d];if(this.options_.kinds.indexOf(m.kind)>-1&&"showing"===m.mode){l=!1;break}}l!==this.isSelected_&&this.selected(l)},e.handleSelectedLanguageChange=function(n){for(var s=this.player().textTracks(),l=!0,d=0,p=s.length;d<p;d++){var m=s[d];if(["captions","descriptions","subtitles"].indexOf(m.kind)>-1&&"showing"===m.mode){l=!1;break}}l&&(this.player_.cache_.selectedLanguage={enabled:!1})},t}(ic);it.registerComponent("OffTextTrackMenuItem",wh);var Va=function(r){function t(i,n){return void 0===n&&(n={}),n.tracks=i.textTracks(),r.call(this,i,n)||this}return bt(t,r),t.prototype.createItems=function(n,s){var l;void 0===n&&(n=[]),void 0===s&&(s=ic),this.label_&&(l=this.label_+" off"),n.push(new wh(this.player_,{kinds:this.kinds_,kind:this.kind_,label:l})),this.hideThreshold_+=1;var d=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var p=0;p<d.length;p++){var m=d[p];if(this.kinds_.indexOf(m.kind)>-1){var y=new s(this.player_,{track:m,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});y.addClass("vjs-"+m.kind+"-menu-item"),n.push(y)}}return n},t}(Eh);it.registerComponent("TextTrackButton",Va);var am=function(r){function t(i,n){var s,l=n.track,d=n.cue,p=i.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=d.text,n.selected=d.startTime<=p&&p<d.endTime,(s=r.call(this,i,n)||this).track=l,s.cue=d,l.addEventListener("cuechange",qn(jt(s),s.update)),s}bt(t,r);var e=t.prototype;return e.handleClick=function(n){r.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.update=function(n){var s=this.cue,l=this.player_.currentTime();this.selected(s.startTime<=l&&l<s.endTime)},t}(nc);it.registerComponent("ChaptersTrackMenuItem",am);var xh=function(r){function t(i,n,s){return r.call(this,i,n,s)||this}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildWrapperCSSClass.call(this)},e.update=function(n){(!this.track_||n&&("addtrack"===n.type||"removetrack"===n.type))&&this.setTrack(this.findChaptersTrack()),r.prototype.update.call(this)},e.setTrack=function(n){if(this.track_!==n){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=n,this.track_){this.track_.mode="hidden";var l=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);l&&l.addEventListener("load",this.updateHandler_)}}},e.findChaptersTrack=function(){for(var n=this.player_.textTracks()||[],s=n.length-1;s>=0;s--){var l=n[s];if(l.kind===this.kind_)return l}},e.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(gi(this.kind_))},e.createMenu=function(){return this.options_.title=this.getMenuCaption(),r.prototype.createMenu.call(this)},e.createItems=function(){var n=[];if(!this.track_)return n;var s=this.track_.cues;if(!s)return n;for(var l=0,d=s.length;l<d;l++){var m=new am(this.player_,{track:this.track_,cue:s[l]});n.push(m)}return n},t}(Va);xh.prototype.kind_="chapters",xh.prototype.controlText_="Chapters",it.registerComponent("ChaptersButton",xh);var Ah=function(r){function t(i,n,s){var l;l=r.call(this,i,n,s)||this;var d=i.textTracks(),p=qn(jt(l),l.handleTracksChange);return d.addEventListener("change",p),l.on("dispose",function(){d.removeEventListener("change",p)}),l}bt(t,r);var e=t.prototype;return e.handleTracksChange=function(n){for(var s=this.player().textTracks(),l=!1,d=0,p=s.length;d<p;d++){var m=s[d];if(m.kind!==this.kind_&&"showing"===m.mode){l=!0;break}}l?this.disable():this.enable()},e.buildCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildWrapperCSSClass.call(this)},t}(Va);Ah.prototype.kind_="descriptions",Ah.prototype.controlText_="Descriptions",it.registerComponent("DescriptionsButton",Ah);var Mh=function(r){function t(i,n,s){return r.call(this,i,n,s)||this}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildWrapperCSSClass.call(this)},t}(Va);Mh.prototype.kind_="subtitles",Mh.prototype.controlText_="Subtitles",it.registerComponent("SubtitlesButton",Mh);var Nh=function(r){function t(i,n){var s;return n.track={player:i,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",(s=r.call(this,i,n)||this).addClass("vjs-texttrack-settings"),s.controlText(", opens "+n.kind+" settings dialog"),s}return bt(t,r),t.prototype.handleClick=function(n){this.player().getChild("textTrackSettings").open()},t}(ic);it.registerComponent("CaptionSettingsMenuItem",Nh);var Ih=function(r){function t(i,n,s){return r.call(this,i,n,s)||this}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-captions-button "+r.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-captions-button "+r.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new Nh(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),r.prototype.createItems.call(this,n)},t}(Va);Ih.prototype.kind_="captions",Ih.prototype.controlText_="Captions",it.registerComponent("CaptionsButton",Ih);var om=function(r){function t(){return r.apply(this,arguments)||this}return bt(t,r),t.prototype.createEl=function(n,s,l){var d=r.prototype.createEl.call(this,n,s,l),p=d.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(p.appendChild(cn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),p.appendChild(cn("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),d},t}(ic);it.registerComponent("SubsCapsMenuItem",om);var Oh=function(r){function t(i,n){var s;return void 0===n&&(n={}),(s=r.call(this,i,n)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(s.player_.language_)>-1&&(s.label_="captions"),s.menuButton_.controlText(gi(s.label_)),s}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new Nh(this.player_,{kind:this.label_})),this.hideThreshold_+=1),r.prototype.createItems.call(this,n,om)},t}(Va);Oh.prototype.kinds_=["captions","subtitles"],Oh.prototype.controlText_="Subtitles",it.registerComponent("SubsCapsButton",Oh);var GS=function(r){function t(i,n){var s,l=n.track,d=i.audioTracks();n.label=l.label||l.language||"Unknown",n.selected=l.enabled,(s=r.call(this,i,n)||this).track=l,s.addClass("vjs-"+l.kind+"-menu-item");var p=function(){for(var y=arguments.length,M=new Array(y),A=0;A<y;A++)M[A]=arguments[A];s.handleTracksChange.apply(jt(s),M)};return d.addEventListener("change",p),s.on("dispose",function(){d.removeEventListener("change",p)}),s}bt(t,r);var e=t.prototype;return e.createEl=function(n,s,l){var d=r.prototype.createEl.call(this,n,s,l),p=d.querySelector(".vjs-menu-item-text");return"main-desc"===this.options_.track.kind&&(p.appendChild(cn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),p.appendChild(cn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),d},e.handleClick=function(n){if(r.prototype.handleClick.call(this,n),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var s=this.player_.audioTracks(),l=0;l<s.length;l++){var d=s[l];d!==this.track&&(d.enabled=d===this.track)}},e.handleTracksChange=function(n){this.selected(this.track.enabled)},t}(nc);it.registerComponent("AudioTrackMenuItem",GS);var vy=function(r){function t(i,n){return void 0===n&&(n={}),n.tracks=i.audioTracks(),r.call(this,i,n)||this}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-audio-button "+r.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-audio-button "+r.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(n){void 0===n&&(n=[]),this.hideThreshold_=1;for(var s=this.player_.audioTracks(),l=0;l<s.length;l++)n.push(new GS(this.player_,{track:s[l],selectable:!0,multiSelectable:!1}));return n},t}(Eh);vy.prototype.controlText_="Audio Track",it.registerComponent("AudioTrackButton",vy);var lm=function(r){function t(i,n){var s,l=n.rate,d=parseFloat(l,10);return n.label=l,n.selected=d===i.playbackRate(),n.selectable=!0,n.multiSelectable=!1,(s=r.call(this,i,n)||this).label=l,s.rate=d,s.on(i,"ratechange",function(p){return s.update(p)}),s}bt(t,r);var e=t.prototype;return e.handleClick=function(n){r.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.update=function(n){this.selected(this.player().playbackRate()===this.rate)},t}(nc);lm.prototype.contentElType="button",it.registerComponent("PlaybackRateMenuItem",lm);var um=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).menuButton_.el_.setAttribute("aria-describedby",s.labelElId_),s.updateVisibility(),s.updateLabel(),s.on(i,"loadstart",function(l){return s.updateVisibility(l)}),s.on(i,"ratechange",function(l){return s.updateLabel(l)}),s.on(i,"playbackrateschange",function(l){return s.handlePlaybackRateschange(l)}),s}bt(t,r);var e=t.prototype;return e.createEl=function(){var n=r.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=cn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),n.appendChild(this.labelEl_),n},e.dispose=function(){this.labelEl_=null,r.prototype.dispose.call(this)},e.buildCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildCSSClass.call(this)},e.buildWrapperCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildWrapperCSSClass.call(this)},e.createItems=function(){for(var n=this.playbackRates(),s=[],l=n.length-1;l>=0;l--)s.push(new lm(this.player(),{rate:n[l]+"x"}));return s},e.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.handleClick=function(n){var s=this.player().playbackRate(),l=this.playbackRates(),p=(l.indexOf(s)+1)%l.length;this.player().playbackRate(l[p])},e.handlePlaybackRateschange=function(n){this.update()},e.playbackRates=function(){var n=this.player();return n.playbackRates&&n.playbackRates()||[]},e.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.updateVisibility=function(n){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.updateLabel=function(n){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},t}(Td);um.prototype.controlText_="Playback Rate",it.registerComponent("PlaybackRateMenuButton",um);var _y=function(r){function t(){return r.apply(this,arguments)||this}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-spacer "+r.prototype.buildCSSClass.call(this)},e.createEl=function(n,s,l){return void 0===n&&(n="div"),void 0===s&&(s={}),void 0===l&&(l={}),s.className||(s.className=this.buildCSSClass()),r.prototype.createEl.call(this,n,s,l)},t}(it);it.registerComponent("Spacer",_y);var Fi=function(r){function t(){return r.apply(this,arguments)||this}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-custom-control-spacer "+r.prototype.buildCSSClass.call(this)},e.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xa0"})},t}(_y);it.registerComponent("CustomControlSpacer",Fi);var Sd=function(r){function t(){return r.apply(this,arguments)||this}return bt(t,r),t.prototype.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},t}(it);Sd.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},"exitPictureInPicture"in at()&&Sd.prototype.options_.children.splice(Sd.prototype.options_.children.length-1,0,"pictureInPictureToggle"),it.registerComponent("ControlBar",Sd);var yy=function(r){function t(i,n){var s;return(s=r.call(this,i,n)||this).on(i,"error",function(l){return s.open(l)}),s}bt(t,r);var e=t.prototype;return e.buildCSSClass=function(){return"vjs-error-display "+r.prototype.buildCSSClass.call(this)},e.content=function(){var n=this.player().error();return n?this.localize(n.message):""},t}(Yu);yy.prototype.options_=Cr({},Yu.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),it.registerComponent("ErrorDisplay",yy);var cm="vjs-text-track-settings",dm=["#000","Black"],by=["#00F","Blue"],fm=["#0FF","Cyan"],hm=["#0F0","Green"],Al=["#F0F","Magenta"],Ty=["#F00","Red"],Sy=["#FFF","White"],pm=["#FF0","Yellow"],gm=["1","Opaque"],Ph=["0.5","Semi-Transparent"],jS=["0","Transparent"],Ga={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[dm,Sy,Ty,hm,by,pm,Al,fm]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[gm,Ph,jS]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Sy,dm,Ty,hm,by,pm,Al,fm]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[gm,Ph]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[jS,Ph,gm]}};function Rh(r,t){if(t&&(r=t(r)),r&&"none"!==r)return r}Ga.windowColor.options=Ga.backgroundColor.options;var Cy=function(r){function t(i,n){var s;return n.temporary=!1,(s=r.call(this,i,n)||this).updateDisplay=s.updateDisplay.bind(jt(s)),s.fill(),s.hasBeenOpened_=s.hasBeenFilled_=!0,s.endDialog=cn("p",{className:"vjs-control-text",textContent:s.localize("End of dialog window.")}),s.el().appendChild(s.endDialog),s.setDefaults(),void 0===n.persistTextTrackSettings&&(s.options_.persistTextTrackSettings=s.options_.playerOptions.persistTextTrackSettings),s.on(s.$(".vjs-done-button"),"click",function(){s.saveSettings(),s.close()}),s.on(s.$(".vjs-default-button"),"click",function(){s.setDefaults(),s.updateDisplay()}),al(Ga,function(l){s.on(s.$(l.selector),"change",s.updateDisplay)}),s.options_.persistTextTrackSettings&&s.restoreSettings(),s}bt(t,r);var e=t.prototype;return e.dispose=function(){this.endDialog=null,r.prototype.dispose.call(this)},e.createElSelect_=function(n,s,l){var d=this;void 0===s&&(s=""),void 0===l&&(l="label");var p=Ga[n],m=p.id.replace("%s",this.id_),y=[s,m].join(" ").trim();return["<"+l+' id="'+m+'" class="'+("label"===l?"vjs-label":"")+'">',this.localize(p.label),"</"+l+">",'<select aria-labelledby="'+y+'">'].concat(p.options.map(function(M){var A=m+"-"+M[1].replace(/\W+/g,"");return['<option id="'+A+'" value="'+M[0]+'" ','aria-labelledby="'+y+" "+A+'">',d.localize(M[1]),"</option>"].join("")})).concat("</select>").join("")},e.createElFgColor_=function(){var n="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",n),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",n),"</span>","</fieldset>"].join("")},e.createElBgColor_=function(){var n="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",n),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",n),"</span>","</fieldset>"].join("")},e.createElWinColor_=function(){var n="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",n),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",n),"</span>","</fieldset>"].join("")},e.createElColors_=function(){return cn("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.createElFont_=function(){return cn("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.createElControls_=function(){var n=this.localize("restore all settings to the default values");return cn("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+n+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+n+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.label=function(){return this.localize("Caption Settings Dialog")},e.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.buildCSSClass=function(){return r.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.getValues=function(){var n=this;return function A_(r,t,e){return void 0===e&&(e=0),x_(r).reduce(function(i,n){return t(i,r[n],n)},e)}(Ga,function(s,l,d){var p=function la(r,t){return Rh(r.options[r.options.selectedIndex].value,t)}(n.$(l.selector),l.parser);return void 0!==p&&(s[d]=p),s},{})},e.setValues=function(n){var s=this;al(Ga,function(l,d){!function WS(r,t,e){if(t)for(var i=0;i<r.options.length;i++)if(Rh(r.options[i].value,e)===t){r.selectedIndex=i;break}}(s.$(l.selector),n[d],l.parser)})},e.setDefaults=function(){var n=this;al(Ga,function(s){var l=s.hasOwnProperty("default")?s.default:0;n.$(s.selector).selectedIndex=l})},e.restoreSettings=function(){var n;try{n=JSON.parse(re().localStorage.getItem(cm))}catch(s){qt.warn(s)}n&&this.setValues(n)},e.saveSettings=function(){if(this.options_.persistTextTrackSettings){var n=this.getValues();try{Object.keys(n).length?re().localStorage.setItem(cm,JSON.stringify(n)):re().localStorage.removeItem(cm)}catch(s){qt.warn(s)}}},e.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},e.conditionalBlur_=function(){this.previouslyActiveEl_=null;var n=this.player_.controlBar,s=n&&n.subsCapsButton,l=n&&n.captionsButton;s?s.focus():l&&l.focus()},t}(Yu);it.registerComponent("TextTrackSettings",Cy);var ua=function(r){function t(i,n){var s,l=n.ResizeObserver||re().ResizeObserver;null===n.ResizeObserver&&(l=!1);var d=ei({createEl:!l,reportTouchActivity:!1},n);return(s=r.call(this,i,d)||this).ResizeObserver=n.ResizeObserver||re().ResizeObserver,s.loadListener_=null,s.resizeObserver_=null,s.debouncedHandler_=function(t,e,i,n){void 0===n&&(n=re());var s,d=function(){var m=this,y=arguments,M=function(){s=null,M=null,t.apply(m,y)};n.clearTimeout(s),s=n.setTimeout(M,100)};return d.cancel=function(){n.clearTimeout(s),s=null},d}(function(){s.resizeHandler()},0,0,jt(s)),l?(s.resizeObserver_=new s.ResizeObserver(s.debouncedHandler_),s.resizeObserver_.observe(i.el())):(s.loadListener_=function(){if(s.el_&&s.el_.contentWindow){var p=s.debouncedHandler_,m=s.unloadListener_=function(){Yi(this,"resize",p),Yi(this,"unload",m),m=null};qr(s.el_.contentWindow,"unload",m),qr(s.el_.contentWindow,"resize",p)}},s.one("load",s.loadListener_)),s}bt(t,r);var e=t.prototype;return e.createEl=function(){return r.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1},{"aria-hidden":"true"})},e.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},e.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,r.prototype.dispose.call(this)},t}(it);it.registerComponent("ResizeManager",ua);var Fs={trackingThreshold:20,liveTolerance:15},Ls=function(r){function t(i,n){var s,l=ei(Fs,n,{createEl:!1});return(s=r.call(this,i,l)||this).handleVisibilityChange_=function(d){return s.handleVisibilityChange(d)},s.trackLiveHandler_=function(){return s.trackLive_()},s.handlePlay_=function(d){return s.handlePlay(d)},s.handleFirstTimeupdate_=function(d){return s.handleFirstTimeupdate(d)},s.handleSeeked_=function(d){return s.handleSeeked(d)},s.seekToLiveEdge_=function(d){return s.seekToLiveEdge(d)},s.reset_(),s.on(s.player_,"durationchange",function(d){return s.handleDurationchange(d)}),s.on(s.player_,"canplay",function(){return s.toggleTracking()}),ah&&"hidden"in at()&&"visibilityState"in at()&&s.on(at(),"visibilitychange",s.handleVisibilityChange_),s}bt(t,r);var e=t.prototype;return e.handleVisibilityChange=function(){this.player_.duration()===1/0&&(at().hidden?this.stopTracking():this.startTracking())},e.trackLive_=function(){var n=this.player_.seekable();if(n&&n.length){var s=Number(re().performance.now().toFixed(4)),l=-1===this.lastTime_?0:(s-this.lastTime_)/1e3;this.lastTime_=s,this.pastSeekEnd_=this.pastSeekEnd()+l;var d=this.liveCurrentTime(),p=this.player_.currentTime(),m=this.player_.paused()||this.seekedBehindLive_||Math.abs(d-p)>this.options_.liveTolerance;(!this.timeupdateSeen_||d===1/0)&&(m=!1),m!==this.behindLiveEdge_&&(this.behindLiveEdge_=m,this.trigger("liveedgechange"))}},e.handleDurationchange=function(){this.toggleTracking()},e.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},e.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,30),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},e.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},e.handleSeeked=function(){var n=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&n>2,this.nextSeekedFromUser_=!1,this.trackLive_()},e.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},e.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},e.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},e.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},e.seekableEnd=function(){for(var n=this.player_.seekable(),s=[],l=n?n.length:0;l--;)s.push(n.end(l));return s.length?s.sort()[s.length-1]:1/0},e.seekableStart=function(){for(var n=this.player_.seekable(),s=[],l=n?n.length:0;l--;)s.push(n.start(l));return s.length?s.sort()[0]:0},e.liveWindow=function(){var n=this.liveCurrentTime();return n===1/0?0:n-this.seekableStart()},e.isLive=function(){return this.isTracking()},e.atLiveEdge=function(){return!this.behindLiveEdge()},e.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},e.pastSeekEnd=function(){var n=this.seekableEnd();return-1!==this.lastSeekEnd_&&n!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=n,this.pastSeekEnd_},e.behindLiveEdge=function(){return this.behindLiveEdge_},e.isTracking=function(){return"number"==typeof this.trackingInterval_},e.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},e.dispose=function(){this.off(at(),"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),r.prototype.dispose.call(this)},t}(it);it.registerComponent("LiveTracker",Ls);var Fh,kh=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var i=t.$$("source"),n=[],s="";if(!i.length)return!1;for(var l=0;l<i.length;l++){var d=i[l].src;d&&-1===n.indexOf(d)&&n.push(d)}return!!n.length&&(1===n.length&&(s=n[0]),t.triggerSourceset(s),!0)},Dy=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=at().createElement(this.nodeName.toLowerCase());e.innerHTML=t;for(var i=at().createDocumentFragment();e.childNodes.length;)i.appendChild(e.childNodes[0]);return this.innerText="",re().Element.prototype.appendChild.call(this,i),this.innerHTML}}),Ey=function(t,e){for(var i={},n=0;n<t.length&&!((i=Object.getOwnPropertyDescriptor(t[n],e))&&i.set&&i.get);n++);return i.enumerable=!0,i.configurable=!0,i},wy=function(t){var e=t.el();if(!e.resetSourceWatch_){var i={},n=function(t){return Ey([t.el(),re().HTMLMediaElement.prototype,re().Element.prototype,Dy],"innerHTML")}(t),s=function(d){return function(){for(var p=arguments.length,m=new Array(p),y=0;y<p;y++)m[y]=arguments[y];var M=d.apply(e,m);return kh(t),M}};["append","appendChild","insertAdjacentHTML"].forEach(function(l){!e[l]||(i[l]=e[l],e[l]=s(i[l]))}),Object.defineProperty(e,"innerHTML",ei(n,{set:s(n.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(i).forEach(function(l){e[l]=i[l]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)}},zS=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?So(re().Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return re().Element.prototype.setAttribute.call(this,"src",t),t}}),vm=function(t,e,i,n){void 0===n&&(n=!0);var s=function(p){return Object.defineProperty(t,e,{value:p,enumerable:!0,writable:!0})},l={configurable:!0,enumerable:!0,get:function(){var p=i();return s(p),p}};return n&&(l.set=s),Object.defineProperty(t,e,l)},wt=function(r){function t(i,n){var s;s=r.call(this,i,n)||this;var l=i.source,d=!1;if(l&&(s.el_.currentSrc!==l.src||i.tag&&3===i.tag.initNetworkState_)?s.setSource(l):s.handleLateInit_(s.el_),i.enableSourceset&&s.setupSourcesetHandling_(),s.isScrubbing_=!1,s.el_.hasChildNodes()){for(var p=s.el_.childNodes,m=p.length,y=[];m--;){var M=p[m];"track"===M.nodeName.toLowerCase()&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().addTrackElement_(M),s.remoteTextTracks().addTrack(M.track),s.textTracks().addTrack(M.track),!d&&!s.el_.hasAttribute("crossorigin")&&Er(M.src)&&(d=!0)):y.push(M))}for(var k=0;k<y.length;k++)s.el_.removeChild(y[k])}return s.proxyNativeTracks_(),s.featuresNativeTextTracks&&d&&qt.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),s.restoreMetadataTracksInIOSNativePlayer_(),(ad||od||N_)&&!0===i.nativeControlsForTouch&&s.setControls(!0),s.proxyWebkitFullscreen_(),s.triggerReady(),s}bt(t,r);var e=t.prototype;return e.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),t.disposeMediaElement(this.el_),this.options_=null,r.prototype.dispose.call(this)},e.setupSourcesetHandling_=function(){!function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var i=function(t){return Ey([t.el(),re().HTMLMediaElement.prototype,zS],"src")}(t),n=e.setAttribute,s=e.load;Object.defineProperty(e,"src",ei(i,{set:function(d){var p=i.set.call(e,d);return t.triggerSourceset(e.src),p}})),e.setAttribute=function(l,d){var p=n.call(e,l,d);return/src/i.test(l)&&t.triggerSourceset(e.src),p},e.load=function(){var l=s.call(e);return kh(t)||(t.triggerSourceset(""),wy(t)),l},e.currentSrc?t.triggerSourceset(e.currentSrc):kh(t)||wy(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=s,e.setAttribute=n,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}}}}(this)},e.restoreMetadataTracksInIOSNativePlayer_=function(){var s,n=this.textTracks(),l=function(){s=[];for(var m=0;m<n.length;m++){var y=n[m];"metadata"===y.kind&&s.push({track:y,storedMode:y.mode})}};l(),n.addEventListener("change",l),this.on("dispose",function(){return n.removeEventListener("change",l)});var d=function p(){for(var m=0;m<s.length;m++){var y=s[m];"disabled"===y.track.mode&&y.track.mode!==y.storedMode&&(y.track.mode=y.storedMode)}n.removeEventListener("change",p)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",l),n.removeEventListener("change",d),n.addEventListener("change",d)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",l),n.addEventListener("change",l),n.removeEventListener("change",d)})},e.overrideNative_=function(n,s){var l=this;if(s===this["featuresNative"+n+"Tracks"]){var d=n.toLowerCase();this[d+"TracksListeners_"]&&Object.keys(this[d+"TracksListeners_"]).forEach(function(p){l.el()[d+"Tracks"].removeEventListener(p,l[d+"TracksListeners_"][p])}),this["featuresNative"+n+"Tracks"]=!s,this[d+"TracksListeners_"]=null,this.proxyNativeTracksForType_(d)}},e.overrideNativeAudioTracks=function(n){this.overrideNative_("Audio",n)},e.overrideNativeVideoTracks=function(n){this.overrideNative_("Video",n)},e.proxyNativeTracksForType_=function(n){var s=this,l=Qr[n],d=this.el()[l.getterName],p=this[l.getterName]();if(this["featuresNative"+l.capitalName+"Tracks"]&&d&&d.addEventListener){var m={change:function(A){var k={type:"change",target:p,currentTarget:p,srcElement:p};p.trigger(k),"text"===n&&s[Cl.remoteText.getterName]().trigger(k)},addtrack:function(A){p.addTrack(A.track)},removetrack:function(A){p.removeTrack(A.track)}},y=function(){for(var A=[],k=0;k<p.length;k++){for(var W=!1,H=0;H<d.length;H++)if(d[H]===p[k]){W=!0;break}W||A.push(p[k])}for(;A.length;)p.removeTrack(A.shift())};this[l.getterName+"Listeners_"]=m,Object.keys(m).forEach(function(M){var A=m[M];d.addEventListener(M,A),s.on("dispose",function(k){return d.removeEventListener(M,A)})}),this.on("loadstart",y),this.on("dispose",function(M){return s.off("loadstart",y)})}},e.proxyNativeTracks_=function(){var n=this;Qr.names.forEach(function(s){n.proxyNativeTracksForType_(s)})},e.createEl=function(){var n=this.options_.tag;if(!n||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(n){var s=n.cloneNode(!0);n.parentNode&&n.parentNode.insertBefore(s,n),t.disposeMediaElement(n),n=s}else{n=at().createElement("video");var d=ei({},this.options_.tag&&La(this.options_.tag));(!ad||!0!==this.options_.nativeControlsForTouch)&&delete d.controls,xg(n,ri(d,{id:this.options_.techId,class:"vjs-tech"}))}n.playerId=this.options_.playerId}void 0!==this.options_.preload&&Bu(n,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(n.disablePictureInPicture=this.options_.disablePictureInPicture);for(var p=["loop","muted","playsinline","autoplay"],m=0;m<p.length;m++){var y=p[m],M=this.options_[y];void 0!==M&&(M?Bu(n,y,y):Hu(n,y),n[y]=M)}return n},e.handleLateInit_=function(n){if(0!==n.networkState&&3!==n.networkState){if(0===n.readyState){var s=!1,l=function(){s=!0};this.on("loadstart",l);var d=function(){s||this.trigger("loadstart")};return this.on("loadedmetadata",d),void this.ready(function(){this.off("loadstart",l),this.off("loadedmetadata",d),s||this.trigger("loadstart")})}var p=["loadstart"];p.push("loadedmetadata"),n.readyState>=2&&p.push("loadeddata"),n.readyState>=3&&p.push("canplay"),n.readyState>=4&&p.push("canplaythrough"),this.ready(function(){p.forEach(function(m){this.trigger(m)},this)})}},e.setScrubbing=function(n){this.isScrubbing_=n},e.scrubbing=function(){return this.isScrubbing_},e.setCurrentTime=function(n){try{this.isScrubbing_&&this.el_.fastSeek&&oh?this.el_.fastSeek(n):this.el_.currentTime=n}catch(s){qt(s,"Video is not ready. (Video.js)")}},e.duration=function(){var n=this;return this.el_.duration===1/0&&Pa&&Ra&&0===this.el_.currentTime?(this.on("timeupdate",function l(){n.el_.currentTime>0&&(n.el_.duration===1/0&&n.trigger("durationchange"),n.off("timeupdate",l))}),NaN):this.el_.duration||NaN},e.width=function(){return this.el_.offsetWidth},e.height=function(){return this.el_.offsetHeight},e.proxyWebkitFullscreen_=function(){var n=this;if("webkitDisplayingFullscreen"in this.el_){var s=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},l=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",s),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",l),this.on("dispose",function(){n.off("webkitbeginfullscreen",l),n.off("webkitendfullscreen",s)})}},e.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var n=re().navigator&&re().navigator.userAgent||"";if(/Android/.test(n)||!/Chrome|Mac OS X 10.5/.test(n))return!0}return!1},e.enterFullScreen=function(){var n=this.el_;if(n.paused&&n.networkState<=n.HAVE_METADATA)aa(this.el_.play()),this.setTimeout(function(){n.pause();try{n.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},0);else try{n.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},e.exitFullScreen=function(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))},e.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},e.src=function(n){if(void 0===n)return this.el_.src;this.setSrc(n)},e.reset=function(){t.resetMediaElement(this.el_)},e.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.setControls=function(n){this.el_.controls=!!n},e.addTextTrack=function(n,s,l){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,s,l):r.prototype.addTextTrack.call(this,n,s,l)},e.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return r.prototype.createRemoteTextTrack.call(this,n);var s=at().createElement("track");return n.kind&&(s.kind=n.kind),n.label&&(s.label=n.label),(n.language||n.srclang)&&(s.srclang=n.language||n.srclang),n.default&&(s.default=n.default),n.id&&(s.id=n.id),n.src&&(s.src=n.src),s},e.addRemoteTextTrack=function(n,s){var l=r.prototype.addRemoteTextTrack.call(this,n,s);return this.featuresNativeTextTracks&&this.el().appendChild(l),l},e.removeRemoteTextTrack=function(n){if(r.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var s=this.$$("track"),l=s.length;l--;)(n===s[l]||n===s[l].track)&&this.el().removeChild(s[l])},e.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var n={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(n.droppedVideoFrames=this.el().webkitDroppedFrameCount,n.totalVideoFrames=this.el().webkitDecodedFrameCount),re().performance&&"function"==typeof re().performance.now?n.creationTime=re().performance.now():re().performance&&re().performance.timing&&"number"==typeof re().performance.timing.navigationStart&&(n.creationTime=re().Date.now()-re().performance.timing.navigationStart),n},t}(zn);vm(wt,"TEST_VID",function(){if(ol()){var r=at().createElement("video"),t=at().createElement("track");return t.kind="captions",t.srclang="en",t.label="English",r.appendChild(t),r}}),wt.isSupported=function(){try{wt.TEST_VID.volume=.5}catch(r){return!1}return!(!wt.TEST_VID||!wt.TEST_VID.canPlayType)},wt.canPlayType=function(r){return wt.TEST_VID.canPlayType(r)},wt.canPlaySource=function(r,t){return wt.canPlayType(r.type)},wt.canControlVolume=function(){try{var r=wt.TEST_VID.volume;wt.TEST_VID.volume=r/2+.1;var t=r!==wt.TEST_VID.volume;return t&&hr?(re().setTimeout(function(){wt&&wt.prototype&&(wt.prototype.featuresVolumeControl=r!==wt.TEST_VID.volume)}),!1):t}catch(e){return!1}},wt.canMuteVolume=function(){try{var r=wt.TEST_VID.muted;return wt.TEST_VID.muted=!r,wt.TEST_VID.muted?Bu(wt.TEST_VID,"muted","muted"):Hu(wt.TEST_VID,"muted"),r!==wt.TEST_VID.muted}catch(t){return!1}},wt.canControlPlaybackRate=function(){if(Pa&&Ra&&O_<58)return!1;try{var r=wt.TEST_VID.playbackRate;return wt.TEST_VID.playbackRate=r/2+.1,r!==wt.TEST_VID.playbackRate}catch(t){return!1}},wt.canOverrideAttributes=function(){try{var r=function(){};Object.defineProperty(at().createElement("video"),"src",{get:r,set:r}),Object.defineProperty(at().createElement("audio"),"src",{get:r,set:r}),Object.defineProperty(at().createElement("video"),"innerHTML",{get:r,set:r}),Object.defineProperty(at().createElement("audio"),"innerHTML",{get:r,set:r})}catch(t){return!1}return!0},wt.supportsNativeTextTracks=function(){return oh||hr&&Ra},wt.supportsNativeVideoTracks=function(){return!(!wt.TEST_VID||!wt.TEST_VID.videoTracks)},wt.supportsNativeAudioTracks=function(){return!(!wt.TEST_VID||!wt.TEST_VID.audioTracks)},wt.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(r){var e=r[1];vm(wt.prototype,r[0],function(){return wt[e]()},!0)}),wt.prototype.featuresVolumeControl=wt.canControlVolume(),wt.prototype.movingMediaElementInDOM=!hr,wt.prototype.featuresFullscreenResize=!0,wt.prototype.featuresProgressEvents=!0,wt.prototype.featuresTimeupdateEvents=!0,wt.patchCanPlayType=function(){sh>=4&&!I_&&!Ra&&(Fh=wt.TEST_VID&&wt.TEST_VID.constructor.prototype.canPlayType,wt.TEST_VID.constructor.prototype.canPlayType=function(r){return r&&/^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(r)?"maybe":Fh.call(this,r)})},wt.unpatchCanPlayType=function(){var r=wt.TEST_VID.constructor.prototype.canPlayType;return Fh&&(wt.TEST_VID.constructor.prototype.canPlayType=Fh),r},wt.patchCanPlayType(),wt.disposeMediaElement=function(r){if(r){for(r.parentNode&&r.parentNode.removeChild(r);r.hasChildNodes();)r.removeChild(r.firstChild);r.removeAttribute("src"),"function"==typeof r.load&&function(){try{r.load()}catch(t){}}()}},wt.resetMediaElement=function(r){if(r){for(var t=r.querySelectorAll("source"),e=t.length;e--;)r.removeChild(t[e]);r.removeAttribute("src"),"function"==typeof r.load&&function(){try{r.load()}catch(i){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(r){wt.prototype[r]=function(){return this.el_[r]||this.el_.hasAttribute(r)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(r){wt.prototype["set"+gi(r)]=function(t){this.el_[r]=t,t?this.el_.setAttribute(r,r):this.el_.removeAttribute(r)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(r){wt.prototype[r]=function(){return this.el_[r]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(r){wt.prototype["set"+gi(r)]=function(t){this.el_[r]=t}}),["pause","load","play"].forEach(function(r){wt.prototype[r]=function(){return this.el_[r]()}}),zn.withSourceHandlers(wt),wt.nativeSourceHandler={},wt.nativeSourceHandler.canPlayType=function(r){try{return wt.TEST_VID.canPlayType(r)}catch(t){return""}},wt.nativeSourceHandler.canHandleSource=function(r,t){if(r.type)return wt.nativeSourceHandler.canPlayType(r.type);if(r.src){var e=Xu(r.src);return wt.nativeSourceHandler.canPlayType("video/"+e)}return""},wt.nativeSourceHandler.handleSource=function(r,t,e){t.setSrc(r.src)},wt.nativeSourceHandler.dispose=function(){},wt.registerSourceHandler(wt.nativeSourceHandler),zn.registerTech("Html5",wt);var _m=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Lh={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},rc=["tiny","xsmall","small","medium","large","xlarge","huge"],Bh={};rc.forEach(function(r){var t="x"===r.charAt(0)?"x-"+r.substring(1):r;Bh[r]="vjs-layout-"+t});var xy={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ci=function(r){function t(i,n,s){var l;if(i.id=i.id||n.id||"vjs_video_"+ra(),(n=ri(t.getTagSettings(i),n)).initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"==typeof i.closest){var d=i.closest("[lang]");d&&d.getAttribute&&(n.language=d.getAttribute("lang"))}else for(var p=i;p&&1===p.nodeType;){if(La(p).hasOwnProperty("lang")){n.language=p.getAttribute("lang");break}p=p.parentNode}if((l=r.call(this,null,n,s)||this).boundDocumentFullscreenChange_=function(A){return l.documentFullscreenChange_(A)},l.boundFullWindowOnEscKey_=function(A){return l.fullWindowOnEscKey(A)},l.boundUpdateStyleEl_=function(A){return l.updateStyleEl_(A)},l.boundApplyInitTime_=function(A){return l.applyInitTime_(A)},l.boundUpdateCurrentBreakpoint_=function(A){return l.updateCurrentBreakpoint_(A)},l.boundHandleTechClick_=function(A){return l.handleTechClick_(A)},l.boundHandleTechDoubleClick_=function(A){return l.handleTechDoubleClick_(A)},l.boundHandleTechTouchStart_=function(A){return l.handleTechTouchStart_(A)},l.boundHandleTechTouchMove_=function(A){return l.handleTechTouchMove_(A)},l.boundHandleTechTouchEnd_=function(A){return l.handleTechTouchEnd_(A)},l.boundHandleTechTap_=function(A){return l.handleTechTap_(A)},l.isFullscreen_=!1,l.log=Ru(l.id_),l.fsApi_=th,l.isPosterFromTech_=!1,l.queuedCallbacks_=[],l.isReady_=!1,l.hasStarted_=!1,l.userActive_=!1,l.debugEnabled_=!1,!l.options_||!l.options_.techOrder||!l.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(l.tag=i,l.tagAttributes=i&&La(i),l.language(l.options_.language),n.languages){var m={};Object.getOwnPropertyNames(n.languages).forEach(function(A){m[A.toLowerCase()]=n.languages[A]}),l.languages_=m}else l.languages_=t.prototype.options_.languages;l.resetCache_(),l.poster_=n.poster||"",l.controls_=!!n.controls,i.controls=!1,i.removeAttribute("controls"),l.changingSrc_=!1,l.playCallbacks_=[],l.playTerminatedQueue_=[],i.hasAttribute("autoplay")?l.autoplay(!0):l.autoplay(l.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(function(A){if("function"!=typeof l[A])throw new Error('plugin "'+A+'" does not exist')}),l.scrubbing_=!1,l.el_=l.createEl(),Lg(jt(l),{eventBusKey:"el_"}),l.fsApi_.requestFullscreen&&(qr(at(),l.fsApi_.fullscreenchange,l.boundDocumentFullscreenChange_),l.on(l.fsApi_.fullscreenchange,l.boundDocumentFullscreenChange_)),l.fluid_&&l.on(["playerreset","resize"],l.boundUpdateStyleEl_);var y=ei(l.options_);n.plugins&&Object.keys(n.plugins).forEach(function(A){l[A](n.plugins[A])}),n.debug&&l.debug(!0),l.options_.playerOptions=y,l.middleware_=[],l.playbackRates(n.playbackRates),l.initChildren(),l.isAudio("audio"===i.nodeName.toLowerCase()),l.controls()?l.addClass("vjs-controls-enabled"):l.addClass("vjs-controls-disabled"),l.el_.setAttribute("role","region"),l.isAudio()?l.el_.setAttribute("aria-label",l.localize("Audio Player")):l.el_.setAttribute("aria-label",l.localize("Video Player")),l.isAudio()&&l.addClass("vjs-audio"),l.flexNotSupported_()&&l.addClass("vjs-no-flex"),ad&&l.addClass("vjs-touch-enabled"),hr||l.addClass("vjs-workinghover"),t.players[l.id_]=jt(l);var M="7.18.1".split(".")[0];return l.addClass("vjs-v"+M),l.userActive(!0),l.reportUserActivity(),l.one("play",function(A){return l.listenForUserActivity_(A)}),l.on("stageclick",function(A){return l.handleStageClick_(A)}),l.on("keydown",function(A){return l.handleKeyDown(A)}),l.on("languagechange",function(A){return l.handleLanguagechange(A)}),l.breakpoints(l.options_.breakpoints),l.responsive(l.options_.responsive),l}bt(t,r);var e=t.prototype;return e.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),Yi(at(),this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Yi(at(),"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),t.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),function kS(r){mh[r.id()]=null}(this),gr.names.forEach(function(s){var d=n[gr[s].getterName]();d&&d.off&&d.off()}),r.prototype.dispose.call(this)},e.createEl=function(){var s,n=this.tag,l=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),d="video-js"===this.tag.tagName.toLowerCase();l?s=this.el_=n.parentNode:d||(s=this.el_=r.prototype.createEl.call(this,"div"));var p=La(n);if(d){for(s=this.el_=n,n=this.tag=at().createElement("video");s.children.length;)n.appendChild(s.firstChild);ka(s,"video-js")||Fa(s,"video-js"),s.appendChild(n),l=this.playerElIngest_=s,Object.keys(s).forEach(function(W){try{n[W]=s[W]}catch(H){}})}if(n.setAttribute("tabindex","-1"),p.tabindex="-1",(ah||Ra&&Cg)&&(n.setAttribute("role","application"),p.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in p&&delete p.width,"height"in p&&delete p.height,Object.getOwnPropertyNames(p).forEach(function(W){d&&"class"===W||s.setAttribute(W,p[W]),d&&n.setAttribute(W,p[W])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=s.player=this,this.addClass("vjs-paused"),!0!==re().VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=cd("vjs-styles-dimensions");var m=dl(".vjs-styles-defaults"),y=dl("head");y.insertBefore(this.styleEl_,m?m.nextSibling:y.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var M=n.getElementsByTagName("a"),A=0;A<M.length;A++){var k=M.item(A);Fa(k,"vjs-hidden"),k.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!l&&n.parentNode.insertBefore(s,n),hs(n,s),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=s,s},e.crossOrigin=function(n){if(!n)return this.techGet_("crossOrigin");"anonymous"===n||"use-credentials"===n?this.techCall_("setCrossOrigin",n):qt.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+n+'"')},e.width=function(n){return this.dimension("width",n)},e.height=function(n){return this.dimension("height",n)},e.dimension=function(n,s){var l=n+"_";if(void 0===s)return this[l]||0;if(""===s||"auto"===s)return this[l]=void 0,void this.updateStyleEl_();var d=parseFloat(s);isNaN(d)?qt.error('Improper value "'+s+'" supplied for for '+n):(this[l]=d,this.updateStyleEl_())},e.fluid=function(n){var s=this;if(void 0===n)return!!this.fluid_;this.fluid_=!!n,Ua(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),n?(this.addClass("vjs-fluid"),this.fill(!1),function(t,e){Ua(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))}(this,function(){s.on(["playerreset","resize"],s.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.fill=function(n){if(void 0===n)return!!this.fill_;this.fill_=!!n,n?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},e.aspectRatio=function(n){if(void 0===n)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n,this.fluid(!0),this.updateStyleEl_()},e.updateStyleEl_=function(){if(!0!==re().VIDEOJS_NO_DYNAMIC_STYLE){var d,p,y,M=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),A=M[1]/M[0];d=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/A:this.videoWidth()||300,p=void 0!==this.height_?this.height_:d*A,y=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(y),G_(this.styleEl_,"\n      ."+y+" {\n        width: "+d+"px;\n        height: "+p+"px;\n      }\n\n      ."+y+".vjs-fluid {\n        padding-top: "+100*A+"%;\n      }\n    ")}else{var n="number"==typeof this.width_?this.width_:this.options_.width,s="number"==typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(n>=0&&(l.width=n),s>=0&&(l.height=s))}},e.loadTech_=function(n,s){var l=this;this.tech_&&this.unloadTech_();var d=gi(n),p=n.charAt(0).toLowerCase()+n.slice(1);"Html5"!==d&&this.tag&&(zn.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=d,this.isReady_=!1;var m=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(m=!1);var y={source:s,autoplay:m,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+p+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};gr.names.forEach(function(A){var k=gr[A];y[k.getterName]=l[k.privateName]}),ri(y,this.options_[d]),ri(y,this.options_[p]),ri(y,this.options_[n.toLowerCase()]),this.tag&&(y.tag=this.tag),s&&s.src===this.cache_.src&&this.cache_.currentTime>0&&(y.startTime=this.cache_.currentTime);var M=zn.getTech(n);if(!M)throw new Error("No Tech named '"+d+"' exists! '"+d+"' should be registered using videojs.registerTech()'");this.tech_=new M(y),this.tech_.ready(qn(this,this.handleTechReady_),!0),function(t,e){t.forEach(function(i){var n=e.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(function(s){return n.addCue(s)})}),e.textTracks()}(this.textTracksJson_||[],this.tech_),_m.forEach(function(A){l.on(l.tech_,A,function(k){return l["handleTech"+gi(A)+"_"](k)})}),Object.keys(Lh).forEach(function(A){l.on(l.tech_,A,function(k){0===l.tech_.playbackRate()&&l.tech_.seeking()?l.queuedCallbacks_.push({callback:l["handleTech"+Lh[A]+"_"].bind(l),event:k}):l["handleTech"+Lh[A]+"_"](k)})}),this.on(this.tech_,"loadstart",function(A){return l.handleTechLoadStart_(A)}),this.on(this.tech_,"sourceset",function(A){return l.handleTechSourceset_(A)}),this.on(this.tech_,"waiting",function(A){return l.handleTechWaiting_(A)}),this.on(this.tech_,"ended",function(A){return l.handleTechEnded_(A)}),this.on(this.tech_,"seeking",function(A){return l.handleTechSeeking_(A)}),this.on(this.tech_,"play",function(A){return l.handleTechPlay_(A)}),this.on(this.tech_,"firstplay",function(A){return l.handleTechFirstPlay_(A)}),this.on(this.tech_,"pause",function(A){return l.handleTechPause_(A)}),this.on(this.tech_,"durationchange",function(A){return l.handleTechDurationChange_(A)}),this.on(this.tech_,"fullscreenchange",function(A,k){return l.handleTechFullscreenChange_(A,k)}),this.on(this.tech_,"fullscreenerror",function(A,k){return l.handleTechFullscreenError_(A,k)}),this.on(this.tech_,"enterpictureinpicture",function(A){return l.handleTechEnterPictureInPicture_(A)}),this.on(this.tech_,"leavepictureinpicture",function(A){return l.handleTechLeavePictureInPicture_(A)}),this.on(this.tech_,"error",function(A){return l.handleTechError_(A)}),this.on(this.tech_,"posterchange",function(A){return l.handleTechPosterChange_(A)}),this.on(this.tech_,"textdata",function(A){return l.handleTechTextData_(A)}),this.on(this.tech_,"ratechange",function(A){return l.handleTechRateChange_(A)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&("Html5"!==d||!this.tag)&&hs(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.unloadTech_=function(){var n=this;gr.names.forEach(function(s){var l=gr[s];n[l.privateName]=n[l.getterName]()}),this.textTracksJson_=function(t){var e=t.$$("track"),i=Array.prototype.map.call(e,function(s){return s.track});return Array.prototype.map.call(e,function(s){var l=z_(s.track);return s.src&&(l.src=s.src),l}).concat(Array.prototype.filter.call(t.textTracks(),function(s){return-1===i.indexOf(s)}).map(z_))}(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.tech=function(n){return void 0===n&&qt.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_},e.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},e.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},e.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},e.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())},e.manualAutoplay_=function(n){var s=this;if(this.tech_&&"string"==typeof n){var d,l=function(){var m=s.muted();s.muted(!0);var y=function(){s.muted(m)};s.playTerminatedQueue_.push(y);var M=s.play();if(zu(M))return M.catch(function(A){throw y(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(A||""))})};if("any"!==n||this.muted()?d="muted"!==n||this.muted()?this.play():l():zu(d=this.play())&&(d=d.catch(l)),zu(d))return d.then(function(){s.trigger({type:"autoplay-success",autoplay:n})}).catch(function(){s.trigger({type:"autoplay-failure",autoplay:n})})}},e.updateSourceCaches_=function(n){void 0===n&&(n="");var s=n,l="";"string"!=typeof s&&(s=n.src,l=n.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],s&&!l&&(l=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var i=t.cache_.sources.filter(function(d){return d.src===e});if(i.length)return i[0].type;for(var n=t.$$("source"),s=0;s<n.length;s++){var l=n[s];if(l.type&&l.src&&l.src===e)return l.type}return Ju(e)}(this,s)),this.cache_.source=ei({},n,{src:s,type:l});for(var d=this.cache_.sources.filter(function(k){return k.src&&k.src===s}),p=[],m=this.$$("source"),y=[],M=0;M<m.length;M++){var A=La(m[M]);p.push(A),A.src&&A.src===s&&y.push(A.src)}y.length&&!d.length?this.cache_.sources=p:d.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=s},e.handleTechSourceset_=function(n){var s=this;if(!this.changingSrc_){var l=function(y){return s.updateSourceCaches_(y)},d=this.currentSource().src,p=n.src;d&&!/^blob:/.test(d)&&/^blob:/.test(p)&&(!this.lastSource_||this.lastSource_.tech!==p&&this.lastSource_.player!==d)&&(l=function(){}),l(p),n.src||this.tech_.any(["sourceset","loadstart"],function(m){if("sourceset"!==m.type){var y=s.techGet("currentSrc");s.lastSource_.tech=y,s.updateSourceCaches_(y)}})}this.lastSource_={player:this.currentSource().src,tech:n.src},this.trigger({src:n.src,type:"sourceset"})},e.hasStarted=function(n){if(void 0===n)return this.hasStarted_;n!==this.hasStarted_&&(this.hasStarted_=n,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(n){return n.callback(n.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.handleTechWaiting_=function(){var n=this;this.addClass("vjs-waiting"),this.trigger("waiting");var s=this.currentTime();this.on("timeupdate",function d(){s!==n.currentTime()&&(n.removeClass("vjs-waiting"),n.off("timeupdate",d))})},e.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},e.handleTechFirstPlay_=function(){this.options_.starttime&&(qt.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.handleTechClick_=function(n){!this.controls_||(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.click||!1!==this.options_.userActions.click)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,n):this.paused()?aa(this.play()):this.pause())},e.handleTechDoubleClick_=function(n){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(l){return l.contains(n.target)})||(void 0===this.options_||void 0===this.options_.userActions||void 0===this.options_.userActions.doubleClick||!1!==this.options_.userActions.doubleClick)&&(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,n):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},e.handleTechTap_=function(){this.userActive(!this.userActive())},e.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.handleTechTouchEnd_=function(n){n.cancelable&&n.preventDefault()},e.handleStageClick_=function(){this.reportUserActivity()},e.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.documentFullscreenChange_=function(n){var s=n.target.player;if(!s||s===this){var l=this.el(),d=at()[this.fsApi_.fullscreenElement]===l;!d&&l.matches?d=l.matches(":"+this.fsApi_.fullscreen):!d&&l.msMatchesSelector&&(d=l.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(d)}},e.handleTechFullscreenChange_=function(n,s){var l=this;s&&(s.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){l.removeClass("vjs-ios-native-fs")})),this.isFullscreen(s.isFullscreen))},e.handleTechFullscreenError_=function(n,s){this.trigger("fullscreenerror",s)},e.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},e.handleTechEnterPictureInPicture_=function(n){this.isInPictureInPicture(!0)},e.handleTechLeavePictureInPicture_=function(n){this.isInPictureInPicture(!1)},e.handleTechError_=function(){var n=this.tech_.error();this.error(n)},e.handleTechTextData_=function(){var n=null;arguments.length>1&&(n=arguments[1]),this.trigger("textdata",n)},e.getCache=function(){return this.cache_},e.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},e.techCall_=function(n,s){this.ready(function(){if(n in ey)return function Z_(r,t,e,i){return t[e](r.reduce(vh(e),i))}(this.middleware_,this.tech_,n,s);if(n in ty)return J_(this.middleware_,this.tech_,n,s);try{this.tech_&&this.tech_[n](s)}catch(l){throw qt(l),l}},!0)},e.techGet_=function(n){if(this.tech_&&this.tech_.isReady_){if(n in PS)return function Q_(r,t,e){return r.reduceRight(vh(e),t[e]())}(this.middleware_,this.tech_,n);if(n in ty)return J_(this.middleware_,this.tech_,n);try{return this.tech_[n]()}catch(s){throw void 0===this.tech_[n]?(qt("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",s),s):"TypeError"===s.name?(qt("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",s),this.tech_.isReady_=!1,s):(qt(s),s)}}},e.play=function(){var n=this,s=this.options_.Promise||re().Promise;return s?new s(function(l){n.play_(l)}):this.play_()},e.play_=function(n){var s=this;void 0===n&&(n=aa),this.playCallbacks_.push(n);var l=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!l)return this.waitToPlay_=function(p){s.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!l&&(oh||hr)&&this.load());var d=this.techGet_("play");null===d?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(d)},e.runPlayTerminatedQueue_=function(){var n=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],n.forEach(function(s){s()})},e.runPlayCallbacks_=function(n){var s=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],s.forEach(function(l){l(n)})},e.pause=function(){this.techCall_("pause")},e.paused=function(){return!1!==this.techGet_("paused")},e.played=function(){return this.techGet_("played")||$u(0,0)},e.scrubbing=function(n){if(void 0===n)return this.scrubbing_;this.scrubbing_=!!n,this.techCall_("setScrubbing",this.scrubbing_),n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.currentTime=function(n){return void 0!==n?(n<0&&(n=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",n),void(this.cache_.initTime=0)):(this.cache_.initTime=n,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_))):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},e.duration=function(n){if(void 0===n)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(n=parseFloat(n))<0&&(n=1/0),n!==this.cache_.duration&&(this.cache_.duration=n,n===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(n)||this.trigger("durationchange"))},e.remainingTime=function(){return this.duration()-this.currentTime()},e.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.buffered=function(){var n=this.techGet_("buffered");return(!n||!n.length)&&(n=$u(0,0)),n},e.bufferedPercent=function(){return ES(this.buffered(),this.duration())},e.bufferedEnd=function(){var n=this.buffered(),s=this.duration(),l=n.end(n.length-1);return l>s&&(l=s),l},e.volume=function(n){var s;return void 0!==n?(s=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=s,this.techCall_("setVolume",s),void(s>0&&this.lastVolume_(s))):(s=parseFloat(this.techGet_("volume")),isNaN(s)?1:s)},e.muted=function(n){if(void 0===n)return this.techGet_("muted")||!1;this.techCall_("setMuted",n)},e.defaultMuted=function(n){return void 0!==n?this.techCall_("setDefaultMuted",n):this.techGet_("defaultMuted")||!1},e.lastVolume_=function(n){if(void 0===n||0===n)return this.cache_.lastVolume;this.cache_.lastVolume=n},e.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.isFullscreen=function(n){if(void 0!==n){var s=this.isFullscreen_;return this.isFullscreen_=Boolean(n),this.isFullscreen_!==s&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_},e.requestFullscreen=function(n){var s=this.options_.Promise||re().Promise;if(s){var l=this;return new s(function(d,p){function m(){l.off("fullscreenerror",M),l.off("fullscreenchange",y)}function y(){m(),d()}function M(k,W){m(),p(W)}l.one("fullscreenchange",y),l.one("fullscreenerror",M);var A=l.requestFullscreenHelper_(n);A&&(A.then(m,m),A.then(d,p))})}return this.requestFullscreenHelper_()},e.requestFullscreenHelper_=function(n){var l,s=this;if(this.fsApi_.prefixed||(l=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==n&&(l=n)),this.fsApi_.requestFullscreen){var d=this.el_[this.fsApi_.requestFullscreen](l);return d&&d.then(function(){return s.isFullscreen(!0)},function(){return s.isFullscreen(!1)}),d}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},e.exitFullscreen=function(){var n=this.options_.Promise||re().Promise;if(n){var s=this;return new n(function(l,d){function p(){s.off("fullscreenerror",y),s.off("fullscreenchange",m)}function m(){p(),l()}function y(A,k){p(),d(k)}s.one("fullscreenchange",m),s.one("fullscreenerror",y);var M=s.exitFullscreenHelper_();M&&(M.then(p,p),M.then(l,d))})}return this.exitFullscreenHelper_()},e.exitFullscreenHelper_=function(){var n=this;if(this.fsApi_.requestFullscreen){var s=at()[this.fsApi_.exitFullscreen]();return s&&aa(s.then(function(){return n.isFullscreen(!1)})),s}this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},e.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=at().documentElement.style.overflow,qr(at(),"keydown",this.boundFullWindowOnEscKey_),at().documentElement.style.overflow="hidden",Fa(at().body,"vjs-full-window"),this.trigger("enterFullWindow")},e.fullWindowOnEscKey=function(n){zt().isEventKey(n,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},e.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,Yi(at(),"keydown",this.boundFullWindowOnEscKey_),at().documentElement.style.overflow=this.docOrigOverflow,ld(at().body,"vjs-full-window"),this.trigger("exitFullWindow")},e.disablePictureInPicture=function(n){if(void 0===n)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",n),this.options_.disablePictureInPicture=n,this.trigger("disablepictureinpicturechanged")},e.isInPictureInPicture=function(n){return void 0!==n?(this.isInPictureInPicture_=!!n,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_},e.requestPictureInPicture=function(){if("pictureInPictureEnabled"in at()&&!1===this.disablePictureInPicture())return this.techGet_("requestPictureInPicture")},e.exitPictureInPicture=function(){if("pictureInPictureEnabled"in at())return at().exitPictureInPicture()},e.handleKeyDown=function(n){var p,m,s=this.options_.userActions;s&&s.hotkeys&&(m=(p=this.el_.ownerDocument.activeElement).tagName.toLowerCase(),p.isContentEditable||("input"===m?-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(p.type):-1!==["textarea"].indexOf(m))||("function"==typeof s.hotkeys?s.hotkeys.call(this,n):this.handleHotkeys(n)))},e.handleHotkeys=function(n){var s=this.options_.userActions?this.options_.userActions.hotkeys:{},l=s.fullscreenKey,p=s.muteKey,m=void 0===p?function(H){return zt().isEventKey(H,"m")}:p,y=s.playPauseKey,M=void 0===y?function(H){return zt().isEventKey(H,"k")||zt().isEventKey(H,"Space")}:y;if((void 0===l?function(H){return zt().isEventKey(H,"f")}:l).call(this,n)){n.preventDefault(),n.stopPropagation();var A=it.getComponent("FullscreenToggle");!1!==at()[this.fsApi_.fullscreenEnabled]&&A.prototype.handleClick.call(this,n)}else m.call(this,n)?(n.preventDefault(),n.stopPropagation(),it.getComponent("MuteToggle").prototype.handleClick.call(this,n)):M.call(this,n)&&(n.preventDefault(),n.stopPropagation(),it.getComponent("PlayToggle").prototype.handleClick.call(this,n))},e.canPlayType=function(n){for(var s,l=0,d=this.options_.techOrder;l<d.length;l++){var p=d[l],m=zn.getTech(p);if(m||(m=it.getComponent(p)),m){if(m.isSupported()&&(s=m.canPlayType(n)))return s}else qt.error('The "'+p+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.selectSource=function(n){var A,s=this,l=this.options_.techOrder.map(function(M){return[M,zn.getTech(M)]}).filter(function(M){var A=M[0],k=M[1];return k?k.isSupported():(qt.error('The "'+A+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),d=function(A,k,W){var H;return A.some(function(j){return k.some(function(le){if(H=W(j,le))return!0})}),H},y=function(A,k){var W=A[0];if(A[1].canPlaySource(k,s.options_[W.toLowerCase()]))return{source:k,tech:W}};return(this.options_.sourceOrder?d(n,l,(A=y,function(k,W){return A(W,k)})):d(l,n,y))||!1},e.handleSrc_=function(n,s){var l=this;if(void 0===n)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var d=zE(n);if(d.length){if(this.changingSrc_=!0,s||(this.cache_.sources=d),this.updateSourceCaches_(d[0]),X_(this,d[0],function(y,M){if(l.middleware_=M,s||(l.cache_.sources=d),l.updateSourceCaches_(y),l.src_(y))return d.length>1?l.handleSrc_(d.slice(1)):(l.changingSrc_=!1,l.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void l.triggerReady());!function OS(r,t){r.forEach(function(e){return e.setTech&&e.setTech(t)})}(M,l.tech_)}),this.options_.retryOnError&&d.length>1){var p=function(){l.error(null),l.handleSrc_(d.slice(1),!0)},m=function(){l.off("error",p)};this.one("error",p),this.one("playing",m),this.resetRetryOnError_=function(){l.off("error",p),l.off("playing",m)}}}else this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},e.src=function(n){return this.handleSrc_(n,!1)},e.src_=function(n){var s=this,l=this.selectSource([n]);return!l||(function(t,e){return gi(t)===gi(e)}(l.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(l.tech,l.source),this.tech_.ready(function(){s.changingSrc_=!1}),!1))},e.load=function(){this.techCall_("load")},e.reset=function(){var n=this,s=this.options_.Promise||re().Promise;this.paused()||!s?this.doReset_():aa(this.play().then(function(){return n.doReset_()}))},e.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Ua(this)&&this.trigger("playerreset")},e.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},e.resetProgressBar_=function(){this.currentTime(0);var n=this.controlBar,s=n.durationDisplay,l=n.remainingTimeDisplay;s&&s.updateContent(),l&&l.updateContent()},e.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},e.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},e.currentSources=function(){var n=this.currentSource(),s=[];return 0!==Object.keys(n).length&&s.push(n),this.cache_.sources||s},e.currentSource=function(){return this.cache_.source||{}},e.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.preload=function(n){return void 0!==n?(this.techCall_("setPreload",n),void(this.options_.preload=n)):this.techGet_("preload")},e.autoplay=function(n){if(void 0===n)return this.options_.autoplay||!1;var s;"string"==typeof n&&/(any|play|muted)/.test(n)||!0===n&&this.options_.normalizeAutoplay?(this.options_.autoplay=n,this.manualAutoplay_("string"==typeof n?n:"play"),s=!1):this.options_.autoplay=!!n,s=void 0===s?this.options_.autoplay:s,this.tech_&&this.techCall_("setAutoplay",s)},e.playsinline=function(n){return void 0!==n?(this.techCall_("setPlaysinline",n),this.options_.playsinline=n,this):this.techGet_("playsinline")},e.loop=function(n){return void 0!==n?(this.techCall_("setLoop",n),void(this.options_.loop=n)):this.techGet_("loop")},e.poster=function(n){if(void 0===n)return this.poster_;n||(n=""),n!==this.poster_&&(this.poster_=n,this.techCall_("setPoster",n),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var n=this.tech_.poster()||"";n!==this.poster_&&(this.poster_=n,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.controls=function(n){if(void 0===n)return!!this.controls_;this.controls_!==(n=!!n)&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.usingNativeControls=function(n){if(void 0===n)return!!this.usingNativeControls_;this.usingNativeControls_!==(n=!!n)&&(this.usingNativeControls_=n,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.error=function(n){var s=this;if(void 0===n)return this.error_||null;if(ia("beforeerror").forEach(function(d){var p=d(s,n);Os(p)&&!Array.isArray(p)||"string"==typeof p||"number"==typeof p||null===p?n=p:s.log.error("please return a value that MediaError expects in beforeerror hooks")}),this.options_.suppressNotSupportedError&&n&&4===n.code){var l=function(){this.error(n)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],l),void this.one("loadstart",function(){this.off(["click","touchstart"],l)})}if(null===n)return this.error_=n,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new pr(n),this.addClass("vjs-error"),qt.error("(CODE:"+this.error_.code+" "+pr.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),ia("error").forEach(function(d){return d(s,s.error_)})},e.reportUserActivity=function(n){this.userActivity_=!0},e.userActive=function(n){if(void 0===n)return this.userActive_;if((n=!!n)!==this.userActive_){if(this.userActive_=n,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(s){s.stopPropagation(),s.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.listenForUserActivity_=function(){var n,s,l,d=qn(this,this.reportUserActivity),y=function(W){d(),this.clearInterval(n)};this.on("mousedown",function(){d(),this.clearInterval(n),n=this.setInterval(d,250)}),this.on("mousemove",function(W){(W.screenX!==s||W.screenY!==l)&&(s=W.screenX,l=W.screenY,d())}),this.on("mouseup",y),this.on("mouseleave",y);var A,M=this.getChild("controlBar");M&&!hr&&!Pa&&(M.on("mouseenter",function(k){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),M.on("mouseleave",function(k){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",d),this.on("keyup",d),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(A);var k=this.options_.inactivityTimeout;k<=0||(A=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},k))}},250)},e.playbackRate=function(n){if(void 0===n)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",n)},e.defaultPlaybackRate=function(n){return void 0!==n?this.techCall_("setDefaultPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.isAudio=function(n){if(void 0===n)return!!this.isAudio_;this.isAudio_=!!n},e.addTextTrack=function(n,s,l){if(this.tech_)return this.tech_.addTextTrack(n,s,l)},e.addRemoteTextTrack=function(n,s){if(this.tech_)return this.tech_.addRemoteTextTrack(n,s)},e.removeRemoteTextTrack=function(n){void 0===n&&(n={});var l=n.track;if(l||(l=n),this.tech_)return this.tech_.removeRemoteTextTrack(l)},e.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.language=function(n){if(void 0===n)return this.language_;this.language_!==String(n).toLowerCase()&&(this.language_=String(n).toLowerCase(),Ua(this)&&this.trigger("languagechange"))},e.languages=function(){return ei(t.prototype.options_.languages,this.languages_)},e.toJSON=function(){var n=ei(this.options_),s=n.tracks;n.tracks=[];for(var l=0;l<s.length;l++){var d=s[l];(d=ei(d)).player=void 0,n.tracks[l]=d}return n},e.createModal=function(n,s){var l=this;(s=s||{}).content=n||"";var d=new Yu(this,s);return this.addChild(d),d.on("dispose",function(){l.removeChild(d)}),d.open(),d},e.updateCurrentBreakpoint_=function(){if(this.responsive())for(var n=this.currentBreakpoint(),s=this.currentWidth(),l=0;l<rc.length;l++){var d=rc[l];if(s<=this.breakpoints_[d]){if(n===d)return;n&&this.removeClass(Bh[n]),this.addClass(Bh[d]),this.breakpoint_=d;break}}},e.removeCurrentBreakpoint_=function(){var n=this.currentBreakpointClass();this.breakpoint_="",n&&this.removeClass(n)},e.breakpoints=function(n){return void 0===n||(this.breakpoint_="",this.breakpoints_=ri({},xy,n),this.updateCurrentBreakpoint_()),ri(this.breakpoints_)},e.responsive=function(n){return void 0===n?this.responsive_:(n=Boolean(n))!==this.responsive_?(this.responsive_=n,n?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),n):void 0},e.currentBreakpoint=function(){return this.breakpoint_},e.currentBreakpointClass=function(){return Bh[this.breakpoint_]||""},e.loadMedia=function(n,s){var l=this;if(n&&"object"==typeof n){this.reset(),this.cache_.media=ei(n);var d=this.cache_.media,m=d.poster,y=d.src,M=d.textTracks;!d.artwork&&m&&(this.cache_.media.artwork=[{src:m,type:Ju(m)}]),y&&this.src(y),m&&this.poster(m),Array.isArray(M)&&M.forEach(function(A){return l.addRemoteTextTrack(A,!1)}),this.ready(s)}},e.getMedia=function(){if(!this.cache_.media){var n=this.poster(),d={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),function(p){return{kind:p.kind,label:p.label,language:p.language,src:p.src}})};return n&&(d.poster=n,d.artwork=[{src:d.poster,type:Ju(d.poster)}]),d}return ei(this.cache_.media)},t.getTagSettings=function(n){var s={sources:[],tracks:[]},l=La(n),d=l["data-setup"];if(ka(n,"vjs-fill")&&(l.fill=!0),ka(n,"vjs-fluid")&&(l.fluid=!0),null!==d){var p=Kp()(d||"{}"),m=p[0],y=p[1];m&&qt.error(m),ri(l,y)}if(ri(s,l),n.hasChildNodes())for(var M=n.childNodes,A=0,k=M.length;A<k;A++){var W=M[A],H=W.nodeName.toLowerCase();"source"===H?s.sources.push(La(W)):"track"===H&&s.tracks.push(La(W))}return s},e.flexNotSupported_=function(){var n=at().createElement("i");return!("flexBasis"in n.style||"webkitFlexBasis"in n.style||"mozFlexBasis"in n.style||"msFlexBasis"in n.style||"msFlexOrder"in n.style)},e.debug=function(n){if(void 0===n)return this.debugEnabled_;n?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},e.playbackRates=function(n){if(void 0===n)return this.cache_.playbackRates;!Array.isArray(n)||!n.every(function(s){return"number"==typeof s})||(this.cache_.playbackRates=n,this.trigger("playbackrateschange"))},t}(it);gr.names.forEach(function(r){var t=gr[r];Ci.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}}),Ci.prototype.crossorigin=Ci.prototype.crossOrigin,Ci.players={};var Ml=re().navigator;Ci.prototype.options_={techOrder:zn.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ml&&(Ml.languages&&Ml.languages[0]||Ml.userLanguage||Ml.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(r){Ci.prototype[r]=function(){return this.techGet_(r)}}),_m.forEach(function(r){Ci.prototype["handleTech"+gi(r)+"_"]=function(){return this.trigger(r)}}),it.registerComponent("Player",Ci);var Nl="plugin",Do="activePlugins_",Il={},Dd=function(t){return Il.hasOwnProperty(t)},Ed=function(t){return Dd(t)?Il[t]:void 0},ym=function(t,e){t[Do]=t[Do]||{},t[Do][e]=!0},wd=function(t,e,i){var n=(i?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},bm=function(t,e){return e.prototype.name=t,function(){wd(this,{name:t,plugin:e,instance:null},!0);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];var l=Hf(e,[this].concat(n));return this[t]=function(){return l},wd(this,l.getEventHash()),l}},ca=function(){function r(e){if(this.constructor===r)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Lg(this),delete this.trigger,Bg(this,this.constructor.defaultState),ym(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}var t=r.prototype;return t.version=function(){return this.constructor.VERSION},t.getEventHash=function(i){return void 0===i&&(i={}),i.name=this.name,i.plugin=this.constructor,i.instance=this,i},t.trigger=function(i,n){return void 0===n&&(n={}),Gu(this.eventBusEl_,i,this.getEventHash(n))},t.handleStateChanged=function(i){},t.dispose=function(){var i=this.name,n=this.player;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Do][i]=!1,this.player=this.state=null,n[i]=bm(i,Il[i])},r.isBasic=function(i){var n="string"==typeof i?Ed(i):i;return"function"==typeof n&&!r.prototype.isPrototypeOf(n.prototype)},r.registerPlugin=function(i,n){if("string"!=typeof i)throw new Error('Illegal plugin name, "'+i+'", must be a string, was '+typeof i+".");if(Dd(i))qt.warn('A plugin named "'+i+'" already exists. You may want to avoid re-registering plugins!');else if(Ci.prototype.hasOwnProperty(i))throw new Error('Illegal plugin name, "'+i+'", cannot share a name with an existing player method!');if("function"!=typeof n)throw new Error('Illegal plugin for "'+i+'", must be a function, was '+typeof n+".");return Il[i]=n,i!==Nl&&(Ci.prototype[i]=r.isBasic(n)?function(t,e){var i=function(){wd(this,{name:t,plugin:e,instance:null},!0);var s=e.apply(this,arguments);return ym(this,t),wd(this,{name:t,plugin:e,instance:s}),s};return Object.keys(e).forEach(function(n){i[n]=e[n]}),i}(i,n):bm(i,n)),n},r.deregisterPlugin=function(i){if(i===Nl)throw new Error("Cannot de-register base plugin.");Dd(i)&&(delete Il[i],delete Ci.prototype[i])},r.getPlugins=function(i){var n;return void 0===i&&(i=Object.keys(Il)),i.forEach(function(s){var l=Ed(s);l&&((n=n||{})[s]=l)}),n},r.getPluginVersion=function(i){var n=Ed(i);return n&&n.VERSION||""},r}();ca.getPlugin=Ed,ca.BASE_PLUGIN_NAME=Nl,ca.registerPlugin(Nl,ca),Ci.prototype.usingPlugin=function(r){return!!this[Do]&&!0===this[Do][r]},Ci.prototype.hasPlugin=function(r){return!!Dd(r)};var My=function(t){return 0===t.indexOf("#")?t.slice(1):t};function Se(r,t,e){var i=Se.getPlayer(r);if(i)return t&&qt.warn('Player "'+r+'" is already initialised. Options will not be applied.'),e&&i.ready(e),i;var n="string"==typeof r?dl("#"+My(r)):r;if(!Lu(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!n.ownerDocument.defaultView||!n.ownerDocument.body.contains(n))&&qt.warn("The element supplied is not included in the DOM"),t=t||{},ia("beforesetup").forEach(function(l){var d=l(n,ei(t));Os(d)&&!Array.isArray(d)?t=ei(t,d):qt.error("please return an object in beforesetup hooks")});var s=it.getComponent("Player");return i=new s(n,t,e),ia("setup").forEach(function(l){return l(i)}),i}if(Se.hooks_=na,Se.hooks=ia,Se.hook=function(t,e){ia(t,e)},Se.hookOnce=function(t,e){ia(t,[].concat(e).map(function(i){return function s(){return Oa(t,s),i.apply(void 0,arguments)}}))},Se.removeHook=Oa,!0!==re().VIDEOJS_NO_DYNAMIC_STYLE&&ol()){var Hh=dl(".vjs-styles-defaults");if(!Hh){Hh=cd("vjs-styles-defaults");var Tm=dl("head");Tm&&Tm.insertBefore(Hh,Tm.firstChild),G_(Hh,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}dh(1,Se),Se.VERSION="7.18.1",Se.options=Ci.prototype.options_,Se.getPlayers=function(){return Ci.players},Se.getPlayer=function(r){var e,t=Ci.players;if("string"==typeof r){var i=My(r),n=t[i];if(n)return n;e=dl("#"+i)}else e=r;if(Lu(e)){var l=e.player,d=e.playerId;if(l||t[d])return l||t[d]}},Se.getAllPlayers=function(){return Object.keys(Ci.players).map(function(r){return Ci.players[r]}).filter(Boolean)},Se.players=Ci.players,Se.getComponent=it.getComponent,Se.registerComponent=function(r,t){zn.isTech(t)&&qt.warn("The "+r+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),it.registerComponent.call(it,r,t)},Se.getTech=zn.getTech,Se.registerTech=zn.registerTech,Se.use=function IS(r,t){Co[r]=Co[r]||[],Co[r].push(t)},Object.defineProperty(Se,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(Se.middleware,"TERMINATOR",{value:md,writeable:!1,enumerable:!0}),Se.browser=vS,Se.TOUCH_ENABLED=ad,Se.extend=function(t,e){void 0===e&&(e={});var i=function(){t.apply(this,arguments)},n={};for(var s in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(i=e.constructor),n=e):"function"==typeof e&&(i=e),function M1(r,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&Lf(r,t)}(i,t),t&&(i.super_=t),n)n.hasOwnProperty(s)&&(i.prototype[s]=n[s]);return i},Se.mergeOptions=ei,Se.bind=qn,Se.registerPlugin=ca.registerPlugin,Se.deregisterPlugin=ca.deregisterPlugin,Se.plugin=function(r,t){return qt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ca.registerPlugin(r,t)},Se.getPlugins=ca.getPlugins,Se.getPlugin=ca.getPlugin,Se.getPluginVersion=ca.getPluginVersion,Se.addLanguage=function(r,t){var e;return r=(""+r).toLowerCase(),(Se.options.languages=ei(Se.options.languages,((e={})[r]=t,e)))[r]},Se.log=qt,Se.createLogger=Ru,Se.createTimeRange=Se.createTimeRanges=$u,Se.formatTime=El,Se.setFormatTime=function HS(r){qg=r},Se.resetFormatTime=function US(){qg=ly},Se.parseUrl=qi,Se.isCrossOrigin=Er,Se.EventTarget=Ki,Se.on=qr,Se.one=fh,Se.off=Yi,Se.trigger=Gu,Se.xhr=Bf(),Se.TextTrack=oa,Se.AudioTrack=_l,Se.VideoTrack=yl,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(r){Se[r]=function(){return qt.warn("videojs."+r+"() is deprecated; use videojs.dom."+r+"() instead"),Ng[r].apply(null,arguments)}}),Se.computedStyle=To,Se.dom=Ng,Se.url=zg,Se.defineLazyProperty=vm,Se.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});
/*! @name @videojs/http-streaming @version 2.13.1 @license Apache-2.0 */
var Bs=Vf,Uh=function(t,e,i){return t&&i&&i.responseURL&&e!==i.responseURL?i.responseURL:e},Hs=function(t){return Se.log.debug?Se.log.debug.bind(Se,"VHS:",t+" >"):function(){}},Eo=1/30,da=.1,Ny=function(t,e){var n,i=[];if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return Se.createTimeRanges(i)},sc=function(t,e){return Ny(t,function(i,n){return i-da<=e&&n+da>=e})},Vh=function(t,e){return Ny(t,function(i){return i-Eo>=e})},Iy=function(t){var e=[];if(!t||!t.length)return"";for(var i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},wo=function(t){for(var e=[],i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e},Sm=function(t){if(t&&t.length&&t.end)return t.end(t.length-1)},Gh=function(t,e){var i=0;if(!t||!t.length)return i;for(var n=0;n<t.length;n++){var s=t.start(n),l=t.end(n);if(!(e>l)){if(e>s&&e<=l){i+=l-e;continue}i+=l-s}}return i},Cm=Se.createTimeRange,jh=function(t,e){if(!e.preload)return e.duration;var i=0;return(e.parts||[]).forEach(function(n){i+=n.duration}),(e.preloadHints||[]).forEach(function(n){"PART"===n.type&&(i+=t.partTargetDuration)}),i},Wh=function(t){return(t.segments||[]).reduce(function(e,i,n){return i.parts?i.parts.forEach(function(s,l){e.push({duration:s.duration,segmentIndex:n,partIndex:l,part:s,segment:i})}):e.push({duration:i.duration,segmentIndex:n,partIndex:null,segment:i,part:null}),e},[])},Dm=function(t){var e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},Em=function(t){var e=t.preloadSegment;if(e){var i=e.parts;return(e.preloadHints||[]).reduce(function(l,d){return l+("PART"===d.type?1:0)},0)+(i&&i.length?i.length:0)}},$h=function(t,e){if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;var i=Dm(e).length>0;return i&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:i&&e.partTargetDuration?3*e.partTargetDuration:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?3*e.targetDuration:0},Ry=function(t,e,i){if(void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;var n=function(t,e){var i=0,n=e-t.mediaSequence,s=t.segments[n];if(s){if(void 0!==s.start)return{result:s.start,precise:!0};if(void 0!==s.end)return{result:s.end-s.duration,precise:!0}}for(;n--;){if(void 0!==(s=t.segments[n]).end)return{result:i+s.end,precise:!0};if(i+=jh(t,s),void 0!==s.start)return{result:i+s.start,precise:!0}}return{result:i,precise:!1}}(t,e);if(n.precise)return n.result;var s=function(t,e){for(var n,i=0,s=e-t.mediaSequence;s<t.segments.length;s++){if(void 0!==(n=t.segments[s]).start)return{result:n.start-i,precise:!0};if(i+=jh(t,n),void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(t,e);return s.precise?s.result:n.result+i},ky=function(t,e,i){if(!t)return 0;if("number"!=typeof i&&(i=0),void 0===e){if(t.totalDuration)return t.totalDuration;if(!t.endList)return re()[1/0]}return Ry(t,e,i)},fa=function(t){var e=t.defaultDuration,i=t.durationList,n=t.startIndex,s=t.endIndex,l=0;if(n>s){var d=[s,n];n=d[0],s=d[1]}if(n<0){for(var p=n;p<Math.min(0,s);p++)l+=e;n=0}for(var m=n;m<s;m++)l+=i[m].duration;return l},QS=function(t,e,i,n){if(!t||!t.segments)return null;if(t.endList)return ky(t);if(null===e)return null;var s=Ry(t,t.mediaSequence+t.segments.length,e=e||0);return i&&(s-=n="number"==typeof n?n:$h(null,t)),Math.max(0,s)},xm=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},zh=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Am=function(t){var e=xm(t);return!t.disabled&&!e},Fy=function(t,e){return e.attributes&&e.attributes[t]},ac=function(t,e){if(1===t.playlists.length)return!0;var i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(n){return!!Am(n)&&(n.attributes.BANDWIDTH||0)<i}).length},Mm=function(t,e){return!(!t&&!e||!t&&e||t&&!e||!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri))},xd=function(t,e){var i=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{},n=!1;for(var s in i){for(var l in i[s])if(n=e(i[s][l]))break;if(n)break}return!!n},xo=function(t){if(!t||!t.playlists||!t.playlists.length)return xd(t,function(l){return l.playlists&&l.playlists.length||l.uri});for(var i=function(d){var p=t.playlists[d],m=p.attributes&&p.attributes.CODECS;return m&&m.split(",").every(function(M){return H0(M)})||xd(t,function(M){return Mm(p,M)})?"continue":{v:!1}},n=0;n<t.playlists.length;n++){var s=i(n);if("continue"!==s&&"object"==typeof s)return s.v}return!0},dn={liveEdgeDelay:$h,duration:ky,seekable:function(t,e,i){var s=e||0,l=QS(t,e,!0,i);return null===l?Cm():Cm(s,l)},getMediaInfoForTime:function(t){for(var e=t.playlist,i=t.currentTime,n=t.startingSegmentIndex,s=t.startingPartIndex,l=t.startTime,d=t.experimentalExactManifestTimings,p=i-l,m=Wh(e),y=0,M=0;M<m.length;M++){var A=m[M];if(n===A.segmentIndex&&("number"!=typeof s||"number"!=typeof A.partIndex||s===A.partIndex)){y=M;break}}if(p<0){if(y>0)for(var k=y-1;k>=0;k--){var W=m[k];if(p+=W.duration,d){if(p<0)continue}else if(p+Eo<=0)continue;return{partIndex:W.partIndex,segmentIndex:W.segmentIndex,startTime:l-fa({defaultDuration:e.targetDuration,durationList:m,startIndex:y,endIndex:k})}}return{partIndex:m[0]&&m[0].partIndex||null,segmentIndex:m[0]&&m[0].segmentIndex||0,startTime:i}}if(y<0){for(var H=y;H<0;H++)if((p-=e.targetDuration)<0)return{partIndex:m[0]&&m[0].partIndex||null,segmentIndex:m[0]&&m[0].segmentIndex||0,startTime:i};y=0}for(var j=y;j<m.length;j++){var le=m[j];if(p-=le.duration,d){if(p>0)continue}else if(p-Eo>=0)continue;return{partIndex:le.partIndex,segmentIndex:le.segmentIndex,startTime:l+fa({defaultDuration:e.targetDuration,durationList:m,startIndex:y,endIndex:j})}}return{segmentIndex:m[m.length-1].segmentIndex,partIndex:m[m.length-1].partIndex,startTime:i}},isEnabled:Am,isDisabled:function(t){return t.disabled},isBlacklisted:xm,isIncompatible:zh,playlistEnd:QS,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},hasAttribute:Fy,estimateSegmentRequestTime:function(t,e,i,n){return void 0===n&&(n=0),Fy("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-8*n)/e:NaN},isLowestEnabledRendition:ac,isAudioOnly:xo,playlistMatch:Mm,segmentDurationWithParts:jh},eC=Se.log,Yh=function(t,e){return t+"-"+e},Ad=function(t,e){!t.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(i){if(t.mediaGroups[i])for(var n in t.mediaGroups[i])for(var s in t.mediaGroups[i][n])e(t.mediaGroups[i][n][s],i,n,s)})},Nm=function(t){var e=t.playlist,i=t.uri;e.id=t.id,e.playlistErrors_=0,i&&(e.uri=i),e.attributes=e.attributes||{}},Uy=function(t,e){t.uri=e;for(var i=0;i<t.playlists.length;i++)t.playlists[i].uri||(t.playlists[i].uri="placeholder-uri-"+i);var s=xo(t);Ad(t,function(l,d,p,m){var y="placeholder-uri-"+d+"-"+p+"-"+m;if(!l.playlists||!l.playlists.length){if(s&&"AUDIO"===d&&!l.uri)for(var M=0;M<t.playlists.length;M++){var A=t.playlists[M];if(A.attributes&&A.attributes.AUDIO&&A.attributes.AUDIO===p)return}l.playlists=[Cr({},l)]}l.playlists.forEach(function(k,W){var H=Yh(W,y);k.uri?k.resolvedUri=k.resolvedUri||Bs(t.uri,k.uri):(k.uri=0===W?y:H,k.resolvedUri=k.uri),k.id=k.id||H,k.attributes=k.attributes||{},t.playlists[k.id]=k,t.playlists[k.uri]=k})}),function(t){for(var e=t.playlists.length;e--;){var i=t.playlists[e];Nm({playlist:i,id:Yh(e,i.uri)}),i.resolvedUri=Bs(t.uri,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes.BANDWIDTH||eC.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}(t),function(t){Ad(t,function(e){e.uri&&(e.resolvedUri=Bs(t.uri,e.uri))})}(t)},Kh=Se.mergeOptions,iC=function(t,e){if(!t)return e;var i=Kh(t,e);if(t.preloadHints&&!e.preloadHints&&delete i.preloadHints,t.parts&&!e.parts)delete i.parts;else if(t.parts&&e.parts)for(var n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(i.parts[n]=Kh(t.parts[n],e.parts[n]));return!t.skipped&&e.skipped&&(i.skipped=!1),t.preload&&!e.preload&&(i.preload=!1),i},Vy=function(t,e){!t.resolvedUri&&t.uri&&(t.resolvedUri=Bs(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Bs(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Bs(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Bs(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(function(i){i.resolvedUri||(i.resolvedUri=Bs(e,i.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(function(i){i.resolvedUri||(i.resolvedUri=Bs(e,i.uri))})},Nd=function(t){var e=t.segments||[],i=t.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints)for(var n=0;n<i.preloadHints.length;n++)if("MAP"===i.preloadHints[n].type)return e;i.duration=t.targetDuration,i.preload=!0,e.push(i)}return e},Im=function(t,e){return t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment},qh=function(t,e,i){void 0===i&&(i=Im);var n=Kh(t,{}),s=n.playlists[e.id];if(!s||i(s,e))return null;e.segments=Nd(e);var l=Kh(s,e);if(l.preloadSegment&&!e.preloadSegment&&delete l.preloadSegment,s.segments){if(e.skip){e.segments=e.segments||[];for(var d=0;d<e.skip.skippedSegments;d++)e.segments.unshift({skipped:!0})}l.segments=function(t,e,i){var n=t.slice(),s=e.slice();i=i||0;for(var d,l=[],p=0;p<s.length;p++){var m=n[p+i],y=s[p];m?(d=m.map||d,l.push(iC(m,y))):(d&&!y.map&&(y.map=d),l.push(y))}return l}(s.segments,e.segments,e.mediaSequence-s.mediaSequence)}l.segments.forEach(function(m){Vy(m,l.resolvedUri)});for(var p=0;p<n.playlists.length;p++)n.playlists[p].id===e.id&&(n.playlists[p]=l);return n.playlists[e.id]=l,n.playlists[e.uri]=l,Ad(t,function(m,y,M,A){if(m.playlists)for(var k=0;k<m.playlists.length;k++)e.id===m.playlists[k].id&&(m.playlists[k]=e)}),n},Xh=function(t,e){var i=t.segments||[],n=i[i.length-1],s=n&&n.parts&&n.parts[n.parts.length-1],l=s&&s.duration||n&&n.duration;return e&&l?1e3*l:500*(t.partTargetDuration||t.targetDuration||10)},oc=function(r){function t(i,n,s){var l;if(void 0===s&&(s={}),l=r.call(this)||this,!i)throw new Error("A non-empty playlist URL or object is required");l.logger_=Hs("PlaylistLoader");var p=s.withCredentials,m=void 0!==p&&p,y=s.handleManifestRedirects,M=void 0!==y&&y;l.src=i,l.vhs_=n,l.withCredentials=m,l.handleManifestRedirects=M;var A=n.options_;return l.customTagParsers=A&&A.customTagParsers||[],l.customTagMappers=A&&A.customTagMappers||[],l.experimentalLLHLS=A&&A.experimentalLLHLS||!1,Se.browser.IE_VERSION&&(l.experimentalLLHLS=!1),l.state="HAVE_NOTHING",l.handleMediaupdatetimeout_=l.handleMediaupdatetimeout_.bind(jt(l)),l.on("mediaupdatetimeout",l.handleMediaupdatetimeout_),l}bt(t,r);var e=t.prototype;return e.handleMediaupdatetimeout_=function(){var n=this;if("HAVE_METADATA"===this.state){var s=this.media(),l=Bs(this.master.uri,s.uri);this.experimentalLLHLS&&(l=function(t,e){if(e.endList||!e.serverControl)return t;var i={};if(e.serverControl.canBlockReload){var n=e.preloadSegment,s=e.mediaSequence+e.segments.length;if(n){var l=n.parts||[],d=Em(e)-1;d>-1&&d!==l.length-1&&(i._HLS_part=d),(d>-1||l.length)&&s--}i._HLS_msn=s}if(e.serverControl&&e.serverControl.canSkipUntil&&(i._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){var p=new(re().URL)(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(m){!i.hasOwnProperty(m)||p.searchParams.set(m,i[m])}),t=p.toString()}return t}(l,s)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:l,withCredentials:this.withCredentials},function(d,p){if(n.request){if(d)return n.playlistRequestError(n.request,n.media(),"HAVE_METADATA");n.haveMetadata({playlistString:n.request.responseText,url:n.media().uri,id:n.media().id})}})}},e.playlistRequestError=function(n,s,l){var d=s.uri,p=s.id;this.request=null,l&&(this.state=l),this.error={playlist:this.master.playlists[p],status:n.status,message:"HLS playlist request error at URL: "+d+".",responseText:n.responseText,code:n.status>=500?4:2},this.trigger("error")},e.parseManifest_=function(n){var s=this,l=n.url;return function(t){var e=t.onwarn,i=t.oninfo,n=t.manifestString,s=t.customTagParsers,l=void 0===s?[]:s,d=t.customTagMappers,p=void 0===d?[]:d,m=t.experimentalLLHLS,y=new wE;e&&y.on("warn",e),i&&y.on("info",i),l.forEach(function(H){return y.addParser(H)}),p.forEach(function(H){return y.addTagMapper(H)}),y.push(n),y.end();var M=y.manifest;if(m||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(H){M.hasOwnProperty(H)&&delete M[H]}),M.segments&&M.segments.forEach(function(H){["parts","preloadHints"].forEach(function(j){H.hasOwnProperty(j)&&delete H[j]})})),!M.targetDuration){var A=10;M.segments&&M.segments.length&&(A=M.segments.reduce(function(H,j){return Math.max(H,j.duration)},0)),e&&e("manifest has no targetDuration defaulting to "+A),M.targetDuration=A}var k=Dm(M);if(k.length&&!M.partTargetDuration){var W=k.reduce(function(H,j){return Math.max(H,j.duration)},0);e&&(e("manifest has no partTargetDuration defaulting to "+W),eC.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),M.partTargetDuration=W}return M}({onwarn:function(m){return s.logger_("m3u8-parser warn for "+l+": "+m.message)},oninfo:function(m){return s.logger_("m3u8-parser info for "+l+": "+m.message)},manifestString:n.manifestString,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},e.haveMetadata=function(n){var s=n.playlistString,l=n.playlistObject,d=n.url,p=n.id;this.request=null,this.state="HAVE_METADATA";var m=l||this.parseManifest_({url:d,manifestString:s});m.lastRequest=Date.now(),Nm({playlist:m,uri:d,id:p});var y=qh(this.master,m);this.targetDuration=m.partTargetDuration||m.targetDuration,this.pendingMedia_=null,y?(this.master=y,this.media_=this.master.playlists[p]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Xh(this.media(),!!y)),this.trigger("loadedplaylist")},e.dispose=function(){this.trigger("dispose"),this.stopRequest(),re().clearTimeout(this.mediaUpdateTimeout),re().clearTimeout(this.finalRenditionTimeout),this.off()},e.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},e.media=function(n,s){var l=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof n){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}if(re().clearTimeout(this.finalRenditionTimeout),s){var d=(n.partTargetDuration||n.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=re().setTimeout(this.media.bind(this,n,!1),d)}else{var p=this.state,m=!this.media_||n.id!==this.media_.id,y=this.master.playlists[n.id];if(y&&y.endList||n.endList&&n.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,void(m&&(this.trigger("mediachanging"),this.trigger("HAVE_MASTER"===p?"loadedmetadata":"mediachange")));if(this.updateMediaUpdateTimeout_(Xh(n,!0)),m){if(this.state="SWITCHING_MEDIA",this.request){if(n.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=n,this.request=this.vhs_.xhr({uri:n.resolvedUri,withCredentials:this.withCredentials},function(M,A){if(l.request){if(n.lastRequest=Date.now(),n.resolvedUri=Uh(l.handleManifestRedirects,n.resolvedUri,A),M)return l.playlistRequestError(l.request,n,p);l.haveMetadata({playlistString:A.responseText,url:n.uri,id:n.id}),l.trigger("HAVE_MASTER"===p?"loadedmetadata":"mediachange")}})}}},e.pause=function(){this.mediaUpdateTimeout&&(re().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.state=this.media_?"HAVE_METADATA":"HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")},e.load=function(n){var s=this;this.mediaUpdateTimeout&&(re().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var l=this.media();if(n){var d=l?(l.partTargetDuration||l.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=re().setTimeout(function(){s.mediaUpdateTimeout=null,s.load()},d)}else this.started?this.trigger(l&&!l.endList?"mediaupdatetimeout":"loadedplaylist"):this.start()},e.updateMediaUpdateTimeout_=function(n){var s=this;this.mediaUpdateTimeout&&(re().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=re().setTimeout(function(){s.mediaUpdateTimeout=null,s.trigger("mediaupdatetimeout"),s.updateMediaUpdateTimeout_(n)},n))},e.start=function(){var n=this;if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=re().location.href),this.src.resolvedUri=this.src.uri,void setTimeout(function(){n.setupInitialPlaylist(n.src)},0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(s,l){if(n.request){if(n.request=null,s)return n.error={status:l.status,message:"HLS playlist request error at URL: "+n.src+".",responseText:l.responseText,code:2},"HAVE_NOTHING"===n.state&&(n.started=!1),n.trigger("error");n.src=Uh(n.handleManifestRedirects,n.src,l);var d=n.parseManifest_({manifestString:l.responseText,url:n.src});n.setupInitialPlaylist(d)}})},e.srcUri=function(){return"string"==typeof this.src?this.src:this.src.uri},e.setupInitialPlaylist=function(n){if(this.state="HAVE_MASTER",n.playlists)return this.master=n,Uy(this.master,this.srcUri()),n.playlists.forEach(function(l){l.segments=Nd(l),l.segments.forEach(function(d){Vy(d,l.resolvedUri)})}),this.trigger("loadedplaylist"),void(this.request||this.media(this.master.playlists[0]));var s=this.srcUri()||re().location.href;this.master=function(t,e){var i=Yh(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:re().location.href,resolvedUri:re().location.href,playlists:[{uri:e,id:i,resolvedUri:e,attributes:{}}]};return n.playlists[i]=n.playlists[0],n.playlists[e]=n.playlists[0],n}(0,s),this.haveMetadata({playlistObject:n,url:s,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},t}(Se.EventTarget),Id=Se.xhr,Od=Se.mergeOptions,Om=function(t,e,i,n){var s="arraybuffer"===t.responseType?t.response:t.responseText;!e&&s&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=s.byteLength||s.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),e&&"ETIMEDOUT"===e.code&&(t.timedout=!0),!e&&!t.aborted&&200!==i.statusCode&&206!==i.statusCode&&0!==i.statusCode&&(e=new Error("XHR Failed with a response of: "+(t&&(s||t.responseText)))),n(e,t)},Gy=function(){var t=function e(i,n){i=Od({timeout:45e3},i);var s=e.beforeRequest||Se.Vhs.xhr.beforeRequest;if(s&&"function"==typeof s){var l=s(i);l&&(i=l)}var p=(!0===Se.Vhs.xhr.original?Id:Se.Vhs.xhr)(i,function(y,M){return Om(p,y,M,n)}),m=p.abort;return p.abort=function(){return p.aborted=!0,m.apply(p,arguments)},p.uri=i.uri,p.requestTime=Date.now(),p};return t.original=!0,t},Qh=function(t){var e={};return t.byterange&&(e.Range=function(t){return"bytes="+t.offset+"-"+("bigint"==typeof t.offset||"bigint"==typeof t.length?re().BigInt(t.offset)+re().BigInt(t.length)-re().BigInt(1):t.offset+t.length-1)}(t.byterange)),e},jy=function(t,e){return t.start(e)+"-"+t.end(e)},Wy=function(t,e){var i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},aC=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},Pm=function(t){var e={};return Object.keys(t).forEach(function(i){var n=t[i];e[i]=ArrayBuffer.isView(n)?{bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:n}),e},Zh=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},$y=function(t){return t.resolvedUri},oC=function(t){for(var e=Array.prototype.slice.call(t),i=16,n="",d=0;d<e.length/i;d++)n+=e.slice(d*i,d*i+i).map(Wy).join("")+" "+e.slice(d*i,d*i+i).map(aC).join("")+"\n";return n},QE=Object.freeze({__proto__:null,createTransferableMessage:Pm,initSegmentId:Zh,segmentKeyId:$y,hexDump:oC,tagDump:function(t){return oC(t.bytes)},textRanges:function(t){var i,e="";for(i=0;i<t.length;i++)e+=jy(t,i)+" ";return e}}),fC=function r(t){var e=t.programTime,i=t.playlist,n=t.retryCount,s=void 0===n?2:n,l=t.seekTo,d=t.pauseAfterSeek,p=void 0===d||d,m=t.tech,y=t.callback;if(!y)throw new Error("seekToProgramTime: callback must be provided");if(void 0===e||!i||!l)return y({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!i.endList&&!m.hasStarted_)return y({message:"player must be playing a live stream to start buffering"});if(!function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0}(i))return y({message:"programDateTime tags must be provided in the manifest "+i.resolvedUri});var M=function(t,e){var i;try{i=new Date(t)}catch(M){return null}if(!e||!e.segments||0===e.segments.length)return null;var n=e.segments[0];if(i<n.dateTimeObject)return null;for(var s=0;s<e.segments.length-1&&(n=e.segments[s],!(i<e.segments[s+1].dateTimeObject));s++);var d=e.segments[e.segments.length-1],p=d.dateTimeObject,m=d.videoTimingInfo?function(t){return t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds}(d.videoTimingInfo):d.duration+.25*d.duration;return i>new Date(p.getTime()+1e3*m)?null:(i>p&&(n=d),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:dn.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})}(e,i);if(!M)return y({message:e+" was not found in the stream"});var A=M.segment,k=function(t,e){var i,n;try{i=new Date(t),n=new Date(e)}catch(d){}var s=i.getTime();return(n.getTime()-s)/1e3}(A.dateTimeObject,e);if("estimate"===M.type)return 0===s?y({message:e+" is not buffered yet. Try again"}):(l(M.estimatedStart+k),void m.one("seeked",function(){r({programTime:e,playlist:i,retryCount:s-1,seekTo:l,pauseAfterSeek:p,tech:m,callback:y})}));var W=A.start+k;m.one("seeked",function(){return y(null,m.currentTime())}),p&&m.pause(),l(W)},km=function(t,e){if(4===t.readyState)return e()},Ky=Se.mergeOptions,qy=function(t,e){if(!Im(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(var i=0;i<t.segments.length;i++){var n=t.segments[i],s=e.segments[i];if(n.uri!==s.uri)return!1;if(n.byterange||s.byterange){var l=n.byterange,d=s.byterange;if(l&&!d||!l&&d||l.offset!==d.offset||l.length!==d.length)return!1}}return!0},Xy=function(t,e){return(Boolean(!t.map&&!e.map)||Boolean(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length},Qy=function(t,e){var i={};for(var n in t){var l=t[n].sidx;if(l){var d=zf(l);if(!e[d])break;Xy(e[d].sidxInfo,l)&&(i[d]=e[d])}}return i},Fm=function(r){function t(i,n,s,l){var d;void 0===s&&(s={}),(d=r.call(this)||this).masterPlaylistLoader_=l||jt(d),l||(d.isMaster_=!0);var m=s.withCredentials,y=void 0!==m&&m,M=s.handleManifestRedirects,A=void 0!==M&&M;if(d.vhs_=n,d.withCredentials=y,d.handleManifestRedirects=A,!i)throw new Error("A non-empty playlist URL or object is required");return d.on("minimumUpdatePeriod",function(){d.refreshXml_()}),d.on("mediaupdatetimeout",function(){d.refreshMedia_(d.media().id)}),d.state="HAVE_NOTHING",d.loadedPlaylists_={},d.logger_=Hs("DashPlaylistLoader"),d.isMaster_?(d.masterPlaylistLoader_.srcUrl=i,d.masterPlaylistLoader_.sidxMapping_={}):d.childPlaylist_=i,d}bt(t,r);var e=t.prototype;return e.requestErrored_=function(n,s,l){return!this.request||(this.request=null,n?(this.error="object"!=typeof n||n instanceof Error?{status:s.status,message:"DASH request error at URL: "+s.uri,response:s.response,code:2}:n,l&&(this.state=l),this.trigger("error"),!0):void 0)},e.addSidxSegments_=function(n,s,l){var d=this,p=n.sidx&&zf(n.sidx);if(n.sidx&&p&&!this.masterPlaylistLoader_.sidxMapping_[p]){var m=Uh(this.handleManifestRedirects,n.sidx.resolvedUri),y=function(A,k){if(!d.requestErrored_(A,k,s)){var H,W=d.masterPlaylistLoader_.sidxMapping_;try{H=iS()(kt(k.response).subarray(8))}catch(j){return void d.requestErrored_(j,k,s)}return W[p]={sidxInfo:n.sidx,sidx:H},mo(n,H,n.sidx.resolvedUri),l(!0)}};this.request=function(t,e,i){var s,n=[],l=!1,d=function(A,k,W,H){return k.abort(),l=!0,i(A,k,W,H)},p=function(A,k){if(!l){if(A)return d(A,k,"",n);var W=k.responseText.substring(n&&n.byteLength||0,k.responseText.length);if(n=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if((e=e.filter(function(d){return d&&(d.byteLength||d.length)&&"string"!=typeof d})).length<=1)return kt(e[0]);var n=e.reduce(function(d,p,m){return d+(p.byteLength||p.length)},0),s=new Uint8Array(n),l=0;return e.forEach(function(d){d=kt(d),s.set(d,l),l+=d.byteLength}),s}(n,p_(W,!0)),s=s||vo(n),n.length<10||s&&n.length<s+2)return km(k,function(){return d(A,k,"",n)});var H=rd(n);return"ts"===H&&n.length<188||!H&&n.length<376?km(k,function(){return d(A,k,"",n)}):d(null,k,H,n)}},y=e({uri:t,beforeSend:function(A){A.overrideMimeType("text/plain; charset=x-user-defined"),A.addEventListener("progress",function(k){return Om(A,null,{statusCode:A.status},p)})}},function(M,A){return Om(y,M,A,p)});return y}(m,this.vhs_.xhr,function(M,A,k,W){if(M)return y(M,A);if(!k||"mp4"!==k)return y({status:A.status,message:"Unsupported "+(k||"unknown")+" container type for sidx segment at URL: "+m,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},A);var H=n.sidx.byterange,j=H.offset,le=H.length;if(W.length>=le+j)return y(M,{response:W.subarray(j,j+le),status:A.status,uri:A.uri});d.request=d.vhs_.xhr({uri:m,responseType:"arraybuffer",headers:Qh({byterange:n.sidx.byterange})},y)})}else this.mediaRequest_=re().setTimeout(function(){return l(!1)},0)},e.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},re().clearTimeout(this.minimumUpdatePeriodTimeout_),re().clearTimeout(this.mediaRequest_),re().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},e.hasPendingRequest=function(){return this.request||this.mediaRequest_},e.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},e.media=function(n){var s=this;if(!n)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var l=this.state;if("string"==typeof n){if(!this.masterPlaylistLoader_.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.masterPlaylistLoader_.master.playlists[n]}var d=!this.media_||n.id!==this.media_.id;if(d&&this.loadedPlaylists_[n.id]&&this.loadedPlaylists_[n.id].endList)return this.state="HAVE_METADATA",this.media_=n,void(d&&(this.trigger("mediachanging"),this.trigger("mediachange")));!d||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(n,l,function(p){s.haveMetadata({startingState:l,playlist:n})}))},e.haveMetadata=function(n){var s=n.startingState,l=n.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[l.id]=l,this.mediaRequest_=null,this.refreshMedia_(l.id),this.trigger("HAVE_MASTER"===s?"loadedmetadata":"mediachange")},e.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),re().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(re().clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)},e.load=function(n){var s=this;re().clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var l=this.media();if(n){var d=l?l.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=re().setTimeout(function(){return s.load()},d)}else this.started?l&&!l.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()},e.start=function(){var n=this;this.started=!0,this.isMaster_?this.requestMaster_(function(s,l){n.haveMaster_(),!n.hasPendingRequest()&&!n.media_&&n.media(n.masterPlaylistLoader_.master.playlists[0])}):this.mediaRequest_=re().setTimeout(function(){return n.haveMaster_()},0)},e.requestMaster_=function(n){var s=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(l,d){if(!s.requestErrored_(l,d)){var p=d.responseText!==s.masterPlaylistLoader_.masterXml_;return s.masterPlaylistLoader_.masterXml_=d.responseText,s.masterLoaded_=d.responseHeaders&&d.responseHeaders.date?Date.parse(d.responseHeaders.date):Date.now(),s.masterPlaylistLoader_.srcUrl=Uh(s.handleManifestRedirects,s.masterPlaylistLoader_.srcUrl,d),p?(s.handleMaster_(),void s.syncClientServerClock_(function(){return n(d,p)})):n(d,p)}"HAVE_NOTHING"===s.state&&(s.started=!1)})},e.syncClientServerClock_=function(n){var s=this,l=function(t){return function(t){var e=hi(t,"UTCTiming")[0];if(!e)return null;var i=ki(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;default:throw new Error("UNSUPPORTED_UTC_TIMING_SCHEME")}return i}(dg(t))}(this.masterPlaylistLoader_.masterXml_);return null===l?(this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),n()):"DIRECT"===l.method?(this.masterPlaylistLoader_.clientOffset_=l.value-Date.now(),n()):void(this.request=this.vhs_.xhr({uri:Bs(this.masterPlaylistLoader_.srcUrl,l.value),method:l.method,withCredentials:this.withCredentials},function(d,p){if(s.request){if(d)return s.masterPlaylistLoader_.clientOffset_=s.masterLoaded_-Date.now(),n();var m;m="HEAD"===l.method?p.responseHeaders&&p.responseHeaders.date?Date.parse(p.responseHeaders.date):s.masterLoaded_:Date.parse(p.responseText),s.masterPlaylistLoader_.clientOffset_=m-Date.now(),n()}}))},e.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},e.handleMaster_=function(){this.mediaRequest_=null;var n=this.masterPlaylistLoader_.master,s=function(t){var i=t.srcUrl,d=function(t,e){void 0===e&&(e={});var i=function(t,e){void 0===e&&(e={});var i=e,n=i.manifestUri,s=void 0===n?"":n,l=i.NOW,d=void 0===l?Date.now():l,p=i.clientOffset,m=void 0===p?0:p,y=hi(t,"Period");if(!y.length)throw new Error("INVALID_NUMBER_OF_PERIOD");var M=hi(t,"Location"),A=ki(t),k=nd([s],hi(t,"BaseURL"));A.type=A.type||"static",A.sourceDuration=A.mediaPresentationDuration||0,A.NOW=d,A.clientOffset=m,M.length&&(A.locations=M.map(Na));var W=[];return y.forEach(function(H,j){var le=ki(H),he=W[j-1];le.start=function(t){var e=t.attributes,i=t.priorPeriodAttributes;return"number"==typeof e.start?e.start:i&&"number"==typeof i.start&&"number"==typeof i.duration?i.start+i.duration:i||"static"!==t.mpdType?null:0}({attributes:le,priorPeriodAttributes:he?he.attributes:null,mpdType:A.type}),W.push({node:H,attributes:le})}),{locations:A.locations,representationInfo:$f(W.map(Xf(A,k)))}}(dg(t),e),n=function(t){return t.map(J1)}(i.representationInfo);return K1({dashPlaylists:n,locations:i.locations,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest})}(t.masterXml,{manifestUri:i,clientOffset:t.clientOffset,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest});return Uy(d,i),d}({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:n});n&&(s=function(t,e,i){for(var n=!0,s=Ky(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts}),l=0;l<e.playlists.length;l++){var d=e.playlists[l];if(d.sidx){var p=zf(d.sidx);i&&i[p]&&i[p].sidx&&mo(d,i[p].sidx,d.sidx.resolvedUri)}var m=qh(s,d,qy);m&&(s=m,n=!1)}return Ad(e,function(y,M,A,k){if(y.playlists&&y.playlists.length){var W=y.playlists[0].id,H=qh(s,y.playlists[0],qy);H&&((s=H).mediaGroups[M][A][k].playlists[0]=s.playlists[W],n=!1)}}),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:s}(n,s,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=s||n;var l=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return l&&l!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=l),(!n||s&&s.minimumUpdatePeriod!==n.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(s)},e.updateMinimumUpdatePeriodTimeout_=function(){var n=this.masterPlaylistLoader_;n.createMupOnMedia_&&(n.off("loadedmetadata",n.createMupOnMedia_),n.createMupOnMedia_=null),n.minimumUpdatePeriodTimeout_&&(re().clearTimeout(n.minimumUpdatePeriodTimeout_),n.minimumUpdatePeriodTimeout_=null);var s=n.master&&n.master.minimumUpdatePeriod;0===s&&(n.media()?s=1e3*n.media().targetDuration:(n.createMupOnMedia_=n.updateMinimumUpdatePeriodTimeout_,n.one("loadedmetadata",n.createMupOnMedia_))),"number"!=typeof s||s<=0?s<0&&this.logger_("found invalid minimumUpdatePeriod of "+s+", not setting a timeout"):this.createMUPTimeout_(s)},e.createMUPTimeout_=function(n){var s=this.masterPlaylistLoader_;s.minimumUpdatePeriodTimeout_=re().setTimeout(function(){s.minimumUpdatePeriodTimeout_=null,s.trigger("minimumUpdatePeriod"),s.createMUPTimeout_(n)},n)},e.refreshXml_=function(){var n=this;this.requestMaster_(function(s,l){!l||(n.media_&&(n.media_=n.masterPlaylistLoader_.master.playlists[n.media_.id]),n.masterPlaylistLoader_.sidxMapping_=function(t,e){var n=Qy(t.playlists,e);return Ad(t,function(s,l,d,p){s.playlists&&s.playlists.length&&(n=Ky(n,Qy(s.playlists,e)))}),n}(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.sidxMapping_),n.addSidxSegments_(n.media(),n.state,function(d){n.refreshMedia_(n.media().id)}))})},e.refreshMedia_=function(n){var s=this;if(!n)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var l=this.masterPlaylistLoader_.master.playlists,d=!this.media_||this.media_!==l[n];d?this.media_=l[n]:this.trigger("playlistunchanged"),this.mediaUpdateTimeout||function m(){s.media().endList||(s.mediaUpdateTimeout=re().setTimeout(function(){s.trigger("mediaupdatetimeout"),m()},Xh(s.media(),Boolean(d))))}(),this.trigger("loadedplaylist")},t}(Se.EventTarget),Li={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},ep=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},Lm=function(t){return function(){var e=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch(i){var e=new BlobBuilder;return e.append(t),URL.createObjectURL(e.getBlob())}}(t),i=ep(new Worker(e));i.objURL=e;var n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},i}},Bm=function(t){return"var browserWorkerPolyFill = "+ep.toString()+";\nbrowserWorkerPolyFill(self);\n"+t},Jy=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},vC=Bm(Jy(function(){var r=function(){this.init=function(){var _={};this.on=function(D,C){_[D]||(_[D]=[]),_[D]=_[D].concat(C)},this.off=function(D,C){var w;return!!_[D]&&(w=_[D].indexOf(C),_[D]=_[D].slice(),_[D].splice(w,1),w>-1)},this.trigger=function(D){var C,w,R,L;if(C=_[D])if(2===arguments.length)for(R=C.length,w=0;w<R;++w)C[w].call(this,arguments[1]);else{for(L=[],w=arguments.length,w=1;w<arguments.length;++w)L.push(arguments[w]);for(R=C.length,w=0;w<R;++w)C[w].apply(this,L)}},this.dispose=function(){_={}}}};r.prototype.pipe=function(G){return this.on("data",function(_){G.push(_)}),this.on("done",function(_){G.flush(_)}),this.on("partialdone",function(_){G.partialFlush(_)}),this.on("endedtimeline",function(_){G.endTimeline(_)}),this.on("reset",function(_){G.reset(_)}),G},r.prototype.push=function(G){this.trigger("data",G)},r.prototype.flush=function(G){this.trigger("done",G)},r.prototype.partialFlush=function(G){this.trigger("partialdone",G)},r.prototype.endTimeline=function(G){this.trigger("endedtimeline",G)},r.prototype.reset=function(G){this.trigger("reset",G)};var l,d,p,m,y,M,A,k,W,H,j,le,he,Ne,Ie,Pe,ze,et,Be,dt,lt,Lt,At,tn,Mi,pn,Ui,vi,xr,mr,ms,za,ns,_a,vs,Ya,G,_,t=r,e=Math.pow(2,32),n={getUint64:function(_){var C,D=new DataView(_.buffer,_.byteOffset,_.byteLength);return D.getBigUint64?(C=D.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(C):C:D.getUint32(0)*e+D.getUint32(4)},MAX_UINT32:e},s=n.MAX_UINT32;(function(){var G;if(At={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(G in At)At.hasOwnProperty(G)&&(At[G]=[G.charCodeAt(0),G.charCodeAt(1),G.charCodeAt(2),G.charCodeAt(3)]);tn=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),pn=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),Mi=new Uint8Array([0,0,0,1]),Ui=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),vi=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),xr={video:Ui,audio:vi},za=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ms=new Uint8Array([0,0,0,0,0,0,0,0]),ns=new Uint8Array([0,0,0,0,0,0,0,0]),_a=ns,vs=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ya=ns,mr=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),l=function(_){var w,R,D=[],C=0;for(w=1;w<arguments.length;w++)D.push(arguments[w]);for(w=D.length;w--;)C+=D[w].byteLength;for(R=new Uint8Array(C+8),new DataView(R.buffer,R.byteOffset,R.byteLength).setUint32(0,R.byteLength),R.set(_,4),w=0,C=8;w<D.length;w++)R.set(D[w],C),C+=D[w].byteLength;return R},d=function(){return l(At.dinf,l(At.dref,za))},p=function(_){return l(At.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,_.audioobjecttype<<3|_.samplingfrequencyindex>>>1,_.samplingfrequencyindex<<7|_.channelcount<<3,6,1,2]))},m=function(){return l(At.ftyp,tn,Mi,tn,pn)},Pe=function(_){return l(At.hdlr,xr[_])},y=function(_){return l(At.mdat,_)},Ie=function(_){var D=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,_.duration>>>24&255,_.duration>>>16&255,_.duration>>>8&255,255&_.duration,85,196,0,0]);return _.samplerate&&(D[12]=_.samplerate>>>24&255,D[13]=_.samplerate>>>16&255,D[14]=_.samplerate>>>8&255,D[15]=255&_.samplerate),l(At.mdhd,D)},Ne=function(_){return l(At.mdia,Ie(_),Pe(_.type),A(_))},M=function(_){return l(At.mfhd,new Uint8Array([0,0,0,0,(4278190080&_)>>24,(16711680&_)>>16,(65280&_)>>8,255&_]))},A=function(_){return l(At.minf,"video"===_.type?l(At.vmhd,mr):l(At.smhd,ms),d(),et(_))},k=function(_,D){for(var C=[],w=D.length;w--;)C[w]=dt(D[w]);return l.apply(null,[At.moof,M(_)].concat(C))},W=function(_){for(var D=_.length,C=[];D--;)C[D]=le(_[D]);return l.apply(null,[At.moov,j(4294967295)].concat(C).concat(H(_)))},H=function(_){for(var D=_.length,C=[];D--;)C[D]=lt(_[D]);return l.apply(null,[At.mvex].concat(C))},j=function(_){var D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&_)>>24,(16711680&_)>>16,(65280&_)>>8,255&_,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return l(At.mvhd,D)},ze=function(_){var w,R,D=_.samples||[],C=new Uint8Array(4+D.length);for(R=0;R<D.length;R++)C[R+4]=(w=D[R].flags).dependsOn<<4|w.isDependedOn<<2|w.hasRedundancy;return l(At.sdtp,C)},et=function(_){return l(At.stbl,Be(_),l(At.stts,Ya),l(At.stsc,_a),l(At.stsz,vs),l(At.stco,ns))},Be=function(C){return l(At.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===C.type?G(C):_(C))},G=function(C){var ne,ge,w=C.sps||[],R=C.pps||[],L=[],Z=[];for(ne=0;ne<w.length;ne++)L.push((65280&w[ne].byteLength)>>>8),L.push(255&w[ne].byteLength),L=L.concat(Array.prototype.slice.call(w[ne]));for(ne=0;ne<R.length;ne++)Z.push((65280&R[ne].byteLength)>>>8),Z.push(255&R[ne].byteLength),Z=Z.concat(Array.prototype.slice.call(R[ne]));if(ge=[At.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&C.width)>>8,255&C.width,(65280&C.height)>>8,255&C.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l(At.avcC,new Uint8Array([1,C.profileIdc,C.profileCompatibility,C.levelIdc,255].concat([w.length],L,[R.length],Z))),l(At.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],C.sarRatio){var ce=C.sarRatio[0],be=C.sarRatio[1];ge.push(l(At.pasp,new Uint8Array([(4278190080&ce)>>24,(16711680&ce)>>16,(65280&ce)>>8,255&ce,(4278190080&be)>>24,(16711680&be)>>16,(65280&be)>>8,255&be])))}return l.apply(null,ge)},_=function(C){return l(At.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&C.channelcount)>>8,255&C.channelcount,(65280&C.samplesize)>>8,255&C.samplesize,0,0,0,0,(65280&C.samplerate)>>8,255&C.samplerate,0,0]),p(C))},he=function(_){var D=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&_.id)>>24,(16711680&_.id)>>16,(65280&_.id)>>8,255&_.id,0,0,0,0,(4278190080&_.duration)>>24,(16711680&_.duration)>>16,(65280&_.duration)>>8,255&_.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&_.width)>>8,255&_.width,0,0,(65280&_.height)>>8,255&_.height,0,0]);return l(At.tkhd,D)},dt=function(_){var D,C,w,R,Z,ne;return D=l(At.tfhd,new Uint8Array([0,0,0,58,(4278190080&_.id)>>24,(16711680&_.id)>>16,(65280&_.id)>>8,255&_.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),Z=Math.floor(_.baseMediaDecodeTime/s),ne=Math.floor(_.baseMediaDecodeTime%s),C=l(At.tfdt,new Uint8Array([1,0,0,0,Z>>>24&255,Z>>>16&255,Z>>>8&255,255&Z,ne>>>24&255,ne>>>16&255,ne>>>8&255,255&ne])),"audio"===_.type?(w=Lt(_,92),l(At.traf,D,C,w)):(R=ze(_),w=Lt(_,R.length+92),l(At.traf,D,C,w,R))},le=function(_){return _.duration=_.duration||4294967295,l(At.trak,he(_),Ne(_))},lt=function(_){var D=new Uint8Array([0,0,0,0,(4278190080&_.id)>>24,(16711680&_.id)>>16,(65280&_.id)>>8,255&_.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==_.type&&(D[D.length-1]=0),l(At.trex,D)},function(){var G,_,D;D=function(w,R){var L=0,Z=0,ne=0,ge=0;return w.length&&(void 0!==w[0].duration&&(L=1),void 0!==w[0].size&&(Z=2),void 0!==w[0].flags&&(ne=4),void 0!==w[0].compositionTimeOffset&&(ge=8)),[0,0,L|Z|ne|ge,1,(4278190080&w.length)>>>24,(16711680&w.length)>>>16,(65280&w.length)>>>8,255&w.length,(4278190080&R)>>>24,(16711680&R)>>>16,(65280&R)>>>8,255&R]},_=function(w,R){var L,Z,ne,ge,ce,be;for(ne=D(ge=w.samples||[],R+=20+16*ge.length),(Z=new Uint8Array(ne.length+16*ge.length)).set(ne),L=ne.length,be=0;be<ge.length;be++)Z[L++]=(4278190080&(ce=ge[be]).duration)>>>24,Z[L++]=(16711680&ce.duration)>>>16,Z[L++]=(65280&ce.duration)>>>8,Z[L++]=255&ce.duration,Z[L++]=(4278190080&ce.size)>>>24,Z[L++]=(16711680&ce.size)>>>16,Z[L++]=(65280&ce.size)>>>8,Z[L++]=255&ce.size,Z[L++]=ce.flags.isLeading<<2|ce.flags.dependsOn,Z[L++]=ce.flags.isDependedOn<<6|ce.flags.hasRedundancy<<4|ce.flags.paddingValue<<1|ce.flags.isNonSyncSample,Z[L++]=61440&ce.flags.degradationPriority,Z[L++]=15&ce.flags.degradationPriority,Z[L++]=(4278190080&ce.compositionTimeOffset)>>>24,Z[L++]=(16711680&ce.compositionTimeOffset)>>>16,Z[L++]=(65280&ce.compositionTimeOffset)>>>8,Z[L++]=255&ce.compositionTimeOffset;return l(At.trun,Z)},G=function(w,R){var L,Z,ne,ge,ce,be;for(ne=D(ge=w.samples||[],R+=20+8*ge.length),(L=new Uint8Array(ne.length+8*ge.length)).set(ne),Z=ne.length,be=0;be<ge.length;be++)L[Z++]=(4278190080&(ce=ge[be]).duration)>>>24,L[Z++]=(16711680&ce.duration)>>>16,L[Z++]=(65280&ce.duration)>>>8,L[Z++]=255&ce.duration,L[Z++]=(4278190080&ce.size)>>>24,L[Z++]=(16711680&ce.size)>>>16,L[Z++]=(65280&ce.size)>>>8,L[Z++]=255&ce.size;return l(At.trun,L)},Lt=function(w,R){return"audio"===w.type?G(w,R):_(w,R)}}();var Cc,Jd,xp,ef,Ap,n0,Ax,Mx,Ka_mdat=y,Ka_moof=k,Ep=function(_,D){var C={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return C.dataOffset=D,C.compositionTimeOffset=_.pts-_.dts,C.duration=_.duration,C.size=4*_.length,C.size+=_.byteLength,_.keyFrame&&(C.flags.dependsOn=2,C.flags.isNonSyncSample=0),C},qa=[33,16,5,32,164,27],t0=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Nn=function(_){for(var D=[];_--;)D.push(0);return D};Jd=function(_){return 9e4*_},xp=function(_,D){return _*D},ef=function(_){return _/9e4},Ap=function(_,D){return _/D},n0=function(_,D){return Jd(Ap(_,D))},Ax=function(_,D){return xp(ef(_),D)},Mx=function(_,D,C){return ef(C?_:_-D)};var In_secondsToVideoTs=Jd,In_videoTsToSeconds=ef,In_audioTsToVideoTs=n0,In_videoTsToAudioTs=Ax,In_metadataTsToSeconds=Mx,FT_prefixWithSilence=function(_,D,C,w){var R,ce,be,$e,L=0,Z=0,ne=0,ge=0;if(D.length&&(R=In_audioTsToVideoTs(_.baseMediaDecodeTime,_.samplerate),L=Math.ceil(9e4/(_.samplerate/1024)),C&&w&&(Z=R-Math.max(C,w),ge=(ne=Math.floor(Z/L))*L),!(ne<1||ge>45e3))){for((ce=function(){if(!Cc){var _={96e3:[qa,[227,64],Nn(154),[56]],88200:[qa,[231],Nn(170),[56]],64e3:[qa,[248,192],Nn(240),[56]],48e3:[qa,[255,192],Nn(268),[55,148,128],Nn(54),[112]],44100:[qa,[255,192],Nn(268),[55,163,128],Nn(84),[112]],32e3:[qa,[255,192],Nn(268),[55,234],Nn(226),[112]],24e3:[qa,[255,192],Nn(268),[55,255,128],Nn(268),[111,112],Nn(126),[224]],16e3:[qa,[255,192],Nn(268),[55,255,128],Nn(268),[111,255],Nn(269),[223,108],Nn(195),[1,192]],12e3:[t0,Nn(268),[3,127,248],Nn(268),[6,255,240],Nn(268),[13,255,224],Nn(268),[27,253,128],Nn(259),[56]],11025:[t0,Nn(268),[3,127,248],Nn(268),[6,255,240],Nn(268),[13,255,224],Nn(268),[27,255,192],Nn(268),[55,175,128],Nn(108),[112]],8e3:[t0,Nn(268),[3,121,16],Nn(47),[7]]};Cc=function(_){return Object.keys(_).reduce(function(D,C){return D[C]=new Uint8Array(_[C].reduce(function(w,R){return w.concat(R)},[])),D},{})}(_)}return Cc}()[_.samplerate])||(ce=D[0].data),be=0;be<ne;be++)D.splice(0,0,{data:ce,dts:($e=D[0]).dts-L,pts:$e.pts-L});return _.baseMediaDecodeTime-=Math.floor(In_videoTsToAudioTs(ge,_.samplerate)),ge}},Xa_clearDtsInfo=function(_){delete _.minSegmentDts,delete _.maxSegmentDts,delete _.minSegmentPts,delete _.maxSegmentPts},Xa_calculateTrackBaseMediaDecodeTime=function(_,D){var C,R=_.minSegmentDts;return D||(R-=_.timelineStartInfo.dts),C=_.timelineStartInfo.baseMediaDecodeTime,C+=R,C=Math.max(0,C),"audio"===_.type&&(C*=_.samplerate/9e4,C=Math.floor(C)),C},Xa_collectDtsInfo=function(_,D){"number"==typeof D.pts&&(void 0===_.timelineStartInfo.pts&&(_.timelineStartInfo.pts=D.pts),_.minSegmentPts=void 0===_.minSegmentPts?D.pts:Math.min(_.minSegmentPts,D.pts),_.maxSegmentPts=void 0===_.maxSegmentPts?D.pts:Math.max(_.maxSegmentPts,D.pts)),"number"==typeof D.dts&&(void 0===_.timelineStartInfo.dts&&(_.timelineStartInfo.dts=D.dts),_.minSegmentDts=void 0===_.minSegmentDts?D.dts:Math.min(_.minSegmentDts,D.dts),_.maxSegmentDts=void 0===_.maxSegmentDts?D.dts:Math.max(_.maxSegmentDts,D.dts))},$s=function G(_){_=_||{},G.prototype.init.call(this),this.parse708captions_="boolean"!=typeof _.parse708captions||_.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Di(0,0),new Di(0,1),new Di(1,0),new Di(1,1)],this.parse708captions_&&(this.cc708Stream_=new si({captionServices:_.captionServices})),this.reset(),this.ccStreams_.forEach(function(D){D.on("data",this.trigger.bind(this,"data")),D.on("partialdone",this.trigger.bind(this,"partialdone")),D.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};($s.prototype=new t).push=function(G){var _,D,C;if("sei_rbsp"===G.nalUnitType&&(_=function(_){for(var D=0,C={payloadType:-1,payloadSize:0},w=0,R=0;D<_.byteLength&&128!==_[D];){for(;255===_[D];)w+=255,D++;for(w+=_[D++];255===_[D];)R+=255,D++;if(R+=_[D++],!C.payload&&4===w){if("GA94"===String.fromCharCode(_[D+3],_[D+4],_[D+5],_[D+6])){C.payloadType=w,C.payloadSize=R,C.payload=_.subarray(D,D+R);break}C.payload=void 0}D+=R,w=0,R=0}return C}(G.escapedRBSP)).payload&&4===_.payloadType&&(D=function(_){return 181!==_.payload[0]||49!=(_.payload[1]<<8|_.payload[2])||"GA94"!==String.fromCharCode(_.payload[3],_.payload[4],_.payload[5],_.payload[6])||3!==_.payload[7]?null:_.payload.subarray(8,_.payload.length-1)}(_))){if(G.dts<this.latestDts_)return void(this.ignoreNextEqualDts_=!0);if(G.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));C=function(_,D){var w,R,L,Z,C=[];if(!(64&D[0]))return C;for(R=31&D[0],w=0;w<R;w++)Z={type:3&D[2+(L=3*w)],pts:_},4&D[L+2]&&(Z.ccData=D[L+3]<<8|D[L+4],C.push(Z));return C}(G.pts,D),this.captionPackets_=this.captionPackets_.concat(C),this.latestDts_!==G.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=G.dts}},$s.prototype.flushCCStreams=function(G){this.ccStreams_.forEach(function(_){return"flush"===G?_.flush():_.partialFlush()},this)},$s.prototype.flushStream=function(G){this.captionPackets_.length?(this.captionPackets_.forEach(function(_,D){_.presortIndex=D}),this.captionPackets_.sort(function(_,D){return _.pts===D.pts?_.presortIndex-D.presortIndex:_.pts-D.pts}),this.captionPackets_.forEach(function(_){_.type<2?this.dispatchCea608Packet(_):this.dispatchCea708Packet(_)},this),this.captionPackets_.length=0,this.flushCCStreams(G)):this.flushCCStreams(G)},$s.prototype.flush=function(){return this.flushStream("flush")},$s.prototype.partialFlush=function(){return this.flushStream("partialFlush")},$s.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(G){G.reset()})},$s.prototype.dispatchCea608Packet=function(G){this.setsTextOrXDSActive(G)?this.activeCea608Channel_[G.type]=null:this.setsChannel1Active(G)?this.activeCea608Channel_[G.type]=0:this.setsChannel2Active(G)&&(this.activeCea608Channel_[G.type]=1),null!==this.activeCea608Channel_[G.type]&&this.ccStreams_[(G.type<<1)+this.activeCea608Channel_[G.type]].push(G)},$s.prototype.setsChannel1Active=function(G){return 4096==(30720&G.ccData)},$s.prototype.setsChannel2Active=function(G){return 6144==(30720&G.ccData)},$s.prototype.setsTextOrXDSActive=function(G){return 256==(28928&G.ccData)||4138==(30974&G.ccData)||6186==(30974&G.ccData)},$s.prototype.dispatchCea708Packet=function(G){this.parse708captions_&&this.cc708Stream_.push(G)};var gI={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},LT=function(_){return 32<=_&&_<=127||160<=_&&_<=255},$l=function(_){this.windowNum=_,this.reset()};$l.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},$l.prototype.getText=function(){return this.rows.join("\n")},$l.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},$l.prototype.newLine=function(G){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(G),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},$l.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},$l.prototype.addText=function(G){this.rows[this.rowIdx]+=G},$l.prototype.backspace=function(){if(!this.isEmpty()){var G=this.rows[this.rowIdx];this.rows[this.rowIdx]=G.substr(0,G.length-1)}};var BT=function(_,D,C){this.serviceNum=_,this.text="",this.currentWindow=new $l(-1),this.windows=[],this.stream=C,"string"==typeof D&&this.createTextDecoder(D)};BT.prototype.init=function(G,_){this.startPts=G;for(var D=0;D<8;D++)this.windows[D]=new $l(D),"function"==typeof _&&(this.windows[D].beforeRowOverflow=_)},BT.prototype.setCurrentWindow=function(G){this.currentWindow=this.windows[G]},BT.prototype.createTextDecoder=function(G){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(G)}catch(_){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+G+" encoding. "+_})}};var si=function G(_){_=_||{},G.prototype.init.call(this);var R,D=this,C=_.captionServices||{},w={};Object.keys(C).forEach(function(L){R=C[L],/^SERVICE/.test(L)&&(w[L]=R.encoding)}),this.serviceEncodings=w,this.current708Packet=null,this.services={},this.push=function(L){3===L.type?(D.new708Packet(),D.add708Bytes(L)):(null===D.current708Packet&&D.new708Packet(),D.add708Bytes(L))}};si.prototype=new t,si.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},si.prototype.add708Bytes=function(G){var _=G.ccData,D=_>>>8,C=255&_;this.current708Packet.ptsVals.push(G.pts),this.current708Packet.data.push(D),this.current708Packet.data.push(C)},si.prototype.push708Packet=function(){var G=this.current708Packet,_=G.data,D=null,C=null,w=0,R=_[w++];for(G.seq=R>>6,G.sizeCode=63&R;w<_.length;w++)C=31&(R=_[w++]),7==(D=R>>5)&&C>0&&(D=R=_[w++]),this.pushServiceBlock(D,w,C),C>0&&(w+=C-1)},si.prototype.pushServiceBlock=function(G,_,D){var C,w=_,R=this.current708Packet.data,L=this.services[G];for(L||(L=this.initService(G,w));w<_+D&&w<R.length;w++)LT(C=R[w])?w=this.handleText(w,L):24===C?w=this.multiByteCharacter(w,L):16===C?w=this.extendedCommands(w,L):128<=C&&C<=135?w=this.setCurrentWindow(w,L):152<=C&&C<=159?w=this.defineWindow(w,L):136===C?w=this.clearWindows(w,L):140===C?w=this.deleteWindows(w,L):137===C?w=this.displayWindows(w,L):138===C?w=this.hideWindows(w,L):139===C?w=this.toggleWindows(w,L):151===C?w=this.setWindowAttributes(w,L):144===C?w=this.setPenAttributes(w,L):145===C?w=this.setPenColor(w,L):146===C?w=this.setPenLocation(w,L):143===C?L=this.reset(w,L):8===C?L.currentWindow.backspace():12===C?L.currentWindow.clearText():13===C?L.currentWindow.pendingNewLine=!0:14===C?L.currentWindow.clearText():141===C&&w++},si.prototype.extendedCommands=function(G,_){var C=this.current708Packet.data[++G];return LT(C)&&(G=this.handleText(G,_,{isExtended:!0})),G},si.prototype.getPts=function(G){return this.current708Packet.ptsVals[Math.floor(G/2)]},si.prototype.initService=function(G,_){var C,w,D=this;return(C="SERVICE"+G)in this.serviceEncodings&&(w=this.serviceEncodings[C]),this.services[G]=new BT(G,w,D),this.services[G].init(this.getPts(_),function(R){D.flushDisplayed(R,D.services[G])}),this.services[G]},si.prototype.handleText=function(G,_,D){var ce,be,C=D&&D.isExtended,R=this.current708Packet.data,L=C?4096:0,Z=R[G],ge=_.currentWindow;return _.textDecoder_&&!C?(D&&D.isMultiByte?(be=[Z,R[G+1]],G++):be=[Z],ce=_.textDecoder_.decode(new Uint8Array(be))):ce=function(_){var D=gI[_]||_;return 4096&_&&_===D?"":String.fromCharCode(D)}(L|Z),ge.pendingNewLine&&!ge.isEmpty()&&ge.newLine(this.getPts(G)),ge.pendingNewLine=!1,ge.addText(ce),G},si.prototype.multiByteCharacter=function(G,_){var D=this.current708Packet.data,w=D[G+2];return LT(D[G+1])&&LT(w)&&(G=this.handleText(++G,_,{isMultiByte:!0})),G},si.prototype.setCurrentWindow=function(G,_){return _.setCurrentWindow(7&this.current708Packet.data[G]),G},si.prototype.defineWindow=function(G,_){var D=this.current708Packet.data,C=D[G];_.setCurrentWindow(7&C);var R=_.currentWindow;return C=D[++G],R.visible=(32&C)>>5,R.rowLock=(16&C)>>4,R.columnLock=(8&C)>>3,R.priority=7&C,C=D[++G],R.relativePositioning=(128&C)>>7,R.anchorVertical=127&C,C=D[++G],R.anchorHorizontal=C,C=D[++G],R.anchorPoint=(240&C)>>4,R.rowCount=15&C,C=D[++G],R.columnCount=63&C,C=D[++G],R.windowStyle=(56&C)>>3,R.penStyle=7&C,R.virtualRowCount=R.rowCount+1,G},si.prototype.setWindowAttributes=function(G,_){var D=this.current708Packet.data,C=D[G],w=_.currentWindow.winAttr;return C=D[++G],w.fillOpacity=(192&C)>>6,w.fillRed=(48&C)>>4,w.fillGreen=(12&C)>>2,w.fillBlue=3&C,C=D[++G],w.borderType=(192&C)>>6,w.borderRed=(48&C)>>4,w.borderGreen=(12&C)>>2,w.borderBlue=3&C,C=D[++G],w.borderType+=(128&C)>>5,w.wordWrap=(64&C)>>6,w.printDirection=(48&C)>>4,w.scrollDirection=(12&C)>>2,w.justify=3&C,C=D[++G],w.effectSpeed=(240&C)>>4,w.effectDirection=(12&C)>>2,w.displayEffect=3&C,G},si.prototype.flushDisplayed=function(G,_){for(var D=[],C=0;C<8;C++)_.windows[C].visible&&!_.windows[C].isEmpty()&&D.push(_.windows[C].getText());_.endPts=G,_.text=D.join("\n\n"),this.pushCaption(_),_.startPts=G},si.prototype.pushCaption=function(G){""!==G.text&&(this.trigger("data",{startPts:G.startPts,endPts:G.endPts,text:G.text,stream:"cc708_"+G.serviceNum}),G.text="",G.startPts=G.endPts)},si.prototype.displayWindows=function(G,_){var C=this.current708Packet.data[++G],w=this.getPts(G);this.flushDisplayed(w,_);for(var R=0;R<8;R++)C&1<<R&&(_.windows[R].visible=1);return G},si.prototype.hideWindows=function(G,_){var C=this.current708Packet.data[++G],w=this.getPts(G);this.flushDisplayed(w,_);for(var R=0;R<8;R++)C&1<<R&&(_.windows[R].visible=0);return G},si.prototype.toggleWindows=function(G,_){var C=this.current708Packet.data[++G],w=this.getPts(G);this.flushDisplayed(w,_);for(var R=0;R<8;R++)C&1<<R&&(_.windows[R].visible^=1);return G},si.prototype.clearWindows=function(G,_){var C=this.current708Packet.data[++G],w=this.getPts(G);this.flushDisplayed(w,_);for(var R=0;R<8;R++)C&1<<R&&_.windows[R].clearText();return G},si.prototype.deleteWindows=function(G,_){var C=this.current708Packet.data[++G],w=this.getPts(G);this.flushDisplayed(w,_);for(var R=0;R<8;R++)C&1<<R&&_.windows[R].reset();return G},si.prototype.setPenAttributes=function(G,_){var D=this.current708Packet.data,C=D[G],w=_.currentWindow.penAttr;return C=D[++G],w.textTag=(240&C)>>4,w.offset=(12&C)>>2,w.penSize=3&C,C=D[++G],w.italics=(128&C)>>7,w.underline=(64&C)>>6,w.edgeType=(56&C)>>3,w.fontStyle=7&C,G},si.prototype.setPenColor=function(G,_){var D=this.current708Packet.data,C=D[G],w=_.currentWindow.penColor;return C=D[++G],w.fgOpacity=(192&C)>>6,w.fgRed=(48&C)>>4,w.fgGreen=(12&C)>>2,w.fgBlue=3&C,C=D[++G],w.bgOpacity=(192&C)>>6,w.bgRed=(48&C)>>4,w.bgGreen=(12&C)>>2,w.bgBlue=3&C,C=D[++G],w.edgeRed=(48&C)>>4,w.edgeGreen=(12&C)>>2,w.edgeBlue=3&C,G},si.prototype.setPenLocation=function(G,_){var D=this.current708Packet.data,C=D[G],w=_.currentWindow.penLoc;return _.currentWindow.pendingNewLine=!0,C=D[++G],w.row=15&C,C=D[++G],w.column=63&C,G},si.prototype.reset=function(G,_){var D=this.getPts(G);return this.flushDisplayed(D,_),this.initService(_.serviceNum,G)};var vI={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},HT=function(_){return null===_?"":(_=vI[_]||_,String.fromCharCode(_))},_I=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],tf=function(){for(var _=[],D=15;D--;)_.push("");return _},Di=function G(_,D){G.prototype.init.call(this),this.field_=_||0,this.dataChannel_=D||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(C){var w,R,L,Z,ne;if((w=32639&C.ccData)!==this.lastControlCode_){if(4096==(61440&w)?this.lastControlCode_=w:w!==this.PADDING_&&(this.lastControlCode_=null),L=w>>>8,Z=255&w,w!==this.PADDING_)if(w===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(w===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(C.pts),this.flushDisplayed(C.pts),R=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=R,this.startPts_=C.pts;else if(w===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(C.pts);else if(w===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(C.pts);else if(w===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(C.pts);else if(w===this.CARRIAGE_RETURN_)this.clearFormatting(C.pts),this.flushDisplayed(C.pts),this.shiftRowsUp_(),this.startPts_=C.pts;else if(w===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(w===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(C.pts),this.displayed_=tf();else if(w===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=tf();else if(w===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(C.pts),this.displayed_=tf()),this.mode_="paintOn",this.startPts_=C.pts;else if(this.isSpecialCharacter(L,Z))ne=HT((L=(3&L)<<8)|Z),this[this.mode_](C.pts,ne),this.column_++;else if(this.isExtCharacter(L,Z))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),ne=HT((L=(3&L)<<8)|Z),this[this.mode_](C.pts,ne),this.column_++;else if(this.isMidRowCode(L,Z))this.clearFormatting(C.pts),this[this.mode_](C.pts," "),this.column_++,14==(14&Z)&&this.addFormatting(C.pts,["i"]),1==(1&Z)&&this.addFormatting(C.pts,["u"]);else if(this.isOffsetControlCode(L,Z))this.column_+=3&Z;else if(this.isPAC(L,Z)){var ge=_I.indexOf(7968&w);"rollUp"===this.mode_&&(ge-this.rollUpRows_+1<0&&(ge=this.rollUpRows_-1),this.setRollUp(C.pts,ge)),ge!==this.row_&&(this.clearFormatting(C.pts),this.row_=ge),1&Z&&-1===this.formatting_.indexOf("u")&&this.addFormatting(C.pts,["u"]),16==(16&w)&&(this.column_=4*((14&w)>>1)),this.isColorPAC(Z)&&14==(14&Z)&&this.addFormatting(C.pts,["i"])}else this.isNormalChar(L)&&(0===Z&&(Z=null),ne=HT(L),ne+=HT(Z),this[this.mode_](C.pts,ne),this.column_+=ne.length)}else this.lastControlCode_=null}};Di.prototype=new t,Di.prototype.flushDisplayed=function(G){var _=this.displayed_.map(function(D,C){try{return D.trim()}catch(w){return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+C+"."}),""}},this).join("\n").replace(/^\n+|\n+$/g,"");_.length&&this.trigger("data",{startPts:this.startPts_,endPts:G,text:_,stream:this.name_})},Di.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=tf(),this.nonDisplayed_=tf(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Di.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Di.prototype.isSpecialCharacter=function(G,_){return G===this.EXT_&&_>=48&&_<=63},Di.prototype.isExtCharacter=function(G,_){return(G===this.EXT_+1||G===this.EXT_+2)&&_>=32&&_<=63},Di.prototype.isMidRowCode=function(G,_){return G===this.EXT_&&_>=32&&_<=47},Di.prototype.isOffsetControlCode=function(G,_){return G===this.OFFSET_&&_>=33&&_<=35},Di.prototype.isPAC=function(G,_){return G>=this.BASE_&&G<this.BASE_+8&&_>=64&&_<=127},Di.prototype.isColorPAC=function(G){return G>=64&&G<=79||G>=96&&G<=127},Di.prototype.isNormalChar=function(G){return G>=32&&G<=127},Di.prototype.setRollUp=function(G,_){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(G),this.nonDisplayed_=tf(),this.displayed_=tf()),void 0!==_&&_!==this.row_)for(var D=0;D<this.rollUpRows_;D++)this.displayed_[_-D]=this.displayed_[this.row_-D],this.displayed_[this.row_-D]="";void 0===_&&(_=this.row_),this.topRow_=_-this.rollUpRows_+1},Di.prototype.addFormatting=function(G,_){this.formatting_=this.formatting_.concat(_);var D=_.reduce(function(C,w){return C+"<"+w+">"},"");this[this.mode_](G,D)},Di.prototype.clearFormatting=function(G){if(this.formatting_.length){var _=this.formatting_.reverse().reduce(function(D,C){return D+"</"+C+">"},"");this.formatting_=[],this[this.mode_](G,_)}},Di.prototype.popOn=function(G,_){var D=this.nonDisplayed_[this.row_];this.nonDisplayed_[this.row_]=D+=_},Di.prototype.rollUp=function(G,_){var D=this.displayed_[this.row_];this.displayed_[this.row_]=D+=_},Di.prototype.shiftRowsUp_=function(){var G;for(G=0;G<this.topRow_;G++)this.displayed_[G]="";for(G=this.row_+1;G<15;G++)this.displayed_[G]="";for(G=this.topRow_;G<this.row_;G++)this.displayed_[G]=this.displayed_[G+1];this.displayed_[this.row_]=""},Di.prototype.paintOn=function(G,_){var D=this.displayed_[this.row_];this.displayed_[this.row_]=D+=_};var VT={CaptionStream:$s,Cea608Stream:Di,Cea708Stream:si},Ar={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},XD=function(_,D){var C=1;for(_>D&&(C=-1);Math.abs(D-_)>4294967296;)_+=8589934592*C;return _},Ox=function G(_){var D,C;G.prototype.init.call(this),this.type_=_||"shared",this.push=function(w){"shared"!==this.type_&&w.type!==this.type_||(void 0===C&&(C=w.dts),w.dts=XD(w.dts,C),w.pts=XD(w.pts,C),D=w.dts,this.trigger("data",w))},this.flush=function(){C=D,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){C=void 0,D=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ox.prototype=new t;var WT,Px_TimestampRolloverStream=Ox,Px_handleRollover=XD,Rx=function(_,D,C){var w,R="";for(w=D;w<C;w++)R+="%"+("00"+_[w].toString(16)).slice(-2);return R},GT=function(_,D,C){return decodeURIComponent(Rx(_,D,C))},TI=function(_,D,C){return unescape(Rx(_,D,C))},jT=function(_){return _[0]<<21|_[1]<<14|_[2]<<7|_[3]},kx={TXXX:function(_){var D;if(3===_.data[0]){for(D=1;D<_.data.length;D++)if(0===_.data[D]){_.description=GT(_.data,1,D),_.value=GT(_.data,D+1,_.data.length).replace(/\0*$/,"");break}_.data=_.value}},WXXX:function(_){var D;if(3===_.data[0])for(D=1;D<_.data.length;D++)if(0===_.data[D]){_.description=GT(_.data,1,D),_.url=GT(_.data,D+1,_.data.length);break}},PRIV:function(_){var D;for(D=0;D<_.data.length;D++)if(0===_.data[D]){_.owner=TI(_.data,0,D);break}_.privateData=_.data.subarray(D+1),_.data=_.privateData}};WT=function(_){var L,D={descriptor:_&&_.descriptor},C=0,w=[],R=0;if(WT.prototype.init.call(this),this.dispatchType=Ar.METADATA_STREAM_TYPE.toString(16),D.descriptor)for(L=0;L<D.descriptor.length;L++)this.dispatchType+=("00"+D.descriptor[L].toString(16)).slice(-2);this.push=function(Z){var ne,ge,ce,be,$e;if("timed-metadata"===Z.type){if(Z.dataAlignmentIndicator&&(R=0,w.length=0),0===w.length&&(Z.data.length<10||Z.data[0]!=="I".charCodeAt(0)||Z.data[1]!=="D".charCodeAt(0)||Z.data[2]!=="3".charCodeAt(0)))return void this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});if(w.push(Z),R+=Z.data.byteLength,1===w.length&&(C=jT(Z.data.subarray(6,10)),C+=10),!(R<C)){for(ne={data:new Uint8Array(C),frames:[],pts:w[0].pts,dts:w[0].dts},$e=0;$e<C;)ne.data.set(w[0].data.subarray(0,C-$e),$e),$e+=w[0].data.byteLength,R-=w[0].data.byteLength,w.shift();ge=10,64&ne.data[5]&&(ge+=4,ge+=jT(ne.data.subarray(10,14)),C-=jT(ne.data.subarray(16,20)));do{if((ce=jT(ne.data.subarray(ge+4,ge+8)))<1)return void this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});if((be={id:String.fromCharCode(ne.data[ge],ne.data[ge+1],ne.data[ge+2],ne.data[ge+3]),data:ne.data.subarray(ge+10,ge+ce+10)}).key=be.id,kx[be.id]&&(kx[be.id](be),"com.apple.streaming.transportStreamTimestamp"===be.owner)){var Mt=be.data,ft=(1&Mt[3])<<30|Mt[4]<<22|Mt[5]<<14|Mt[6]<<6|Mt[7]>>>2;ft*=4,be.timeStamp=ft+=3&Mt[7],void 0===ne.pts&&void 0===ne.dts&&(ne.pts=be.timeStamp,ne.dts=be.timeStamp),this.trigger("timestamp",be)}ne.frames.push(be),ge+=10,ge+=ce}while(ge<C);this.trigger("data",ne)}}}},WT.prototype=new t;var $T,s0,zT,SI=WT,CI=Px_TimestampRolloverStream;$T=function(){var _=new Uint8Array(188),D=0;$T.prototype.init.call(this),this.push=function(C){var L,w=0,R=188;for(D?((L=new Uint8Array(C.byteLength+D)).set(_.subarray(0,D)),L.set(C,D),D=0):L=C;R<L.byteLength;)71!==L[w]||71!==L[R]?(w++,R++):(this.trigger("data",L.subarray(w,R)),w+=188,R+=188);w<L.byteLength&&(_.set(L.subarray(w),0),D=L.byteLength-w)},this.flush=function(){188===D&&71===_[0]&&(this.trigger("data",_),D=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){D=0,this.trigger("reset")}},$T.prototype=new t,s0=function(){var _,D,C,w;s0.prototype.init.call(this),w=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,_=function(L,Z){var ne=0;Z.payloadUnitStartIndicator&&(ne+=L[ne]+1),"pat"===Z.type?D(L.subarray(ne),Z):C(L.subarray(ne),Z)},D=function(L,Z){Z.section_number=L[7],Z.last_section_number=L[8],w.pmtPid=(31&L[10])<<8|L[11],Z.pmtPid=w.pmtPid},C=function(L,Z){var ge,be;if(1&L[5]){for(w.programMapTable={video:null,audio:null,"timed-metadata":{}},ge=3+((15&L[1])<<8|L[2])-4,be=12+((15&L[10])<<8|L[11]);be<ge;){var $e=L[be],Tt=(31&L[be+1])<<8|L[be+2];$e===Ar.H264_STREAM_TYPE&&null===w.programMapTable.video?w.programMapTable.video=Tt:$e===Ar.ADTS_STREAM_TYPE&&null===w.programMapTable.audio?w.programMapTable.audio=Tt:$e===Ar.METADATA_STREAM_TYPE&&(w.programMapTable["timed-metadata"][Tt]=$e),be+=5+((15&L[be+3])<<8|L[be+4])}Z.programMapTable=w.programMapTable}},this.push=function(R){var L={},Z=4;if(L.payloadUnitStartIndicator=!!(64&R[1]),L.pid=31&R[1],L.pid<<=8,L.pid|=R[2],(48&R[3])>>>4>1&&(Z+=R[Z]+1),0===L.pid)L.type="pat",_(R.subarray(Z),L),this.trigger("data",L);else if(L.pid===this.pmtPid)for(L.type="pmt",_(R.subarray(Z),L),this.trigger("data",L);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([R,Z,L]):this.processPes_(R,Z,L)},this.processPes_=function(R,L,Z){Z.streamType=Z.pid===this.programMapTable.video?Ar.H264_STREAM_TYPE:Z.pid===this.programMapTable.audio?Ar.ADTS_STREAM_TYPE:this.programMapTable["timed-metadata"][Z.pid],Z.type="pes",Z.data=R.subarray(L),this.trigger("data",Z)}},s0.prototype=new t,s0.STREAM_TYPES={h264:27,adts:15},zT=function(){var L,_=this,D=!1,C={data:[],size:0},w={data:[],size:0},R={data:[],size:0},ne=function(ce,be,$e){var rs,Tt=new Uint8Array(ce.size),Mt={type:be},ft=0,Gt=0,sr=!1;if(ce.data.length&&!(ce.size<9)){for(Mt.trackId=ce.data[0].pid,ft=0;ft<ce.data.length;ft++)Tt.set((rs=ce.data[ft]).data,Gt),Gt+=rs.data.byteLength;(function(ce,be){var $e,Tt=ce[0]<<16|ce[1]<<8|ce[2];be.data=new Uint8Array,1===Tt&&(be.packetLength=6+(ce[4]<<8|ce[5]),be.dataAlignmentIndicator=0!=(4&ce[6]),192&($e=ce[7])&&(be.pts=(14&ce[9])<<27|(255&ce[10])<<20|(254&ce[11])<<12|(255&ce[12])<<5|(254&ce[13])>>>3,be.pts*=4,be.pts+=(6&ce[13])>>>1,be.dts=be.pts,64&$e&&(be.dts=(14&ce[14])<<27|(255&ce[15])<<20|(254&ce[16])<<12|(255&ce[17])<<5|(254&ce[18])>>>3,be.dts*=4,be.dts+=(6&ce[18])>>>1)),be.data=ce.subarray(9+ce[8]))})(Tt,Mt),sr="video"===be||Mt.packetLength<=ce.size,($e||sr)&&(ce.size=0,ce.data.length=0),sr&&_.trigger("data",Mt)}};zT.prototype.init.call(this),this.push=function(ge){({pat:function(){},pes:function(){var be,$e;switch(ge.streamType){case Ar.H264_STREAM_TYPE:be=C,$e="video";break;case Ar.ADTS_STREAM_TYPE:be=w,$e="audio";break;case Ar.METADATA_STREAM_TYPE:be=R,$e="timed-metadata";break;default:return}ge.payloadUnitStartIndicator&&ne(be,$e,!0),be.data.push(ge),be.size+=ge.data.byteLength},pmt:function(){var be={type:"metadata",tracks:[]};null!==(L=ge.programMapTable).video&&be.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.video,codec:"avc",type:"video"}),null!==L.audio&&be.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.audio,codec:"adts",type:"audio"}),D=!0,_.trigger("data",be)}})[ge.type]()},this.reset=function(){C.size=0,C.data.length=0,w.size=0,w.data.length=0,this.trigger("reset")},this.flushStreams_=function(){ne(C,"video"),ne(w,"audio"),ne(R,"timed-metadata")},this.flush=function(){if(!D&&L){var ge={type:"metadata",tracks:[]};null!==L.video&&ge.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.video,codec:"avc",type:"video"}),null!==L.audio&&ge.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.audio,codec:"adts",type:"audio"}),_.trigger("data",ge)}D=!1,this.flushStreams_(),this.trigger("done")}},zT.prototype=new t;var Fx={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:$T,TransportParseStream:s0,ElementaryStream:zT,TimestampRolloverStream:CI,CaptionStream:VT.CaptionStream,Cea608Stream:VT.Cea608Stream,Cea708Stream:VT.Cea708Stream,MetadataStream:SI};for(var ZD in Ar)Ar.hasOwnProperty(ZD)&&(Fx[ZD]=Ar[ZD]);var YT,zl=Fx,Lx=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];YT=function(_){var D,C=0;YT.prototype.init.call(this),this.skipWarn_=function(w,R){this.trigger("log",{level:"warn",message:"adts skiping bytes "+w+" to "+R+" in frame "+C+" outside syncword"})},this.push=function(w){var L,Z,ne,ge,ce,R=0;if(_||(C=0),"audio"===w.type){D&&D.length?(ne=D,(D=new Uint8Array(ne.byteLength+w.data.byteLength)).set(ne),D.set(w.data,ne.byteLength)):D=w.data;for(var be;R+7<D.length;)if(255===D[R]&&240==(246&D[R+1])){if("number"==typeof be&&(this.skipWarn_(be,R),be=null),Z=2*(1&~D[R+1]),ce=9e4*(ge=1024*(1+(3&D[R+6])))/Lx[(60&D[R+2])>>>2],D.byteLength-R<(L=(3&D[R+3])<<11|D[R+4]<<3|(224&D[R+5])>>5))break;this.trigger("data",{pts:w.pts+C*ce,dts:w.dts+C*ce,sampleCount:ge,audioobjecttype:1+(D[R+2]>>>6&3),channelcount:(1&D[R+2])<<2|(192&D[R+3])>>>6,samplerate:Lx[(60&D[R+2])>>>2],samplingfrequencyindex:(60&D[R+2])>>>2,samplesize:16,data:D.subarray(R+7+Z,R+L)}),C++,R+=L}else"number"!=typeof be&&(be=R),R++;"number"==typeof be&&(this.skipWarn_(be,R),be=null),D=D.subarray(R)}},this.flush=function(){C=0,this.trigger("done")},this.reset=function(){D=void 0,this.trigger("reset")},this.endTimeline=function(){D=void 0,this.trigger("endedtimeline")}},YT.prototype=new t;var Hx,Bx=YT;Hx=function(_){var D=_.byteLength,C=0,w=0;this.length=function(){return 8*D},this.bitsAvailable=function(){return 8*D+w},this.loadWord=function(){var R=_.byteLength-D,L=new Uint8Array(4),Z=Math.min(4,D);if(0===Z)throw new Error("no bytes available");L.set(_.subarray(R,R+Z)),C=new DataView(L.buffer).getUint32(0),w=8*Z,D-=Z},this.skipBits=function(R){var L;w>R?(C<<=R,w-=R):(R-=w,R-=8*(L=Math.floor(R/8)),D-=L,this.loadWord(),C<<=R,w-=R)},this.readBits=function(R){var L=Math.min(w,R),Z=C>>>32-L;return(w-=L)>0?C<<=L:D>0&&this.loadWord(),(L=R-L)>0?Z<<L|this.readBits(L):Z},this.skipLeadingZeros=function(){var R;for(R=0;R<w;++R)if(0!=(C&2147483648>>>R))return C<<=R,w-=R,R;return this.loadWord(),R+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var R=this.skipLeadingZeros();return this.readBits(R+1)-1},this.readExpGolomb=function(){var R=this.readUnsignedExpGolomb();return 1&R?1+R>>>1:-1*(R>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var KT,a0,Ux,EI=Hx;a0=function(){var D,C,_=0;a0.prototype.init.call(this),this.push=function(w){var R;C?((R=new Uint8Array(C.byteLength+w.data.byteLength)).set(C),R.set(w.data,C.byteLength),C=R):C=w.data;for(var L=C.byteLength;_<L-3;_++)if(1===C[_+2]){D=_+5;break}for(;D<L;)switch(C[D]){case 0:if(0!==C[D-1]){D+=2;break}if(0!==C[D-2]){D++;break}_+3!==D-2&&this.trigger("data",C.subarray(_+3,D-2));do{D++}while(1!==C[D]&&D<L);_=D-2,D+=3;break;case 1:if(0!==C[D-1]||0!==C[D-2]){D+=3;break}this.trigger("data",C.subarray(_+3,D-2)),_=D-2,D+=3;break;default:D+=3}C=C.subarray(_),D-=_,_=0},this.reset=function(){C=null,_=0,this.trigger("reset")},this.flush=function(){C&&C.byteLength>3&&this.trigger("data",C.subarray(_+3)),C=null,_=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},a0.prototype=new t,Ux={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},KT=function(){var D,C,w,R,L,Z,ne,_=new a0;KT.prototype.init.call(this),D=this,this.push=function(ge){"video"===ge.type&&(C=ge.trackId,w=ge.pts,R=ge.dts,_.push(ge))},_.on("data",function(ge){var ce={trackId:C,pts:w,dts:R,data:ge,nalUnitTypeCode:31&ge[0]};switch(ce.nalUnitTypeCode){case 5:ce.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ce.nalUnitType="sei_rbsp",ce.escapedRBSP=L(ge.subarray(1));break;case 7:ce.nalUnitType="seq_parameter_set_rbsp",ce.escapedRBSP=L(ge.subarray(1)),ce.config=Z(ce.escapedRBSP);break;case 8:ce.nalUnitType="pic_parameter_set_rbsp";break;case 9:ce.nalUnitType="access_unit_delimiter_rbsp"}D.trigger("data",ce)}),_.on("done",function(){D.trigger("done")}),_.on("partialdone",function(){D.trigger("partialdone")}),_.on("reset",function(){D.trigger("reset")}),_.on("endedtimeline",function(){D.trigger("endedtimeline")}),this.flush=function(){_.flush()},this.partialFlush=function(){_.partialFlush()},this.reset=function(){_.reset()},this.endTimeline=function(){_.endTimeline()},ne=function(ce,be){var Mt,$e=8,Tt=8;for(Mt=0;Mt<ce;Mt++)0!==Tt&&(Tt=($e+be.readExpGolomb()+256)%256),$e=0===Tt?$e:Tt},L=function(ce){for(var Mt,ft,be=ce.byteLength,$e=[],Tt=1;Tt<be-2;)0===ce[Tt]&&0===ce[Tt+1]&&3===ce[Tt+2]?($e.push(Tt+2),Tt+=2):Tt++;if(0===$e.length)return ce;Mt=be-$e.length,ft=new Uint8Array(Mt);var Gt=0;for(Tt=0;Tt<Mt;Gt++,Tt++)Gt===$e[0]&&(Gt++,$e.shift()),ft[Tt]=ce[Gt];return ft},Z=function(ce){var ft,Gt,sr,rs,af,rE,sA,aA,oA,sE,lA,lf,be=0,$e=0,Tt=0,Mt=0,Vi=[1,1];if(Gt=(ft=new EI(ce)).readUnsignedByte(),rs=ft.readUnsignedByte(),sr=ft.readUnsignedByte(),ft.skipUnsignedExpGolomb(),Ux[Gt]&&(3===(af=ft.readUnsignedExpGolomb())&&ft.skipBits(1),ft.skipUnsignedExpGolomb(),ft.skipUnsignedExpGolomb(),ft.skipBits(1),ft.readBoolean()))for(lA=3!==af?8:12,lf=0;lf<lA;lf++)ft.readBoolean()&&ne(lf<6?16:64,ft);if(ft.skipUnsignedExpGolomb(),0===(rE=ft.readUnsignedExpGolomb()))ft.readUnsignedExpGolomb();else if(1===rE)for(ft.skipBits(1),ft.skipExpGolomb(),ft.skipExpGolomb(),sA=ft.readUnsignedExpGolomb(),lf=0;lf<sA;lf++)ft.skipExpGolomb();if(ft.skipUnsignedExpGolomb(),ft.skipBits(1),aA=ft.readUnsignedExpGolomb(),oA=ft.readUnsignedExpGolomb(),0===(sE=ft.readBits(1))&&ft.skipBits(1),ft.skipBits(1),ft.readBoolean()&&(be=ft.readUnsignedExpGolomb(),$e=ft.readUnsignedExpGolomb(),Tt=ft.readUnsignedExpGolomb(),Mt=ft.readUnsignedExpGolomb()),ft.readBoolean()&&ft.readBoolean())switch(ft.readUnsignedByte()){case 1:Vi=[1,1];break;case 2:Vi=[12,11];break;case 3:Vi=[10,11];break;case 4:Vi=[16,11];break;case 5:Vi=[40,33];break;case 6:Vi=[24,11];break;case 7:Vi=[20,11];break;case 8:Vi=[32,11];break;case 9:Vi=[80,33];break;case 10:Vi=[18,11];break;case 11:Vi=[15,11];break;case 12:Vi=[64,33];break;case 13:Vi=[160,99];break;case 14:Vi=[4,3];break;case 15:Vi=[3,2];break;case 16:Vi=[2,1];break;case 255:Vi=[ft.readUnsignedByte()<<8|ft.readUnsignedByte(),ft.readUnsignedByte()<<8|ft.readUnsignedByte()]}return{profileIdc:Gt,levelIdc:sr,profileCompatibility:rs,width:16*(aA+1)-2*be-2*$e,height:(2-sE)*(oA+1)*16-2*Tt-2*Mt,sarRatio:Vi}}},KT.prototype=new t;var XT,wI={H264Stream:KT,NalByteStream:a0},xI=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Vx=function(_,D){var C=_[D+6]<<21|_[D+7]<<14|_[D+8]<<7|_[D+9];return C=C>=0?C:0,(16&_[D+5])>>4?C+20:C+10},AI=function G(_,D){return _.length-D<10||_[D]!=="I".charCodeAt(0)||_[D+1]!=="D".charCodeAt(0)||_[D+2]!=="3".charCodeAt(0)?D:G(_,D+=Vx(_,D))},Gx=function(_){return _[0]<<21|_[1]<<14|_[2]<<7|_[3]},II=function(_,D,C){return unescape(function(_,D,C){var w,R="";for(w=D;w<C;w++)R+="%"+("00"+_[w].toString(16)).slice(-2);return R}(_,D,C))},qT={isLikelyAacData:function(_){var D=AI(_,0);return _.length>=D+2&&255==(255&_[D])&&240==(240&_[D+1])&&16==(22&_[D+1])},parseId3TagSize:Vx,parseAdtsSize:function(_,D){return 6144&_[D+3]|_[D+4]<<3|(224&_[D+5])>>5},parseType:function(_,D){return _[D]==="I".charCodeAt(0)&&_[D+1]==="D".charCodeAt(0)&&_[D+2]==="3".charCodeAt(0)?"timed-metadata":!0&_[D]&&240==(240&_[D+1])?"audio":null},parseSampleRate:function(_){for(var D=0;D+5<_.length;){if(255===_[D]&&240==(246&_[D+1]))return xI[(60&_[D+2])>>>2];D++}return null},parseAacTimestamp:function(_){var D,C,w;D=10,64&_[5]&&(D+=4,D+=Gx(_.subarray(10,14)));do{if((C=Gx(_.subarray(D+4,D+8)))<1)return null;if("PRIV"===String.fromCharCode(_[D],_[D+1],_[D+2],_[D+3])){w=_.subarray(D+10,D+C+10);for(var L=0;L<w.byteLength;L++)if(0===w[L]){if("com.apple.streaming.transportStreamTimestamp"===II(w,0,L)){var ne=w.subarray(L+1),ge=(1&ne[3])<<30|ne[4]<<22|ne[5]<<14|ne[6]<<6|ne[7]>>>2;return(ge*=4)+(3&ne[7])}break}}D+=10,D+=C}while(D<_.byteLength);return null}};XT=function(){var _=new Uint8Array,D=0;XT.prototype.init.call(this),this.setTimestamp=function(C){D=C},this.push=function(C){var Z,ne,ge,w=0,R=0;for(_.length?(ge=_.length,(_=new Uint8Array(C.byteLength+ge)).set(_.subarray(0,ge)),_.set(C,ge)):_=C;_.length-R>=3;)if(_[R]!=="I".charCodeAt(0)||_[R+1]!=="D".charCodeAt(0)||_[R+2]!=="3".charCodeAt(0))if(255!=(255&_[R])||240!=(240&_[R+1]))R++;else{if(_.length-R<7||R+(w=qT.parseAdtsSize(_,R))>_.length)break;ne={type:"audio",data:_.subarray(R,R+w),pts:D,dts:D},this.trigger("data",ne),R+=w}else{if(_.length-R<10||R+(w=qT.parseId3TagSize(_,R))>_.length)break;Z={type:"timed-metadata",data:_.subarray(R,R+w)},this.trigger("data",Z),R+=w}_=_.length-R>0?_.subarray(R):new Uint8Array},this.reset=function(){_=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){_=new Uint8Array,this.trigger("endedtimeline")}},XT.prototype=new t;var o0,Np,QT,nf,FI=XT,JD=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],eE=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],HI=wI.H264Stream,UI=qT.isLikelyAacData,GI=function(_,D){D.stream=_,this.trigger("log",D)},jx=function(_,D){for(var C=Object.keys(D),w=0;w<C.length;w++){var R=C[w];"headOfPipeline"===R||!D[R].on||D[R].on("log",GI.bind(_,R))}},Wx=function(_,D){var C;if(_.length!==D.length)return!1;for(C=0;C<_.length;C++)if(_[C]!==D[C])return!1;return!0},tE=function(_,D,C,w,R,L){return{start:{dts:_,pts:_+(C-D)},end:{dts:_+(w-D),pts:_+(R-C)},prependedContentDuration:L,baseMediaDecodeTime:_}};Np=function(_,D){var w,C=[],R=0,L=0,Z=1/0;w=(D=D||{}).firstSequenceNumber||0,Np.prototype.init.call(this),this.push=function(ne){Xa_collectDtsInfo(_,ne),_&&JD.forEach(function(ge){_[ge]=ne[ge]}),C.push(ne)},this.setEarliestDts=function(ne){R=ne},this.setVideoBaseMediaDecodeTime=function(ne){Z=ne},this.setAudioAppendStart=function(ne){L=ne},this.flush=function(){var ne,ge,ce,be,$e,Tt,Mt;0!==C.length?(ne=function(_,D,C){return D.minSegmentDts>=C?_:(D.minSegmentDts=1/0,_.filter(function(w){return w.dts>=C&&(D.minSegmentDts=Math.min(D.minSegmentDts,w.dts),D.minSegmentPts=D.minSegmentDts,!0)}))}(C,_,R),_.baseMediaDecodeTime=Xa_calculateTrackBaseMediaDecodeTime(_,D.keepOriginalTimestamps),Mt=FT_prefixWithSilence(_,ne,L,Z),_.samples=function(_){var D,w=[];for(D=0;D<_.length;D++)w.push({size:_[D].data.byteLength,duration:1024});return w}(ne),ce=Ka_mdat(function(_){var D,C,w=0,R=new Uint8Array(function(_){var D,w=0;for(D=0;D<_.length;D++)w+=_[D].data.byteLength;return w}(_));for(D=0;D<_.length;D++)R.set((C=_[D]).data,w),w+=C.data.byteLength;return R}(ne)),C=[],ge=Ka_moof(w,[_]),be=new Uint8Array(ge.byteLength+ce.byteLength),w++,be.set(ge),be.set(ce,ge.byteLength),Xa_clearDtsInfo(_),$e=Math.ceil(9216e4/_.samplerate),ne.length&&(Tt=ne.length*$e,this.trigger("segmentTimingInfo",tE(In_audioTsToVideoTs(_.baseMediaDecodeTime,_.samplerate),ne[0].dts,ne[0].pts,ne[0].dts+Tt,ne[0].pts+Tt,Mt||0)),this.trigger("timingInfo",{start:ne[0].pts,end:ne[0].pts+Tt})),this.trigger("data",{track:_,boxes:be}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Xa_clearDtsInfo(_),C=[],this.trigger("reset")}},Np.prototype=new t,o0=function(_,D){var C,L,Z,w=[],R=[];C=(D=D||{}).firstSequenceNumber||0,o0.prototype.init.call(this),delete _.minPTS,this.gopCache_=[],this.push=function(ne){Xa_collectDtsInfo(_,ne),"seq_parameter_set_rbsp"===ne.nalUnitType&&!L&&(L=ne.config,_.sps=[ne.data],eE.forEach(function(ge){_[ge]=L[ge]},this)),"pic_parameter_set_rbsp"===ne.nalUnitType&&!Z&&(Z=ne.data,_.pps=[ne.data]),w.push(ne)},this.flush=function(){for(var ne,ge,ce,be,$e,Tt,ft,Gt,Mt=0;w.length&&"access_unit_delimiter_rbsp"!==w[0].nalUnitType;)w.shift();if(0===w.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(ne=function(_){var D,C,w=[],R=[];for(R.byteLength=0,R.nalCount=0,R.duration=0,w.byteLength=0,D=0;D<_.length;D++)"access_unit_delimiter_rbsp"===(C=_[D]).nalUnitType?(w.length&&(w.duration=C.dts-w.dts,R.byteLength+=w.byteLength,R.nalCount+=w.length,R.duration+=w.duration,R.push(w)),(w=[C]).byteLength=C.data.byteLength,w.pts=C.pts,w.dts=C.dts):("slice_layer_without_partitioning_rbsp_idr"===C.nalUnitType&&(w.keyFrame=!0),w.duration=C.dts-w.dts,w.byteLength+=C.data.byteLength,w.push(C));return R.length&&(!w.duration||w.duration<=0)&&(w.duration=R[R.length-1].duration),R.byteLength+=w.byteLength,R.nalCount+=w.length,R.duration+=w.duration,R.push(w),R}(w),(ce=function(_){var D,C,w=[],R=[];for(w.byteLength=0,w.nalCount=0,w.duration=0,w.pts=_[0].pts,w.dts=_[0].dts,R.byteLength=0,R.nalCount=0,R.duration=0,R.pts=_[0].pts,R.dts=_[0].dts,D=0;D<_.length;D++)(C=_[D]).keyFrame?(w.length&&(R.push(w),R.byteLength+=w.byteLength,R.nalCount+=w.nalCount,R.duration+=w.duration),(w=[C]).nalCount=C.length,w.byteLength=C.byteLength,w.pts=C.pts,w.dts=C.dts,w.duration=C.duration):(w.duration+=C.duration,w.nalCount+=C.length,w.byteLength+=C.byteLength,w.push(C));return R.length&&w.duration<=0&&(w.duration=R[R.length-1].duration),R.byteLength+=w.byteLength,R.nalCount+=w.nalCount,R.duration+=w.duration,R.push(w),R}(ne))[0][0].keyFrame||((ge=this.getGopForFusion_(w[0],_))?(Mt=ge.duration,ce.unshift(ge),ce.byteLength+=ge.byteLength,ce.nalCount+=ge.nalCount,ce.pts=ge.pts,ce.dts=ge.dts,ce.duration+=ge.duration):ce=function(_){var D;return!_[0][0].keyFrame&&_.length>1&&(D=_.shift(),_.byteLength-=D.byteLength,_.nalCount-=D.nalCount,_[0][0].dts=D.dts,_[0][0].pts=D.pts,_[0][0].duration+=D.duration),_}(ce)),R.length){var sr;if(!(sr=D.alignGopsAtEnd?this.alignGopsAtEnd_(ce):this.alignGopsAtStart_(ce)))return this.gopCache_.unshift({gop:ce.pop(),pps:_.pps,sps:_.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),w=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Xa_clearDtsInfo(_),ce=sr}Xa_collectDtsInfo(_,ce),_.samples=function(_,D){var C,w,R,L,ne=D||0,ge=[];for(C=0;C<_.length;C++)for(L=_[C],w=0;w<L.length;w++)ne+=(R=Ep(L[w],ne)).size,ge.push(R);return ge}(ce),$e=Ka_mdat(function(_){var D,C,w,R,L,Z,ne=0,$e=new Uint8Array(_.byteLength+4*_.nalCount),Tt=new DataView($e.buffer);for(D=0;D<_.length;D++)for(R=_[D],C=0;C<R.length;C++)for(L=R[C],w=0;w<L.length;w++)Tt.setUint32(ne,(Z=L[w]).data.byteLength),$e.set(Z.data,ne+=4),ne+=Z.data.byteLength;return $e}(ce)),_.baseMediaDecodeTime=Xa_calculateTrackBaseMediaDecodeTime(_,D.keepOriginalTimestamps),this.trigger("processedGopsInfo",ce.map(function(rs){return{pts:rs.pts,dts:rs.dts,byteLength:rs.byteLength}})),this.trigger("segmentTimingInfo",tE(_.baseMediaDecodeTime,(ft=ce[0]).dts,ft.pts,(Gt=ce[ce.length-1]).dts+Gt.duration,Gt.pts+Gt.duration,Mt)),this.trigger("timingInfo",{start:ce[0].pts,end:ce[ce.length-1].pts+ce[ce.length-1].duration}),this.gopCache_.unshift({gop:ce.pop(),pps:_.pps,sps:_.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),w=[],this.trigger("baseMediaDecodeTime",_.baseMediaDecodeTime),this.trigger("timelineStartInfo",_.timelineStartInfo),be=Ka_moof(C,[_]),Tt=new Uint8Array(be.byteLength+$e.byteLength),C++,Tt.set(be),Tt.set($e,be.byteLength),this.trigger("data",{track:_,boxes:Tt}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),w=[],this.gopCache_.length=0,R.length=0,this.trigger("reset")},this.resetStream_=function(){Xa_clearDtsInfo(_),L=void 0,Z=void 0},this.getGopForFusion_=function(ne){var $e,Tt,Mt,ft,Gt,be=1/0;for(Gt=0;Gt<this.gopCache_.length;Gt++)Mt=(ft=this.gopCache_[Gt]).gop,_.pps&&Wx(_.pps[0],ft.pps[0])&&_.sps&&Wx(_.sps[0],ft.sps[0])&&(Mt.dts<_.timelineStartInfo.dts||($e=ne.dts-Mt.dts-Mt.duration)>=-1e4&&$e<=45e3&&(!Tt||be>$e)&&(Tt=ft,be=$e));return Tt?Tt.gop:null},this.alignGopsAtStart_=function(ne){var ge,ce,be,$e,Tt,Mt,ft,Gt;for(Tt=ne.byteLength,Mt=ne.nalCount,ft=ne.duration,ge=ce=0;ge<R.length&&ce<ne.length&&(be=R[ge]).pts!==($e=ne[ce]).pts;)$e.pts>be.pts?ge++:(ce++,Tt-=$e.byteLength,Mt-=$e.nalCount,ft-=$e.duration);return 0===ce?ne:ce===ne.length?null:((Gt=ne.slice(ce)).byteLength=Tt,Gt.duration=ft,Gt.nalCount=Mt,Gt.pts=Gt[0].pts,Gt.dts=Gt[0].dts,Gt)},this.alignGopsAtEnd_=function(ne){var ge,ce,be,$e,Tt,Mt,ft;for(ge=R.length-1,ce=ne.length-1,Tt=null,Mt=!1;ge>=0&&ce>=0;){if((be=R[ge]).pts===($e=ne[ce]).pts){Mt=!0;break}be.pts>$e.pts?ge--:(ge===R.length-1&&(Tt=ce),ce--)}if(!Mt&&null===Tt)return null;if(0===(ft=Mt?ce:Tt))return ne;var Gt=ne.slice(ft),sr=Gt.reduce(function(rs,af){return rs.byteLength+=af.byteLength,rs.duration+=af.duration,rs.nalCount+=af.nalCount,rs},{byteLength:0,duration:0,nalCount:0});return Gt.byteLength=sr.byteLength,Gt.duration=sr.duration,Gt.nalCount=sr.nalCount,Gt.pts=Gt[0].pts,Gt.dts=Gt[0].dts,Gt},this.alignGopsWith=function(ne){R=ne}},o0.prototype=new t,nf=function(_,D){this.numberOfTracks=0,this.metadataStream=D,this.remuxTracks=void 0===(_=_||{}).remux||!!_.remux,this.keepOriginalTimestamps="boolean"==typeof _.keepOriginalTimestamps&&_.keepOriginalTimestamps,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,nf.prototype.init.call(this),this.push=function(C){return C.text?this.pendingCaptions.push(C):C.frames?this.pendingMetadata.push(C):(this.pendingTracks.push(C.track),this.pendingBytes+=C.boxes.byteLength,"video"===C.track.type&&(this.videoTrack=C.track,this.pendingBoxes.push(C.boxes)),void("audio"===C.track.type&&(this.audioTrack=C.track,this.pendingBoxes.unshift(C.boxes))))}},nf.prototype=new t,nf.prototype.flush=function(G){var C,w,R,Z,_=0,D={captions:[],captionStreams:{},metadata:[],info:{}},L=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==G&&"AudioSegmentStream"!==G)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(L=this.videoTrack.timelineStartInfo.pts,eE.forEach(function(ne){D.info[ne]=this.videoTrack[ne]},this)):this.audioTrack&&(L=this.audioTrack.timelineStartInfo.pts,JD.forEach(function(ne){D.info[ne]=this.audioTrack[ne]},this)),this.videoTrack||this.audioTrack){for(D.type=1===this.pendingTracks.length?this.pendingTracks[0].type:"combined",this.emittedTracks+=this.pendingTracks.length,R=function(_){var w,D=m(),C=W(_);return(w=new Uint8Array(D.byteLength+C.byteLength)).set(D),w.set(C,D.byteLength),w}(this.pendingTracks),D.initSegment=new Uint8Array(R.byteLength),D.initSegment.set(R),D.data=new Uint8Array(this.pendingBytes),Z=0;Z<this.pendingBoxes.length;Z++)D.data.set(this.pendingBoxes[Z],_),_+=this.pendingBoxes[Z].byteLength;for(Z=0;Z<this.pendingCaptions.length;Z++)(C=this.pendingCaptions[Z]).startTime=In_metadataTsToSeconds(C.startPts,L,this.keepOriginalTimestamps),C.endTime=In_metadataTsToSeconds(C.endPts,L,this.keepOriginalTimestamps),D.captionStreams[C.stream]=!0,D.captions.push(C);for(Z=0;Z<this.pendingMetadata.length;Z++)(w=this.pendingMetadata[Z]).cueTime=In_metadataTsToSeconds(w.pts,L,this.keepOriginalTimestamps),D.metadata.push(w);for(D.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",D),Z=0;Z<D.captions.length;Z++)this.trigger("caption",C=D.captions[Z]);for(Z=0;Z<D.metadata.length;Z++)this.trigger("id3Frame",w=D.metadata[Z])}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},nf.prototype.setRemux=function(G){this.remuxTracks=G},QT=function(_){var w,R,D=this,C=!0;QT.prototype.init.call(this),this.baseMediaDecodeTime=(_=_||{}).baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var L={};this.transmuxPipeline_=L,L.type="aac",L.metadataStream=new zl.MetadataStream,L.aacStream=new FI,L.audioTimestampRolloverStream=new zl.TimestampRolloverStream("audio"),L.timedMetadataTimestampRolloverStream=new zl.TimestampRolloverStream("timed-metadata"),L.adtsStream=new Bx,L.coalesceStream=new nf(_,L.metadataStream),L.headOfPipeline=L.aacStream,L.aacStream.pipe(L.audioTimestampRolloverStream).pipe(L.adtsStream),L.aacStream.pipe(L.timedMetadataTimestampRolloverStream).pipe(L.metadataStream).pipe(L.coalesceStream),L.metadataStream.on("timestamp",function(Z){L.aacStream.setTimestamp(Z.timeStamp)}),L.aacStream.on("data",function(Z){"timed-metadata"!==Z.type&&"audio"!==Z.type||L.audioSegmentStream||(R=R||{timelineStartInfo:{baseMediaDecodeTime:D.baseMediaDecodeTime},codec:"adts",type:"audio"},L.coalesceStream.numberOfTracks++,L.audioSegmentStream=new Np(R,_),L.audioSegmentStream.on("log",D.getLogTrigger_("audioSegmentStream")),L.audioSegmentStream.on("timingInfo",D.trigger.bind(D,"audioTimingInfo")),L.adtsStream.pipe(L.audioSegmentStream).pipe(L.coalesceStream),D.trigger("trackinfo",{hasAudio:!!R,hasVideo:!!w}))}),L.coalesceStream.on("data",this.trigger.bind(this,"data")),L.coalesceStream.on("done",this.trigger.bind(this,"done")),jx(this,L)},this.setupTsPipeline=function(){var L={};this.transmuxPipeline_=L,L.type="ts",L.metadataStream=new zl.MetadataStream,L.packetStream=new zl.TransportPacketStream,L.parseStream=new zl.TransportParseStream,L.elementaryStream=new zl.ElementaryStream,L.timestampRolloverStream=new zl.TimestampRolloverStream,L.adtsStream=new Bx,L.h264Stream=new HI,L.captionStream=new zl.CaptionStream(_),L.coalesceStream=new nf(_,L.metadataStream),L.headOfPipeline=L.packetStream,L.packetStream.pipe(L.parseStream).pipe(L.elementaryStream).pipe(L.timestampRolloverStream),L.timestampRolloverStream.pipe(L.h264Stream),L.timestampRolloverStream.pipe(L.adtsStream),L.timestampRolloverStream.pipe(L.metadataStream).pipe(L.coalesceStream),L.h264Stream.pipe(L.captionStream).pipe(L.coalesceStream),L.elementaryStream.on("data",function(Z){var ne;if("metadata"===Z.type){for(ne=Z.tracks.length;ne--;)w||"video"!==Z.tracks[ne].type?!R&&"audio"===Z.tracks[ne].type&&((R=Z.tracks[ne]).timelineStartInfo.baseMediaDecodeTime=D.baseMediaDecodeTime):(w=Z.tracks[ne]).timelineStartInfo.baseMediaDecodeTime=D.baseMediaDecodeTime;w&&!L.videoSegmentStream&&(L.coalesceStream.numberOfTracks++,L.videoSegmentStream=new o0(w,_),L.videoSegmentStream.on("log",D.getLogTrigger_("videoSegmentStream")),L.videoSegmentStream.on("timelineStartInfo",function(ge){R&&!_.keepOriginalTimestamps&&(R.timelineStartInfo=ge,L.audioSegmentStream.setEarliestDts(ge.dts-D.baseMediaDecodeTime))}),L.videoSegmentStream.on("processedGopsInfo",D.trigger.bind(D,"gopInfo")),L.videoSegmentStream.on("segmentTimingInfo",D.trigger.bind(D,"videoSegmentTimingInfo")),L.videoSegmentStream.on("baseMediaDecodeTime",function(ge){R&&L.audioSegmentStream.setVideoBaseMediaDecodeTime(ge)}),L.videoSegmentStream.on("timingInfo",D.trigger.bind(D,"videoTimingInfo")),L.h264Stream.pipe(L.videoSegmentStream).pipe(L.coalesceStream)),R&&!L.audioSegmentStream&&(L.coalesceStream.numberOfTracks++,L.audioSegmentStream=new Np(R,_),L.audioSegmentStream.on("log",D.getLogTrigger_("audioSegmentStream")),L.audioSegmentStream.on("timingInfo",D.trigger.bind(D,"audioTimingInfo")),L.audioSegmentStream.on("segmentTimingInfo",D.trigger.bind(D,"audioSegmentTimingInfo")),L.adtsStream.pipe(L.audioSegmentStream).pipe(L.coalesceStream)),D.trigger("trackinfo",{hasAudio:!!R,hasVideo:!!w})}}),L.coalesceStream.on("data",this.trigger.bind(this,"data")),L.coalesceStream.on("id3Frame",function(Z){Z.dispatchType=L.metadataStream.dispatchType,D.trigger("id3Frame",Z)}),L.coalesceStream.on("caption",this.trigger.bind(this,"caption")),L.coalesceStream.on("done",this.trigger.bind(this,"done")),jx(this,L)},this.setBaseMediaDecodeTime=function(L){var Z=this.transmuxPipeline_;_.keepOriginalTimestamps||(this.baseMediaDecodeTime=L),R&&(R.timelineStartInfo.dts=void 0,R.timelineStartInfo.pts=void 0,Xa_clearDtsInfo(R),Z.audioTimestampRolloverStream&&Z.audioTimestampRolloverStream.discontinuity()),w&&(Z.videoSegmentStream&&(Z.videoSegmentStream.gopCache_=[]),w.timelineStartInfo.dts=void 0,w.timelineStartInfo.pts=void 0,Xa_clearDtsInfo(w),Z.captionStream.reset()),Z.timestampRolloverStream&&Z.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(L){R&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(L)},this.setRemux=function(L){var Z=this.transmuxPipeline_;_.remux=L,Z&&Z.coalesceStream&&Z.coalesceStream.setRemux(L)},this.alignGopsWith=function(L){w&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(L)},this.getLogTrigger_=function(L){var Z=this;return function(ne){ne.stream=L,Z.trigger("log",ne)}},this.push=function(L){if(C){var Z=UI(L);Z&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():!Z&&"ts"!==this.transmuxPipeline_.type&&this.setupTsPipeline(),C=!1}this.transmuxPipeline_.headOfPipeline.push(L)},this.flush=function(){C=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},QT.prototype=new t;var Qx,eA,nE,jI={Transmuxer:QT,VideoSegmentStream:o0,AudioSegmentStream:Np,AUDIO_PROPERTIES:JD,VIDEO_PROPERTIES:eE,generateSegmentTimingInfo:tE},ZT_toUnsigned=function(_){return _>>>0},rf=function(_){var D="";return D+=String.fromCharCode(_[0]),D+=String.fromCharCode(_[1]),(D+=String.fromCharCode(_[2]))+String.fromCharCode(_[3])},YI=ZT_toUnsigned,ci=function G(_,D){var w,R,L,Z,ne,C=[];if(!D.length)return null;for(w=0;w<_.byteLength;)R=YI(_[w]<<24|_[w+1]<<16|_[w+2]<<8|_[w+3]),L=rf(_.subarray(w+4,w+8)),Z=R>1?w+R:_.byteLength,L===D[0]&&(1===D.length?C.push(_.subarray(w+8,Z)):(ne=G(_.subarray(w+8,Z),D.slice(1))).length&&(C=C.concat(ne))),w=Z;return C},qI=ZT_toUnsigned,XI=n.getUint64,zx=function(_){return{isLeading:(12&_[0])>>>2,dependsOn:3&_[0],isDependedOn:(192&_[1])>>>6,hasRedundancy:(48&_[1])>>>4,paddingValue:(14&_[1])>>>1,isNonSyncSample:1&_[1],degradationPriority:_[2]<<8|_[3]}},qx="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},u0="undefined"!=typeof window?window:void 0!==qx?qx:"undefined"!=typeof self?self:{},tO=function(_){for(var R,L,D=_.byteLength,C=[],w=1;w<D-2;)0===_[w]&&0===_[w+1]&&3===_[w+2]?(C.push(w+2),w+=2):w++;if(0===C.length)return _;R=D-C.length,L=new Uint8Array(R);var Z=0;for(w=0;w<R;Z++,w++)Z===C[0]&&(Z++,C.shift()),L[w]=_[Z];return L},nO=VT.CaptionStream,iO=function(_,D){for(var C=_,w=0;w<D.length;w++){var R=D[w];if(C<R.size)return R;C-=R.size}return null},aO=function(_,D){var C=ci(_,["moof","traf"]),w=ci(_,["mdat"]),R={},L=[];return w.forEach(function(Z,ne){L.push({mdat:Z,traf:C[ne]})}),L.forEach(function(Z){var Gt,sr,ne=Z.mdat,ge=Z.traf,be=function(_){var be,D=new DataView(_.buffer,_.byteOffset,_.byteLength),C={version:_[0],flags:new Uint8Array(_.subarray(1,4)),trackId:D.getUint32(4)},w=1&C.flags[2],R=2&C.flags[2],L=8&C.flags[2],Z=16&C.flags[2],ne=32&C.flags[2],ge=65536&C.flags[0],ce=131072&C.flags[0];return be=8,w&&(be+=4,C.baseDataOffset=D.getUint32(12),be+=4),R&&(C.sampleDescriptionIndex=D.getUint32(be),be+=4),L&&(C.defaultSampleDuration=D.getUint32(be),be+=4),Z&&(C.defaultSampleSize=D.getUint32(be),be+=4),ne&&(C.defaultSampleFlags=D.getUint32(be)),ge&&(C.durationIsEmpty=!0),!w&&ce&&(C.baseDataOffsetIsMoof=!0),C}(ci(ge,["tfhd"])[0]),$e=be.trackId,Tt=ci(ge,["tfdt"]),Mt=Tt.length>0?function(_){var D={version:_[0],flags:new Uint8Array(_.subarray(1,4))};return D.baseMediaDecodeTime=1===D.version?XI(_.subarray(4)):qI(_[4]<<24|_[5]<<16|_[6]<<8|_[7]),D}(Tt[0]).baseMediaDecodeTime:0,ft=ci(ge,["trun"]);D===$e&&ft.length>0&&(Gt=function(_,D,C){var w=D,R=C.defaultSampleDuration||0,L=C.defaultSampleSize||0,Z=C.trackId,ne=[];return _.forEach(function(ge){var be=function(_){var $e,D={version:_[0],flags:new Uint8Array(_.subarray(1,4)),samples:[]},C=new DataView(_.buffer,_.byteOffset,_.byteLength),w=1&D.flags[2],R=4&D.flags[2],L=1&D.flags[1],Z=2&D.flags[1],ne=4&D.flags[1],ge=8&D.flags[1],ce=C.getUint32(4),be=8;for(w&&(D.dataOffset=C.getInt32(be),be+=4),R&&ce&&($e={flags:zx(_.subarray(be,be+4))},be+=4,L&&($e.duration=C.getUint32(be),be+=4),Z&&($e.size=C.getUint32(be),be+=4),ge&&($e.compositionTimeOffset=1===D.version?C.getInt32(be):C.getUint32(be),be+=4),D.samples.push($e),ce--);ce--;)$e={},L&&($e.duration=C.getUint32(be),be+=4),Z&&($e.size=C.getUint32(be),be+=4),ne&&($e.flags=zx(_.subarray(be,be+4)),be+=4),ge&&($e.compositionTimeOffset=1===D.version?C.getInt32(be):C.getUint32(be),be+=4),D.samples.push($e);return D}(ge).samples;be.forEach(function($e){void 0===$e.duration&&($e.duration=R),void 0===$e.size&&($e.size=L),$e.trackId=Z,$e.dts=w,void 0===$e.compositionTimeOffset&&($e.compositionTimeOffset=0),"bigint"==typeof w?($e.pts=w+u0.BigInt($e.compositionTimeOffset),w+=u0.BigInt($e.duration)):($e.pts=w+$e.compositionTimeOffset,w+=$e.duration)}),ne=ne.concat(be)}),ne}(ft,Mt,be),sr=function(_,D,C){var L,Z,ne,ge,w=new DataView(_.buffer,_.byteOffset,_.byteLength),R={logs:[],seiNals:[]};for(Z=0;Z+4<_.length;Z+=ne)if(ne=w.getUint32(Z),Z+=4,!(ne<=0))switch(31&_[Z]){case 6:var ce=_.subarray(Z+1,Z+1+ne),be=iO(Z,D);if(L={nalUnitType:"sei_rbsp",size:ne,data:ce,escapedRBSP:tO(ce),trackId:C},be)L.pts=be.pts,L.dts=be.dts,ge=be;else{if(!ge){R.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+Z+" for trackId "+C+". See mux.js#223."});break}L.pts=ge.pts,L.dts=ge.dts}R.seiNals.push(L)}return R}(ne,Gt,$e),R[$e]||(R[$e]={seiNals:[],logs:[]}),R[$e].seiNals=R[$e].seiNals.concat(sr.seiNals),R[$e].logs=R[$e].logs.concat(sr.logs))}),R},uO=function(){var D,C,w,R,L,Z,_=!1;this.isInitialized=function(){return _},this.init=function(ne){D=new nO,_=!0,Z=!!ne&&ne.isPartial,D.on("data",function(ge){ge.startTime=ge.startPts/R,ge.endTime=ge.endPts/R,L.captions.push(ge),L.captionStreams[ge.stream]=!0}),D.on("log",function(ge){L.logs.push(ge)})},this.isNewInit=function(ne,ge){return!(ne&&0===ne.length||ge&&"object"==typeof ge&&0===Object.keys(ge).length||w===ne[0]&&R===ge[w])},this.parse=function(ne,ge,ce){var be;if(!this.isInitialized())return null;if(!ge||!ce)return null;if(this.isNewInit(ge,ce))R=ce[w=ge[0]];else if(null===w||!R)return C.push(ne),null;for(;C.length>0;){var $e=C.shift();this.parse($e,ge,ce)}return be=function(_,D,C){if(null===D)return null;var R=aO(_,D)[D]||{};return{seiNals:R.seiNals,logs:R.logs,timescale:C}}(ne,w,R),be&&be.logs&&(L.logs=L.logs.concat(be.logs)),null!==be&&be.seiNals?(this.pushNals(be.seiNals),this.flushStream(),L):L.logs.length?{logs:L.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(ne){if(!this.isInitialized()||!ne||0===ne.length)return null;ne.forEach(function(ge){D.push(ge)})},this.flushStream=function(){if(!this.isInitialized())return null;Z?D.partialFlush():D.flush()},this.clearParsedCaptions=function(){L.captions=[],L.captionStreams={},L.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;D.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){C=[],w=null,R=null,L?this.clearParsedCaptions():L={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},JT=ZT_toUnsigned,c0=function(_){return("00"+_.toString(16)).slice(-2)},cO=n.getUint64;Qx=function(_,D){var w=ci(D,["moof","traf"]).reduce(function(R,L){var $e,Tt,Z=ci(L,["tfhd"])[0],ne=JT(Z[4]<<24|Z[5]<<16|Z[6]<<8|Z[7]),ge=_[ne]||9e4,ce=ci(L,["tfdt"])[0],be=new DataView(ce.buffer,ce.byteOffset,ce.byteLength);return"bigint"==typeof($e=1===ce[0]?cO(ce.subarray(4,12)):be.getUint32(4))?Tt=$e/u0.BigInt(ge):"number"==typeof $e&&!isNaN($e)&&(Tt=$e/ge),Tt<Number.MAX_SAFE_INTEGER&&(Tt=Number(Tt)),Tt<R&&(R=Tt),R},1/0);return"bigint"==typeof w||isFinite(w)?w:0},nE=function(_){var C=0===_[0]?12:20;return JT(_[C]<<24|_[C+1]<<16|_[C+2]<<8|_[C+3])},eA=function(_){var D=ci(_,["moov","trak"]),C=[];return D.forEach(function(w){var Z,ne,R={},L=ci(w,["tkhd"])[0];L&&(ne=(Z=new DataView(L.buffer,L.byteOffset,L.byteLength)).getUint8(0),R.id=Z.getUint32(0===ne?12:20));var ge=ci(w,["mdia","hdlr"])[0];if(ge){var ce=rf(ge.subarray(8,12));R.type="vide"===ce?"video":"soun"===ce?"audio":ce}var be=ci(w,["mdia","minf","stbl","stsd"])[0];if(be){var $e=be.subarray(8);R.codec=rf($e.subarray(4,8));var Mt,Tt=ci($e,[R.codec])[0];Tt&&(/^[asm]vc[1-9]$/i.test(R.codec)?(Mt=Tt.subarray(78),"avcC"===rf(Mt.subarray(4,8))&&Mt.length>11?(R.codec+=".",R.codec+=c0(Mt[9]),R.codec+=c0(Mt[10]),R.codec+=c0(Mt[11])):R.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(R.codec)?(Mt=Tt.subarray(28),"esds"===rf(Mt.subarray(4,8))&&Mt.length>20&&0!==Mt[19]?(R.codec+="."+c0(Mt[19]),R.codec+="."+c0(Mt[20]>>>2&63).replace(/^0/,"")):R.codec="mp4a.40.2"):R.codec=R.codec.toLowerCase())}var Gt=ci(w,["mdia","mdhd"])[0];Gt&&(R.timescale=nE(Gt)),C.push(R)}),C};var tA_startTime=Qx,tA_tracks=eA,nA=function(_){var D=31&_[1];return(D<<=8)|_[2]},e1=function(_){return!!(64&_[1])},t1=function(_){var D=0;return(48&_[3])>>>4>1&&(D+=_[4]+1),D},iE=function(_){switch(_){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},vO={parseType:function(_,D){var C=nA(_);return 0===C?"pat":C===D?"pmt":D?"pes":null},parsePat:function(_){var D=e1(_),C=4+t1(_);return D&&(C+=_[C]+1),(31&_[C+10])<<8|_[C+11]},parsePmt:function(_){var D={},C=e1(_),w=4+t1(_);if(C&&(w+=_[w]+1),1&_[w+5]){var L;L=3+((15&_[w+1])<<8|_[w+2])-4;for(var ne=12+((15&_[w+10])<<8|_[w+11]);ne<L;){var ge=w+ne;D[(31&_[ge+1])<<8|_[ge+2]]=_[ge],ne+=5+((15&_[ge+3])<<8|_[ge+4])}return D}},parsePayloadUnitStartIndicator:e1,parsePesType:function(_,D){switch(D[nA(_)]){case Ar.H264_STREAM_TYPE:return"video";case Ar.ADTS_STREAM_TYPE:return"audio";case Ar.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(_){if(!e1(_))return null;var C=4+t1(_);if(C>=_.byteLength)return null;var R,w=null;return 192&(R=_[C+7])&&((w={}).pts=(14&_[C+9])<<27|(255&_[C+10])<<20|(254&_[C+11])<<12|(255&_[C+12])<<5|(254&_[C+13])>>>3,w.pts*=4,w.pts+=(6&_[C+13])>>>1,w.dts=w.pts,64&R&&(w.dts=(14&_[C+14])<<27|(255&_[C+15])<<20|(254&_[C+16])<<12|(255&_[C+17])<<5|(254&_[C+18])>>>3,w.dts*=4,w.dts+=(6&_[C+18])>>>1)),w},videoPacketContainsKeyFrame:function(_){for(var D=4+t1(_),C=_.subarray(D),w=0,R=0,L=!1;R<C.byteLength-3;R++)if(1===C[R+2]){w=R+5;break}for(;w<C.byteLength;)switch(C[w]){case 0:if(0!==C[w-1]){w+=2;break}if(0!==C[w-2]){w++;break}R+3!==w-2&&"slice_layer_without_partitioning_rbsp_idr"===iE(31&C[R+3])&&(L=!0);do{w++}while(1!==C[w]&&w<C.length);R=w-2,w+=3;break;case 1:if(0!==C[w-1]||0!==C[w-2]){w+=3;break}"slice_layer_without_partitioning_rbsp_idr"===iE(31&C[R+3])&&(L=!0),R=w-2,w+=3;break;default:w+=3}return C=C.subarray(R),w-=R,R=0,C&&C.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===iE(31&C[R+3])&&(L=!0),L}},Ip=Px_handleRollover,Yn={};Yn.ts=vO,Yn.aac=qT;var sf=9e4,is=188,iA=function(_,D,C){for(var L,ne,ge,ce,w=0,R=is,be=!1;R<=_.byteLength;)if(71!==_[w]||71!==_[R]&&R!==_.byteLength)w++,R++;else{if("pes"===(L=_.subarray(w,R),Yn.ts.parseType(L,D.pid))&&(ne=Yn.ts.parsePesType(L,D.table),ge=Yn.ts.parsePayloadUnitStartIndicator(L),"audio"===ne&&ge&&(ce=Yn.ts.parsePesTime(L))&&(ce.type="audio",C.audio.push(ce),be=!0)),be)break;w+=is,R+=is}for(w=(R=_.byteLength)-is,be=!1;w>=0;)if(71!==_[w]||71!==_[R]&&R!==_.byteLength)w--,R--;else{if("pes"===(L=_.subarray(w,R),Yn.ts.parseType(L,D.pid))&&(ne=Yn.ts.parsePesType(L,D.table),ge=Yn.ts.parsePayloadUnitStartIndicator(L),"audio"===ne&&ge&&(ce=Yn.ts.parsePesTime(L))&&(ce.type="audio",C.audio.push(ce),be=!0)),be)break;w-=is,R-=is}},yO=function(_,D,C){for(var L,ne,ge,ce,be,$e,Tt,w=0,R=is,Mt=!1,ft={data:[],size:0};R<_.byteLength;)if(71!==_[w]||71!==_[R])w++,R++;else{if("pes"===(L=_.subarray(w,R),Yn.ts.parseType(L,D.pid))&&(ne=Yn.ts.parsePesType(L,D.table),ge=Yn.ts.parsePayloadUnitStartIndicator(L),"video"===ne&&(ge&&!Mt&&(ce=Yn.ts.parsePesTime(L))&&(ce.type="video",C.video.push(ce),Mt=!0),!C.firstKeyFrame))){if(ge&&0!==ft.size){for(be=new Uint8Array(ft.size),$e=0;ft.data.length;)Tt=ft.data.shift(),be.set(Tt,$e),$e+=Tt.byteLength;if(Yn.ts.videoPacketContainsKeyFrame(be)){var Gt=Yn.ts.parsePesTime(be);Gt?(C.firstKeyFrame=Gt,C.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}ft.size=0}ft.data.push(L),ft.size+=L.byteLength}if(Mt&&C.firstKeyFrame)break;w+=is,R+=is}for(w=(R=_.byteLength)-is,Mt=!1;w>=0;)if(71!==_[w]||71!==_[R])w--,R--;else{if("pes"===(L=_.subarray(w,R),Yn.ts.parseType(L,D.pid))&&(ne=Yn.ts.parsePesType(L,D.table),ge=Yn.ts.parsePayloadUnitStartIndicator(L),"video"===ne&&ge&&(ce=Yn.ts.parsePesTime(L))&&(ce.type="video",C.video.push(ce),Mt=!0)),Mt)break;w-=is,R-=is}},DO_inspect=function(_,D){var w;return w=Yn.aac.isLikelyAacData(_)?function(_){for(var ne,D=!1,C=0,w=null,R=null,L=0,Z=0;_.length-Z>=3;){switch(Yn.aac.parseType(_,Z)){case"timed-metadata":if(_.length-Z<10){D=!0;break}if((L=Yn.aac.parseId3TagSize(_,Z))>_.length){D=!0;break}null===R&&(ne=_.subarray(Z,Z+L),R=Yn.aac.parseAacTimestamp(ne)),Z+=L;break;case"audio":if(_.length-Z<7){D=!0;break}if((L=Yn.aac.parseAdtsSize(_,Z))>_.length){D=!0;break}null===w&&(ne=_.subarray(Z,Z+L),w=Yn.aac.parseSampleRate(ne)),C++,Z+=L;break;default:Z++}if(D)return null}if(null===w||null===R)return null;var ce=sf/w;return{audio:[{type:"audio",dts:R,pts:R},{type:"audio",dts:R+1024*C*ce,pts:R+1024*C*ce}]}}(_):function(_){var D={pid:null,table:null},C={};for(var w in function(_,D){for(var R,C=0,w=is;w<_.byteLength;)if(71!==_[C]||71!==_[w])C++,w++;else{switch(R=_.subarray(C,w),Yn.ts.parseType(R,D.pid)){case"pat":D.pid=Yn.ts.parsePat(R);break;case"pmt":var Z=Yn.ts.parsePmt(R);D.table=D.table||{},Object.keys(Z).forEach(function(ne){D.table[ne]=Z[ne]})}C+=is,w+=is}}(_,D),D.table)if(D.table.hasOwnProperty(w))switch(D.table[w]){case Ar.H264_STREAM_TYPE:C.video=[],yO(_,D,C),0===C.video.length&&delete C.video;break;case Ar.ADTS_STREAM_TYPE:C.audio=[],iA(_,D,C),0===C.audio.length&&delete C.audio}return C}(_),w&&(w.audio||w.video)?(function(_,D){if(_.audio&&_.audio.length){var C=D;(void 0===C||isNaN(C))&&(C=_.audio[0].dts),_.audio.forEach(function(L){L.dts=Ip(L.dts,C),L.pts=Ip(L.pts,C),L.dtsTime=L.dts/sf,L.ptsTime=L.pts/sf})}if(_.video&&_.video.length){var w=D;if((void 0===w||isNaN(w))&&(w=_.video[0].dts),_.video.forEach(function(L){L.dts=Ip(L.dts,w),L.pts=Ip(L.pts,w),L.dtsTime=L.dts/sf,L.ptsTime=L.pts/sf}),_.firstKeyFrame){var R=_.firstKeyFrame;R.dts=Ip(R.dts,w),R.pts=Ip(R.pts,w),R.dtsTime=R.dts/sf,R.ptsTime=R.pts/sf}}}(w,D),w):null},rA=function(){function G(D,C){this.options=C||{},this.self=D,this.init()}var _=G.prototype;return _.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new jI.Transmuxer(this.options),function(_,D){D.on("data",function(C){var w=C.initSegment;C.initSegment={data:w.buffer,byteOffset:w.byteOffset,byteLength:w.byteLength};var R=C.data;C.data=R.buffer,_.postMessage({action:"data",segment:C,byteOffset:R.byteOffset,byteLength:R.byteLength},[C.data])}),D.on("done",function(C){_.postMessage({action:"done"})}),D.on("gopInfo",function(C){_.postMessage({action:"gopInfo",gopInfo:C})}),D.on("videoSegmentTimingInfo",function(C){var w={start:{decode:In_videoTsToSeconds(C.start.dts),presentation:In_videoTsToSeconds(C.start.pts)},end:{decode:In_videoTsToSeconds(C.end.dts),presentation:In_videoTsToSeconds(C.end.pts)},baseMediaDecodeTime:In_videoTsToSeconds(C.baseMediaDecodeTime)};C.prependedContentDuration&&(w.prependedContentDuration=In_videoTsToSeconds(C.prependedContentDuration)),_.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:w})}),D.on("audioSegmentTimingInfo",function(C){var w={start:{decode:In_videoTsToSeconds(C.start.dts),presentation:In_videoTsToSeconds(C.start.pts)},end:{decode:In_videoTsToSeconds(C.end.dts),presentation:In_videoTsToSeconds(C.end.pts)},baseMediaDecodeTime:In_videoTsToSeconds(C.baseMediaDecodeTime)};C.prependedContentDuration&&(w.prependedContentDuration=In_videoTsToSeconds(C.prependedContentDuration)),_.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:w})}),D.on("id3Frame",function(C){_.postMessage({action:"id3Frame",id3Frame:C})}),D.on("caption",function(C){_.postMessage({action:"caption",caption:C})}),D.on("trackinfo",function(C){_.postMessage({action:"trackinfo",trackInfo:C})}),D.on("audioTimingInfo",function(C){_.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:In_videoTsToSeconds(C.start),end:In_videoTsToSeconds(C.end)}})}),D.on("videoTimingInfo",function(C){_.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:In_videoTsToSeconds(C.start),end:In_videoTsToSeconds(C.end)}})}),D.on("log",function(C){_.postMessage({action:"log",log:C})})}(this.self,this.transmuxer)},_.pushMp4Captions=function(C){this.captionParser||(this.captionParser=new uO,this.captionParser.init());var w=new Uint8Array(C.data,C.byteOffset,C.byteLength),R=this.captionParser.parse(w,C.trackIds,C.timescales);this.self.postMessage({action:"mp4Captions",captions:R&&R.captions||[],logs:R&&R.logs||[],data:w.buffer},[w.buffer])},_.probeMp4StartTime=function(C){var R=C.data,L=tA_startTime(C.timescales,R);this.self.postMessage({action:"probeMp4StartTime",startTime:L,data:R},[R.buffer])},_.probeMp4Tracks=function(C){var w=C.data,R=tA_tracks(w);this.self.postMessage({action:"probeMp4Tracks",tracks:R,data:w},[w.buffer])},_.probeTs=function(C){var w=C.data,R=C.baseStartTime,L="number"!=typeof R||isNaN(R)?void 0:9e4*R,Z=DO_inspect(w,L),ne=null;Z&&((ne={hasVideo:Z.video&&2===Z.video.length||!1,hasAudio:Z.audio&&2===Z.audio.length||!1}).hasVideo&&(ne.videoStart=Z.video[0].ptsTime),ne.hasAudio&&(ne.audioStart=Z.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:ne,data:w},[w.buffer])},_.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},_.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},_.push=function(C){var w=new Uint8Array(C.data,C.byteOffset,C.byteLength);this.transmuxer.push(w)},_.reset=function(){this.transmuxer.reset()},_.setTimestampOffset=function(C){this.transmuxer.setBaseMediaDecodeTime(Math.round(In_secondsToVideoTs(C.timestampOffset||0)))},_.setAudioAppendStart=function(C){this.transmuxer.setAudioAppendStart(Math.ceil(In_secondsToVideoTs(C.appendStart)))},_.setRemux=function(C){this.transmuxer.setRemux(C.remux)},_.flush=function(C){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},_.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},_.alignGopsWith=function(C){this.transmuxer.alignGopsWith(C.gopsToAlignWith.slice())},G}();self.onmessage=function(G){"init"===G.data.action&&G.data.options?this.messageHandlers=new rA(self,G.data.options):(this.messageHandlers||(this.messageHandlers=new rA(self)),G.data&&G.data.action&&"init"!==G.data.action&&this.messageHandlers[G.data.action]&&this.messageHandlers[G.data.action](G.data))}})),_C=Lm(vC),tb=function(t){var e=t.transmuxer,i=t.bytes,n=t.audioAppendStart,s=t.gopsToAlignWith,l=t.remux,d=t.onData,p=t.onTrackInfo,m=t.onAudioTimingInfo,y=t.onVideoTimingInfo,M=t.onVideoSegmentTimingInfo,A=t.onAudioSegmentTimingInfo,k=t.onId3,W=t.onCaptions,H=t.onDone,j=t.onEndedTimeline,le=t.onTransmuxerLog,he=t.isEndOfTimeline,Ne={buffer:[]},Ie=he;if(e.onmessage=function(dt){e.currentTransmux===t&&("data"===dt.data.action&&function(t,e,i){var n=t.data.segment,s=n.type,l=n.initSegment,y=n.videoFrameDtsTime,M=n.videoFramePtsTime;e.buffer.push({captions:n.captions,captionStreams:n.captionStreams,metadata:n.metadata});var A=t.data.segment.boxes||{data:t.data.segment.data},k={type:s,data:new Uint8Array(A.data,A.data.byteOffset,A.data.byteLength),initSegment:new Uint8Array(l.data,l.byteOffset,l.byteLength)};void 0!==y&&(k.videoFrameDtsTime=y),void 0!==M&&(k.videoFramePtsTime=M),i(k)}(dt,Ne,d),"trackinfo"===dt.data.action&&p(dt.data.trackInfo),"gopInfo"===dt.data.action&&function(t,e){e.gopInfo=t.data.gopInfo}(dt,Ne),"audioTimingInfo"===dt.data.action&&m(dt.data.audioTimingInfo),"videoTimingInfo"===dt.data.action&&y(dt.data.videoTimingInfo),"videoSegmentTimingInfo"===dt.data.action&&M(dt.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===dt.data.action&&A(dt.data.audioSegmentTimingInfo),"id3Frame"===dt.data.action&&k([dt.data.id3Frame],dt.data.id3Frame.dispatchType),"caption"===dt.data.action&&W(dt.data.caption),"endedtimeline"===dt.data.action&&(Ie=!1,j()),"log"===dt.data.action&&le(dt.data.log),"transmuxed"===dt.data.type&&(Ie||(e.onmessage=null,function(t){var e=t.transmuxedData,i=t.callback;e.buffer=[],i(e)}({transmuxedData:Ne,callback:H}),nb(e))))},n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(s)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),void 0!==l&&e.postMessage({action:"setRemux",remux:l}),i.byteLength){var ze=i instanceof ArrayBuffer?i:i.buffer,et=i instanceof ArrayBuffer?0:i.byteOffset;e.postMessage({action:"push",data:ze,byteOffset:et,byteLength:i.byteLength},[ze])}he&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},nb=function(t){t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),"function"==typeof t.currentTransmux?t.currentTransmux():tb(t.currentTransmux))},ib=function(t,e){t.postMessage({action:e}),nb(t)},tp_reset=function(t){!function(t,e){if(!e.currentTransmux)return e.currentTransmux=t,void ib(e,t);e.transmuxQueue.push(ib.bind(null,e,t))}("reset",t)},Rd=function(t){var e=t.transmuxer,i=t.endAction||t.action,n=t.callback,s=Cr({},t,{endAction:null,transmuxer:null,callback:null});if(e.addEventListener("message",function m(y){y.data.action===i&&(e.removeEventListener("message",m),y.data.data&&(y.data.data=new Uint8Array(y.data.data,t.byteOffset||0,t.byteLength||y.data.data.byteLength),t.data&&(t.data=y.data.data)),n(y.data))}),t.data){var d=t.data instanceof ArrayBuffer;s.byteOffset=d?0:t.data.byteOffset,s.byteLength=t.data.byteLength,e.postMessage(s,[d?t.data:t.data.buffer])}else e.postMessage(s)},Um=function(t){t.forEach(function(e){e.abort()})},Gm=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:-101,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:-102,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:2,xhr:e}:"arraybuffer"===e.responseType&&0===e.response.byteLength?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:2,xhr:e}:null},ob=function(t,e,i){return function(n,s){var l=s.response,d=Gm(n,s);if(d)return i(d,t);if(16!==l.byteLength)return i({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:2,xhr:s},t);for(var p=new DataView(l),m=new Uint32Array([p.getUint32(0),p.getUint32(4),p.getUint32(8),p.getUint32(12)]),y=0;y<e.length;y++)e[y].bytes=m;return i(null,t)}},np=function(t,e){var i=rd(t.map.bytes);if("mp4"!==i)return e({internal:!0,message:"Found unsupported "+(i||"unknown")+" container for initialization segment at URL: "+(t.map.resolvedUri||t.map.uri),code:2});Rd({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:function(l){var d=l.tracks;return t.map.bytes=l.data,d.forEach(function(m){t.map.tracks=t.map.tracks||{},!t.map.tracks[m.type]&&(t.map.tracks[m.type]=m,"number"==typeof m.id&&m.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[m.id]=m.timescale))}),e(null)}})},Wm=function(t){var e=t.segment,i=t.bytes,n=t.trackInfoFn,s=t.timingInfoFn,l=t.videoSegmentTimingInfoFn,d=t.audioSegmentTimingInfoFn,p=t.id3Fn,m=t.captionsFn,y=t.isEndOfTimeline,M=t.endedTimelineFn,A=t.dataFn,k=t.doneFn,W=t.onTransmuxerLog,H=e.map&&e.map.tracks||{},j=Boolean(H.audio&&H.video),le=s.bind(null,e,"audio","start"),he=s.bind(null,e,"audio","end"),Ne=s.bind(null,e,"video","start"),Ie=s.bind(null,e,"video","end");Rd({action:"probeTs",transmuxer:e.transmuxer,data:i,baseStartTime:e.baseStartTime,callback:function(et){e.bytes=i=et.data;var Be=et.result;Be&&(n(e,{hasAudio:Be.hasAudio,hasVideo:Be.hasVideo,isMuxed:j}),n=null,Be.hasAudio&&!j&&le(Be.audioStart),Be.hasVideo&&Ne(Be.videoStart),le=null,Ne=null),function(t){if(!t.transmuxer.currentTransmux)return t.transmuxer.currentTransmux=t,void tb(t);t.transmuxer.transmuxQueue.push(t)}({bytes:i,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:j,onData:function(Be){Be.type="combined"===Be.type?"video":Be.type,A(e,Be)},onTrackInfo:function(Be){n&&(j&&(Be.isMuxed=!0),n(e,Be))},onAudioTimingInfo:function(Be){le&&void 0!==Be.start&&(le(Be.start),le=null),he&&void 0!==Be.end&&he(Be.end)},onVideoTimingInfo:function(Be){Ne&&void 0!==Be.start&&(Ne(Be.start),Ne=null),Ie&&void 0!==Be.end&&Ie(Be.end)},onVideoSegmentTimingInfo:function(Be){l(Be)},onAudioSegmentTimingInfo:function(Be){d(Be)},onId3:function(Be,dt){p(e,Be,dt)},onCaptions:function(Be){m(e,[Be])},isEndOfTimeline:y,onEndedTimeline:function(){M()},onTransmuxerLog:W,onDone:function(Be){!k||(Be.type="combined"===Be.type?"video":Be.type,k(null,e,Be))}})}})},ub=function(t){var e=t.segment,i=t.bytes,n=t.trackInfoFn,s=t.timingInfoFn,l=t.videoSegmentTimingInfoFn,d=t.audioSegmentTimingInfoFn,p=t.id3Fn,m=t.captionsFn,y=t.isEndOfTimeline,M=t.endedTimelineFn,A=t.dataFn,k=t.doneFn,W=t.onTransmuxerLog,H=new Uint8Array(i);if(function(t){return Kr(t,["moof"]).length>0}(H)){e.isFmp4=!0;var j=e.map.tracks,le={isFmp4:!0,hasVideo:!!j.video,hasAudio:!!j.audio};j.audio&&j.audio.codec&&"enca"!==j.audio.codec&&(le.audioCodec=j.audio.codec),j.video&&j.video.codec&&"encv"!==j.video.codec&&(le.videoCodec=j.video.codec),j.video&&j.audio&&(le.isMuxed=!0),n(e,le);var he=function(Ie){A(e,{data:H,type:le.hasAudio&&!le.isMuxed?"audio":"video"}),Ie&&Ie.length&&m(e,Ie),k(null,e,{})};Rd({action:"probeMp4StartTime",timescales:e.map.timescales,data:H,transmuxer:e.transmuxer,callback:function(Ie){var Pe=Ie.data,ze=Ie.startTime;i=Pe.buffer,e.bytes=H=Pe,le.hasAudio&&!le.isMuxed&&s(e,"audio","start",ze),le.hasVideo&&s(e,"video","start",ze),j.video&&Pe.byteLength&&e.transmuxer?Rd({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:H,timescales:e.map.timescales,trackIds:[j.video.id],callback:function(Be){i=Be.data.buffer,e.bytes=H=Be.data,Be.logs.forEach(function(dt){W(Se.mergeOptions(dt,{stream:"mp4CaptionParser"}))}),he(Be.captions)}}):he()}})}else{if(e.transmuxer)return void 0===e.container&&(e.container=rd(H)),"ts"!==e.container&&"aac"!==e.container?(n(e,{hasAudio:!1,hasVideo:!1}),void k(null,e,{})):void Wm({segment:e,bytes:i,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:p,captionsFn:m,isEndOfTimeline:y,endedTimelineFn:M,dataFn:A,doneFn:k,onTransmuxerLog:W});k(null,e,{})}},cb=function(t,e){var p,i=t.id,n=t.key,s=t.encryptedBytes,l=t.decryptionWorker;l.addEventListener("message",function m(y){if(y.data.source===i){l.removeEventListener("message",m);var M=y.data.decrypted;e(new Uint8Array(M.bytes,M.byteOffset,M.byteLength))}}),p=n.bytes.slice?n.bytes.slice():new Uint32Array(Array.prototype.slice.call(n.bytes)),l.postMessage(Pm({source:i,encrypted:s,key:p,iv:n.iv}),[s.buffer,p.buffer])},fb=function(t){var e=t.xhr,i=t.xhrOptions,s=t.segment,l=t.abortFn,d=t.progressFn,p=t.trackInfoFn,m=t.timingInfoFn,y=t.videoSegmentTimingInfoFn,M=t.audioSegmentTimingInfoFn,A=t.id3Fn,k=t.captionsFn,W=t.isEndOfTimeline,H=t.endedTimelineFn,j=t.dataFn,Ne=[],Ie=function(t){var e=t.activeXhrs,i=t.decryptionWorker,n=t.trackInfoFn,s=t.timingInfoFn,l=t.videoSegmentTimingInfoFn,d=t.audioSegmentTimingInfoFn,p=t.id3Fn,m=t.captionsFn,y=t.isEndOfTimeline,M=t.endedTimelineFn,A=t.dataFn,k=t.doneFn,W=t.onTransmuxerLog,H=0,j=!1;return function(le,he){if(!j){if(le)return j=!0,Um(e),k(le,he);if((H+=1)===e.length){var Ne=function(){if(he.encryptedBytes)return function(t){var i=t.segment,n=t.trackInfoFn,s=t.timingInfoFn,l=t.videoSegmentTimingInfoFn,d=t.audioSegmentTimingInfoFn,p=t.id3Fn,m=t.captionsFn,y=t.isEndOfTimeline,M=t.endedTimelineFn,A=t.dataFn,k=t.doneFn,W=t.onTransmuxerLog;cb({id:i.requestId,key:i.key,encryptedBytes:i.encryptedBytes,decryptionWorker:t.decryptionWorker},function(H){i.bytes=H,ub({segment:i,bytes:i.bytes,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:p,captionsFn:m,isEndOfTimeline:y,endedTimelineFn:M,dataFn:A,doneFn:k,onTransmuxerLog:W})})}({decryptionWorker:i,segment:he,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:p,captionsFn:m,isEndOfTimeline:y,endedTimelineFn:M,dataFn:A,doneFn:k,onTransmuxerLog:W});ub({segment:he,bytes:he.bytes,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:d,id3Fn:p,captionsFn:m,isEndOfTimeline:y,endedTimelineFn:M,dataFn:A,doneFn:k,onTransmuxerLog:W})};if(he.endOfAllRequests=Date.now(),he.map&&he.map.encryptedBytes&&!he.map.bytes)return cb({decryptionWorker:i,id:he.requestId+"-init",encryptedBytes:he.map.encryptedBytes,key:he.map.key},function(Ie){he.map.bytes=Ie,np(he,function(Pe){if(Pe)return Um(e),k(Pe,he);Ne()})});Ne()}}}}({activeXhrs:Ne,decryptionWorker:t.decryptionWorker,trackInfoFn:p,timingInfoFn:m,videoSegmentTimingInfoFn:y,audioSegmentTimingInfoFn:M,id3Fn:A,captionsFn:k,isEndOfTimeline:W,endedTimelineFn:H,dataFn:j,doneFn:t.doneFn,onTransmuxerLog:t.onTransmuxerLog});if(s.key&&!s.key.bytes){var Pe=[s.key];s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvedUri===s.key.resolvedUri&&Pe.push(s.map.key);var Be=e(Se.mergeOptions(i,{uri:s.key.resolvedUri,responseType:"arraybuffer"}),ob(s,Pe,Ie));Ne.push(Be)}if(s.map&&!s.map.bytes){if(s.map.key&&(!s.key||s.key.resolvedUri!==s.map.key.resolvedUri)){var At=e(Se.mergeOptions(i,{uri:s.map.key.resolvedUri,responseType:"arraybuffer"}),ob(s,[s.map.key],Ie));Ne.push(At)}var tn=Se.mergeOptions(i,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:Qh(s.map)}),Mi=function(t){var e=t.segment,i=t.finishProcessingFn;return function(n,s){var l=Gm(n,s);if(l)return i(l,e);var d=new Uint8Array(s.response);if(e.map.key)return e.map.encryptedBytes=d,i(null,e);e.map.bytes=d,np(e,function(p){if(p)return p.xhr=s,p.status=s.status,i(p,e);i(null,e)})}}({segment:s,finishProcessingFn:Ie}),pn=e(tn,Mi);Ne.push(pn)}var Ui=Se.mergeOptions(i,{uri:s.part&&s.part.resolvedUri||s.resolvedUri,responseType:"arraybuffer",headers:Qh(s)}),xr=e(Ui,function(t){var e=t.segment,i=t.finishProcessingFn,n=t.responseType;return function(s,l){var d=Gm(s,l);if(d)return i(d,e);var p="arraybuffer"!==n&&l.responseText?function(t){for(var e=new Uint8Array(new ArrayBuffer(t.length)),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e.buffer}(l.responseText.substring(e.lastReachedChar||0)):l.response;return e.stats=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}}(l),e.key?e.encryptedBytes=new Uint8Array(p):e.bytes=new Uint8Array(p),i(null,e)}}({segment:s,finishProcessingFn:Ie,responseType:Ui.responseType}));xr.addEventListener("progress",function(t){var e=t.segment,i=t.progressFn;return function(n){if(!n.target.aborted)return e.stats=Se.mergeOptions(e.stats,function(t){var e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n}(n)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),i(n,e)}}({segment:s,progressFn:d,trackInfoFn:p,timingInfoFn:m,videoSegmentTimingInfoFn:y,audioSegmentTimingInfoFn:M,id3Fn:A,captionsFn:k,isEndOfTimeline:W,endedTimelineFn:H,dataFn:j})),Ne.push(xr);var mr={};return Ne.forEach(function(ms){ms.addEventListener("loadend",function(t){var e=t.loadendState,i=t.abortFn;return function(n){n.target.aborted&&i&&!e.calledAbortFn&&(i(),e.calledAbortFn=!0)}}({loadendState:mr,abortFn:l}))}),function(){return Um(Ne)}},EC=Hs("CodecUtils"),wC=function(t,e){var i=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&i.AUDIO&&t.mediaGroups.AUDIO[i.AUDIO]},Pl=function(t){var e={};return t.forEach(function(i){var n=i.mediaType,s=i.type,l=i.details;e[n]=e[n]||[],e[n].push(Zc(""+s+l))}),Object.keys(e).forEach(function(i){if(e[i].length>1)return EC("multiple "+i+" codecs found as attributes: "+e[i].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),void(e[i]=null);e[i]=e[i][0]}),e},pb=function(t){var e=0;return t.audio&&e++,t.video&&e++,e},ha=function(t,e){var i=e.attributes||{},n=Pl(function(t){var e=t.attributes||{};if(e.CODECS)return Zn(e.CODECS)}(e)||[]);if(wC(t,e)&&!n.audio&&!function(t,e){if(!wC(t,e))return!0;var n=t.mediaGroups.AUDIO[(e.attributes||{}).AUDIO];for(var s in n)if(!n[s].uri&&!n[s].playlists)return!0;return!1}(t,e)){var s=Pl(function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var i=t.mediaGroups.AUDIO[e];if(!i)return null;for(var n in i){var s=i[n];if(s.default&&s.playlists)return Zn(s.playlists[0].attributes.CODECS)}return null}(t,i.AUDIO)||[]);s.audio&&(n.audio=s.audio)}return n},Ao=Hs("PlaylistSelector"),gb=function(t){if(t&&t.playlist){var e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})}},zm=function(t,e){if(!t)return"";var i=re().getComputedStyle(t);return i?i[e]:""},Rl=function(t,e){var i=t.slice();t.sort(function(n,s){var l=e(n,s);return 0===l?i.indexOf(n)-i.indexOf(s):l})},Ym=function(t,e){var i,n;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||re().Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),i-(n||re().Number.MAX_VALUE)},mb=function(t,e,i,n,s,l){if(t){var d={bandwidth:e,width:i,height:n,limitRenditionByPlayerDimensions:s},p=t.playlists;dn.isAudioOnly(t)&&(p=l.getAudioTrackPlaylists_(),d.audioOnly=!0);var m=p.map(function(lt){var At=lt.attributes&&lt.attributes.RESOLUTION&&lt.attributes.RESOLUTION.width,tn=lt.attributes&&lt.attributes.RESOLUTION&&lt.attributes.RESOLUTION.height;return{bandwidth:lt.attributes&&lt.attributes.BANDWIDTH||re().Number.MAX_VALUE,width:At,height:tn,playlist:lt}});Rl(m,function(lt,Lt){return lt.bandwidth-Lt.bandwidth});var y=(m=m.filter(function(lt){return!dn.isIncompatible(lt.playlist)})).filter(function(lt){return dn.isEnabled(lt.playlist)});y.length||(y=m.filter(function(lt){return!dn.isDisabled(lt.playlist)}));var M=y.filter(function(lt){return lt.bandwidth*Li.BANDWIDTH_VARIANCE<e}),A=M[M.length-1],k=M.filter(function(lt){return lt.bandwidth===A.bandwidth})[0];if(!1===s){var W=k||y[0]||m[0];if(W&&W.playlist){var H="sortedPlaylistReps";return k&&(H="bandwidthBestRep"),y[0]&&(H="enabledPlaylistReps"),Ao("choosing "+gb(W)+" using "+H+" with options",d),W.playlist}return Ao("could not choose a playlist with options",d),null}var j=M.filter(function(lt){return lt.width&&lt.height});Rl(j,function(lt,Lt){return lt.width-Lt.width});var le=j.filter(function(lt){return lt.width===i&&lt.height===n});A=le[le.length-1];var Ne,Ie,Pe,ze,he=le.filter(function(lt){return lt.bandwidth===A.bandwidth})[0];if(he||(Ie=(Ne=j.filter(function(lt){return lt.width>i||lt.height>n})).filter(function(lt){return lt.width===Ne[0].width&&lt.height===Ne[0].height}),A=Ie[Ie.length-1],Pe=Ie.filter(function(lt){return lt.bandwidth===A.bandwidth})[0]),l.experimentalLeastPixelDiffSelector){var et=j.map(function(lt){return lt.pixelDiff=Math.abs(lt.width-i)+Math.abs(lt.height-n),lt});Rl(et,function(lt,Lt){return lt.pixelDiff===Lt.pixelDiff?Lt.bandwidth-lt.bandwidth:lt.pixelDiff-Lt.pixelDiff}),ze=et[0]}var Be=ze||Pe||he||k||y[0]||m[0];if(Be&&Be.playlist){var dt="sortedPlaylistReps";return ze?dt="leastPixelDiffRep":Pe?dt="resolutionPlusOneRep":he?dt="resolutionBestRep":k?dt="bandwidthBestRep":y[0]&&(dt="enabledPlaylistReps"),Ao("choosing "+gb(Be)+" using "+dt+" with options",d),Be.playlist}return Ao("could not choose a playlist with options",d),null}},vb=function(){var t=this.useDevicePixelRatio&&re().devicePixelRatio||1;return mb(this.playlists.master,this.systemBandwidth,parseInt(zm(this.tech_.el(),"width"),10)*t,parseInt(zm(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},Fd=function(t,e,i){var n,s;if(i&&i.cues)for(n=i.cues.length;n--;)(s=i.cues[n]).startTime>=t&&s.endTime<=e&&i.removeCue(s)},Xm=function(t){return"number"==typeof t&&isFinite(t)},rp=1/60,Ld=function(t){var e=t.startOfSegment,i=t.duration,n=t.segment,s=t.part,l=t.playlist,d=l.mediaSequence,p=l.id,m=l.segments,M=t.mediaIndex,A=t.partIndex,k=t.timeline,W=(void 0===m?[]:m).length-1,H="mediaIndex/partIndex increment";t.getMediaInfoForTime?H="getMediaInfoForTime ("+t.getMediaInfoForTime+")":t.isSyncRequest&&(H="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(H+=" with independent "+t.independent);var j="number"==typeof A,le=t.segment.uri?"segment":"pre-segment",he=j?Em({preloadSegment:n})-1:0;return le+" ["+(d+M)+"/"+(d+W)+"]"+(j?" part ["+A+"/"+he+"]":"")+" segment start/end ["+n.start+" => "+n.end+"]"+(j?" part start/end ["+s.start+" => "+s.end+"]":"")+" startOfSegment ["+e+"] duration ["+i+"] timeline ["+k+"] selected by ["+H+"] playlist ["+p+"]"},Qm=function(t){return t+"TimingInfo"},Jm=function(t){var e=t.timelineChangeController,n=t.segmentTimeline,s=t.loaderType,l=t.audioDisabled;if(t.currentTimeline===n)return!1;if("audio"===s){var d=e.lastTimelineChange({type:"main"});return!d||d.to!==n}if("main"===s&&l){var p=e.pendingTimelineChange({type:"audio"});return!(p&&p.to===n)}return!1},ev=function(t){var e=t.segmentDuration,i=t.maxDuration;return!!e&&Math.round(e)>i+Eo},tv=function(r){function t(i,n){var s;if(s=r.call(this)||this,!i)throw new TypeError("Initialization settings are required");if("function"!=typeof i.currentTime)throw new TypeError("No currentTime getter specified");if(!i.mediaSource)throw new TypeError("No MediaSource specified");return s.bandwidth=i.bandwidth,s.throughput={rate:0,count:0},s.roundTrip=NaN,s.resetStats_(),s.mediaIndex=null,s.partIndex=null,s.hasPlayed_=i.hasPlayed,s.currentTime_=i.currentTime,s.seekable_=i.seekable,s.seeking_=i.seeking,s.duration_=i.duration,s.mediaSource_=i.mediaSource,s.vhs_=i.vhs,s.loaderType_=i.loaderType,s.currentMediaInfo_=void 0,s.startingMediaInfo_=void 0,s.segmentMetadataTrack_=i.segmentMetadataTrack,s.goalBufferLength_=i.goalBufferLength,s.sourceType_=i.sourceType,s.sourceUpdater_=i.sourceUpdater,s.inbandTextTracks_=i.inbandTextTracks,s.state_="INIT",s.timelineChangeController_=i.timelineChangeController,s.shouldSaveSegmentTimingInfo_=!0,s.parse708captions_=i.parse708captions,s.captionServices_=i.captionServices,s.experimentalExactManifestTimings=i.experimentalExactManifestTimings,s.checkBufferTimeout_=null,s.error_=void 0,s.currentTimeline_=-1,s.pendingSegment_=null,s.xhrOptions_=null,s.pendingSegments_=[],s.audioDisabled_=!1,s.isPendingTimestampOffset_=!1,s.gopBuffer_=[],s.timeMapping_=0,s.safeAppend_=Se.browser.IE_VERSION>=11,s.appendInitSegment_={audio:!0,video:!0},s.playlistOfLastInitSegment_={audio:null,video:null},s.callQueue_=[],s.loadQueue_=[],s.metadataQueue_={id3:[],caption:[]},s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=null,s.activeInitSegmentId_=null,s.initSegments_={},s.cacheEncryptionKeys_=i.cacheEncryptionKeys,s.keyCache_={},s.decrypter_=i.decrypter,s.syncController_=i.syncController,s.syncPoint_={segmentIndex:0,time:0},s.transmuxer_=s.createTransmuxer_(),s.triggerSyncInfoUpdate_=function(){return s.trigger("syncinfoupdate")},s.syncController_.on("syncinfoupdate",s.triggerSyncInfoUpdate_),s.mediaSource_.addEventListener("sourceopen",function(){s.isEndOfStream_()||(s.ended_=!1)}),s.fetchAtBuffer_=!1,s.logger_=Hs("SegmentLoader["+s.loaderType_+"]"),Object.defineProperty(jt(s),"state",{get:function(){return this.state_},set:function(d){d!==this.state_&&(this.logger_(this.state_+" -> "+d),this.state_=d,this.trigger("statechange"))}}),s.sourceUpdater_.on("ready",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),"main"===s.loaderType_&&s.timelineChangeController_.on("pendingtimelinechange",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),"audio"===s.loaderType_&&s.timelineChangeController_.on("timelinechange",function(){s.hasEnoughInfoToLoad_()&&s.processLoadQueue_(),s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s}bt(t,r);var e=t.prototype;return e.createTransmuxer_=function(){return function(t){var e=new _C;e.currentTransmux=null,e.transmuxQueue=[];var i=e.terminate;return e.terminate=function(){return e.currentTransmux=null,e.transmuxQueue.length=0,i.call(e)},e.postMessage({action:"init",options:t}),e}({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},e.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},e.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&re().clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},e.setAudio=function(n){this.audioDisabled_=!n,n?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},e.abort=function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)},e.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,re().clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},e.checkForAbort_=function(n){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==n:(this.state="READY",!0)},e.error=function(n){return void 0!==n&&(this.logger_("error occurred:",n),this.error_=n),this.pendingSegment_=null,this.error_},e.endOfStream=function(){this.ended_=!0,this.transmuxer_&&tp_reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},e.buffered_=function(){var n=this.getMediaInfo_();if(!this.sourceUpdater_||!n)return Se.createTimeRanges();if("main"===this.loaderType_){var l=n.hasVideo;if(l&&n.hasAudio&&!this.audioDisabled_&&!n.isMuxed)return this.sourceUpdater_.buffered();if(l)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},e.initSegmentForMap=function(n,s){if(void 0===s&&(s=!1),!n)return null;var l=Zh(n),d=this.initSegments_[l];return s&&!d&&n.bytes&&(this.initSegments_[l]=d={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:n.bytes,tracks:n.tracks,timescales:n.timescales}),d||n},e.segmentKey=function(n,s){if(void 0===s&&(s=!1),!n)return null;var l=$y(n),d=this.keyCache_[l];this.cacheEncryptionKeys_&&s&&!d&&n.bytes&&(this.keyCache_[l]=d={resolvedUri:n.resolvedUri,bytes:n.bytes});var p={resolvedUri:(d||n).resolvedUri};return d&&(p.bytes=d.bytes),p},e.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},e.load=function(){if(this.monitorBuffer_(),this.playlist_){if("INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}},e.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},e.playlist=function(n,s){if(void 0===s&&(s={}),n){var l=this.playlist_,d=this.pendingSegment_;this.playlist_=n,this.xhrOptions_=s,"INIT"===this.state&&(n.syncInfo={mediaSequence:n.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(n));var p=null;if(l&&(l.id?p=l.id:l.uri&&(p=l.uri)),this.logger_("playlist update ["+p+" => "+(n.id||n.uri)+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!l||l.uri!==n.uri)return null!==this.mediaIndex&&(n.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,void this.trigger("playlistupdate");var m=n.mediaSequence-l.mediaSequence;if(this.logger_("live window shift ["+m+"]"),null!==this.mediaIndex)if(this.mediaIndex-=m,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var y=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!y.parts||!y.parts.length||!y.parts[this.partIndex])){var M=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=M}}d&&(d.mediaIndex-=m,d.mediaIndex<0?(d.mediaIndex=null,d.partIndex=null):(d.mediaIndex>=0&&(d.segment=n.segments[d.mediaIndex]),d.partIndex>=0&&d.segment.parts&&(d.part=d.segment.parts[d.partIndex]))),this.syncController_.saveExpiredSegmentInfo(l,n)}},e.pause=function(){this.checkBufferTimeout_&&(re().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},e.paused=function(){return null===this.checkBufferTimeout_},e.resetEverything=function(n){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,n),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},e.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},e.resyncLoader=function(){this.transmuxer_&&tp_reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},e.remove=function(n,s,l,d){if(void 0===l&&(l=function(){}),void 0===d&&(d=!1),s===1/0&&(s=this.duration_()),s<=n)this.logger_("skipping remove because end ${end} is <= start ${start}");else if(this.sourceUpdater_&&this.getMediaInfo_()){var p=1,m=function(){0==--p&&l()};for(var y in(d||!this.audioDisabled_)&&(p++,this.sourceUpdater_.removeAudio(n,s,m)),(d||"main"===this.loaderType_)&&(this.gopBuffer_=function(t,e,i,n){for(var s=Math.ceil((e-n)*sd.ONE_SECOND_IN_TS),l=Math.ceil((i-n)*sd.ONE_SECOND_IN_TS),d=t.slice(),p=t.length;p--&&!(t[p].pts<=l););if(-1===p)return d;for(var m=p+1;m--&&!(t[m].pts<=s););return m=Math.max(m,0),d.splice(m,p-m+1),d}(this.gopBuffer_,n,s,this.timeMapping_),p++,this.sourceUpdater_.removeVideo(n,s,m)),this.inbandTextTracks_)Fd(n,s,this.inbandTextTracks_[y]);Fd(n,s,this.segmentMetadataTrack_),m()}else this.logger_("skipping remove because no source updater or starting media info")},e.monitorBuffer_=function(){this.checkBufferTimeout_&&re().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=re().setTimeout(this.monitorBufferTick_.bind(this),1)},e.monitorBufferTick_=function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&re().clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=re().setTimeout(this.monitorBufferTick_.bind(this),500)},e.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var n=this.chooseNextRequest_();!n||("number"==typeof n.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline})),this.loadSegment_(n))}},e.isEndOfStream_=function(n,s,l){if(void 0===n&&(n=this.mediaIndex),void 0===s&&(s=this.playlist_),void 0===l&&(l=this.partIndex),!s||!this.mediaSource_)return!1;var d="number"==typeof n&&s.segments[n];return s.endList&&"open"===this.mediaSource_.readyState&&n+1===s.segments.length&&(!d||!d.parts||l+1===d.parts.length)},e.chooseNextRequest_=function(){var n=this.buffered_(),s=Sm(n)||0,l=Gh(n,this.currentTime_()),d=!this.hasPlayed_()&&l>=1,p=l>=this.goalBufferLength_(),m=this.playlist_.segments;if(!m.length||d||p)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var y={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(y.isSyncRequest)y.mediaIndex=function(t,e,i){e=e||[];for(var n=[],s=0,l=0;l<e.length;l++){var d=e[l];if(t===d.timeline&&(n.push(l),(s+=d.duration)>i))return l}return 0===n.length?0:n[n.length-1]}(this.currentTimeline_,m,s);else if(null!==this.mediaIndex){var M=m[this.mediaIndex],A="number"==typeof this.partIndex?this.partIndex:-1;y.startOfSegment=M.end?M.end:s,M.parts&&M.parts[A+1]?(y.mediaIndex=this.mediaIndex,y.partIndex=A+1):y.mediaIndex=this.mediaIndex+1}else{var k=dn.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?s:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),W=k.segmentIndex,H=k.startTime,j=k.partIndex;y.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+s:"currentTime "+this.currentTime_(),y.mediaIndex=W,y.startOfSegment=H,y.partIndex=j}var le=m[y.mediaIndex],he=le&&"number"==typeof y.partIndex&&le.parts&&le.parts[y.partIndex];if(!le||"number"==typeof y.partIndex&&!he)return null;if("number"!=typeof y.partIndex&&le.parts&&(y.partIndex=0,he=le.parts[0]),!l&&he&&!he.independent)if(0===y.partIndex){var Ne=m[y.mediaIndex-1],Ie=Ne.parts&&Ne.parts.length&&Ne.parts[Ne.parts.length-1];Ie&&Ie.independent&&(y.mediaIndex-=1,y.partIndex=Ne.parts.length-1,y.independent="previous segment")}else le.parts[y.partIndex-1].independent&&(y.partIndex-=1,y.independent="previous part");return y.mediaIndex>=m.length-1&&this.mediaSource_&&"ended"===this.mediaSource_.readyState&&!this.seeking_()?null:this.generateSegmentInfo_(y)},e.generateSegmentInfo_=function(n){var s=n.independent,l=n.playlist,d=n.mediaIndex,p=n.startOfSegment,m=n.isSyncRequest,y=n.partIndex,M=n.forceTimestampOffset,A=n.getMediaInfoForTime,k=l.segments[d],W="number"==typeof y&&k.parts[y],H={requestId:"segment-loader-"+Math.random(),uri:W&&W.resolvedUri||k.resolvedUri,mediaIndex:d,partIndex:W?y:null,isSyncRequest:m,startOfSegment:p,playlist:l,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:k.timeline,duration:W&&W.duration||k.duration,segment:k,part:W,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:A,independent:s},j=void 0!==M?M:this.isPendingTimestampOffset_;H.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:k.timeline,currentTimeline:this.currentTimeline_,startOfSegment:p,buffered:this.buffered_(),overrideCheck:j});var le=Sm(this.sourceUpdater_.audioBuffered());return"number"==typeof le&&(H.audioAppendStart=le-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(H.gopsToAlignWith=function(t,e,i){if(null==e||!t.length)return[];var s,n=Math.ceil((e-i+3)*sd.ONE_SECOND_IN_TS);for(s=0;s<t.length&&!(t[s].pts>n);s++);return t.slice(s)}(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),H},e.timestampOffsetForSegment_=function(n){return function(t){var e=t.segmentTimeline,i=t.currentTimeline,n=t.startOfSegment,s=t.buffered;return t.overrideCheck||e!==i?e<i?n:s.length?s.end(s.length-1):n:null}(n)},e.earlyAbortWhenNeeded_=function(n){if(!this.vhs_.tech_.paused()&&this.xhrOptions_.timeout&&this.playlist_.attributes.BANDWIDTH&&!(Date.now()-(n.firstBytesReceivedAt||Date.now())<1e3)){var s=this.currentTime_(),l=n.bandwidth,d=this.pendingSegment_.duration,p=dn.estimateSegmentRequestTime(d,l,this.playlist_,n.bytesReceived),m=function(t,e,i){return void 0===i&&(i=1),((t.length?t.end(t.length-1):0)-e)/i}(this.buffered_(),s,this.vhs_.tech_.playbackRate())-1;if(!(p<=m)){var y=function(t){var i=t.currentTime,n=t.bandwidth,s=t.duration,l=t.segmentDuration,d=t.timeUntilRebuffer,p=t.currentTimeline,m=t.syncController,y=t.master.playlists.filter(function(H){return!dn.isIncompatible(H)}),M=y.filter(dn.isEnabled);M.length||(M=y.filter(function(H){return!dn.isDisabled(H)}));var k=M.filter(dn.hasAttribute.bind(null,"BANDWIDTH")).map(function(H){var le=m.getSyncPoint(H,s,p,i)?1:2;return{playlist:H,rebufferingImpact:dn.estimateSegmentRequestTime(l,n,H)*le-d}}),W=k.filter(function(H){return H.rebufferingImpact<=0});return Rl(W,function(H,j){return Ym(j.playlist,H.playlist)}),W.length?W[0]:(Rl(k,function(H,j){return H.rebufferingImpact-j.rebufferingImpact}),k[0]||null)}({master:this.vhs_.playlists.master,currentTime:s,bandwidth:l,duration:this.duration_(),segmentDuration:d,timeUntilRebuffer:m,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(y){var k=.5;m<=Eo&&(k=1),y.playlist&&y.playlist.uri!==this.playlist_.uri&&!(p-m-y.rebufferingImpact<k)&&(this.bandwidth=y.playlist.attributes.BANDWIDTH*Li.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},e.handleAbort_=function(n){this.logger_("Aborting "+Ld(n)),this.mediaRequestsAborted+=1},e.handleProgress_=function(n,s){this.earlyAbortWhenNeeded_(s.stats),!this.checkForAbort_(s.requestId)&&this.trigger("progress")},e.handleTrackInfo_=function(n,s){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&(this.checkForIllegalMediaSwitch(s)||(function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;var i=Object.keys(t).sort(),n=Object.keys(e).sort();if(i.length!==n.length)return!1;for(var s=0;s<i.length;s++){var l=i[s];if(l!==n[s]||t[l]!==e[l])return!1}return!0}(this.currentMediaInfo_,s=s||{})||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=s,this.currentMediaInfo_=s,this.logger_("trackinfo update",s),this.trigger("trackinfo")),!this.checkForAbort_(n.requestId)&&(this.pendingSegment_.trackInfo=s,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},e.handleTimingInfo_=function(n,s,l,d){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var p=this.pendingSegment_,m=Qm(s);p[m]=p[m]||{},p[m][l]=d,this.logger_("timinginfo: "+s+" - "+l+" - "+d),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},e.handleCaptions_=function(n,s){var l=this;if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(0===s.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,n,s));var p=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),m={};s.forEach(function(y){m[y.stream]=m[y.stream]||{startTime:1/0,captions:[],endTime:0};var M=m[y.stream];M.startTime=Math.min(M.startTime,y.startTime+p),M.endTime=Math.max(M.endTime,y.endTime+p),M.captions.push(y)}),Object.keys(m).forEach(function(y){var M=m[y],A=M.startTime,k=M.endTime,W=M.captions,H=l.inbandTextTracks_;l.logger_("adding cues from "+A+" -> "+k+" for "+y),function(t,e,i){if(!t[i]){e.trigger({type:"usage",name:"vhs-608"}),e.trigger({type:"usage",name:"hls-608"});var n=i;/^cc708_/.test(i)&&(n="SERVICE"+i.split("_")[1]);var s=e.textTracks().getTrackById(n);if(s)t[i]=s;else{var d=i,p=i,m=!1,y=(e.options_.vhs&&e.options_.vhs.captionServices||{})[n];y&&(d=y.label,p=y.language,m=y.default),t[i]=e.addRemoteTextTrack({kind:"captions",id:n,default:m,label:d,language:p},!1).track}}}(H,l.vhs_.tech_,y),Fd(A,k,H[y]),function(t){var e=t.inbandTextTracks,i=t.captionArray,n=t.timestampOffset;if(i){var s=re().WebKitDataCue||re().VTTCue;i.forEach(function(l){e[l.stream].addCue(new s(l.startTime+n,l.endTime+n,l.text))})}}({captionArray:W,inbandTextTracks:H,timestampOffset:p})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},e.handleId3_=function(n,s,l){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.id3.push(this.handleId3_.bind(this,n,s,l));var p=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();(function(t,e,i){t.metadataTrack_||(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=e)})(this.inbandTextTracks_,l,this.vhs_.tech_),function(t){var e=t.inbandTextTracks,i=t.metadataArray,n=t.timestampOffset,s=t.videoDuration;if(i){var l=re().WebKitDataCue||re().VTTCue,d=e.metadataTrack_;if(d&&(i.forEach(function(k){var W=k.cueTime+n;"number"!=typeof W||re().isNaN(W)||W<0||!(W<1/0)||k.frames.forEach(function(H){var j=new l(W,W,H.value||H.url||H.data||"");j.frame=H,j.value=H,function(t){Object.defineProperties(t.frame,{id:{get:function(){return Se.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return Se.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return Se.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})}(j),d.addCue(j)})}),d.cues&&d.cues.length)){for(var p=d.cues,m=[],y=0;y<p.length;y++)p[y]&&m.push(p[y]);var M=m.reduce(function(k,W){var H=k[W.startTime]||[];return H.push(W),k[W.startTime]=H,k},{}),A=Object.keys(M).sort(function(k,W){return Number(k)-Number(W)});A.forEach(function(k,W){var H=M[k],j=Number(A[W+1])||s;H.forEach(function(le){le.endTime=j})})}}}({inbandTextTracks:this.inbandTextTracks_,metadataArray:s,timestampOffset:p,videoDuration:this.duration_()})}},e.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(n){return n()}),this.metadataQueue_.caption.forEach(function(n){return n()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},e.processCallQueue_=function(){var n=this.callQueue_;this.callQueue_=[],n.forEach(function(s){return s()})},e.processLoadQueue_=function(){var n=this.loadQueue_;this.loadQueue_=[],n.forEach(function(s){return s()})},e.hasEnoughInfoToLoad_=function(){if("audio"!==this.loaderType_)return!0;var n=this.pendingSegment_;return!(!n||this.getCurrentMediaInfo_()&&Jm({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},e.getCurrentMediaInfo_=function(n){return void 0===n&&(n=this.pendingSegment_),n&&n.trackInfo||this.currentMediaInfo_},e.getMediaInfo_=function(n){return void 0===n&&(n=this.pendingSegment_),this.getCurrentMediaInfo_(n)||this.startingMediaInfo_},e.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var n=this.pendingSegment_,s=this.getCurrentMediaInfo_();return!(!n||!s||s.hasVideo&&!n.videoTimingInfo||s.hasAudio&&!this.audioDisabled_&&!s.isMuxed&&!n.audioTimingInfo||Jm({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},e.handleData_=function(n,s){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return void this.callQueue_.push(this.handleData_.bind(this,n,s));var l=this.pendingSegment_;if(this.setTimeMapping_(l.timeline),this.updateMediaSecondsLoaded_(l.part||l.segment),"closed"!==this.mediaSource_.readyState){if(n.map&&(n.map=this.initSegmentForMap(n.map,!0),l.segment.map=n.map),n.key&&this.segmentKey(n.key,!0),l.isFmp4=n.isFmp4,l.timingInfo=l.timingInfo||{},l.isFmp4)this.trigger("fmp4"),l.timingInfo.start=l[Qm(s.type)].start;else{var m,d=this.getCurrentMediaInfo_(),p="main"===this.loaderType_&&d&&d.hasVideo;p&&(m=l.videoTimingInfo.start),l.timingInfo.start=this.trueSegmentStart_({currentStart:l.timingInfo.start,playlist:l.playlist,mediaIndex:l.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:p,firstVideoFrameTimeForData:m,videoTimingInfo:l.videoTimingInfo,audioTimingInfo:l.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(l,s.type),this.updateSourceBufferTimestampOffset_(l),l.isSyncRequest){this.updateTimingInfoEnd_(l),this.syncController_.saveSegmentTimingInfo({segmentInfo:l,shouldSaveTimelineMapping:"main"===this.loaderType_});var y=this.chooseNextRequest_();if(y.mediaIndex!==l.mediaIndex||y.partIndex!==l.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}l.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(l,s)}}},e.updateAppendInitSegmentStatus=function(n,s){"main"===this.loaderType_&&"number"==typeof n.timestampOffset&&!n.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[s]!==n.playlist&&(this.appendInitSegment_[s]=!0)},e.getInitSegmentAndUpdateState_=function(n){var s=n.type,l=n.initSegment,d=n.map,p=n.playlist;if(d){var m=Zh(d);if(this.activeInitSegmentId_===m)return null;l=this.initSegmentForMap(d,!0).bytes,this.activeInitSegmentId_=m}return l&&this.appendInitSegment_[s]?(this.playlistOfLastInitSegment_[s]=p,this.appendInitSegment_[s]=!1,this.activeInitSegmentId_=null,l):null},e.handleQuotaExceededError_=function(n,s){var l=this,d=n.segmentInfo,p=n.type,m=n.bytes,y=this.sourceUpdater_.audioBuffered(),M=this.sourceUpdater_.videoBuffered();y.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+wo(y).join(", ")),M.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+wo(M).join(", "));var A=y.length?y.start(0):0,k=y.length?y.end(y.length-1):0,W=M.length?M.start(0):0,H=M.length?M.end(M.length-1):0;if(k-A<=1&&H-W<=1)return this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: "+m.byteLength+", audio buffer: "+wo(y).join(", ")+", video buffer: "+wo(M).join(", ")+", "),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:d,type:p,bytes:m}));var le=this.currentTime_()-1;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+le),this.remove(0,le,function(){l.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),l.waitingOnRemove_=!1,l.quotaExceededErrorRetryTimeout_=re().setTimeout(function(){l.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),l.quotaExceededErrorRetryTimeout_=null,l.processCallQueue_()},1e3)},!0)},e.handleAppendError_=function(n,s){var l=n.segmentInfo,d=n.type,p=n.bytes;if(s){if(22===s.code)return void this.handleQuotaExceededError_({segmentInfo:l,type:d,bytes:p});this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error(d+" append of "+p.length+"b failed for segment #"+l.mediaIndex+" in playlist "+l.playlist.id),this.trigger("appenderror")}},e.appendToSourceBuffer_=function(n){var s=n.segmentInfo,l=n.type,d=n.initSegment,p=n.data,m=n.bytes;if(!m){var y=[p],M=p.byteLength;d&&(y.unshift(d),M+=d.byteLength),m=function(t){var i,e=0;return t.bytes&&(i=new Uint8Array(t.bytes),t.segments.forEach(function(n){i.set(n,e),e+=n.byteLength})),i}({bytes:M,segments:y})}this.sourceUpdater_.appendBuffer({segmentInfo:s,type:l,bytes:m},this.handleAppendError_.bind(this,{segmentInfo:s,type:l,bytes:m}))},e.handleSegmentTimingInfo_=function(n,s,l){if(this.pendingSegment_&&s===this.pendingSegment_.requestId){var d=this.pendingSegment_.segment,p=n+"TimingInfo";d[p]||(d[p]={}),d[p].transmuxerPrependedSeconds=l.prependedContentDuration||0,d[p].transmuxedPresentationStart=l.start.presentation,d[p].transmuxedDecodeStart=l.start.decode,d[p].transmuxedPresentationEnd=l.end.presentation,d[p].transmuxedDecodeEnd=l.end.decode,d[p].baseMediaDecodeTime=l.baseMediaDecodeTime}},e.appendData_=function(n,s){var l=s.type,d=s.data;if(d&&d.byteLength&&("audio"!==l||!this.audioDisabled_)){var p=this.getInitSegmentAndUpdateState_({type:l,initSegment:s.initSegment,playlist:n.playlist,map:n.isFmp4?n.segment.map:null});this.appendToSourceBuffer_({segmentInfo:n,type:l,initSegment:p,data:d})}},e.loadSegment_=function(n){var s=this;this.state="WAITING",this.pendingSegment_=n,this.trimBackBuffer_(n),"number"==typeof n.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(n):this.loadQueue_.push(function(){var l=Cr({},n,{forceTimestampOffset:!0});Cr(n,s.generateSegmentInfo_(l)),s.isPendingTimestampOffset_=!1,s.updateTransmuxerAndRequestSegment_(n)})},e.updateTransmuxerAndRequestSegment_=function(n){var s=this;this.shouldUpdateTransmuxerTimestampOffset_(n.timestampOffset)&&(this.gopBuffer_.length=0,n.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n.timestampOffset}));var l=this.createSimplifiedSegmentObj_(n),y=this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex)||null!==this.mediaIndex&&n.timeline!==this.currentTimeline_&&n.timeline>0;this.logger_("Requesting "+Ld(n)),l.map&&!l.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),n.abortRequests=fb({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:l,abortFn:this.handleAbort_.bind(this,n),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",n.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",n.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:y,endedTimelineFn:function(){s.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(A){var k=A.message,W=A.level,H=A.stream;s.logger_(Ld(n)+" logged from transmuxer stream "+H+" as a "+W+": "+k)}})},e.trimBackBuffer_=function(n){var s=function(t,e,i){var n=e-Li.BACK_BUFFER_LENGTH;return t.length&&(n=Math.max(n,t.start(0))),Math.min(e-i,n)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);s>0&&this.remove(0,s)},e.createSimplifiedSegmentObj_=function(n){var s=n.segment,l=n.part,d={resolvedUri:l?l.resolvedUri:s.resolvedUri,byterange:l?l.byterange:s.byterange,requestId:n.requestId,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,part:n.part},p=n.playlist.segments[n.mediaIndex-1];if(p&&p.timeline===s.timeline&&(p.videoTimingInfo?d.baseStartTime=p.videoTimingInfo.transmuxedDecodeEnd:p.audioTimingInfo&&(d.baseStartTime=p.audioTimingInfo.transmuxedDecodeEnd)),s.key){var m=s.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence]);d.key=this.segmentKey(s.key),d.key.iv=m}return s.map&&(d.map=this.initSegmentForMap(s.map)),d},e.saveTransferStats_=function(n){this.mediaRequests+=1,n&&(this.mediaBytesTransferred+=n.bytesReceived,this.mediaTransferDuration+=n.roundTripTime)},e.saveBandwidthRelatedStats_=function(n,s){this.pendingSegment_.byteLength=s.bytesReceived,n<rp?this.logger_("Ignoring segment's bandwidth because its duration of "+n+" is less than the min to record "+rp):(this.bandwidth=s.bandwidth,this.roundTrip=s.roundTripTime)},e.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate")},e.segmentRequestFinished_=function(n,s,l){if(this.callQueue_.length)this.callQueue_.push(this.segmentRequestFinished_.bind(this,n,s,l));else if(this.saveTransferStats_(s.stats),this.pendingSegment_&&s.requestId===this.pendingSegment_.requestId){if(n){if(this.pendingSegment_=null,this.state="READY",-102===n.code)return;return this.pause(),-101===n.code?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(n),void this.trigger("error"))}var d=this.pendingSegment_;this.saveBandwidthRelatedStats_(d.duration,s.stats),d.endOfAllRequests=s.endOfAllRequests,l.gopInfo&&(this.gopBuffer_=function(t,e,i){if(!e.length)return t;if(i)return e.slice();for(var n=e[0].pts,s=0;s<t.length&&!(t[s].pts>=n);s++);return t.slice(0,s).concat(e)}(this.gopBuffer_,l.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(d)}},e.setTimeMapping_=function(n){var s=this.syncController_.mappingForTimeline(n);null!==s&&(this.timeMapping_=s)},e.updateMediaSecondsLoaded_=function(n){this.mediaSecondsLoaded+="number"==typeof n.start&&"number"==typeof n.end?n.end-n.start:n.duration},e.shouldUpdateTransmuxerTimestampOffset_=function(n){return null!==n&&("main"===this.loaderType_&&n!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&n!==this.sourceUpdater_.audioTimestampOffset())},e.trueSegmentStart_=function(n){var s=n.currentStart,d=n.mediaIndex,p=n.firstVideoFrameTimeForData;if(void 0!==s)return s;if(!n.useVideoTimingInfo)return n.audioTimingInfo.start;var k=n.playlist.segments[d-1];return 0!==d&&k&&void 0!==k.start&&k.end===p+n.currentVideoTimestampOffset?n.videoTimingInfo.start:p},e.waitForAppendsToComplete_=function(n){var s=this.getCurrentMediaInfo_(n);if(!s)return this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),void this.trigger("error");var m="main"===this.loaderType_&&s.hasVideo,y=!this.audioDisabled_&&s.hasAudio&&!s.isMuxed;if(n.waitingOnAppends=0,!n.hasAppendedData_)return!n.timingInfo&&"number"==typeof n.timestampOffset&&(this.isPendingTimestampOffset_=!0),n.timingInfo={start:0},n.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(n),this.processMetadataQueue_()),void this.checkAppendsDone_(n);m&&n.waitingOnAppends++,y&&n.waitingOnAppends++,m&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,n)),y&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,n))},e.checkAppendsDone_=function(n){this.checkForAbort_(n.requestId)||(n.waitingOnAppends--,0===n.waitingOnAppends&&this.handleAppendsDone_())},e.checkForIllegalMediaSwitch=function(n){var s=function(t,e,i){return"main"===t&&e&&i?i.hasAudio||i.hasVideo?e.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null}(this.loaderType_,this.getCurrentMediaInfo_(),n);return!!s&&(this.error({message:s,blacklistDuration:1/0}),this.trigger("error"),!0)},e.updateSourceBufferTimestampOffset_=function(n){if(null!==n.timestampOffset&&"number"==typeof n.timingInfo.start&&!n.changedTimestampOffset&&"main"===this.loaderType_){var s=!1;n.timestampOffset-=n.timingInfo.start,n.changedTimestampOffset=!0,n.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(n.timestampOffset),s=!0),n.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(n.timestampOffset),s=!0),s&&this.trigger("timestampoffset")}},e.updateTimingInfoEnd_=function(n){n.timingInfo=n.timingInfo||{};var s=this.getMediaInfo_(),d="main"===this.loaderType_&&s&&s.hasVideo&&n.videoTimingInfo?n.videoTimingInfo:n.audioTimingInfo;!d||(n.timingInfo.end="number"==typeof d.end?d.end:d.start+n.duration)},e.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var n=this.pendingSegment_;this.updateTimingInfoEnd_(n),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:"main"===this.loaderType_});var s=function(t,e){if("hls"!==e)return null;var i=function(t){var e=0;return["video","audio"].forEach(function(i){var n=t[i+"TimingInfo"];if(n){var d,s=n.start,l=n.end;"bigint"==typeof s||"bigint"==typeof l?d=re().BigInt(l)-re().BigInt(s):"number"==typeof s&&"number"==typeof l&&(d=l-s),void 0!==d&&d>e&&(e=d)}}),"bigint"==typeof e&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e}({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!i)return null;var n=t.playlist.targetDuration,s=ev({segmentDuration:i,maxDuration:2*n}),l=ev({segmentDuration:i,maxDuration:n});return s||l?{severity:s?"warn":"info",message:"Segment with index "+t.mediaIndex+" from playlist "+t.playlist.id+" has a duration of "+i+" when the reported duration is "+t.duration+" and the target duration is "+n+". For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1"}:null}(n,this.sourceType_);if(s&&("warn"===s.severity?Se.log.warn(s.message):this.logger_(s.message)),this.recordThroughput_(n),this.pendingSegment_=null,this.state="READY",!n.isSyncRequest||(this.trigger("syncinfoupdate"),n.hasAppendedData_)){this.logger_("Appended "+Ld(n)),this.addSegmentMetadataCue_(n),this.fetchAtBuffer_=!0,this.currentTimeline_!==n.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline}),"main"===this.loaderType_&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:n.timeline})),this.currentTimeline_=n.timeline,this.trigger("syncinfoupdate");var l=n.segment,d=n.part,p=l.end&&this.currentTime_()-l.end>3*n.playlist.targetDuration,m=d&&d.end&&this.currentTime_()-d.end>3*n.playlist.partTargetDuration;if(p||m)return this.logger_("bad "+(p?"segment":"part")+" "+Ld(n)),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=n.mediaIndex,this.partIndex=n.partIndex,this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex)&&this.endOfStream(),this.trigger("appended"),n.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}else this.logger_("Throwing away un-appended sync request "+Ld(n))},e.recordThroughput_=function(n){if(n.duration<rp)this.logger_("Ignoring segment's throughput because its duration of "+n.duration+" is less than the min to record "+rp);else{var s=this.throughput.rate,l=Date.now()-n.endOfAllRequests+1,d=Math.floor(n.byteLength/l*8*1e3);this.throughput.rate+=(d-s)/++this.throughput.count}},e.addSegmentMetadataCue_=function(n){if(this.segmentMetadataTrack_){var s=n.segment,l=s.start,d=s.end;if(Xm(l)&&Xm(d)){Fd(l,d,this.segmentMetadataTrack_);var p=re().WebKitDataCue||re().VTTCue,m={custom:s.custom,dateTimeObject:s.dateTimeObject,dateTimeString:s.dateTimeString,bandwidth:n.playlist.attributes.BANDWIDTH,resolution:n.playlist.attributes.RESOLUTION,codecs:n.playlist.attributes.CODECS,byteLength:n.byteLength,uri:n.uri,timeline:n.timeline,playlist:n.playlist.id,start:l,end:d},M=new p(l,d,JSON.stringify(m));M.value=m,this.segmentMetadataTrack_.addCue(M)}}},t}(Se.EventTarget);function ja(){}var Gs,Eb=function(t){return"string"!=typeof t?t:t.replace(/./,function(e){return e.toUpperCase()})},kC=["video","audio"],nv=function(t,e){var i=e[t+"Buffer"];return i&&i.updating||e.queuePending[t]},Fl=function r(t,e){if(0!==e.queue.length){var i=0,n=e.queue[i];if("mediaSource"===n.type)return void(!e.updating()&&"closed"!==e.mediaSource.readyState&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),r("audio",e),r("video",e)));if("mediaSource"!==t&&e.ready()&&"closed"!==e.mediaSource.readyState&&!nv(t,e)){if(n.type!==t){if(i=function(t,e){for(var i=0;i<e.length;i++){var n=e[i];if("mediaSource"===n.type)return null;if(n.type===t)return i}return null}(t,e.queue),null===i)return;n=e.queue[i]}if(e.queue.splice(i,1),e.queuePending[t]=n,n.action(t,e),!n.doneFn)return e.queuePending[t]=null,void r(t,e)}}},iv=function(t,e){var i=e[t+"Buffer"],n=Eb(t);!i||(i.removeEventListener("updateend",e["on"+n+"UpdateEnd_"]),i.removeEventListener("error",e["on"+n+"Error_"]),e.codecs[t]=null,e[t+"Buffer"]=null)},Vs=function(t,e){return t&&e&&-1!==Array.prototype.indexOf.call(t.sourceBuffers,e)},Ur_appendBuffer=function(t,e,i){return function(n,s){var l=s[n+"Buffer"];if(Vs(s.mediaSource,l)){s.logger_("Appending segment "+e.mediaIndex+"'s "+t.length+" bytes to "+n+"Buffer");try{l.appendBuffer(t)}catch(d){s.logger_("Error with code "+d.code+" "+(22===d.code?"(QUOTA_EXCEEDED_ERR) ":"")+"when appending segment "+e.mediaIndex+" to "+n+"Buffer"),s.queuePending[n]=null,i(d)}}}},Ur_remove=function(t,e){return function(i,n){var s=n[i+"Buffer"];if(Vs(n.mediaSource,s)){n.logger_("Removing "+t+" to "+e+" from "+i+"Buffer");try{s.remove(t,e)}catch(l){n.logger_("Remove "+t+" to "+e+" from "+i+"Buffer failed")}}}},Ur_timestampOffset=function(t){return function(e,i){var n=i[e+"Buffer"];!Vs(i.mediaSource,n)||(i.logger_("Setting "+e+"timestampOffset to "+t),n.timestampOffset=t)}},Ur_callback=function(t){return function(e,i){t()}},Ur_endOfStream=function(t){return function(e){if("open"===e.mediaSource.readyState){e.logger_("Calling mediaSource endOfStream("+(t||"")+")");try{e.mediaSource.endOfStream(t)}catch(i){Se.log.warn("Failed to call media source endOfStream",i)}}}},Ur_duration=function(t){return function(e){e.logger_("Setting mediaSource duration to "+t);try{e.mediaSource.duration=t}catch(i){Se.log.warn("Failed to set media source duration",i)}}},Ur_addSourceBuffer=function(t,e){return function(i){var n=Eb(t),s=Au(e);i.logger_("Adding "+t+"Buffer with codec "+e+" to mediaSource");var l=i.mediaSource.addSourceBuffer(s);l.addEventListener("updateend",i["on"+n+"UpdateEnd_"]),l.addEventListener("error",i["on"+n+"Error_"]),i.codecs[t]=e,i[t+"Buffer"]=l}},Ur_removeSourceBuffer=function(t){return function(e){var i=e[t+"Buffer"];if(iv(t,e),Vs(e.mediaSource,i)){e.logger_("Removing "+t+"Buffer with codec "+e.codecs[t]+" from mediaSource");try{e.mediaSource.removeSourceBuffer(i)}catch(n){Se.log.warn("Failed to removeSourceBuffer "+t+"Buffer",n)}}}},Ur_changeType=function(t){return function(e,i){var n=i[e+"Buffer"],s=Au(t);!Vs(i.mediaSource,n)||i.codecs[e]!==t&&(i.logger_("changing "+e+"Buffer codec from "+i.codecs[e]+" to "+t),n.changeType(s),i.codecs[e]=t)}},Vr=function(t){var e=t.type,i=t.sourceUpdater;i.queue.push({type:e,action:t.action,doneFn:t.doneFn,name:t.name}),Fl(e,i)},rv=function(t,e){return function(i){if(e.queuePending[t]){var n=e.queuePending[t].doneFn;e.queuePending[t]=null,n&&n(e[t+"Error_"])}Fl(t,e)}},sv=function(r){function t(i){var n;return(n=r.call(this)||this).mediaSource=i,n.sourceopenListener_=function(){return Fl("mediaSource",jt(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=Hs("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=rv("video",jt(n)),n.onAudioUpdateEnd_=rv("audio",jt(n)),n.onVideoError_=function(s){n.videoError_=s},n.onAudioError_=function(s){n.audioError_=s},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}bt(t,r);var e=t.prototype;return e.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},e.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},e.hasInitializedAnyEme=function(){return this.initializedEme_},e.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},e.createSourceBuffers=function(n){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(n),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},e.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},e.addSourceBuffer=function(n,s){Vr({type:"mediaSource",sourceUpdater:this,action:Ur_addSourceBuffer(n,s),name:"addSourceBuffer"})},e.abort=function(n){Vr({type:n,sourceUpdater:this,action:function(t,e){if("open"===e.mediaSource.readyState){var i=e[t+"Buffer"];if(Vs(e.mediaSource,i)){e.logger_("calling abort on "+t+"Buffer");try{i.abort()}catch(n){Se.log.warn("Failed to abort on "+t+"Buffer",n)}}}},name:"abort"})},e.removeSourceBuffer=function(n){this.canRemoveSourceBuffer()?Vr({type:"mediaSource",sourceUpdater:this,action:Ur_removeSourceBuffer(n),name:"removeSourceBuffer"}):Se.log.error("removeSourceBuffer is not supported!")},e.canRemoveSourceBuffer=function(){return!Se.browser.IE_VERSION&&!Se.browser.IS_FIREFOX&&re().MediaSource&&re().MediaSource.prototype&&"function"==typeof re().MediaSource.prototype.removeSourceBuffer},t.canChangeType=function(){return re().SourceBuffer&&re().SourceBuffer.prototype&&"function"==typeof re().SourceBuffer.prototype.changeType},e.canChangeType=function(){return this.constructor.canChangeType()},e.changeType=function(n,s){this.canChangeType()?Vr({type:n,sourceUpdater:this,action:Ur_changeType(s),name:"changeType"}):Se.log.error("changeType is not supported!")},e.addOrChangeSourceBuffers=function(n){var s=this;if(!n||"object"!=typeof n||0===Object.keys(n).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(n).forEach(function(l){var d=n[l];if(!s.hasCreatedSourceBuffers())return s.addSourceBuffer(l,d);s.canChangeType()&&s.changeType(l,d)})},e.appendBuffer=function(n,s){var l=this,d=n.segmentInfo,p=n.type,m=n.bytes;if(this.processedAppend_=!0,"audio"===p&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([n,s]),void this.logger_("delayed audio append of "+m.length+" until video append");if(Vr({type:p,sourceUpdater:this,action:Ur_appendBuffer(m,d||{mediaIndex:-1},s),doneFn:s,name:"appendBuffer"}),"video"===p){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var M=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+M.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,M.forEach(function(A){l.appendBuffer.apply(l,A)})}},e.audioBuffered=function(){return Vs(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Se.createTimeRange()},e.videoBuffered=function(){return Vs(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Se.createTimeRange()},e.buffered=function(){var n=Vs(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,s=Vs(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return s&&!n?this.audioBuffered():n&&!s?this.videoBuffered():function(t,e){var i=null,n=null,s=0,l=[],d=[];if(!(t&&t.length&&e&&e.length))return Se.createTimeRange();for(var p=t.length;p--;)l.push({time:t.start(p),type:"start"}),l.push({time:t.end(p),type:"end"});for(p=e.length;p--;)l.push({time:e.start(p),type:"start"}),l.push({time:e.end(p),type:"end"});for(l.sort(function(m,y){return m.time-y.time}),p=0;p<l.length;p++)"start"===l[p].type?2==++s&&(i=l[p].time):"end"===l[p].type&&1==--s&&(n=l[p].time),null!==i&&null!==n&&(d.push([i,n]),i=null,n=null);return Se.createTimeRanges(d)}(this.audioBuffered(),this.videoBuffered())},e.setDuration=function(n,s){void 0===s&&(s=ja),Vr({type:"mediaSource",sourceUpdater:this,action:Ur_duration(n),name:"duration",doneFn:s})},e.endOfStream=function(n,s){void 0===n&&(n=null),void 0===s&&(s=ja),"string"!=typeof n&&(n=void 0),Vr({type:"mediaSource",sourceUpdater:this,action:Ur_endOfStream(n),name:"endOfStream",doneFn:s})},e.removeAudio=function(n,s,l){void 0===l&&(l=ja),this.audioBuffered().length&&0!==this.audioBuffered().end(0)?Vr({type:"audio",sourceUpdater:this,action:Ur_remove(n,s),doneFn:l,name:"remove"}):l()},e.removeVideo=function(n,s,l){void 0===l&&(l=ja),this.videoBuffered().length&&0!==this.videoBuffered().end(0)?Vr({type:"video",sourceUpdater:this,action:Ur_remove(n,s),doneFn:l,name:"remove"}):l()},e.updating=function(){return!(!nv("audio",this)&&!nv("video",this))},e.audioTimestampOffset=function(n){return void 0!==n&&this.audioBuffer&&this.audioTimestampOffset_!==n&&(Vr({type:"audio",sourceUpdater:this,action:Ur_timestampOffset(n),name:"timestampOffset"}),this.audioTimestampOffset_=n),this.audioTimestampOffset_},e.videoTimestampOffset=function(n){return void 0!==n&&this.videoBuffer&&this.videoTimestampOffset!==n&&(Vr({type:"video",sourceUpdater:this,action:Ur_timestampOffset(n),name:"timestampOffset"}),this.videoTimestampOffset_=n),this.videoTimestampOffset_},e.audioQueueCallback=function(n){!this.audioBuffer||Vr({type:"audio",sourceUpdater:this,action:Ur_callback(n),name:"callback"})},e.videoQueueCallback=function(n){!this.videoBuffer||Vr({type:"video",sourceUpdater:this,action:Ur_callback(n),name:"callback"})},e.dispose=function(){var n=this;this.trigger("dispose"),kC.forEach(function(s){n.abort(s),n.canRemoveSourceBuffer()?n.removeSourceBuffer(s):n[s+"QueueCallback"](function(){return iv(s,n)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},t}(Se.EventTarget),wb=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},av=new Uint8Array("\n\n".split("").map(function(r){return r.charCodeAt(0)})),LC=function(r){function t(i,n){var s;return void 0===n&&(n={}),(s=r.call(this,i,n)||this).mediaSource_=null,s.subtitlesTrack_=null,s.loaderType_="subtitle",s.featuresNativeTextTracks_=i.featuresNativeTextTracks,s.shouldSaveSegmentTimingInfo_=!1,s}bt(t,r);var e=t.prototype;return e.createTransmuxer_=function(){return null},e.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Se.createTimeRanges();var n=this.subtitlesTrack_.cues;return Se.createTimeRanges([[n[0].startTime,n[n.length-1].startTime]])},e.initSegmentForMap=function(n,s){if(void 0===s&&(s=!1),!n)return null;var l=Zh(n),d=this.initSegments_[l];if(s&&!d&&n.bytes){var m=new Uint8Array(av.byteLength+n.bytes.byteLength);m.set(n.bytes),m.set(av,n.bytes.byteLength),this.initSegments_[l]=d={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:m}}return d||n},e.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},e.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},e.track=function(n){return void 0===n||(this.subtitlesTrack_=n,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_},e.remove=function(n,s){Fd(n,s,this.subtitlesTrack_)},e.fillBuffer_=function(){var n=this,s=this.chooseNextRequest_();if(s){if(null===this.syncController_.timestampOffsetForTimeline(s.timeline))return this.syncController_.one("timestampoffset",function(){n.state="READY",n.paused()||n.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE");this.loadSegment_(s)}},e.timestampOffsetForSegment_=function(){return null},e.chooseNextRequest_=function(){return this.skipEmptySegments_(r.prototype.chooseNextRequest_.call(this))},e.skipEmptySegments_=function(n){for(;n&&n.segment.empty;){if(n.mediaIndex+1>=n.playlist.segments.length){n=null;break}n=this.generateSegmentInfo_({playlist:n.playlist,mediaIndex:n.mediaIndex+1,startOfSegment:n.startOfSegment+n.duration,isSyncRequest:n.isSyncRequest})}return n},e.stopForError=function(n){this.error(n),this.state="READY",this.pause(),this.trigger("error")},e.segmentRequestFinished_=function(n,s,l){var d=this;if(this.subtitlesTrack_){if(this.saveTransferStats_(s.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(n)return-101===n.code&&this.handleTimeout_(),-102===n.code?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(n);var p=this.pendingSegment_;this.saveBandwidthRelatedStats_(p.duration,s.stats),this.state="APPENDING",this.trigger("appending");var m=p.segment;if(m.map&&(m.map.bytes=s.map.bytes),p.bytes=s.bytes,"function"!=typeof re().WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var y,M=function(){d.subtitlesTrack_.tech_.off("vttjsloaded",y),d.stopForError({message:"Error loading vtt.js"})};return y=function(){d.subtitlesTrack_.tech_.off("vttjserror",M),d.segmentRequestFinished_(n,s,l)},this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",y),void this.subtitlesTrack_.tech_.one("vttjserror",M)}m.requested=!0;try{this.parseVTTCues_(p)}catch(A){return void this.stopForError({message:A.message})}if(this.updateTimeMapping_(p,this.syncController_.timelines[p.timeline],this.playlist_),p.timingInfo=p.cues.length?{start:p.cues[0].startTime,end:p.cues[p.cues.length-1].endTime}:{start:p.startOfSegment,end:p.startOfSegment+p.duration},p.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");p.byteLength=p.bytes.byteLength,this.mediaSecondsLoaded+=m.duration,p.cues.forEach(function(A){d.subtitlesTrack_.addCue(d.featuresNativeTextTracks_?new(re().VTTCue)(A.startTime,A.endTime,A.text):A)}),function(t){var e=t.cues;if(e)for(var i=0;i<e.length;i++){for(var n=[],s=0,l=0;l<e.length;l++)e[i].startTime===e[l].startTime&&e[i].endTime===e[l].endTime&&e[i].text===e[l].text&&++s>1&&n.push(e[l]);n.length&&n.forEach(function(d){return t.removeCue(d)})}}(this.subtitlesTrack_),this.handleAppendsDone_()}else this.state="READY"},e.handleData_=function(){},e.updateTimingInfoEnd_=function(){},e.parseVTTCues_=function(n){var s,l=!1;"function"==typeof re().TextDecoder?s=new(re().TextDecoder)("utf8"):(s=re().WebVTT.StringDecoder(),l=!0);var d=new(re().WebVTT.Parser)(re(),re().vttjs,s);if(n.cues=[],n.timestampmap={MPEGTS:0,LOCAL:0},d.oncue=n.cues.push.bind(n.cues),d.ontimestampmap=function(y){n.timestampmap=y},d.onparsingerror=function(y){Se.log.warn("Error encountered when parsing cues: "+y.message)},n.segment.map){var p=n.segment.map.bytes;l&&(p=wb(p)),d.parse(p)}var m=n.bytes;l&&(m=wb(m)),d.parse(m),d.flush()},e.updateTimeMapping_=function(n,s,l){var d=n.segment;if(s){if(!n.cues.length)return void(d.empty=!0);var p=n.timestampmap,m=p.MPEGTS/sd.ONE_SECOND_IN_TS-p.LOCAL+s.mapping;n.cues.forEach(function(A){A.startTime+=m,A.endTime+=m}),l.syncInfo||(l.syncInfo={mediaSequence:l.mediaSequence+n.mediaIndex,time:Math.min(n.cues[0].startTime,n.cues[n.cues.length-1].startTime-d.duration)})}},t}(tv),BC=function(t,e){for(var i=t.cues,n=0;n<i.length;n++){var s=i[n];if(e>=s.adStartTime&&e<=s.adEndTime)return s}return null},uc=[{name:"VOD",run:function(t,e,i,n,s){return i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null}},{name:"ProgramDateTime",run:function(t,e,i,n,s){if(!Object.keys(t.timelineToDatetimeMappings).length)return null;var l=null,d=null,p=Wh(e);s=s||0;for(var m=0;m<p.length;m++){var M=p[e.endList||0===s?m:p.length-(m+1)],A=M.segment,k=t.timelineToDatetimeMappings[A.timeline];if(k&&A.dateTimeObject){var H=A.dateTimeObject.getTime()/1e3+k;if(A.parts&&"number"==typeof M.partIndex)for(var j=0;j<M.partIndex;j++)H+=A.parts[j].duration;var le=Math.abs(s-H);if(null!==d&&(0===le||d<le))break;d=le,l={time:H,segmentIndex:M.segmentIndex,partIndex:M.partIndex}}}return l}},{name:"Segment",run:function(t,e,i,n,s){var l=null,d=null;s=s||0;for(var p=Wh(e),m=0;m<p.length;m++){var M=p[e.endList||0===s?m:p.length-(m+1)],A=M.segment,k=M.part&&M.part.start||A&&A.start;if(A.timeline===n&&void 0!==k){var W=Math.abs(s-k);if(null!==d&&d<W)break;(!l||null===d||d>=W)&&(d=W,l={time:k,segmentIndex:M.segmentIndex,partIndex:M.partIndex})}}return l}},{name:"Discontinuity",run:function(t,e,i,n,s){var l=null;if(s=s||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var d=null,p=0;p<e.discontinuityStarts.length;p++){var m=e.discontinuityStarts[p],M=t.discontinuities[e.discontinuitySequence+p+1];if(M){var A=Math.abs(s-M.time);if(null!==d&&d<A)break;(!l||null===d||d>=A)&&(d=A,l={time:M.time,segmentIndex:m,partIndex:null})}}return l}},{name:"Playlist",run:function(t,e,i,n,s){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}}],VC=function(r){function t(i){var n;return(n=r.call(this)||this).timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=Hs("SyncController"),n}bt(t,r);var e=t.prototype;return e.getSyncPoint=function(n,s,l,d){var p=this.runStrategies_(n,s,l,d);return p.length?this.selectSyncPoint_(p,{key:"time",value:d}):null},e.getExpiredTime=function(n,s){if(!n||!n.segments)return null;var l=this.runStrategies_(n,s,n.discontinuitySequence,0);if(!l.length)return null;var d=this.selectSyncPoint_(l,{key:"segmentIndex",value:0});return d.segmentIndex>0&&(d.time*=-1),Math.abs(d.time+fa({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:d.segmentIndex,endIndex:0}))},e.runStrategies_=function(n,s,l,d){for(var p=[],m=0;m<uc.length;m++){var y=uc[m],M=y.run(this,n,s,l,d);M&&(M.strategy=y.name,p.push({strategy:y.name,syncPoint:M}))}return p},e.selectSyncPoint_=function(n,s){for(var l=n[0].syncPoint,d=Math.abs(n[0].syncPoint[s.key]-s.value),p=n[0].strategy,m=1;m<n.length;m++){var y=Math.abs(n[m].syncPoint[s.key]-s.value);y<d&&(d=y,l=n[m].syncPoint,p=n[m].strategy)}return this.logger_("syncPoint for ["+s.key+": "+s.value+"] chosen with strategy ["+p+"]: [time:"+l.time+", segmentIndex:"+l.segmentIndex+("number"==typeof l.partIndex?",partIndex:"+l.partIndex:"")+"]"),l},e.saveExpiredSegmentInfo=function(n,s){var l=s.mediaSequence-n.mediaSequence;if(l>86400)Se.log.warn("Not saving expired segment info. Media sequence gap "+l+" is too large.");else for(var d=l-1;d>=0;d--){var p=n.segments[d];if(p&&void 0!==p.start){s.syncInfo={mediaSequence:n.mediaSequence+d,time:p.start},this.logger_("playlist refresh sync: [time:"+s.syncInfo.time+", mediaSequence: "+s.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}},e.setDateTimeMappingForStart=function(n){if(this.timelineToDatetimeMappings={},n.segments&&n.segments.length&&n.segments[0].dateTimeObject){var s=n.segments[0],l=s.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[s.timeline]=-l}},e.saveSegmentTimingInfo=function(n){var s=n.segmentInfo,l=n.shouldSaveTimelineMapping,d=this.calculateSegmentTimeMapping_(s,s.timingInfo,l),p=s.segment;d&&(this.saveDiscontinuitySyncInfo_(s),s.playlist.syncInfo||(s.playlist.syncInfo={mediaSequence:s.playlist.mediaSequence+s.mediaIndex,time:p.start}));var m=p.dateTimeObject;p.discontinuity&&l&&m&&(this.timelineToDatetimeMappings[p.timeline]=-m.getTime()/1e3)},e.timestampOffsetForTimeline=function(n){return void 0===this.timelines[n]?null:this.timelines[n].time},e.mappingForTimeline=function(n){return void 0===this.timelines[n]?null:this.timelines[n].mapping},e.calculateSegmentTimeMapping_=function(n,s,l){var y,M,d=n.segment,p=n.part,m=this.timelines[n.timeline];if("number"==typeof n.timestampOffset)m={time:n.startOfSegment,mapping:n.startOfSegment-s.start},l&&(this.timelines[n.timeline]=m,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+n.timeline+": [time: "+m.time+"] [mapping: "+m.mapping+"]")),y=n.startOfSegment,M=s.end+m.mapping;else{if(!m)return!1;y=s.start+m.mapping,M=s.end+m.mapping}return p&&(p.start=y,p.end=M),(!d.start||y<d.start)&&(d.start=y),d.end=M,!0},e.saveDiscontinuitySyncInfo_=function(n){var s=n.playlist,l=n.segment;if(l.discontinuity)this.discontinuities[l.timeline]={time:l.start,accuracy:0};else if(s.discontinuityStarts&&s.discontinuityStarts.length)for(var d=0;d<s.discontinuityStarts.length;d++){var p=s.discontinuityStarts[d],m=s.discontinuitySequence+d+1,y=p-n.mediaIndex,M=Math.abs(y);if(!this.discontinuities[m]||this.discontinuities[m].accuracy>M){var A;A=y<0?l.start-fa({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:n.mediaIndex,endIndex:p}):l.end+fa({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:n.mediaIndex+1,endIndex:p}),this.discontinuities[m]={time:A,accuracy:M}}}},e.dispose=function(){this.trigger("dispose"),this.off()},t}(Se.EventTarget),ov=function(r){function t(){var i;return(i=r.call(this)||this).pendingTimelineChanges_={},i.lastTimelineChanges_={},i}bt(t,r);var e=t.prototype;return e.clearPendingTimelineChange=function(n){this.pendingTimelineChanges_[n]=null,this.trigger("pendingtimelinechange")},e.pendingTimelineChange=function(n){var s=n.type,l=n.from,d=n.to;return"number"==typeof l&&"number"==typeof d&&(this.pendingTimelineChanges_[s]={type:s,from:l,to:d},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[s]},e.lastTimelineChange=function(n){var s=n.type,l=n.from,d=n.to;return"number"==typeof l&&"number"==typeof d&&(this.lastTimelineChanges_[s]={type:s,from:l,to:d},delete this.pendingTimelineChanges_[s],this.trigger("timelinechange")),this.lastTimelineChanges_[s]},e.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},t}(Se.EventTarget),ga=Bm(Jy(function(){function r(H,j,le){return H(le={path:j,exports:{},require:function(Ne,Ie){return function t(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},le.exports),le.exports}var e=r(function(H){function j(he,Ne){for(var Ie=0;Ie<Ne.length;Ie++){var Pe=Ne[Ie];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(he,Pe.key,Pe)}}H.exports=function le(he,Ne,Ie){return Ne&&j(he.prototype,Ne),Ie&&j(he,Ie),he},H.exports.default=H.exports,H.exports.__esModule=!0}),i=r(function(H){function j(le,he){return H.exports=j=Object.setPrototypeOf||function(Ie,Pe){return Ie.__proto__=Pe,Ie},H.exports.default=H.exports,H.exports.__esModule=!0,j(le,he)}H.exports=j,H.exports.default=H.exports,H.exports.__esModule=!0}),n=r(function(H){H.exports=function j(le,he){le.prototype=Object.create(he.prototype),le.prototype.constructor=le,i(le,he)},H.exports.default=H.exports,H.exports.__esModule=!0}),s=function(){function H(){this.listeners={}}var j=H.prototype;return j.on=function(he,Ne){this.listeners[he]||(this.listeners[he]=[]),this.listeners[he].push(Ne)},j.off=function(he,Ne){if(!this.listeners[he])return!1;var Ie=this.listeners[he].indexOf(Ne);return this.listeners[he]=this.listeners[he].slice(0),this.listeners[he].splice(Ie,1),Ie>-1},j.trigger=function(he){var Ne=this.listeners[he];if(Ne)if(2===arguments.length)for(var Ie=Ne.length,Pe=0;Pe<Ie;++Pe)Ne[Pe].call(this,arguments[1]);else for(var ze=Array.prototype.slice.call(arguments,1),et=Ne.length,Be=0;Be<et;++Be)Ne[Be].apply(this,ze)},j.dispose=function(){this.listeners={}},j.pipe=function(he){this.on("data",function(Ne){he.push(Ne)})},H}(),p=null,m=function(){function H(le){p||(p=function(){var Pe,ze,et,lt,Lt,tn,Mi,pn,j=[[[],[],[],[],[]],[[],[],[],[],[]]],le=j[0],he=j[1],Ne=le[4],Ie=he[4],Be=[],dt=[];for(Pe=0;Pe<256;Pe++)dt[(Be[Pe]=Pe<<1^283*(Pe>>7))^Pe]=Pe;for(ze=et=0;!Ne[ze];ze^=lt||1,et=dt[et]||1)for(Ne[ze]=tn=(tn=et^et<<1^et<<2^et<<3^et<<4)>>8^255&tn^99,Ie[tn]=ze,pn=16843009*Be[Lt=Be[lt=Be[ze]]]^65537*Lt^257*lt^16843008*ze,Mi=257*Be[tn]^16843008*tn,Pe=0;Pe<4;Pe++)le[Pe][ze]=Mi=Mi<<24^Mi>>>8,he[Pe][tn]=pn=pn<<24^pn>>>8;for(Pe=0;Pe<5;Pe++)le[Pe]=le[Pe].slice(0),he[Pe]=he[Pe].slice(0);return j}()),this._tables=[[p[0][0].slice(),p[0][1].slice(),p[0][2].slice(),p[0][3].slice(),p[0][4].slice()],[p[1][0].slice(),p[1][1].slice(),p[1][2].slice(),p[1][3].slice(),p[1][4].slice()]];var he,Ne,Ie,Pe=this._tables[0][4],ze=this._tables[1],et=le.length,Be=1;if(4!==et&&6!==et&&8!==et)throw new Error("Invalid aes key size");var dt=le.slice(0),lt=[];for(this._key=[dt,lt],he=et;he<4*et+28;he++)Ie=dt[he-1],(he%et==0||8===et&&he%et==4)&&(Ie=Pe[Ie>>>24]<<24^Pe[Ie>>16&255]<<16^Pe[Ie>>8&255]<<8^Pe[255&Ie],he%et==0&&(Ie=Ie<<8^Ie>>>24^Be<<24,Be=Be<<1^283*(Be>>7))),dt[he]=dt[he-et]^Ie;for(Ne=0;he;Ne++,he--)Ie=dt[3&Ne?he:he-4],lt[Ne]=he<=4||Ne<4?Ie:ze[0][Pe[Ie>>>24]]^ze[1][Pe[Ie>>16&255]]^ze[2][Pe[Ie>>8&255]]^ze[3][Pe[255&Ie]]}return H.prototype.decrypt=function(he,Ne,Ie,Pe,ze,et){var tn,Mi,pn,vi,Be=this._key[1],dt=he^Be[0],lt=Pe^Be[1],Lt=Ie^Be[2],At=Ne^Be[3],Ui=Be.length/4-2,xr=4,mr=this._tables[1],ms=mr[0],za=mr[1],ns=mr[2],_a=mr[3],vs=mr[4];for(vi=0;vi<Ui;vi++)tn=ms[dt>>>24]^za[lt>>16&255]^ns[Lt>>8&255]^_a[255&At]^Be[xr],Mi=ms[lt>>>24]^za[Lt>>16&255]^ns[At>>8&255]^_a[255&dt]^Be[xr+1],pn=ms[Lt>>>24]^za[At>>16&255]^ns[dt>>8&255]^_a[255&lt]^Be[xr+2],At=ms[At>>>24]^za[dt>>16&255]^ns[lt>>8&255]^_a[255&Lt]^Be[xr+3],xr+=4,dt=tn,lt=Mi,Lt=pn;for(vi=0;vi<4;vi++)ze[(3&-vi)+et]=vs[dt>>>24]<<24^vs[lt>>16&255]<<16^vs[Lt>>8&255]<<8^vs[255&At]^Be[xr++],tn=dt,dt=lt,lt=Lt,Lt=At,At=tn},H}(),y=function(H){function j(){var he;return(he=H.call(this,s)||this).jobs=[],he.delay=1,he.timeout_=null,he}n(j,H);var le=j.prototype;return le.processJob_=function(){this.jobs.shift()(),this.timeout_=this.jobs.length?setTimeout(this.processJob_.bind(this),this.delay):null},le.push=function(Ne){this.jobs.push(Ne),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},j}(s),M=function(j){return j<<24|(65280&j)<<8|(16711680&j)>>8|j>>>24},k=function(){function H(le,he,Ne,Ie){var Pe=H.STEP,ze=new Int32Array(le.buffer),et=new Uint8Array(le.byteLength),Be=0;for(this.asyncStream_=new y,this.asyncStream_.push(this.decryptChunk_(ze.subarray(Be,Be+Pe),he,Ne,et)),Be=Pe;Be<ze.length;Be+=Pe)Ne=new Uint32Array([M(ze[Be-4]),M(ze[Be-3]),M(ze[Be-2]),M(ze[Be-1])]),this.asyncStream_.push(this.decryptChunk_(ze.subarray(Be,Be+Pe),he,Ne,et));this.asyncStream_.push(function(){Ie(null,
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */
function l(H){return H.subarray(0,H.byteLength-H[H.byteLength-1])}
/*! @name aes-decrypter @version 3.1.2 @license Apache-2.0 */(et))})}return H.prototype.decryptChunk_=function(he,Ne,Ie,Pe){return function(){var ze=function(j,le,he){var et,Be,dt,lt,Lt,At,tn,Mi,pn,Ne=new Int32Array(j.buffer,j.byteOffset,j.byteLength>>2),Ie=new m(Array.prototype.slice.call(le)),Pe=new Uint8Array(j.byteLength),ze=new Int32Array(Pe.buffer);for(et=he[0],Be=he[1],dt=he[2],lt=he[3],pn=0;pn<Ne.length;pn+=4)Lt=M(Ne[pn]),At=M(Ne[pn+1]),tn=M(Ne[pn+2]),Mi=M(Ne[pn+3]),Ie.decrypt(Lt,At,tn,Mi,ze,pn),ze[pn]=M(ze[pn]^et),ze[pn+1]=M(ze[pn+1]^Be),ze[pn+2]=M(ze[pn+2]^dt),ze[pn+3]=M(ze[pn+3]^lt),et=Lt,Be=At,dt=tn,lt=Mi;return Pe}(he,Ne,Ie);Pe.set(ze,he.byteOffset)}},e(H,null,[{key:"STEP",get:function(){return 32e3}}]),H}();self.onmessage=function(H){var j=H.data,le=new Uint8Array(j.encrypted.bytes,j.encrypted.byteOffset,j.encrypted.byteLength),he=new Uint32Array(j.key.bytes,j.key.byteOffset,j.key.byteLength/4),Ne=new Uint32Array(j.iv.bytes,j.iv.byteOffset,j.iv.byteLength/4);new k(le,he,Ne,function(Ie,Pe){self.postMessage(function(j){var le={};return Object.keys(j).forEach(function(he){var Ne=j[he];le[he]=ArrayBuffer.isView(Ne)?{bytes:Ne.buffer,byteOffset:Ne.byteOffset,byteLength:Ne.byteLength}:Ne}),le}({source:j.source,decrypted:Pe}),[Pe.buffer])})}})),GC=Lm(ga),lv=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},Mo=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},uv=function(t,e){e.activePlaylistLoader=t,t.load()},Ll={AUDIO:function(t,e){return function(){var n=e.mediaTypes[t],s=e.blacklistCurrentPlaylist;Mo(e.segmentLoaders[t],n);var l=n.activeTrack(),d=n.activeGroup(),p=(d.filter(function(M){return M.default})[0]||d[0]).id,m=n.tracks[p];if(l!==m){for(var y in Se.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),n.tracks)n.tracks[y].enabled=n.tracks[y]===m;n.onTrackChanged()}else s({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t];Se.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Mo(i,n);var s=n.activeTrack();s&&(s.mode="disabled"),n.onTrackChanged()}}},xb={AUDIO:function(t,e,i){if(e){var n=i.tech,s=i.requestOptions,l=i.segmentLoaders[t];e.on("loadedmetadata",function(){var d=e.media();l.playlist(d,s),(!n.paused()||d.endList&&"none"!==n.preload())&&l.load()}),e.on("loadedplaylist",function(){l.playlist(e.media(),s),n.paused()||l.load()}),e.on("error",Ll[t](t,i))}},SUBTITLES:function(t,e,i){var n=i.tech,s=i.requestOptions,l=i.segmentLoaders[t],d=i.mediaTypes[t];e.on("loadedmetadata",function(){var p=e.media();l.playlist(p,s),l.track(d.activeTrack()),(!n.paused()||p.endList&&"none"!==n.preload())&&l.load()}),e.on("loadedplaylist",function(){l.playlist(e.media(),s),n.paused()||l.load()}),e.on("error",Ll[t](t,i))}},$C={AUDIO:function(t,e){var i=e.vhs,n=e.sourceType,s=e.segmentLoaders[t],l=e.requestOptions,d=e.master.mediaGroups,p=e.mediaTypes[t],m=p.groups,y=p.tracks,M=p.logger_,A=e.masterPlaylistLoader,k=xo(A.master);for(var W in(!d[t]||0===Object.keys(d[t]).length)&&(d[t]={main:{default:{default:!0}}},k&&(d[t].main.default.playlists=A.master.playlists)),d[t])for(var H in m[W]||(m[W]=[]),d[t][W]){var j=d[t][W][H],le=void 0;if(k?(M("AUDIO group '"+W+"' label '"+H+"' is a master playlist"),j.isMasterPlaylist=!0,le=null):le="vhs-json"===n&&j.playlists?new oc(j.playlists[0],i,l):j.resolvedUri?new oc(j.resolvedUri,i,l):j.playlists&&"dash"===n?new Fm(j.playlists[0],i,l,A):null,j=Se.mergeOptions({id:H,playlistLoader:le},j),xb[t](t,j.playlistLoader,e),m[W].push(j),void 0===y[H]){var he=new Se.AudioTrack({id:H,kind:lv(j),enabled:!1,language:j.language,default:j.default,label:H});y[H]=he}}s.on("error",Ll[t](t,e))},SUBTITLES:function(t,e){var i=e.tech,n=e.vhs,s=e.sourceType,l=e.segmentLoaders[t],d=e.requestOptions,p=e.master.mediaGroups,m=e.mediaTypes[t],y=m.groups,M=m.tracks,A=e.masterPlaylistLoader;for(var k in p[t])for(var W in y[k]||(y[k]=[]),p[t][k])if(!p[t][k][W].forced){var H=p[t][k][W],j=void 0;if("hls"===s)j=new oc(H.resolvedUri,n,d);else if("dash"===s){if(!H.playlists.filter(function(Ne){return Ne.excludeUntil!==1/0}).length)return;j=new Fm(H.playlists[0],n,d,A)}else"vhs-json"===s&&(j=new oc(H.playlists?H.playlists[0]:H.resolvedUri,n,d));if(H=Se.mergeOptions({id:W,playlistLoader:j},H),xb[t](t,H.playlistLoader,e),y[k].push(H),void 0===M[W]){var he=i.addRemoteTextTrack({id:W,kind:"subtitles",default:H.default&&H.autoselect,language:H.language,label:W},!1).track;M[W]=he}}l.on("error",Ll[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var i=e.tech,n=e.master.mediaGroups,s=e.mediaTypes[t],l=s.groups,d=s.tracks;for(var p in n[t])for(var m in l[p]||(l[p]=[]),n[t][p]){var y=n[t][p][m];if(/^(?:CC|SERVICE)/.test(y.instreamId)){var M=i.options_.vhs&&i.options_.vhs.captionServices||{},A={label:m,language:y.language,instreamId:y.instreamId,default:y.default&&y.autoselect};if(M[A.instreamId]&&(A=Se.mergeOptions(A,M[A.instreamId])),void 0===A.default&&delete A.default,l[p].push(Se.mergeOptions({id:m},y)),void 0===d[m]){var k=i.addRemoteTextTrack({id:A.instreamId,kind:"captions",default:A.default,language:A.language,label:A.label},!1).track;d[m]=k}}}}},Ab=function r(t,e){for(var i=0;i<t.length;i++)if(Mm(e,t[i])||t[i].playlists&&r(t[i].playlists,e))return!0;return!1},cv={AUDIO:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if(i[n].enabled)return i[n];return null}},SUBTITLES:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if("showing"===i[n].mode||"hidden"===i[n].mode)return i[n];return null}}},dv=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Ib=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},hv=function(r){function t(i){var n;n=r.call(this)||this;var s=i.src,l=i.handleManifestRedirects,d=i.withCredentials,p=i.tech,m=i.bandwidth,y=i.externVhs,M=i.useCueTags,A=i.blacklistDuration,k=i.enableLowInitialPlaylist,W=i.sourceType,H=i.cacheEncryptionKeys,j=i.experimentalBufferBasedABR,le=i.experimentalLeastPixelDiffSelector,he=i.captionServices;if(!s)throw new Error("A non-empty playlist URL or JSON manifest string is required");var Ne=i.maxPlaylistRetries;null==Ne&&(Ne=1/0),Gs=y,n.experimentalBufferBasedABR=Boolean(j),n.experimentalLeastPixelDiffSelector=Boolean(le),n.withCredentials=d,n.tech_=p,n.vhs_=p.vhs,n.sourceType_=W,n.useCueTags_=M,n.blacklistDuration=A,n.maxPlaylistRetries=Ne,n.enableLowInitialPlaylist=k,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:d,handleManifestRedirects:l,maxPlaylistRetries:Ne,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ja,activeTrack:ja,getActiveGroup:ja,onGroupChanged:ja,onTrackChanged:ja,lastTrack_:null,logger_:Hs("MediaGroups["+e+"]")}}),t}(),n.mediaSource=new(re().MediaSource),n.handleDurationChange_=n.handleDurationChange_.bind(jt(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(jt(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(jt(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=Se.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new VC(i),n.segmentMetadataTrack_=p.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new GC,n.sourceUpdater_=new sv(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new ov;var Ie={vhs:n.vhs_,parse708captions:i.parse708captions,captionServices:he,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:m,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:H,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};n.masterPlaylistLoader_="dash"===n.sourceType_?new Fm(s,n.vhs_,n.requestOptions_):new oc(s,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new tv(Se.mergeOptions(Ie,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),i),n.audioSegmentLoader_=new tv(Se.mergeOptions(Ie,{loaderType:"audio"}),i),n.subtitleSegmentLoader_=new LC(Se.mergeOptions(Ie,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks}),i),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",function(){return n.startABRTimer_()}),n.tech_.on("pause",function(){return n.stopABRTimer_()}),n.tech_.on("play",function(){return n.startABRTimer_()})),dv.forEach(function(ze){n[ze+"_"]=Ib.bind(jt(n),ze)}),n.logger_=Hs("MPC"),n.triggeredFmp4Usage=!1,"none"===n.tech_.preload()?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var Pe="none"===n.tech_.preload()?"play":"loadstart";return n.tech_.one(Pe,function(){var ze=Date.now();n.tech_.one("loadeddata",function(){n.timeToLoadedData__=Date.now()-ze,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends})}),n}bt(t,r);var e=t.prototype;return e.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},e.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},e.appendsToLoadedData_=function(){var n=this.mainAppendsToLoadedData_(),s=this.audioAppendsToLoadedData_();return-1===n||-1===s?-1:n+s},e.timeToLoadedData_=function(){return this.timeToLoadedData__},e.checkABR_=function(){var n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,"abr")},e.switchMedia_=function(n,s,l){var d=this.media(),p=d&&(d.id||d.uri),m=n.id||n.uri;p&&p!==m&&(this.logger_("switch media "+p+" -> "+m+" from "+s),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+s})),this.masterPlaylistLoader_.media(n,l)},e.startABRTimer_=function(){var n=this;this.stopABRTimer_(),this.abrTimer_=re().setInterval(function(){return n.checkABR_()},250)},e.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(re().clearInterval(this.abrTimer_),this.abrTimer_=null)},e.getAudioTrackPlaylists_=function(){var n=this.master(),s=n&&n.playlists||[];if(!n||!n.mediaGroups||!n.mediaGroups.AUDIO)return s;var p,l=n.mediaGroups.AUDIO,d=Object.keys(l);if(Object.keys(this.mediaTypes_.AUDIO.groups).length)p=this.mediaTypes_.AUDIO.activeTrack();else{var m=l.main||d.length&&l[d[0]];for(var y in m)if(m[y].default){p={label:y};break}}if(!p)return s;var M=[];for(var A in l)if(l[A][p.label]){var k=l[A][p.label];if(k.playlists&&k.playlists.length)M.push.apply(M,k.playlists);else if(k.uri)M.push(k);else if(n.playlists.length)for(var W=0;W<n.playlists.length;W++){var H=n.playlists[W];H.attributes&&H.attributes.AUDIO&&H.attributes.AUDIO===A&&M.push(H)}}return M.length?M:s},e.setupMasterPlaylistLoaderListeners_=function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var s=n.masterPlaylistLoader_.media(),l=1.5*s.targetDuration*1e3;n.requestOptions_.timeout=ac(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?0:l,s.endList&&"none"!==n.tech_.preload()&&(n.mainSegmentLoader_.playlist(s,n.requestOptions_),n.mainSegmentLoader_.load()),function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(W){$C[W](W,t)});var e=t.mediaTypes,i=t.masterPlaylistLoader,n=t.tech,s=t.vhs,l=t.segmentLoaders,d=l.AUDIO,p=l.main;["AUDIO","SUBTITLES"].forEach(function(W){e[W].activeGroup=function(t,e){return function(i){var s=e.mediaTypes[t].groups,l=e.masterPlaylistLoader.media();if(!l)return null;var d=null;l.attributes[t]&&(d=s[l.attributes[t]]);var p=Object.keys(s);if(!d)if("AUDIO"===t&&p.length>1&&xo(e.master))for(var m=0;m<p.length;m++){var y=s[p[m]];if(Ab(y,l)){d=y;break}}else s.main?d=s.main:1===p.length&&(d=s[p[0]]);return void 0===i?d:null!==i&&d&&d.filter(function(M){return M.id===i.id})[0]||null}}(W,t),e[W].activeTrack=cv[W](W,t),e[W].onGroupChanged=function(t,e){return function(){var i=e.segmentLoaders,n=i[t],s=i.main,l=e.mediaTypes[t],d=l.activeTrack(),p=l.getActiveGroup(),m=l.activePlaylistLoader,y=l.lastGroup_;if((!p||!y||p.id!==y.id)&&(l.lastGroup_=p,l.lastTrack_=d,Mo(n,l),p&&!p.isMasterPlaylist)){if(!p.playlistLoader)return void(m&&s.resetEverything());n.resyncLoader(),uv(p.playlistLoader,l)}}}(W,t),e[W].onGroupChanging=function(t,e){return function(){var i=e.segmentLoaders[t];e.mediaTypes[t].lastGroup_=null,i.abort(),i.pause()}}(W,t),e[W].onTrackChanged=function(t,e){return function(){var i=e.masterPlaylistLoader,n=e.segmentLoaders,s=n[t],l=n.main,d=e.mediaTypes[t],p=d.activeTrack(),m=d.getActiveGroup(),y=d.activePlaylistLoader,M=d.lastTrack_;if((!M||!p||M.id!==p.id)&&(d.lastGroup_=m,d.lastTrack_=p,Mo(s,d),m)){if(m.isMasterPlaylist){if(!p||!M||p.id===M.id)return;var A=e.vhs.masterPlaylistController_,k=A.selectPlaylist();if(A.media()===k)return;return d.logger_("track change. Switching master audio from "+M.id+" to "+p.id),i.pause(),l.resetEverything(),void A.fastQualityChange_(k)}if("AUDIO"===t){if(!m.playlistLoader)return l.setAudio(!0),void l.resetEverything();s.setAudio(!0),l.setAudio(!1)}if(y===m.playlistLoader)return void uv(m.playlistLoader,d);s.track&&s.track(p),s.resetEverything(),uv(m.playlistLoader,d)}}}(W,t),e[W].getActiveGroup=function(t,e){var i=e.mediaTypes;return function(){var n=i[t].activeTrack();return n?i[t].activeGroup(n):null}}(W,t)});var m=e.AUDIO.activeGroup();if(m){var y=(m.filter(function(W){return W.default})[0]||m[0]).id;e.AUDIO.tracks[y].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(p.setAudio(!1),d.setAudio(!0)):p.setAudio(!0)}i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(W){return e[W].onGroupChanged()})}),i.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(W){return e[W].onGroupChanging()})});var A=function(){e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})};for(var k in n.audioTracks().addEventListener("change",A),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),s.on("dispose",function(){n.audioTracks().removeEventListener("change",A),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[k])}({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,vhs:n.vhs_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),s),n.setupFirstPlay(),!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){n.loadOnPlay_&&n.tech_.off("play",n.loadOnPlay_);var s=n.masterPlaylistLoader_.media();if(!s){var l;if(n.excludeUnsupportedVariants_(),n.enableLowInitialPlaylist&&(l=n.selectInitialPlaylist()),l||(l=n.selectPlaylist()),!l||!n.shouldSwitchToMedia_(l))return;if(n.initialMedia_=l,n.switchMedia_(n.initialMedia_,"initial"),"vhs-json"!==n.sourceType_||!n.initialMedia_.segments)return;s=n.initialMedia_}n.handleUpdatedMediaPlaylist(s)}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var s=n.masterPlaylistLoader_.media(),l=1.5*s.targetDuration*1e3;n.requestOptions_.timeout=ac(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?0:l,n.mainSegmentLoader_.playlist(s,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var s=n.masterPlaylistLoader_.media();"playlist-unchanged"!==s.lastExcludeReason_&&n.stuckAtPlaylistEnd_(s)&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),n.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},e.handleUpdatedMediaPlaylist=function(n){this.useCueTags_&&this.updateAdCues_(n),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.updateDuration(!n.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},e.triggerPresenceUsage_=function(n,s){var l=n.mediaGroups||{},d=!0,p=Object.keys(l.AUDIO);for(var m in l.AUDIO)for(var y in l.AUDIO[m])l.AUDIO[m][y].uri||(d=!1);d&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(l.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),Gs.Playlist.isAes(s)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),p.length&&Object.keys(l.AUDIO[p[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},e.shouldSwitchToMedia_=function(n){var s=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,l=this.tech_.currentTime(),d=this.bufferLowWaterLine(),p=this.bufferHighWaterLine();return function(t){var e=t.currentPlaylist,i=t.buffered,n=t.currentTime,s=t.nextPlaylist,l=t.bufferLowWaterLine,d=t.bufferHighWaterLine,p=t.duration,m=t.experimentalBufferBasedABR,y=t.log;if(!s)return Se.log.warn("We received no playlist to switch to. Please check your stream."),!1;var M="allowing switch "+(e&&e.id||"null")+" -> "+s.id;if(!e)return y(M+" as current playlist is not set"),!0;if(s.id===e.id)return!1;var A=Boolean(sc(i,n).length);if(!e.endList)return A||"number"!=typeof e.partTargetDuration?(y(M+" as current playlist is live"),!0):(y("not "+M+" as current playlist is live llhls, but currentTime isn't in buffered."),!1);var k=Gh(i,n),W=m?Li.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Li.MAX_BUFFER_LOW_WATER_LINE;if(p<W)return y(M+" as duration < max low water line ("+p+" < "+W+")"),!0;var H=s.attributes.BANDWIDTH,j=e.attributes.BANDWIDTH;if(H<j&&(!m||k<d)){var le=M+" as next bandwidth < current bandwidth ("+H+" < "+j+")";return m&&(le+=" and forwardBuffer < bufferHighWaterLine ("+k+" < "+d+")"),y(le),!0}if((!m||H>j)&&k>=l){var he=M+" as forwardBuffer >= bufferLowWaterLine ("+k+" >= "+l+")";return m&&(he+=" and next bandwidth > current bandwidth ("+H+" > "+j+")"),y(he),!0}return y("not "+M+" as no switching criteria met"),!1}({buffered:this.tech_.buffered(),currentTime:l,currentPlaylist:s,nextPlaylist:n,bufferLowWaterLine:d,bufferHighWaterLine:p,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},e.setupSegmentLoaderListeners_=function(){var n=this;this.experimentalBufferBasedABR||(this.mainSegmentLoader_.on("bandwidthupdate",function(){var l=n.selectPlaylist();n.shouldSwitchToMedia_(l)&&n.switchMedia_(l,"bandwidthupdate"),n.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){n.trigger("progress")})),this.mainSegmentLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){n.error=n.mainSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){n.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),n.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){n.error=n.audioSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){n.logger_("main segment loader ended"),n.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(l){n.experimentalBufferBasedABR||(n.delegateLoaders_("all",["abort"]),n.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120))});var s=function(){if(!n.sourceUpdater_.hasCreatedSourceBuffers())return n.tryToCreateSourceBuffers_();var d=n.getCodecsOrExclude_();!d||n.sourceUpdater_.addOrChangeSourceBuffers(d)};this.mainSegmentLoader_.on("trackinfo",s),this.audioSegmentLoader_.on("trackinfo",s),this.mainSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){n.logger_("audioSegmentLoader ended"),n.onEndOfStream()})},e.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},e.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},e.smoothQualityChange_=function(n){void 0===n&&(n=this.selectPlaylist()),this.fastQualityChange_(n)},e.fastQualityChange_=function(n){var s=this;void 0===n&&(n=this.selectPlaylist()),n!==this.masterPlaylistLoader_.media()?(this.switchMedia_(n,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){s.tech_.setCurrentTime(Se.browser.IE_VERSION||Se.browser.IS_EDGE?s.tech_.currentTime()+.04:s.tech_.currentTime())})):this.logger_("skipping fastQualityChange because new media is same as old")},e.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var n=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<n.start(0))return this.tech_.setCurrentTime(n.end(n.length-1))}},e.setupFirstPlay=function(){var n=this,s=this.masterPlaylistLoader_.media();if(!s||this.tech_.paused()||this.hasPlayed_)return!1;if(!s.endList){var l=this.seekable();if(!l.length)return!1;if(Se.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){n.trigger("firstplay"),n.tech_.setCurrentTime(l.end(0)),n.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(l.end(0))}return this.hasPlayed_=!0,this.load(),!0},e.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var n=this.tech_.play();void 0!==n&&"function"==typeof n.then&&n.then(null,function(s){})}this.trigger("sourceopen")},e.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var n=this.inbandTextTracks_.metadataTrack_.cues;if(n&&n.length){var s=this.duration();n[n.length-1].endTime=isNaN(s)||Math.abs(s)===1/0?Number.MAX_VALUE:s}}},e.handleDurationChange_=function(){this.tech_.trigger("durationchange")},e.onEndOfStream=function(){var n=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var s=this.mainSegmentLoader_.getCurrentMediaInfo_();n=!s||s.hasVideo?n&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}!n||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},e.stuckAtPlaylistEnd_=function(n){if(!this.seekable().length)return!1;var l=this.syncController_.getExpiredTime(n,this.duration());if(null===l)return!1;var d=Gs.Playlist.playlistEnd(n,l),p=this.tech_.currentTime(),m=this.tech_.buffered();if(!m.length)return d-p<=da;var y=m.end(m.length-1);return y-p<=da&&d-y<=da},e.blacklistCurrentPlaylist=function(n,s){void 0===n&&(n={});var l=n.playlist||this.masterPlaylistLoader_.media();if(s=s||n.blacklistDuration||this.blacklistDuration,!l)return this.error=n,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));l.playlistErrors_++;var M,d=this.masterPlaylistLoader_.master.playlists,p=d.filter(Am),m=1===p.length&&p[0]===l;if(1===d.length&&s!==1/0)return Se.log.warn("Problem encountered with playlist "+l.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(m);if(m){var y=!1;d.forEach(function(le){if(le!==l){var he=le.excludeUntil;void 0!==he&&he!==1/0&&(y=!0,delete le.excludeUntil)}}),y&&(Se.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}M=l.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*s,l.excludeUntil=M,n.reason&&(l.lastExcludeReason_=n.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var A=this.selectPlaylist();if(!A)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");(n.internal?this.logger_:Se.log.warn)((n.internal?"Internal problem":"Problem")+" encountered with playlist "+l.id+"."+(n.message?" "+n.message:"")+" Switching to playlist "+A.id+"."),A.attributes.AUDIO!==l.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),A.attributes.SUBTITLES!==l.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var H=A.targetDuration/2*1e3||5e3,j="number"==typeof A.lastRequest&&Date.now()-A.lastRequest<=H;return this.switchMedia_(A,"exclude",m||j)},e.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},e.delegateLoaders_=function(n,s){var l=this,d=[],p="all"===n;(p||"main"===n)&&d.push(this.masterPlaylistLoader_);var m=[];(p||"audio"===n)&&m.push("AUDIO"),(p||"subtitle"===n)&&(m.push("CLOSED-CAPTIONS"),m.push("SUBTITLES")),m.forEach(function(y){var M=l.mediaTypes_[y]&&l.mediaTypes_[y].activePlaylistLoader;M&&d.push(M)}),["main","audio","subtitle"].forEach(function(y){var M=l[y+"SegmentLoader_"];M&&(n===y||"all"===n)&&d.push(M)}),d.forEach(function(y){return s.forEach(function(M){"function"==typeof y[M]&&y[M]()})})},e.setCurrentTime=function(n){var s=sc(this.tech_.buffered(),n);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?s&&s.length?n:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0},e.duration=function(){if(!this.masterPlaylistLoader_)return 0;var n=this.masterPlaylistLoader_.media();return n?n.endList?this.mediaSource?this.mediaSource.duration:Gs.Playlist.duration(n):1/0:0},e.seekable=function(){return this.seekable_},e.onSyncInfoUpdate_=function(){var n;if(this.masterPlaylistLoader_){var s=this.masterPlaylistLoader_.media();if(s){var l=this.syncController_.getExpiredTime(s,this.duration());if(null!==l){var m,y,d=this.masterPlaylistLoader_.master,p=Gs.Playlist.seekable(s,l,Gs.Playlist.liveEdgeDelay(d,s));0===p.length||this.mediaTypes_.AUDIO.activePlaylistLoader&&(s=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(l=this.syncController_.getExpiredTime(s,this.duration()))||0===(n=Gs.Playlist.seekable(s,l,Gs.Playlist.liveEdgeDelay(d,s))).length)||(this.seekable_&&this.seekable_.length&&(m=this.seekable_.end(0),y=this.seekable_.start(0)),this.seekable_=n?n.start(0)>p.end(0)||p.start(0)>n.end(0)?p:Se.createTimeRanges([[n.start(0)>p.start(0)?n.start(0):p.start(0),n.end(0)<p.end(0)?n.end(0):p.end(0)]]):p,(!this.seekable_||!this.seekable_.length||this.seekable_.end(0)!==m||this.seekable_.start(0)!==y)&&(this.logger_("seekable updated ["+Iy(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")))}}}},e.updateDuration=function(n){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,n),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(n){var s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1))}else{var l=this.tech_.buffered(),d=Gs.Playlist.duration(this.masterPlaylistLoader_.media());l.length>0&&(d=Math.max(d,l.end(l.length-1))),this.mediaSource.duration!==d&&this.sourceUpdater_.setDuration(d)}},e.dispose=function(){var n=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(s){var l=n.mediaTypes_[s].groups;for(var d in l)l[d].forEach(function(p){p.playlistLoader&&p.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},e.master=function(){return this.masterPlaylistLoader_.master},e.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},e.areMediaTypesKnown_=function(){var n=!!this.mediaTypes_.AUDIO.activePlaylistLoader,s=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),l=!n||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!s||!l)},e.getCodecsOrExclude_=function(){var n=this,s={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};s.video=s.main;var l=ha(this.master(),this.media()),d={},p=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(s.main.hasVideo&&(d.video=l.video||s.main.videoCodec||"avc1.4d400d"),s.main.isMuxed&&(d.video+=","+(l.audio||s.main.audioCodec||U0)),(s.main.hasAudio&&!s.main.isMuxed||s.audio.hasAudio||p)&&(d.audio=l.audio||s.main.audioCodec||s.audio.audioCodec||U0,s.audio.isFmp4=s.main.hasAudio&&!s.main.isMuxed?s.main.isFmp4:s.audio.isFmp4),d.audio||d.video){var M,y={};if(["video","audio"].forEach(function(H){if(d.hasOwnProperty(H)&&!function(j,le){return j?Gf(le):jf(le)}(s[H].isFmp4,d[H])){var j=s[H].isFmp4?"browser":"muxer";y[j]=y[j]||[],y[j].push(d[H]),"audio"===H&&(M=j)}}),p&&M&&this.media().attributes.AUDIO){var A=this.media().attributes.AUDIO;this.master().playlists.forEach(function(H){(H.attributes&&H.attributes.AUDIO)===A&&H!==n.media()&&(H.excludeUntil=1/0)}),this.logger_("excluding audio group "+A+" as "+M+' does not support codec(s): "'+d.audio+'"')}if(!Object.keys(y).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var W=[];if(["video","audio"].forEach(function(H){var j=(Zn(n.sourceUpdater_.codecs[H]||"")[0]||{}).type,le=(Zn(d[H]||"")[0]||{}).type;j&&le&&j.toLowerCase()!==le.toLowerCase()&&W.push('"'+n.sourceUpdater_.codecs[H]+'" -> "'+d[H]+'"')}),W.length)return void this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+W.join(", ")+".",blacklistDuration:1/0,internal:!0})}return d}var k=Object.keys(y).reduce(function(H,j){return H&&(H+=", "),H+(j+' does not support codec(s): "')+y[j].join(",")+'"'},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:k,blacklistDuration:1/0})}else this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0})},e.tryToCreateSourceBuffers_=function(){if("open"===this.mediaSource.readyState&&!this.sourceUpdater_.hasCreatedSourceBuffers()&&this.areMediaTypesKnown_()){var n=this.getCodecsOrExclude_();if(n){this.sourceUpdater_.createSourceBuffers(n);var s=[n.video,n.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(s)}}},e.excludeUnsupportedVariants_=function(){var n=this,s=this.master().playlists,l=[];Object.keys(s).forEach(function(d){var p=s[d];if(-1===l.indexOf(p.id)){l.push(p.id);var m=ha(n.master,p),y=[];m.audio&&!jf(m.audio)&&!Gf(m.audio)&&y.push("audio codec "+m.audio),m.video&&!jf(m.video)&&!Gf(m.video)&&y.push("video codec "+m.video),m.text&&"stpp.ttml.im1t"===m.text&&y.push("text codec "+m.text),y.length&&(p.excludeUntil=1/0,n.logger_("excluding "+p.id+" for unsupported: "+y.join(", ")))}})},e.excludeIncompatibleVariants_=function(n){var s=this,l=[],d=this.master().playlists,p=Pl(Zn(n)),m=pb(p),y=p.video&&Zn(p.video)[0]||null,M=p.audio&&Zn(p.audio)[0]||null;Object.keys(d).forEach(function(A){var k=d[A];if(-1===l.indexOf(k.id)&&k.excludeUntil!==1/0){l.push(k.id);var W=[],H=ha(s.masterPlaylistLoader_.master,k),j=pb(H);if(H.audio||H.video){if(j!==m&&W.push('codec count "'+j+'" !== "'+m+'"'),!s.sourceUpdater_.canChangeType()){var le=H.video&&Zn(H.video)[0]||null,he=H.audio&&Zn(H.audio)[0]||null;le&&y&&le.type.toLowerCase()!==y.type.toLowerCase()&&W.push('video codec "'+le.type+'" !== "'+y.type+'"'),he&&M&&he.type.toLowerCase()!==M.type.toLowerCase()&&W.push('audio codec "'+he.type+'" !== "'+M.type+'"')}W.length&&(k.excludeUntil=1/0,s.logger_("blacklisting "+k.id+": "+W.join(" && ")))}}})},e.updateAdCues_=function(n){var s=0,l=this.seekable();l.length&&(s=l.start(0)),function(t,e,i){if(void 0===i&&(i=0),t.segments)for(var s,n=i,l=0;l<t.segments.length;l++){var d=t.segments[l];if(s||(s=BC(e,n+d.duration/2)),s){if("cueIn"in d){s.endTime=n,s.adEndTime=n,n+=d.duration,s=null;continue}if(n<s.endTime){n+=d.duration;continue}s.endTime+=d.duration}else if("cueOut"in d&&((s=new(re().VTTCue)(n,n+d.duration,d.cueOut)).adStartTime=n,s.adEndTime=n+parseFloat(d.cueOut),e.addCue(s)),"cueOutCont"in d){var p=d.cueOutCont.split("/").map(parseFloat),m=p[0],y=p[1];(s=new(re().VTTCue)(n,n+d.duration,"")).adStartTime=n-m,s.adEndTime=s.adStartTime+y,e.addCue(s)}n+=d.duration}}(n,this.cueTagsTrack_,s)},e.goalBufferLength=function(){var n=this.tech_.currentTime(),s=Li.GOAL_BUFFER_LENGTH,l=Li.GOAL_BUFFER_LENGTH_RATE,d=Math.max(s,Li.MAX_GOAL_BUFFER_LENGTH);return Math.min(s+n*l,d)},e.bufferLowWaterLine=function(){var n=this.tech_.currentTime(),s=Li.BUFFER_LOW_WATER_LINE,l=Li.BUFFER_LOW_WATER_LINE_RATE,d=Math.max(s,Li.MAX_BUFFER_LOW_WATER_LINE),p=Math.max(s,Li.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(s+n*l,this.experimentalBufferBasedABR?p:d)},e.bufferHighWaterLine=function(){return Li.BUFFER_HIGH_WATER_LINE},t}(Se.EventTarget),qC=function(t,e,i){var n=t.masterPlaylistController_,d=n[(t.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(n);if(e.attributes){var p=e.attributes.RESOLUTION;this.width=p&&p.width,this.height=p&&p.height,this.bandwidth=e.attributes.BANDWIDTH}this.codecs=ha(n.master(),e),this.playlist=e,this.id=i,this.enabled=function(t,e,i){return function(n){var s=t.master.playlists[e],l=zh(s),d=Am(s);return void 0===n?d:(n?delete s.disabled:s.disabled=!0,n!==d&&!l&&(i(),t.trigger(n?"renditionenabled":"renditiondisabled")),n)}}(t.playlists,e.id,d)},Ob=["seeking","seeked","pause","playing","error"],Pb=function(){function r(e){var i=this;this.masterPlaylistController_=e.masterPlaylistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Hs("PlaybackWatcher"),this.logger_("initialize");var n=function(){return i.monitorCurrentTime_()},s=function(){return i.monitorCurrentTime_()},l=function(){return i.techWaiting_()},d=function(){return i.cancelTimer_()},p=this.masterPlaylistController_,m=["main","subtitle","audio"],y={};m.forEach(function(A){y[A]={reset:function(){return i.resetSegmentDownloads_(A)},updateend:function(){return i.checkSegmentDownloads_(A)}},p[A+"SegmentLoader_"].on("appendsdone",y[A].updateend),p[A+"SegmentLoader_"].on("playlistupdate",y[A].reset),i.tech_.on(["seeked","seeking"],y[A].reset)});var M=function(k){["main","audio"].forEach(function(W){p[W+"SegmentLoader_"][k]("appended",i.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){i.fixesBadSeeks_()&&(i.consecutiveUpdates=0,i.lastRecordedTime=i.tech_.currentTime(),M("off"))},this.clearSeekingAppendCheck_=function(){return M("off")},this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_(),M("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",l),this.tech_.on(Ob,d),this.tech_.on("canplay",s),this.tech_.one("play",n),this.dispose=function(){i.clearSeekingAppendCheck_(),i.logger_("dispose"),i.tech_.off("waiting",l),i.tech_.off(Ob,d),i.tech_.off("canplay",s),i.tech_.off("play",n),i.tech_.off("seeking",i.watchForBadSeeking_),i.tech_.off("seeked",i.clearSeekingAppendCheck_),m.forEach(function(A){p[A+"SegmentLoader_"].off("appendsdone",y[A].updateend),p[A+"SegmentLoader_"].off("playlistupdate",y[A].reset),i.tech_.off(["seeked","seeking"],y[A].reset)}),i.checkCurrentTimeTimeout_&&re().clearTimeout(i.checkCurrentTimeTimeout_),i.cancelTimer_()}}var t=r.prototype;return t.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&re().clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=re().setTimeout(this.monitorCurrentTime_.bind(this),250)},t.resetSegmentDownloads_=function(i){var n=this.masterPlaylistController_[i+"SegmentLoader_"];this[i+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+i+" loader"),this[i+"StalledDownloads_"]=0,this[i+"Buffered_"]=n.buffered_()},t.checkSegmentDownloads_=function(i){var n=this.masterPlaylistController_,s=n[i+"SegmentLoader_"],l=s.buffered_(),d=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t.start(i)!==e.start(i)||t.end(i)!==e.end(i))return!0;return!1}(this[i+"Buffered_"],l);this[i+"Buffered_"]=l,d?this.resetSegmentDownloads_(i):(this[i+"StalledDownloads_"]++,this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:s.playlist_&&s.playlist_.id,buffered:wo(l)}),!(this[i+"StalledDownloads_"]<10)&&(this.logger_(i+" loader stalled download exclusion"),this.resetSegmentDownloads_(i),this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"}),"subtitle"!==i&&n.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},1/0)))},t.checkCurrentTime_=function(){if(!this.tech_.paused()&&!this.tech_.seeking()){var i=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===i&&(!n.length||i+da>=n.end(n.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&i===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):i===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=i)}},t.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},t.fixesBadSeeks_=function(){if(!this.tech_.seeking())return!1;var d,n=this.seekable(),s=this.tech_.currentTime();if(this.afterSeekableWindow_(n,s,this.media(),this.allowSeeksWithinUnsafeLiveWindow)&&(d=n.end(n.length-1)),this.beforeSeekableWindow_(n,s)){var m=n.start(0);d=m+(m===n.end(0)?0:da)}if(void 0!==d)return this.logger_("Trying to seek outside of seekable at time "+s+" with seekable range "+Iy(n)+". Seeking to "+d+"."),this.tech_.setCurrentTime(d),!0;for(var y=this.masterPlaylistController_.sourceUpdater_,M=this.tech_.buffered(),A=y.audioBuffer?y.audioBuffered():null,k=y.videoBuffer?y.videoBuffered():null,W=this.media(),H=W.partTargetDuration?W.partTargetDuration:2*(W.targetDuration-Eo),j=[A,k],le=0;le<j.length;le++)if(j[le]&&Gh(j[le],s)<H)return!1;var Ne=Vh(M,s);return 0!==Ne.length&&(d=Ne.start(0)+da,this.logger_("Buffered region starts ("+Ne.start(0)+")  just beyond seek point ("+s+"). Seeking to "+d+"."),this.tech_.setCurrentTime(d),!0)},t.waiting_=function(){if(!this.techWaiting_()){var i=this.tech_.currentTime(),n=this.tech_.buffered(),s=sc(n,i);if(s.length&&i+3<=s.end(0))return this.cancelTimer_(),this.tech_.setCurrentTime(i),this.logger_("Stopped at "+i+" while inside a buffered region ["+s.start(0)+" -> "+s.end(0)+"]. Attempting to resume playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})}},t.techWaiting_=function(){var i=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(i,n)){var s=i.end(i.length-1);return this.logger_("Fell out of live window at time "+n+". Seeking to live point (seekable end) "+s),this.cancelTimer_(),this.tech_.setCurrentTime(s),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var l=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,d=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:l.audioBuffered(),videoBuffered:l.videoBuffered(),currentTime:n}))return this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var m=Vh(d,n);if(m.length>0){var y=m.start(0)-n;return this.logger_("Stopped at "+n+", setting timer for "+y+", seeking to "+m.start(0)),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*y,n),!0}return!1},t.afterSeekableWindow_=function(i,n,s,l){if(void 0===l&&(l=!1),!i.length)return!1;var d=i.end(i.length-1)+da;return!s.endList&&l&&(d=i.end(i.length-1)+3*s.targetDuration),n>d},t.beforeSeekableWindow_=function(i,n){return!!(i.length&&i.start(0)>0&&n<i.start(0)-this.liveRangeSafeTimeDelta)},t.videoUnderflow_=function(i){var n=i.videoBuffered,s=i.audioBuffered,l=i.currentTime;if(n){var d;if(n.length&&s.length){var p=sc(n,l-3),m=sc(n,l),y=sc(s,l);y.length&&!m.length&&p.length&&(d={start:p.end(0),end:y.end(0)})}else Vh(n,l).length||(d=this.gapFromVideoUnderflow_(n,l));return!!d&&(this.logger_("Encountered a gap in video from "+d.start+" to "+d.end+". Seeking to current time "+l),!0)}},t.skipTheGap_=function(i){var n=this.tech_.buffered(),s=this.tech_.currentTime(),l=Vh(n,s);this.cancelTimer_(),0!==l.length&&s===i&&(this.logger_("skipTheGap_:","currentTime:",s,"scheduled currentTime:",i,"nextRange start:",l.start(0)),this.tech_.setCurrentTime(l.start(0)+Eo),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},t.gapFromVideoUnderflow_=function(i,n){for(var s=function(t){if(t.length<2)return Se.createTimeRanges();for(var e=[],i=1;i<t.length;i++){var n=t.end(i-1),s=t.start(i);e.push([n,s])}return Se.createTimeRanges(e)}(i),l=0;l<s.length;l++){var d=s.start(l),p=s.end(l);if(n-d<4&&n-d>2)return{start:d,end:p}}return null},r}(),pv={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},Rb=function r(t,e){var i=0,n=0,s=Se.mergeOptions(pv,e);t.ready(function(){t.trigger({type:"usage",name:"vhs-error-reload-initialized"}),t.trigger({type:"usage",name:"hls-error-reload-initialized"})});var l=function(){n&&t.currentTime(n)},d=function(A){null!=A&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",l),t.src(A),t.trigger({type:"usage",name:"vhs-error-reload"}),t.trigger({type:"usage",name:"hls-error-reload"}),t.play())},p=function(){return Date.now()-i<1e3*s.errorInterval?(t.trigger({type:"usage",name:"vhs-error-reload-canceled"}),void t.trigger({type:"usage",name:"hls-error-reload-canceled"})):s.getSource&&"function"==typeof s.getSource?(i=Date.now(),s.getSource.call(t,d)):void Se.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")},m=function M(){t.off("loadedmetadata",l),t.off("error",p),t.off("dispose",M)};t.on("error",p),t.on("dispose",m),t.reloadSourceOnError=function(A){m(),r(t,A)}},ir={PlaylistLoader:oc,Playlist:dn,utils:QE,STANDARD_PLAYLIST_SELECTOR:vb,INITIAL_PLAYLIST_SELECTOR:function(){var t=this,e=this.playlists.master.playlists.filter(dn.isEnabled);return Rl(e,function(n,s){return Ym(n,s)}),e.filter(function(n){return!!ha(t.playlists.master,n).video})[0]||null},lastBandwidthSelector:vb,movingAverageBandwidthSelector:function(t){var e=-1,i=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var n=this.useDevicePixelRatio&&re().devicePixelRatio||1;return e<0&&(e=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(e=t*this.systemBandwidth+(1-t)*e,i=this.systemBandwidth),mb(this.playlists.master,e,parseInt(zm(this.tech_.el(),"width"),10)*n,parseInt(zm(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},comparePlaylistBandwidth:Ym,comparePlaylistResolution:function(t,e){var i,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||re().Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),i===(n=n||re().Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-n},xhr:Gy()};Object.keys(Li).forEach(function(r){Object.defineProperty(ir,r,{get:function(){return Se.log.warn("using Vhs."+r+" is UNSAFE be sure you know what you are doing"),Li[r]},set:function(e){Se.log.warn("using Vhs."+r+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?Se.log.warn("value of Vhs."+r+" must be greater than or equal to 0"):Li[r]=e}})});var mv="videojs-vhs",vv=function(t,e){for(var i=e.media(),n=-1,s=0;s<t.length;s++)if(t[s].id===i.id){n=s;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})};ir.canPlaySource=function(){return Se.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var dc=function(){if(!re().localStorage)return null;var t=re().localStorage.getItem(mv);if(!t)return null;try{return JSON.parse(t)}catch(e){return null}};ir.supportsNativeHls=function(){if(!at()||!at().createElement)return!1;var r=at().createElement("video");return!!Se.getTech("Html5").isSupported()&&["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(r.canPlayType(e))})}(),ir.supportsNativeDash=!!(at()&&at().createElement&&Se.getTech("Html5").isSupported())&&/maybe|probably/i.test(at().createElement("video").canPlayType("application/dash+xml")),ir.supportsTypeNatively=function(r){return"hls"===r?ir.supportsNativeHls:"dash"===r&&ir.supportsNativeDash},ir.isSupported=function(){return Se.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var ap=function(r){function t(i,n,s){var l;if(l=r.call(this,n,Se.mergeOptions(s.hls,s.vhs))||this,s.hls&&Object.keys(s.hls).length&&Se.log.warn("Using hls options is deprecated. Use vhs instead."),"number"==typeof s.initialBandwidth&&(l.options_.bandwidth=s.initialBandwidth),l.logger_=Hs("VhsHandler"),n.options_&&n.options_.playerId){var d=Se(n.options_.playerId);d.hasOwnProperty("hls")||Object.defineProperty(d,"hls",{get:function(){return Se.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),jt(l)},configurable:!0}),d.hasOwnProperty("vhs")||Object.defineProperty(d,"vhs",{get:function(){return Se.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),jt(l)},configurable:!0}),d.hasOwnProperty("dash")||Object.defineProperty(d,"dash",{get:function(){return Se.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),jt(l)},configurable:!0}),l.player_=d}if(l.tech_=n,l.source_=i,l.stats={},l.ignoreNextSeekingEvent_=!1,l.setOptions_(),l.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(l.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return l.on(at(),["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(p){var m=at().fullscreenElement||at().webkitFullscreenElement||at().mozFullScreenElement||at().msFullscreenElement;m&&m.contains(l.tech_.el())?l.masterPlaylistController_.fastQualityChange_():l.masterPlaylistController_.checkABR_()}),l.on(l.tech_,"seeking",function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())}),l.on(l.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),l.on(l.tech_,"play",l.play),l}bt(t,r);var e=t.prototype;return e.setOptions_=function(){var n=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=!1!==this.options_.handleManifestRedirects,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var s=dc();s&&s.bandwidth&&(this.options_.bandwidth=s.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),s&&s.throughput&&(this.options_.throughput=s.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Li.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Li.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(l){void 0!==n.source_[l]&&(n.options_[l]=n.source_[l])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},e.src=function(n,s){var l=this;if(n){this.setOptions_(),this.options_.src=function(t){return 0===t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(t.substring(t.indexOf(",")+1)):t}(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=ir,this.options_.sourceType=Wf(s),this.options_.seekTo=function(m){l.tech_.setCurrentTime(m)},this.options_.smoothQualityChange&&Se.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new hv(this.options_);var d=Se.mergeOptions({liveRangeSafeTimeDelta:da},this.options_,{seekable:function(){return l.seekable()},media:function(){return l.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Pb(d),this.masterPlaylistController_.on("error",function(){var m=Se.players[l.tech_.options_.playerId],y=l.masterPlaylistController_.error;"object"!=typeof y||y.code?"string"==typeof y&&(y={message:y,code:3}):y.code=3,m.error(y)});var p=this.options_.experimentalBufferBasedABR?ir.movingAverageBandwidthSelector(.55):ir.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):p.bind(this),this.masterPlaylistController_.selectInitialPlaylist=ir.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(y){this.masterPlaylistController_.selectPlaylist=y.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(y){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=y,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var y=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,M=re().navigator.connection||re().navigator.mozConnection||re().navigator.webkitConnection,A=1e7;if(this.options_.useNetworkInformationApi&&M){var k=1e3*M.downlink*1e3;y=k>=A&&y>=A?Math.max(y,k):k}return y},set:function(y){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=y,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){return Math.floor(1/(1/(this.bandwidth||1)+(this.throughput>0?1/this.throughput:0)))},set:function(){Se.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return l.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return l.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return l.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return l.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return l.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return l.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return l.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return l.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return l.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return l.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return l.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return l.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return l.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return wo(l.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return l.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return l.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return l.tech_.name_},enumerable:!0},duration:{get:function(){return l.tech_.duration()},enumerable:!0},master:{get:function(){return l.playlists.master},enumerable:!0},playerDimensions:{get:function(){return l.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return wo(l.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return l.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){l.options_.useBandwidthFromLocalStorage&&function(t){if(!re().localStorage)return!1;var e=dc();e=e?Se.mergeOptions(e,t):t;try{re().localStorage.setItem(mv,JSON.stringify(e))}catch(i){return!1}}({bandwidth:l.bandwidth,throughput:Math.round(l.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(t){t.representations=function(){var e=t.masterPlaylistController_.master(),i=xo(e)?t.masterPlaylistController_.getAudioTrackPlaylists_():e.playlists;return i?i.filter(function(n){return!zh(n)}).map(function(n,s){return new qC(t,n,n.id)}):[]}}(l)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){l.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=re().URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},e.createKeySessions_=function(){var n=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),function(t){var e=t.player,i=t.sourceKeySystems,n=t.audioMedia,s=t.mainPlaylists;if(!e.eme.initializeMediaKeys)return Promise.resolve();var d=function(t,e){return t.reduce(function(i,n){if(!n.contentProtection)return i;var s=e.reduce(function(l,d){var p=n.contentProtection[d];return p&&p.pssh&&(l[d]={pssh:p.pssh}),l},{});return Object.keys(s).length&&i.push(s),i},[])}(n?s.concat([n]):s,Object.keys(i)),p=[],m=[];return d.forEach(function(y){m.push(new Promise(function(M,A){e.tech_.one("keysessioncreated",M)})),p.push(new Promise(function(M,A){e.eme.initializeMediaKeys({keySystems:y},function(k){k?A(k):M()})}))}),Promise.race([Promise.all(p),Promise.race(m)])}({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:s&&s.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){n.logger_("created EME key session"),n.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(l){n.logger_("error while creating EME key session",l),n.player_.error({message:"Failed to initialize media keys for EME",code:3})})},e.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},e.setupEme_=function(){var n=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,l=function(t){var e=t.player,l=function(t,e,i){if(!t)return t;var n={};e&&e.attributes&&e.attributes.CODECS&&(n=Pl(Zn(e.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);var s=Au(n.video),l=Au(n.audio),d={};for(var p in t)d[p]={},l&&(d[p].audioContentType=l),s&&(d[p].videoContentType=s),e.contentProtection&&e.contentProtection[p]&&e.contentProtection[p].pssh&&(d[p].pssh=e.contentProtection[p].pssh),"string"==typeof t[p]&&(d[p].url=t[p]);return Se.mergeOptions(t,d)}(t.sourceKeySystems,t.media,t.audioMedia);return!(!l||(e.currentSource().keySystems=l,l&&!e.eme&&(Se.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),1)))}({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:s&&s.media()});this.player_.tech_.on("keystatuschange",function(d){"output-restricted"===d.status&&n.masterPlaylistController_.blacklistCurrentPlaylist({playlist:n.masterPlaylistController_.media(),message:"DRM keystatus changed to "+d.status+". Playlist will fail to play. Check for HDCP content.",blacklistDuration:1/0})}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),11!==Se.browser.IE_VERSION&&l?this.createKeySessions_():this.masterPlaylistController_.sourceUpdater_.initializedEme()},e.setupQualityLevels_=function(){var n=this,s=Se.players[this.tech_.options_.playerId];!s||!s.qualityLevels||this.qualityLevels_||(this.qualityLevels_=s.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){!function(t,e){e.representations().forEach(function(i){t.addQualityLevel(i)}),vv(t,e.playlists)}(n.qualityLevels_,n)}),this.playlists.on("mediachange",function(){vv(n.qualityLevels_,n.playlists)}))},t.version=function(){return{"@videojs/http-streaming":"2.13.1","mux.js":"6.0.1","mpd-parser":"0.21.0","m3u8-parser":"4.7.0","aes-decrypter":"3.1.2"}},e.version=function(){return this.constructor.version()},e.canChangeType=function(){return sv.canChangeType()},e.play=function(){this.masterPlaylistController_.play()},e.setCurrentTime=function(n){this.masterPlaylistController_.setCurrentTime(n)},e.duration=function(){return this.masterPlaylistController_.duration()},e.seekable=function(){return this.masterPlaylistController_.seekable()},e.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&re().URL.revokeObjectURL&&(re().URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),r.prototype.dispose.call(this)},e.convertToProgramTime=function(n,s){return function(t){var e=t.playlist,i=t.time,n=void 0===i?void 0:i,s=t.callback;if(!s)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===n)return s({message:"getProgramTime: playlist and time must be provided"});var l=function(t,e){if(!e||!e.segments||0===e.segments.length)return null;for(var n,i=0,s=0;s<e.segments.length&&!(t<=(i=(n=e.segments[s]).videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration));s++);var l=e.segments[e.segments.length-1];if(l.videoTimingInfo&&l.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+.25*l.duration)return null;n=l}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}}(n,e);if(!l)return s({message:"valid programTime was not found"});if("estimate"===l.type)return s({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:l.estimatedStart});var d={mediaSeconds:n},p=function(t,e){if(!e.dateTimeObject)return null;var l=t-(e.videoTimingInfo.transmuxedPresentationStart+e.videoTimingInfo.transmuxerPrependedSeconds);return new Date(e.dateTimeObject.getTime()+1e3*l)}(n,l.segment);return p&&(d.programDateTime=p.toISOString()),s(null,d)}({playlist:this.masterPlaylistController_.media(),time:n,callback:s})},e.seekToProgramTime=function(n,s,l,d){return void 0===l&&(l=!0),void 0===d&&(d=2),fC({programTime:n,playlist:this.masterPlaylistController_.media(),retryCount:d,pauseAfterSeek:l,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:s})},t}(Se.getComponent("Component")),op={name:"videojs-http-streaming",VERSION:"2.13.1",canHandleSource:function(t,e){void 0===e&&(e={});var i=Se.mergeOptions(Se.options,e);return op.canPlayType(t.type,i)},handleSource:function(t,e,i){void 0===i&&(i={});var n=Se.mergeOptions(Se.options,i);return e.vhs=new ap(t,e,n),Se.hasOwnProperty("hls")||Object.defineProperty(e,"hls",{get:function(){return Se.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),e.vhs},configurable:!0}),e.vhs.xhr=Gy(),e.vhs.src(t.src,t.type),e.vhs},canPlayType:function(t,e){void 0===e&&(e={});var i=Se.mergeOptions(Se.options,e),n=i.vhs,s=(n=void 0===n?{}:n).overrideNative,l=void 0===s?!Se.browser.IS_ANY_SAFARI:s,d=i.hls,p=(d=void 0===d?{}:d).overrideNative,m=void 0!==p&&p,y=Wf(t);return y&&(!ir.supportsTypeNatively(y)||m||l)?"maybe":""}};Gf("avc1.4d400d,mp4a.40.2")&&Se.getTech("Html5").registerSourceHandler(op,0),Se.VhsHandler=ap,Object.defineProperty(Se,"HlsHandler",{get:function(){return Se.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),ap},configurable:!0}),Se.VhsSourceHandler=op,Object.defineProperty(Se,"HlsSourceHandler",{get:function(){return Se.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),op},configurable:!0}),Se.Vhs=ir,Object.defineProperty(Se,"Hls",{get:function(){return Se.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),ir},configurable:!0}),Se.use||(Se.registerComponent("Hls",ir),Se.registerComponent("Vhs",ir)),Se.options.vhs=Se.options.vhs||{},Se.options.hls=Se.options.hls||{},Se.getPlugin&&Se.getPlugin("reloadSourceOnError")||(Se.registerPlugin||Se.plugin)("reloadSourceOnError",function(t){Rb(this,t)});const Hb=Se,Ub=["target"];let lp=(()=>{class r{constructor(){this.sources=[]}ngOnInit(){this.player=Hb(this.target.nativeElement,this.options,()=>{this.player.src(this.sources)})}ngOnChanges(e){this.player&&this.player.src(this.sources)}ngOnDestroy(){this.player&&this.player.dispose()}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-video-player"]],viewQuery:function(e,i){if(1&e&&f.Gf(Ub,7),2&e){let n;f.iGM(n=f.CRH())&&(i.target=n.first)}},inputs:{options:"options",sources:"sources"},features:[f.TTD],decls:2,vars:0,consts:[["controls","","muted","","playsinline","","preload","none",1,"mw-100","video-js"],["target",""]],template:function(e,i){1&e&&f._UZ(0,"video",0,1)},styles:[""],encapsulation:2}),r})();const bv=function(){return{autoplay:!0,controls:!0}};function iw(r,t){if(1&r&&(f.ynx(0),f._UZ(1,"app-video-player",5)(2,"app-download-button",6),f.BQk()),2&r){const e=f.oxw(2);f.xp6(1),f.Q6J("options",f.DdM(3,bv))("sources",e.videoSrc),f.xp6(1),f.Q6J("movieId",e.movieId)}}function Vb(r,t){1&r&&(f.TgZ(0,"div",7),f._uU(1,"Movie not found"),f.qZA())}function iD(r,t){if(1&r&&(f.ynx(0),f.YNc(1,iw,3,4,"ng-container",2),f.YNc(2,Vb,2,0,"ng-template",null,4,f.W1O),f.BQk()),2&r){const e=f.MAs(3),i=f.oxw();f.xp6(1),f.Q6J("ngIf",i.videoSrc)("ngIfElse",e)}}function Gb(r,t){1&r&&f._UZ(0,"div",8)}const up=function(){return[".."]};let jb=(()=>{class r{constructor(e,i,n){this.ref=e,this.route=i,this.movieService=n,this.loading=!0,this.videoSrc=null,this.movieId=null}ngOnInit(){this.route.paramMap.subscribe(e=>this.loadMovie(e.get("id")))}loadMovie(e){if(null===e)return this.videoSrc=null,this.movieId=null,void this.ref.detectChanges();this.movieId=e,this.movieService.getMovieSources(e).then(i=>{this.videoSrc=i,this.loading=!1,this.ref.detectChanges()}).catch(()=>{this.videoSrc=null,this.loading=!1,this.ref.detectChanges()})}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.sBO),f.Y36(mn.gz),f.Y36(wu))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-watch"]],decls:6,vars:4,consts:[[1,"m-safe-x"],[3,"routerLink"],[4,"ngIf","ngIfElse"],["loadingSpinner",""],["noMovie",""],[1,"mw-100",3,"options","sources"],[3,"movieId"],["role","alert",1,"alert","alert-danger","mt-2"],["role","status",1,"spinner-border"]],template:function(e,i){if(1&e&&(f.TgZ(0,"div",0)(1,"a",1),f._uU(2,"Back"),f.qZA(),f.YNc(3,iD,4,2,"ng-container",2),f.YNc(4,Gb,1,0,"ng-template",null,3,f.W1O),f.qZA()),2&e){const n=f.MAs(5);f.xp6(1),f.Q6J("routerLink",f.DdM(3,up)),f.xp6(2),f.Q6J("ngIf",!i.loading)("ngIfElse",n)}},directives:[mn.yS,N.O5,lp,S1],styles:[""],changeDetection:0}),r})(),Tv=(()=>{class r{constructor(e){this.displayService=e}canActivate(){return this.displayService.requestFullscreenMobile(),!0}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Ja))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();const Sv=[{path:"overview",component:CE,canActivate:[Tv]},{path:"watch/:id",component:jb,canActivate:[Tv]},{path:"**",redirectTo:"overview"}];let Cv=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[mn.Bz.forChild(Sv)],mn.Bz]}),r})(),rw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez,Cv]]}),r})();const rD=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:y1,canActivate:[Eu]},{path:"home",component:ql,canActivate:[po,Eu],data:{navTitle:"Home"}},{path:"movies",loadChildren:()=>rw,canActivate:[po],data:{navTitle:"Movies"}},{path:"upload",loadChildren:()=>U.e("src_app_modules_upload_upload_module_ts").then(U.bind(U,1128)).then(r=>r.UploadModule),canActivate:[po,Eu],data:{navTitle:"Upload"}},{path:"downloads",component:$t,canActivate:[po,Eu],data:{navTitle:"Downloads",navEnd:!0}},{path:"profile",component:A0,canActivate:[po,M0,Eu],data:{navTitle:"Profile",navEnd:!0}},{path:"**",redirectTo:"/home"}];let sD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[mn.Bz.forRoot(rD,{useHash:true})],mn.Bz]}),r})();var Dv=U(9770),cp=U(7272),dp=U(5032);const ma=new Tn.y(dp.Z);var Wb=U(6451),oD=U(4033),fc=U(4482);const $b={connector:()=>new er.x};function Ev(r,t=$b){const{connector:e}=t;return(0,fc.e)((i,n)=>{const s=e();(0,Bo.D)(r(function lD(r){return new Tn.y(t=>r.subscribe(t))}(s))).subscribe(n),n.add(i.subscribe(s))})}var uD=U(727);class cD extends uD.w0{constructor(t,e){super()}schedule(t,e=0){return this}}const wv={setInterval(r,t,...e){const{delegate:i}=wv;return(null==i?void 0:i.setInterval)?i.setInterval(r,t,...e):setInterval(r,t,...e)},clearInterval(r){const{delegate:t}=wv;return((null==t?void 0:t.clearInterval)||clearInterval)(r)},delegate:void 0};var Kb=U(8737);const dD={now:()=>(dD.delegate||Date).now(),delegate:void 0};class fp{constructor(t,e=fp.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}fp.now=dD.now;const fD=new class aw extends fp{constructor(t,e=fp.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}(class sw extends cD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this}requestAsyncId(t,e,i=0){return wv.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;wv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,i=!1;try{this.work(t)}catch(s){i=!0,n=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),n}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Kb.P)(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}),ow=fD;function Bd(r,t){return t?e=>(0,cp.z)(t.pipe((0,Zt.q)(1),function lw(){return(0,fc.e)((r,t)=>{r.subscribe((0,Ss.x)(t,dp.Z))})}()),e.pipe(Bd(r))):(0,vn.z)((e,i)=>r(e,i).pipe((0,Zt.q)(1),function uw(r){return(0,tt.U)(()=>r)}(e)))}var cw=U(3532);function Hd(r=0,t,e=ow){let i=-1;return null!=t&&((0,cw.K)(t)?e=t:i=t),new Tn.y(n=>{let s=function qb(r){return r instanceof Date&&!isNaN(r)}(r)?+r-e.now():r;s<0&&(s=0);let l=0;return e.schedule(function(){n.closed||(n.next(l++),0<=i?this.schedule(void 0,i):n.complete())},s)})}function No(r,t=fD){const e=Hd(r,t);return Bd(()=>e)}
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const hc="Service workers are disabled or not supported by this browser";class pc{constructor(t){if(this.serviceWorker=t,t){const i=Un(t,"controllerchange").pipe((0,tt.U)(()=>t.controller)),n=(0,Dv.P)(()=>(0,Pn.of)(t.controller)),s=(0,cp.z)(n,i);this.worker=s.pipe((0,Sn.h)(y=>!!y)),this.registration=this.worker.pipe((0,tl.w)(()=>t.getRegistration()));const m=Un(t,"message").pipe((0,tt.U)(y=>y.data)).pipe((0,Sn.h)(y=>y&&y.type)).pipe(function Yb(r){return r?t=>Ev(r)(t):t=>function zb(r,t){const e=(0,en.m)(r)?r:()=>r;return(0,en.m)(t)?Ev(t,{connector:e}):i=>new oD.c(i,e)}(new er.x)(t)}());m.connect(),this.events=m}else this.worker=this.events=this.registration=function dw(r){return(0,Dv.P)(()=>(0,Df._)(new Error(r)))}(hc)}postMessage(t,e){return this.worker.pipe((0,Zt.q)(1),(0,fs.b)(i=>{i.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const n=this.waitForOperationCompleted(i),s=this.postMessage(t,e);return Promise.all([s,n]).then(([,l])=>l)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe((0,Sn.h)(e))}nextEventOfType(t){return this.eventsOfType(t).pipe((0,Zt.q)(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Sn.h)(e=>e.nonce===t),(0,Zt.q)(1),(0,tt.U)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Xb=(()=>{class r{constructor(e){if(this.sw=e,this.subscriptionChanges=new er.x,!e.isEnabled)return this.messages=ma,this.notificationClicks=ma,void(this.subscription=ma);this.messages=this.sw.eventsOfType("PUSH").pipe((0,tt.U)(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,tt.U)(n=>n.data)),this.pushManager=this.sw.registration.pipe((0,tt.U)(n=>n.pushManager));const i=this.pushManager.pipe((0,tl.w)(n=>n.getSubscription()));this.subscription=(0,Wb.T)(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(hc));const i={userVisibleOnly:!0};let n=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(n.length));for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return i.applicationServerKey=s,this.pushManager.pipe((0,tl.w)(l=>l.subscribe(i)),(0,Zt.q)(1)).toPromise().then(l=>(this.subscriptionChanges.next(l),l))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Zt.q)(1),(0,tl.w)(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(n=>{if(!n)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(hc))}decodeBase64(e){return atob(e)}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(pc))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),Qb=(()=>{class r{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=ma,this.available=ma,this.activated=ma,void(this.unrecoverable=ma);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe((0,Sn.h)(i=>"VERSION_READY"===i.type),(0,tt.U)(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(hc));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(hc));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(pc))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class hp{}const hD=new f.OlP("NGSW_REGISTER_SCRIPT");function pD(r,t,e,i){return()=>{if(!(0,N.NF)(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)s=e.registrationStrategy();else{const[d,...p]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(d){case"registerImmediately":s=(0,Pn.of)(null);break;case"registerWithDelay":s=Zb(+p[0]||0);break;case"registerWhenStable":s=p[0]?(0,Wb.T)(pp(r),Zb(+p[0])):pp(r);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}r.get(f.R0b).runOutsideAngular(()=>s.pipe((0,Zt.q)(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(d=>console.error("Service worker registration failed with:",d))))}}function Zb(r){return(0,Pn.of)(null).pipe(No(r))}function pp(r){return r.get(f.z2F).isStable.pipe((0,Sn.h)(e=>e))}function gD(r,t){return new pc((0,N.NF)(t)&&!1!==r.enabled?navigator.serviceWorker:void 0)}let fw=(()=>{class r{static register(e,i={}){return{ngModule:r,providers:[{provide:hD,useValue:e},{provide:hp,useValue:i},{provide:pc,useFactory:gD,deps:[hp,f.Lbi]},{provide:f.ip1,useFactory:pD,deps:[f.zs3,hD,hp,f.Lbi],multi:!0}]}}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({providers:[Xb,Qb]}),r})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */var mD=U(515);const{isArray:hw}=Array;function Jb(r){return 1===r.length&&hw(r[0])?r[0]:r}function gp(...r){const t=(0,Ho.jO)(r),e=Jb(r);return e.length?new Tn.y(i=>{let n=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{n=s=null});for(let l=0;!i.closed&&l<e.length;l++)(0,oi.Xf)(e[l]).subscribe((0,Ss.x)(i,d=>{if(n[l].push(d),n.every(p=>p.length)){const p=n.map(m=>m.shift());i.next(t?t(...p):p),n.some((m,y)=>!m.length&&s[y])&&i.complete()}},()=>{s[l]=!0,!n[l].length&&i.complete()}));return()=>{n=s=null}}):mD.E}function Bi(r){return(0,fc.e)((t,e)=>{(0,oi.Xf)(r).subscribe((0,Ss.x)(e,()=>e.complete(),dp.Z)),!e.closed&&t.subscribe(e)})}U(9841),U(8675);var tT=U(4671);function Av(...r){const t=(0,Ho.jO)(r);return(0,fc.e)((e,i)=>{const n=r.length,s=new Array(n);let l=r.map(()=>!1),d=!1;for(let p=0;p<n;p++)(0,oi.Xf)(r[p]).subscribe((0,Ss.x)(i,m=>{s[p]=m,!d&&!l[p]&&(l[p]=!0,(d=l.every(tT.y))&&(l=null))},dp.Z));e.subscribe((0,Ss.x)(i,p=>{if(d){const m=[p,...s];i.next(t?t(...m):m)}}))})}Math,Math,Math;const Gv=["*"],wA=["dialog"];function RD(r){return"string"==typeof r}function Kd(r){return null!=r}function Sp(r){return(r||document.body).getBoundingClientRect()}const Mw={animation:!0,transitionTimerDelayMs:5},bM=()=>{},{transitionTimerDelayMs:TM}=Mw,Kv=new Map,Gr=(r,t,e,i)=>{let n=i.context||{};const s=Kv.get(t);if(s)switch(i.runningTransition){case"continue":return mD.E;case"stop":r.run(()=>s.transition$.complete()),n=Object.assign(s.context,n),Kv.delete(t)}const l=e(t,i.animation,n)||bM;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return r.run(()=>l()),(0,Pn.of)(void 0).pipe(function _M(r){return t=>new Tn.y(e=>t.subscribe({next:l=>r.run(()=>e.next(l)),error:l=>r.run(()=>e.error(l)),complete:()=>r.run(()=>e.complete())}))}(r));const d=new er.x,p=new er.x,m=d.pipe(function xv(...r){return t=>(0,cp.z)(t,(0,Pn.of)(...r))}(!0));Kv.set(t,{transition$:d,complete:()=>{p.next(),p.complete()},context:n});const y=function yM(r){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(r);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return r.runOutsideAngular(()=>{const M=Un(t,"transitionend").pipe(Bi(m),(0,Sn.h)(({target:k})=>k===t));(function eT(...r){return 1===(r=Jb(r)).length?(0,oi.Xf)(r[0]):new Tn.y(function vD(r){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<r.length;i++)e.push((0,oi.Xf)(r[i]).subscribe((0,Ss.x)(t,n=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(n)})))}}(r))})(Hd(y+TM).pipe(Bi(m)),M,p).pipe(Bi(m)).subscribe(()=>{Kv.delete(t),r.run(()=>{l(),d.next(),d.complete()})})}),d.asObservable()},FD=(r,t,e)=>{let{direction:i,maxHeight:n}=e;const{classList:s}=r;function l(){s.add("collapse"),"show"===i?s.add("show"):s.remove("show")}if(t)return n||(n=function CM(r){if("undefined"==typeof navigator)return"0px";const{classList:t}=r,e=t.contains("show");e||t.add("show"),r.style.height="";const i=r.getBoundingClientRect().height+"px";return e||t.remove("show"),i}(r),e.maxHeight=n,r.style.height="show"!==i?n:"0px",s.remove("collapse"),s.remove("collapsing"),s.remove("show"),Sp(r),s.add("collapsing")),r.style.height="show"===i?n:"0px",()=>{l(),s.remove("collapsing"),r.style.height=""};l()};let qv=(()=>{class r{constructor(){this.animation=Mw.animation}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Rw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez]]}),r})(),kw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez]]}),r})(),Lw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({}),r})(),Uw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez]]}),r})(),RM=(()=>{class r{constructor(e){this._ngbConfig=e}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(qv))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),kM=(()=>{class r{constructor(e,i,n){this._element=e,this._zone=n,this.collapsed=!1,this.ngbCollapseChange=new f.vpe,this.shown=new f.vpe,this.hidden=new f.vpe,this.animation=i.animation}ngOnInit(){this._runTransition(this.collapsed,!1)}ngOnChanges({collapsed:e}){e.firstChange||this._runTransitionWithEvents(this.collapsed,this.animation)}toggle(e=this.collapsed){this.collapsed=!e,this.ngbCollapseChange.next(this.collapsed),this._runTransitionWithEvents(this.collapsed,this.animation)}_runTransition(e,i){return Gr(this._zone,this._element.nativeElement,FD,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.SBq),f.Y36(RM),f.Y36(f.R0b))},r.\u0275dir=f.lG2({type:r,selectors:[["","ngbCollapse",""]],inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"]},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],features:[f.TTD]}),r})(),Vw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({}),r})();var rr=(()=>(function(r){r[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown"}(rr||(rr={})),rr))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const jw=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ww(r){const t=Array.from(r.querySelectorAll(jw)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Zw=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez,Hp]]}),r})(),jD=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=f.lG2({type:r,selectors:[["",8,"navbar"]]}),r})(),tx=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({}),r})();class Zd{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let mN=(()=>{class r{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Zt.q)(1)).subscribe(()=>{Gr(this._zone,this._el.nativeElement,(e,i)=>{i&&Sp(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Gr(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.SBq),f.Y36(f.R0b))},r.\u0275cmp=f.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,i){2&e&&(f.Tol("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),f.ekj("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),r})();class nx{close(t){}dismiss(t){}}class vN{constructor(t,e,i,n){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=n,this._closed=new er.x,this._dismissed=new er.x,this._hidden=new er.x,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,l)=>{this._resolve=s,this._reject=l}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Bi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Bi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Aw(r){return r&&r.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Pn.of)(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),gp(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Jv=(()=>(function(r){r[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC"}(Jv||(Jv={})),Jv))();let _N=(()=>{class r{constructor(e,i,n){this._document=e,this._elRef=i,this._zone=n,this._closed$=new er.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new f.vpe,this.shown=new er.x,this.hidden=new er.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":RD(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Zt.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},l=gp(Gr(this._zone,e,()=>e.classList.remove("show"),i),Gr(this._zone,this._dialogEl.nativeElement,()=>{},i));return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){const e={animation:this.animation,runningTransition:"continue"};gp(Gr(this._zone,this._elRef.nativeElement,(s,l)=>{l&&Sp(s),s.classList.add("show")},e),Gr(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Un(e,"keydown").pipe(Bi(this._closed$),(0,Sn.h)(n=>n.which===rr.Escape)).subscribe(n=>{this.keyboard?requestAnimationFrame(()=>{n.defaultPrevented||this._zone.run(()=>this.dismiss(Jv.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Un(this._dialogEl.nativeElement,"mousedown").pipe(Bi(this._closed$),(0,fs.b)(()=>i=!1),(0,tl.w)(()=>Un(e,"mouseup").pipe(Bi(this._closed$),(0,Zt.q)(1))),(0,Sn.h)(({target:n})=>e===n)).subscribe(()=>{i=!0}),Un(e,"click").pipe(Bi(this._closed$)).subscribe(({target:n})=>{e===n&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(Jv.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),n=Ww(e)[0];(i||n||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let n;n=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Gr(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(N.K0),f.Y36(f.SBq),f.Y36(f.R0b))},r.\u0275cmp=f.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&f.Gf(wA,7),2&e){let n;f.iGM(n=f.CRH())&&(i._dialogEl=n.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(f.uIk("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),f.Tol("modal d-block"+(i.windowClass?" "+i.windowClass:"")),f.ekj("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Gv,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(f.F$t(),f.TgZ(0,"div",0,1)(2,"div",2),f.Hsn(3),f.qZA()()),2&e&&f.Tol("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),r})(),yN=(()=>{class r{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,n=i.style,{overflow:s,paddingRight:l}=n;if(e>0){const d=parseFloat(window.getComputedStyle(i).paddingRight);n.paddingRight=`${d+e}px`}return n.overflow="hidden",()=>{e>0&&(n.paddingRight=l),n.overflow=s}}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(N.K0))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),bN=(()=>{class r{constructor(e,i,n,s,l,d){this._applicationRef=e,this._injector=i,this._document=n,this._scrollBar=s,this._rendererFactory=l,this._ngZone=d,this._activeWindowCmptHasChanged=new er.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new f.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const p=this._windowCmpts[this._windowCmpts.length-1];((r,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const n=Un(t,"focusin").pipe(Bi(e),(0,tt.U)(s=>s.target));Un(t,"keydown").pipe(Bi(e),(0,Sn.h)(s=>s.which===rr.Tab),Av(n)).subscribe(([s,l])=>{const[d,p]=Ww(t);(l===d||l===t)&&s.shiftKey&&(p.focus(),s.preventDefault()),l===p&&!s.shiftKey&&(d.focus(),s.preventDefault())}),i&&Un(t,"click").pipe(Bi(e),Av(n),(0,tt.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,p.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(p.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,n,s){const l=s.container instanceof HTMLElement?s.container:Kd(s.container)?this._document.querySelector(s.container):this._document.body,d=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const p=new nx,m=this._getContentRef(e,s.injector||i,n,p,s);let y=!1!==s.backdrop?this._attachBackdrop(e,l):void 0,M=this._attachWindowComponent(e,l,m),A=new vN(M,m,y,s.beforeDismiss);return this._registerModalRef(A),this._registerWindowCmpt(M),A.hidden.pipe((0,Zt.q)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(d.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),p.close=k=>{A.close(k)},p.dismiss=k=>{A.dismiss(k)},this._applyWindowOptions(M.instance,s),1===this._modalRefs.length&&d.addClass(this._document.body,"modal-open"),y&&y.instance&&(this._applyBackdropOptions(y.instance,s),y.changeDetectorRef.detectChanges()),M.changeDetectorRef.detectChanges(),A}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let s=e.resolveComponentFactory(mN).create(this._injector);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_attachWindowComponent(e,i,n){let l=e.resolveComponentFactory(_N).create(this._injector,n.nodes);return this._applicationRef.attachView(l.hostView),i.appendChild(l.location.nativeElement),l}_applyWindowOptions(e,i){this._windowAttributes.forEach(n=>{Kd(i[n])&&(e[n]=i[n])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(n=>{Kd(i[n])&&(e[n]=i[n])})}_getContentRef(e,i,n,s,l){return n?n instanceof f.Rgc?this._createFromTemplateRef(n,s):RD(n)?this._createFromString(n):this._createFromComponent(e,i,n,s,l):new Zd([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(l){i.close(l)},dismiss(l){i.dismiss(l)}});return this._applicationRef.attachView(s),new Zd([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Zd([[i]])}_createFromComponent(e,i,n,s,l){const d=e.resolveComponentFactory(n),p=f.zs3.create({providers:[{provide:nx,useValue:s}],parent:i}),m=d.create(p),y=m.location.nativeElement;return l.scrollable&&y.classList.add("component-host-scrollable"),this._applicationRef.attachView(m.hostView),new Zd([[y]],m.hostView,m)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(n=>{n!==e&&"SCRIPT"!==n.nodeName&&(this._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const n=this._modalRefs.indexOf(e);n>-1&&(this._modalRefs.splice(n,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(f.z2F),f.LFG(f.zs3),f.LFG(N.K0),f.LFG(yN),f.LFG(f.FYo),f.LFG(f.R0b))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),TN=(()=>{class r{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(qv))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ix=(()=>{class r{constructor(e,i,n,s){this._moduleCFR=e,this._injector=i,this._modalStack=n,this._config=s}open(e,i={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(f._Vd),f.LFG(f.zs3),f.LFG(bN),f.LFG(TN))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),rx=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({providers:[ix]}),r})(),SN=(()=>{class r{constructor(e){this._ngbConfig=e,this.destroyOnHide=!0,this.orientation="horizontal",this.roles="tablist",this.keyboard=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(qv))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();const sx=r=>Kd(r)&&""!==r;let CN=0,ax=(()=>{class r{constructor(e){this.templateRef=e}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(f.Rgc))},r.\u0275dir=f.lG2({type:r,selectors:[["ng-template","ngbNavContent",""]]}),r})(),WD=(()=>{class r{constructor(e,i){this.elementRef=i,this.disabled=!1,this.shown=new f.vpe,this.hidden=new f.vpe,this._nav=e}ngAfterContentChecked(){this.contentTpl=this.contentTpls.first}ngOnInit(){Kd(this.domId)||(this.domId="ngb-nav-"+CN++)}get active(){return this._nav.activeId===this.id}get id(){return sx(this._id)?this._id:this.domId}get panelDomId(){return`${this.domId}-panel`}isPanelInDom(){return(Kd(this.destroyOnHide)?!this.destroyOnHide:!this._nav.destroyOnHide)||this.active}}return r.\u0275fac=function(e){return new(e||r)(f.Y36((0,f.Gpc)(()=>PT)),f.Y36(f.SBq))},r.\u0275dir=f.lG2({type:r,selectors:[["","ngbNavItem",""]],contentQueries:function(e,i,n){if(1&e&&f.Suo(n,ax,4),2&e){let s;f.iGM(s=f.CRH())&&(i.contentTpls=s)}},hostVars:2,hostBindings:function(e,i){2&e&&f.ekj("nav-item",!0)},inputs:{destroyOnHide:"destroyOnHide",disabled:"disabled",domId:"domId",_id:["ngbNavItem","_id"]},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbNavItem"]}),r})(),PT=(()=>{class r{constructor(e,i,n,s){this.role=e,this._cd=n,this._document=s,this.activeIdChange=new f.vpe,this.shown=new f.vpe,this.hidden=new f.vpe,this.destroy$=new er.x,this.navItemChange$=new er.x,this.navChange=new f.vpe,this.animation=i.animation,this.destroyOnHide=i.destroyOnHide,this.orientation=i.orientation,this.roles=i.roles,this.keyboard=i.keyboard}click(e){e.disabled||this._updateActiveId(e.id)}onKeyDown(e){if("tablist"!==this.roles||!this.keyboard)return;const i=e.which,n=this.links.filter(d=>!d.navItem.disabled),{length:s}=n;let l=-1;if(n.forEach((d,p)=>{d.elRef.nativeElement===this._document.activeElement&&(l=p)}),s){switch(i){case rr.ArrowLeft:if("vertical"===this.orientation)return;l=(l-1+s)%s;break;case rr.ArrowRight:if("vertical"===this.orientation)return;l=(l+1)%s;break;case rr.ArrowDown:if("horizontal"===this.orientation)return;l=(l+1)%s;break;case rr.ArrowUp:if("horizontal"===this.orientation)return;l=(l-1+s)%s;break;case rr.Home:l=0;break;case rr.End:l=s-1}"changeWithArrows"===this.keyboard&&this.select(n[l].navItem.id),n[l].elRef.nativeElement.focus(),e.preventDefault()}}select(e){this._updateActiveId(e,!1)}ngAfterContentInit(){if(!Kd(this.activeId)){const e=this.items.first?this.items.first.id:null;sx(e)&&(this._updateActiveId(e,!1),this._cd.detectChanges())}this.items.changes.pipe(Bi(this.destroy$)).subscribe(()=>this._notifyItemChanged(this.activeId))}ngOnChanges({activeId:e}){e&&!e.firstChange&&this._notifyItemChanged(e.currentValue)}ngOnDestroy(){this.destroy$.next()}_updateActiveId(e,i=!0){if(this.activeId!==e){let n=!1;i&&this.navChange.emit({activeId:this.activeId,nextId:e,preventDefault:()=>{n=!0}}),n||(this.activeId=e,this.activeIdChange.emit(e),this._notifyItemChanged(e))}}_notifyItemChanged(e){this.navItemChange$.next(this._getItemById(e))}_getItemById(e){return this.items&&this.items.find(i=>i.id===e)||null}}return r.\u0275fac=function(e){return new(e||r)(f.$8M("role"),f.Y36(SN),f.Y36(f.sBO),f.Y36(N.K0))},r.\u0275dir=f.lG2({type:r,selectors:[["","ngbNav",""]],contentQueries:function(e,i,n){if(1&e&&(f.Suo(n,WD,4),f.Suo(n,ox,5)),2&e){let s;f.iGM(s=f.CRH())&&(i.items=s),f.iGM(s=f.CRH())&&(i.links=s)}},hostVars:6,hostBindings:function(e,i){1&e&&f.NdJ("keydown.arrowLeft",function(s){return i.onKeyDown(s)})("keydown.arrowRight",function(s){return i.onKeyDown(s)})("keydown.arrowDown",function(s){return i.onKeyDown(s)})("keydown.arrowUp",function(s){return i.onKeyDown(s)})("keydown.Home",function(s){return i.onKeyDown(s)})("keydown.End",function(s){return i.onKeyDown(s)}),2&e&&(f.uIk("aria-orientation","vertical"===i.orientation&&"tablist"===i.roles?"vertical":void 0)("role",i.role?i.role:i.roles?"tablist":void 0),f.ekj("nav",!0)("flex-column","vertical"===i.orientation))},inputs:{activeId:"activeId",animation:"animation",destroyOnHide:"destroyOnHide",orientation:"orientation",roles:"roles",keyboard:"keyboard"},outputs:{activeIdChange:"activeIdChange",shown:"shown",hidden:"hidden",navChange:"navChange"},exportAs:["ngbNav"],features:[f.TTD]}),r})(),ox=(()=>{class r{constructor(e,i,n,s){this.role=e,this.navItem=i,this.nav=n,this.elRef=s}hasNavItemClass(){return this.navItem.elementRef.nativeElement.nodeType===Node.COMMENT_NODE}}return r.\u0275fac=function(e){return new(e||r)(f.$8M("role"),f.Y36(WD),f.Y36(PT),f.Y36(f.SBq))},r.\u0275dir=f.lG2({type:r,selectors:[["a","ngbNavLink",""]],hostAttrs:["href",""],hostVars:14,hostBindings:function(e,i){1&e&&f.NdJ("click",function(s){return i.nav.click(i.navItem),s.preventDefault()}),2&e&&(f.Ikx("id",i.navItem.domId),f.uIk("role",i.role?i.role:i.nav.roles?"tab":void 0)("tabindex",i.navItem.disabled?-1:void 0)("aria-controls",i.navItem.isPanelInDom()?i.navItem.panelDomId:null)("aria-selected",i.navItem.active)("aria-disabled",i.navItem.disabled),f.ekj("nav-link",!0)("nav-item",i.hasNavItemClass())("active",i.navItem.active)("disabled",i.navItem.disabled))}}),r})(),lx=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez]]}),r})(),mx=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez]]}),r})(),_x=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez]]}),r})(),yx=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez]]}),r})(),bx=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez]]}),r})(),Tx=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez]]}),r})(),Sx=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez]]}),r})(),Cx=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({}),r})();new f.OlP("live announcer delay",{providedIn:"root",factory:function RN(){return 100}});let Dx=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[[N.ez]]}),r})(),Ex=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({}),r})();const kN=[Rw,kw,Lw,Uw,Vw,Zw,tx,rx,lx,Ex,mx,_x,yx,bx,Tx,Sx,Cx,Dx];let FN=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r}),r.\u0275inj=f.cJS({imports:[kN,Rw,kw,Lw,Uw,Vw,Zw,tx,rx,lx,Ex,mx,_x,yx,bx,Tx,Sx,Cx,Dx]}),r})();const LN=["modalContent"];function BN(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"button",7),f.NdJ("click",function(){const s=f.CHM(e).$implicit;return f.oxw().$implicit.close(s.result)}),f.qZA()}if(2&r){const e=t.$implicit;f.Tol(e.class),f.Q6J("innerHTML",e.innerHtml,f.oJD)}}function HN(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"div",1)(1,"h4",2),f._uU(2),f.qZA(),f.TgZ(3,"button",3),f.NdJ("click",function(){return f.CHM(e).$implicit.dismiss("Cross click")}),f.qZA()(),f._UZ(4,"div",4),f.TgZ(5,"div",5),f.YNc(6,BN,1,3,"button",6),f.qZA()}if(2&r){const e=f.oxw();f.xp6(2),f.Oqu(e._title),f.xp6(2),f.Q6J("innerHTML",e._bodyHtml,f.oJD),f.xp6(2),f.Q6J("ngForOf",e._buttons)}}let UN=(()=>{class r{constructor(e){this.modalService=e,this._bodyHtml="",this._title="",this._buttons=[],this.onClose=new f.vpe}ngOnInit(){}open(e,i="Modal Title",n){return this._bodyHtml=e,this._title=i,this._buttons=n,this.modalService.open(this.modalContent,{ariaLabelledBy:"modal-basic-title"}).result}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(ix))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-modal"]],viewQuery:function(e,i){if(1&e&&f.Gf(LN,5),2&e){let n;f.iGM(n=f.CRH())&&(i.modalContent=n.first)}},decls:2,vars:0,consts:[["modalContent",""],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body",3,"innerHTML"],[1,"modal-footer"],["type","button",3,"class","innerHTML","click",4,"ngFor","ngForOf"],["type","button",3,"innerHTML","click"]],template:function(e,i){1&e&&f.YNc(0,HN,7,3,"ng-template",null,0,f.W1O)},directives:[N.sg],styles:[""],changeDetection:0}),r})();const VN=["modal"];function GN(r,t){if(1&r&&(f.TgZ(0,"li",11)(1,"a",12),f._uU(2),f.qZA()()),2&r){const e=t.$implicit;f.xp6(1),f.Q6J("routerLink",e.path),f.xp6(1),f.Oqu(e.title)}}function jN(r,t){if(1&r&&(f.TgZ(0,"li",11)(1,"a",12),f._uU(2),f.qZA()()),2&r){const e=t.$implicit;f.xp6(1),f.Q6J("routerLink",e.path),f.xp6(1),f.Oqu(e.title)}}function WN(r,t){1&r&&f._UZ(0,"span",15)}function $N(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"button",13),f.NdJ("click",function(){return f.CHM(e),f.oxw(2).logout()}),f.YNc(1,WN,1,0,"span",14),f._uU(2," Logout "),f.qZA()}if(2&r){const e=f.oxw(2);f.Q6J("disabled",e.logoutLoading),f.xp6(1),f.Q6J("ngIf",e.logoutLoading)}}function zN(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"button",13),f.NdJ("click",function(){return f.CHM(e),f.oxw(2).goOnline()}),f._uU(1," Go Online "),f.qZA()}if(2&r){const e=f.oxw(2);f.Q6J("disabled",!e.syncService.isVoluntaryOffline())}}function YN(r,t){if(1&r){const e=f.EpF();f.TgZ(0,"nav",2)(1,"div",3),f._UZ(2,"app-logo"),f.TgZ(3,"button",4),f.NdJ("click",function(){f.CHM(e);const n=f.oxw();return n.isCollapsed=!n.isCollapsed}),f._UZ(4,"span",5),f.qZA(),f.TgZ(5,"div",6)(6,"ul",7),f.YNc(7,GN,3,2,"li",8),f.qZA(),f.TgZ(8,"ul",9),f.YNc(9,jN,3,2,"li",8),f.YNc(10,$N,3,2,"button",10),f.YNc(11,zN,2,1,"button",10),f.qZA()()()()}if(2&r){const e=f.oxw();f.xp6(3),f.uIk("aria-expanded",!e.isCollapsed),f.xp6(2),f.Q6J("ngbCollapse",e.isCollapsed),f.xp6(2),f.Q6J("ngForOf",e.navStartRoutes),f.xp6(2),f.Q6J("ngForOf",e.navEndRoutes),f.xp6(1),f.Q6J("ngIf",e.syncService.isOnline()),f.xp6(1),f.Q6J("ngIf",!e.syncService.isOnline())}}let wx,KN=(()=>{class r{constructor(e,i,n,s,l){this.authService=e,this.syncService=i,this.storageService=n,this.router=s,this.swUpdate=l,this.title="syncwatch-frontend",this.isCollapsed=!0,this.logoutLoading=!1,this.reloadNavRoutes()}reloadNavRoutes(){this.navStartRoutes=this.router.config.filter(e=>e.data&&e.data.navTitle&&!e.data.navEnd).map(e=>({path:"/"+e.path,title:""+e.data.navTitle})),this.navEndRoutes=this.router.config.filter(e=>e.data&&e.data.navTitle&&e.data.navEnd).map(e=>({path:"/"+e.path,title:""+e.data.navTitle}))}ngOnInit(){}ngAfterViewInit(){this.swUpdate.unrecoverable.subscribe(e=>{this.modal.open(`An error occurred that we cannot recover from:</br>\n                            ${e.reason}</br>Please reload the page.`,"An error occured",[{class:"btn btn-secondary",innerHtml:"Reload",result:"reload"}]).then(i=>{"reload"==i&&window.location.reload()})}),this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.pipe((0,Sn.h)(e=>"VERSION_READY"===e.type),(0,tt.U)(e=>{console.info(`updating version=[${e.currentVersion} to latestVersion=[${e.latestVersion}]`),this.modal.open(`Please update from version=[${e.currentVersion} to latestVersion=[${e.latestVersion}]`,"Update available",[{class:"btn btn-secondary",innerHtml:"Reload",result:"reload"}]).then(i=>{"reload"==i&&window.location.reload()})})),this.storageService.tryPersistWithoutPromtingUser().then(e=>{"prompt"==e&&this.modal.open("We want to store persistant data ok!","Store data",[{class:"btn btn-secondary",innerHtml:"Grant",result:"grant"}]).then(i=>{"grant"==i&&this.storageService.persist()})})}unload(){this.authService.unload()}goOnline(){this.syncService.setVoluntaryOffline(!1),this.router.navigate(["login"])}logout(){this.logoutLoading=!0,this.authService.logout().pipe((0,yu.K)(e=>(this.router.navigate(["login"]),this.logoutLoading=!1,(0,Df._)(()=>e)))).subscribe(()=>{this.logoutLoading=!1,this.router.navigate(["login"])})}}return r.\u0275fac=function(e){return new(e||r)(f.Y36(Js),f.Y36(el),f.Y36(Dn),f.Y36(mn.F0),f.Y36(Qb))},r.\u0275cmp=f.Xpm({type:r,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&f.Gf(VN,5),2&e){let n;f.iGM(n=f.CRH())&&(i.modal=n.first)}},hostBindings:function(e,i){1&e&&f.NdJ("beforeunload",function(s){return i.unload(s)},!1,f.Jf7)},decls:4,vars:1,consts:[["ngbNav","","class","navbar navbar-expand-lg px-3 py-2 navbar-dark bg-primary",4,"ngIf"],["modal",""],["ngbNav","",1,"navbar","navbar-expand-lg","px-3","py-2","navbar-dark","bg-primary"],[1,"navbar","w-100","h-100","m-safe-t","m-safe-x"],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","ms-auto","btn",3,"click"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse","py-2",3,"ngbCollapse"],[1,"navbar-nav","me-auto","align-items-center"],["class","nav-item",4,"ngFor","ngForOf"],[1,"navbar-nav","align-items-center"],["class","btn btn-secondary",3,"disabled","click",4,"ngIf"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],[1,"btn","btn-secondary",3,"disabled","click"],["class","spinner-border spinner-border-sm","role","status",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm"]],template:function(e,i){1&e&&(f.YNc(0,YN,12,6,"nav",0),f._UZ(1,"app-modal",null,1)(3,"router-outlet")),2&e&&f.Q6J("ngIf",i.authService.isLoggedIn())},directives:[N.O5,jD,PT,Yc,kM,N.sg,mn.yS,mn.Od,UN,mn.lC],styles:[""],changeDetection:0}),r})(),qN=(()=>{class r{constructor(){this._loggedIn=!1}login(e,i,n){return(0,Pn.of)({msg:"success",expires:0,session_token:"123"}).pipe(No(500),(0,fs.b)(()=>{this._loggedIn=!0}))}logout(){return(0,Pn.of)({msg:"success"}).pipe(No(500),(0,fs.b)(()=>{this._loggedIn=!1}))}isLoggedIn(){return this._loggedIn}getSessionToken(){return"123"}unload(){}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),XN=(()=>{class r{constructor(){this._sessions=[{id:1,device_info:"My Device",is_current:!0},{id:2,device_info:"Your Device",is_current:!1}]}sessions(){return(0,Pn.of)(this._sessions).pipe(No(500))}deleteSessions(){return(0,Pn.of)({msg:"success"}).pipe(No(500),(0,fs.b)(()=>this._sessions=[]))}deleteSessionById(e,i){return(0,Pn.of)({msg:"success"}).pipe(No(500),(0,fs.b)(()=>this._sessions=this._sessions.filter(n=>n.id!=e)))}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),QN=(()=>{class r{constructor(e,i){this.authService=e,this.router=i}intercept(e,i){return i.handle(e).pipe((0,yu.K)(n=>(401==n.status&&(this.authService.clearStorage(),this.router.navigate(["login"])),(0,Df._)(()=>n))))}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Js),f.LFG(mn.F0))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),ZN=(()=>{class r{constructor(e){this.authService=e}canActivate(){return!!this.authService.isLoggedIn()||this.authService.login("test","test",!1).pipe((0,tt.U)(()=>!0))}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Js))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})(),JN=(()=>{class r{constructor(e,i){this.http=e,this.authService=i,this._movies={1:{title:"Video",id:"1",hash:"123",mime_type:"video/webm",downloaded_length:0,file_size:1e7,content_length:1e7,thumbnail_id:"123",corrupt:!1},2:{title:"Bibeo",id:"2",hash:"1234",mime_type:"video/webm",downloaded_length:1e7,file_size:1e7,content_length:1e7,thumbnail_id:"123",corrupt:!1}},this.targetChunkRequestTime=1e3,this.downloadChunkSize=5e5,this.evaluatingChunkSize=!1,this.downloadSpeed=new Ms.X(0),this.movieDownloads={},this.stopDownloads={}}_getMovieStreamUrl(e){return`${On.MOVIE_STREAM_URL}?id=${e}&token=${this.authService.getSessionToken()}`}_getThumbnailUrl(e){return`${On.THUMBNAIL_URL}?id=${e}&token=${this.authService.getSessionToken()}`}getMovieById(e){var i=this;return Yt(function*(){return i._movies[e]})()}getMovies(){return(0,Pn.of)(Object.values(this._movies))}_getMovieDownloadProgress(e){return e in this.movieDownloads||(this.movieDownloads[e]=new Ms.X({downloaded:this._movies[e].downloaded_length/this._movies[e].content_length,downloading:!1,deleting:!1})),this.movieDownloads[e]}getMovieDownloadProgress(e){return this._getMovieDownloadProgress(e)}deleteMovieDownload(e){var i=this;return Yt(function*(){const n=yield i.getMovieById(e);if(void 0===n)return;const s=i._getMovieDownloadProgress(n.id),l=yield sn(s);l.deleting||l.downloading||(s.next({deleting:!0,downloading:!1,downloaded:l.downloaded}),setTimeout(()=>{n.downloaded_length=0,s.next({deleting:!1,downloading:!1,downloaded:0})},1e3))})()}triggerMovieDownload(e){var i=this;return Yt(function*(){const n=yield i.getMovieById(e);if(void 0===n)return;const s=i._getMovieDownloadProgress(n.id),l=yield sn(s);if(!l.deleting){if(l.downloading)return void(n.id in i.stopDownloads||(i.stopDownloads[n.id]=!0,s.next({downloaded:l.downloaded,downloading:!1,deleting:l.deleting})));n.thumbnail_id&&0===n.downloaded_length&&(s.next({downloaded:0,downloading:!0,deleting:!1}),i._downloadThumbnail(n.thumbnail_id)),i._downloadMovieChunk(n,s)}})()}_downloadMovieChunk(e,i){if(e.content_length&&e.downloaded_length>=e.content_length)return void i.next({downloaded:1,downloading:!1,deleting:!1});if(e.id in this.stopDownloads)return sn(i).then(s=>{i.next({downloaded:s.downloaded,downloading:!1,deleting:s.deleting})}),void delete this.stopDownloads[e.id];let n;this.evaluatingChunkSize||(this.evaluatingChunkSize=!0,n=Date.now()),setTimeout(()=>{if(void 0!==n){const s=Date.now()-n,l=Math.min(1.5,Math.max(.75,this.targetChunkRequestTime/Math.max(1,s)));this.downloadChunkSize=Math.min(Number.MAX_SAFE_INTEGER,Math.floor(this.downloadChunkSize*l)),this.downloadSpeed.next(1e3*this.downloadChunkSize/this.targetChunkRequestTime),this.evaluatingChunkSize=!1}e.downloaded_length+=this.downloadChunkSize,i.next({downloaded:e.downloaded_length/e.content_length,downloading:!0,deleting:!1}),this._downloadMovieChunk(e,i)},this.targetChunkRequestTime)}getMovieSources(e){var i=this;return Yt(function*(){const n=yield i.getMovieById(e);return void 0===n?[]:[{src:i._getMovieStreamUrl(e),type:n.mime_type}]})()}_downloadThumbnail(e){}getMovieThumbnailSource(e){var i=this;return Yt(function*(){return null===e?"/assets/default-thumbnail.svg":i._getThumbnailUrl(e)})()}}return r.\u0275fac=function(e){return new(e||r)(f.LFG(Wc),f.LFG(Js))},r.\u0275prov=f.Yz7({token:r,factory:r.\u0275fac}),r})();!function(){const t=Worker;Worker=class{constructor(n,s){this.stringUrl=n,this.options=s}},wx=new Worker(U.tu(new URL(U.p+U.u("src_app_shared_worker_service_worker_ts"),U.b))).stringUrl,Worker=t}();const xx={enabled:!0,serviceWorkerUrl:wx};let eI=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=f.oAB({type:r,bootstrap:[KN]}),r.\u0275inj=f.cJS({providers:[{provide:Of,useClass:QN,multi:!0},Ja,Tv,Eu,M0,el,Dn,{provide:wu,useClass:JN},{provide:Js,useClass:qN},{provide:E0,useClass:XN},{provide:po,useClass:ZN}],imports:[[Kn,sD,Hp,Sf,D0,FN,fw.register(xx.serviceWorkerUrl,{enabled:xx.enabled,registrationStrategy:"registerImmediately"})]]}),r})();Ln().bootstrapModule(eI).catch(r=>console.error(r))},3992:(rt,xe,U)=>{"use strict";var N=U(9226);rt.exports=function(me,Ee){return void 0===Ee&&(Ee=!1),function(Re,Ae,Me){if(Re)me(Re);else if(Ae.statusCode>=400&&Ae.statusCode<=599){var Ce=Me;if(Ee)if(N.TextDecoder){var Te=function te(_e){return void 0===_e&&(_e=""),_e.toLowerCase().split(";").reduce(function(me,Ee){var Re=Ee.split("="),Me=Re[1];return"charset"===Re[0].trim()?Me.trim():me},"utf-8")}(Ae.headers&&Ae.headers["content-type"]);try{Ce=new TextDecoder(Te).decode(Me)}catch(ke){}}else Ce=String.fromCharCode.apply(null,new Uint8Array(Me));me({cause:Ce})}else me(null,Me)}}},745:(rt,xe,U)=>{"use strict";var N=U(9226),f=U(7154),te=U(2703);function Re(ke,je,Le){var vt=ke;return te(je)?(Le=je,"string"==typeof ke&&(vt={uri:ke})):vt=f({},je,{uri:ke}),vt.callback=Le,vt}function Ae(ke,je,Le){return Me(je=Re(ke,je,Le))}function Me(ke){if(void 0===ke.callback)throw new Error("callback argument missing");var je=!1,Le=function(ve,de,Oe){je||(je=!0,ke.callback(ve,de,Oe))};function mt(){var ae=void 0;if(ae=Ze.response?Ze.response:Ze.responseText||function Ce(ke){try{if("document"===ke.responseType)return ke.responseXML;if(""===ke.responseType&&(!ke.responseXML||"parsererror"!==ke.responseXML.documentElement.nodeName))return ke.responseXML}catch(Le){}return null}(Ze),J)try{ae=JSON.parse(ae)}catch(ve){}return ae}function De(ae){return clearTimeout(X),ae instanceof Error||(ae=new Error(""+(ae||"Unknown XMLHttpRequest Error"))),ae.statusCode=0,Le(ae,oe)}function ut(){if(!Xe){var ae;clearTimeout(X);var ve=oe,de=null;return 0!==(ae=ke.useXDR&&void 0===Ze.status?200:1223===Ze.status?204:Ze.status)?(ve={body:mt(),statusCode:ae,method:Ye,headers:{},url:ye,rawRequest:Ze},Ze.getAllResponseHeaders&&(ve.headers=function(je){var Le={};return je&&je.trim().split("\n").forEach(function(vt){var mt=vt.indexOf(":"),De=vt.slice(0,mt).trim().toLowerCase(),ut=vt.slice(mt+1).trim();void 0===Le[De]?Le[De]=ut:Array.isArray(Le[De])?Le[De].push(ut):Le[De]=[Le[De],ut]}),Le}(Ze.getAllResponseHeaders()))):de=new Error("Internal XMLHttpRequest Error"),Le(de,ve,ve.body)}}var Ze=ke.xhr||null;Ze||(Ze=ke.cors||ke.useXDR?new Ae.XDomainRequest:new Ae.XMLHttpRequest);var Ke,Xe,X,ye=Ze.url=ke.uri||ke.url,Ye=Ze.method=ke.method||"GET",St=ke.body||ke.data,yt=Ze.headers=ke.headers||{},K=!!ke.sync,J=!1,oe={body:void 0,headers:{},statusCode:0,method:Ye,url:ye,rawRequest:Ze};if("json"in ke&&!1!==ke.json&&(J=!0,yt.accept||yt.Accept||(yt.Accept="application/json"),"GET"!==Ye&&"HEAD"!==Ye&&(yt["content-type"]||yt["Content-Type"]||(yt["Content-Type"]="application/json"),St=JSON.stringify(!0===ke.json?St:ke.json))),Ze.onreadystatechange=function vt(){4===Ze.readyState&&setTimeout(ut,0)},Ze.onload=ut,Ze.onerror=De,Ze.onprogress=function(){},Ze.onabort=function(){Xe=!0},Ze.ontimeout=De,Ze.open(Ye,ye,!K,ke.username,ke.password),K||(Ze.withCredentials=!!ke.withCredentials),!K&&ke.timeout>0&&(X=setTimeout(function(){if(!Xe){Xe=!0,Ze.abort("timeout");var ae=new Error("XMLHttpRequest timeout");ae.code="ETIMEDOUT",De(ae)}},ke.timeout)),Ze.setRequestHeader)for(Ke in yt)yt.hasOwnProperty(Ke)&&Ze.setRequestHeader(Ke,yt[Ke]);else if(ke.headers&&!function Ee(ke){for(var je in ke)if(ke.hasOwnProperty(je))return!1;return!0}(ke.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in ke&&(Ze.responseType=ke.responseType),"beforeSend"in ke&&"function"==typeof ke.beforeSend&&ke.beforeSend(Ze),Ze.send(St||null),Ze}Ae.httpHandler=U(3992),rt.exports=Ae,rt.exports.default=Ae,Ae.XMLHttpRequest=N.XMLHttpRequest||function Te(){},Ae.XDomainRequest="withCredentials"in new Ae.XMLHttpRequest?Ae.XMLHttpRequest:N.XDomainRequest,function me(ke,je){for(var Le=0;Le<ke.length;Le++)je(ke[Le])}(["get","put","post","patch","head","delete"],function(ke){Ae["delete"===ke?"del":ke]=function(je,Le,vt){return(Le=Re(je,Le,vt)).method=ke.toUpperCase(),Me(Le)}})},9401:(rt,xe)=>{"use strict";function U(te,_e){return void 0===_e&&(_e=Object),_e&&"function"==typeof _e.freeze?_e.freeze(te):te}var N=U({HTML:"text/html",isHTML:function(te){return te===N.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),f=U({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(te){return te===f.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});xe.freeze=U,xe.MIME_TYPE=N,xe.NAMESPACE=f},1991:(rt,xe,U)=>{var f=U(9401),te=U(6853),_e=U(4436),me=U(8702),Ee=te.DOMImplementation,Re=f.NAMESPACE,Ae=me.ParseError,Me=me.XMLReader;function Ce(De){this.options=De||{locator:{}}}function ke(){this.cdata=!1}function je(De,ut){ut.lineNumber=De.lineNumber,ut.columnNumber=De.columnNumber}function Le(De){if(De)return"\n@"+(De.systemId||"")+"#[line:"+De.lineNumber+",col:"+De.columnNumber+"]"}function vt(De,ut,Ze){return"string"==typeof De?De.substr(ut,Ze):De.length>=ut+Ze||ut?new java.lang.String(De,ut,Ze)+"":De}function mt(De,ut){De.currentElement?De.currentElement.appendChild(ut):De.doc.appendChild(ut)}Ce.prototype.parseFromString=function(De,ut){var Ze=this.options,Ke=new Me,Xe=Ze.domBuilder||new ke,ye=Ze.errorHandler,Ye=Ze.locator,St=Ze.xmlns||{},yt=/\/x?html?$/.test(ut),K=yt?_e.HTML_ENTITIES:_e.XML_ENTITIES;return Ye&&Xe.setDocumentLocator(Ye),Ke.errorHandler=function Te(De,ut,Ze){if(!De){if(ut instanceof ke)return ut;De=ut}var Ke={},Xe=De instanceof Function;function ye(Ye){var St=De[Ye];!St&&Xe&&(St=2==De.length?function(yt){De(Ye,yt)}:De),Ke[Ye]=St&&function(yt){St("[xmldom "+Ye+"]\t"+yt+Le(Ze))}||function(){}}return Ze=Ze||{},ye("warning"),ye("error"),ye("fatalError"),Ke}(ye,Xe,Ye),Ke.domBuilder=Ze.domBuilder||Xe,yt&&(St[""]=Re.HTML),St.xml=St.xml||Re.XML,De&&"string"==typeof De?Ke.parse(De,St,K):Ke.errorHandler.error("invalid doc source"),Xe.doc},ke.prototype={startDocument:function(){this.doc=(new Ee).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(De,ut,Ze,Ke){var Xe=this.doc,ye=Xe.createElementNS(De,Ze||ut),Ye=Ke.length;mt(this,ye),this.currentElement=ye,this.locator&&je(this.locator,ye);for(var St=0;St<Ye;St++){De=Ke.getURI(St);var yt=Ke.getValue(St),K=(Ze=Ke.getQName(St),Xe.createAttributeNS(De,Ze));this.locator&&je(Ke.getLocator(St),K),K.value=K.nodeValue=yt,ye.setAttributeNode(K)}},endElement:function(De,ut,Ze){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(De,ut){},endPrefixMapping:function(De){},processingInstruction:function(De,ut){var Ze=this.doc.createProcessingInstruction(De,ut);this.locator&&je(this.locator,Ze),mt(this,Ze)},ignorableWhitespace:function(De,ut,Ze){},characters:function(De,ut,Ze){if(De=vt.apply(this,arguments)){if(this.cdata)var Ke=this.doc.createCDATASection(De);else Ke=this.doc.createTextNode(De);this.currentElement?this.currentElement.appendChild(Ke):/^\s*$/.test(De)&&this.doc.appendChild(Ke),this.locator&&je(this.locator,Ke)}},skippedEntity:function(De){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(De){(this.locator=De)&&(De.lineNumber=0)},comment:function(De,ut,Ze){De=vt.apply(this,arguments);var Ke=this.doc.createComment(De);this.locator&&je(this.locator,Ke),mt(this,Ke)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(De,ut,Ze){var Ke=this.doc.implementation;if(Ke&&Ke.createDocumentType){var Xe=Ke.createDocumentType(De,ut,Ze);this.locator&&je(this.locator,Xe),mt(this,Xe),this.doc.doctype=Xe}},warning:function(De){console.warn("[xmldom warning]\t"+De,Le(this.locator))},error:function(De){console.error("[xmldom error]\t"+De,Le(this.locator))},fatalError:function(De){throw new Ae(De,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(De){ke.prototype[De]=function(){return null}}),xe.DOMParser=Ce},6853:(rt,xe,U)=>{var f=U(9401).NAMESPACE;function te(Q){return""!==Q}function me(Q,q){return Q.hasOwnProperty(q)||(Q[q]=!0),Q}function Ee(Q){if(!Q)return[];var q=function _e(Q){return Q?Q.split(/[\t\n\f\r ]+/).filter(te):[]}(Q);return Object.keys(q.reduce(me,{}))}function Ae(Q,q){for(var pe in Q)q[pe]=Q[pe]}function Me(Q,q){var pe=Q.prototype;if(!(pe instanceof q)){let ct=function(){};ct.prototype=q.prototype,ct=new ct,Ae(pe,ct),Q.prototype=pe=ct}pe.constructor!=Q&&("function"!=typeof Q&&console.error("unknown Class:"+Q),pe.constructor=Q)}var Ce={},Te=Ce.ELEMENT_NODE=1,ke=Ce.ATTRIBUTE_NODE=2,je=Ce.TEXT_NODE=3,Le=Ce.CDATA_SECTION_NODE=4,vt=Ce.ENTITY_REFERENCE_NODE=5,mt=Ce.ENTITY_NODE=6,De=Ce.PROCESSING_INSTRUCTION_NODE=7,ut=Ce.COMMENT_NODE=8,Ze=Ce.DOCUMENT_NODE=9,Ke=Ce.DOCUMENT_TYPE_NODE=10,Xe=Ce.DOCUMENT_FRAGMENT_NODE=11,ye=Ce.NOTATION_NODE=12,Ye={},St={},J=(Ye.INDEX_SIZE_ERR=(St[1]="Index size error",1),Ye.DOMSTRING_SIZE_ERR=(St[2]="DOMString size error",2),Ye.HIERARCHY_REQUEST_ERR=(St[3]="Hierarchy request error",3)),de=(Ye.WRONG_DOCUMENT_ERR=(St[4]="Wrong document",4),Ye.INVALID_CHARACTER_ERR=(St[5]="Invalid character",5),Ye.NO_DATA_ALLOWED_ERR=(St[6]="No data allowed",6),Ye.NO_MODIFICATION_ALLOWED_ERR=(St[7]="No modification allowed",7),Ye.NOT_FOUND_ERR=(St[8]="Not found",8)),Fe=(Ye.NOT_SUPPORTED_ERR=(St[9]="Not supported",9),Ye.INUSE_ATTRIBUTE_ERR=(St[10]="Attribute in use",10));function It(Q,q){if(q instanceof Error)var pe=q;else pe=this,Error.call(this,St[Q]),this.message=St[Q],Error.captureStackTrace&&Error.captureStackTrace(this,It);return pe.code=Q,q&&(this.message=this.message+": "+q),pe}function Dt(){}function gt(Q,q){this._node=Q,this._refresh=q,Xn(this)}function Xn(Q){var q=Q._node._inc||Q._node.ownerDocument._inc;if(Q._inc!=q){var pe=Q._refresh(Q._node);Ir(Q,"length",pe.length),Ae(pe,Q),Q._inc=q}}function bn(){}function Qn(Q,q){for(var pe=Q.length;pe--;)if(Q[pe]===q)return pe}function fn(Q,q,pe,Ge){if(Ge?q[Qn(q,Ge)]=pe:q[q.length++]=pe,Q){pe.ownerElement=Q;var ct=Q.ownerDocument;ct&&(Ge&&jr(ct,Q,Ge),function ti(Q,q,pe){Q&&Q._inc++,pe.namespaceURI===f.XMLNS&&(q._nsMap[pe.prefix?pe.localName:""]=pe.value)}(ct,Q,pe))}}function Mr(Q,q,pe){var Ge=Qn(q,pe);if(!(Ge>=0))throw It(de,new Error(Q.tagName+"@"+pe));for(var ct=q.length-1;Ge<ct;)q[Ge]=q[++Ge];if(q.length=ct,Q){var Qt=Q.ownerDocument;Qt&&(jr(Qt,Q,pe),pe.ownerElement=null)}}function Xi(){}function Ln(){}function _s(Q){return("<"==Q?"&lt;":">"==Q&&"&gt;")||"&"==Q&&"&amp;"||'"'==Q&&"&quot;"||"&#"+Q.charCodeAt()+";"}function Kn(Q,q){if(q(Q))return!0;if(Q=Q.firstChild)do{if(Kn(Q,q))return!0}while(Q=Q.nextSibling)}function Nr(){}function jr(Q,q,pe,Ge){Q&&Q._inc++,pe.namespaceURI===f.XMLNS&&delete q._nsMap[pe.prefix?pe.localName:""]}function Rt(Q,q,pe){if(Q&&Q._inc){Q._inc++;var Ge=q.childNodes;if(pe)Ge[Ge.length++]=pe;else{for(var ct=q.firstChild,Qt=0;ct;)Ge[Qt++]=ct,ct=ct.nextSibling;Ge.length=Qt}}}function vr(Q,q){var pe=q.previousSibling,Ge=q.nextSibling;return pe?pe.nextSibling=Ge:Q.firstChild=Ge,Ge?Ge.previousSibling=pe:Q.lastChild=pe,Rt(Q.ownerDocument,Q),q}function ar(Q,q,pe){var Ge=q.parentNode;if(Ge&&Ge.removeChild(q),q.nodeType===Xe){var ct=q.firstChild;if(null==ct)return q;var Qt=q.lastChild}else ct=Qt=q;var ni=pe?pe.previousSibling:Q.lastChild;ct.previousSibling=ni,Qt.nextSibling=pe,ni?ni.nextSibling=ct:Q.firstChild=ct,null==pe?Q.lastChild=Qt:pe.previousSibling=Qt;do{ct.parentNode=Q}while(ct!==Qt&&(ct=ct.nextSibling));return Rt(Q.ownerDocument||Q,Q),q.nodeType==Xe&&(q.firstChild=q.lastChild=null),q}function An(){this._nsMap={}}function ys(){}function ai(){}function Qi(){}function an(){}function Nt(){}function Ot(){}function ya(){}function Qa(){}function Jt(){}function _i(){}function Ni(){}function ko(){}function Bn(Q,q){var pe=[],Ge=9==this.nodeType&&this.documentElement||this,ct=Ge.prefix,Qt=Ge.namespaceURI;if(Qt&&null==ct&&null==(ct=Ge.lookupPrefix(Qt)))var ni=[{namespace:Qt,prefix:null}];return bs(this,pe,Q,q,ni),pe.join("")}function Mn(Q,q,pe){var Ge=Q.prefix||"",ct=Q.namespaceURI;if(!ct||"xml"===Ge&&ct===f.XML||ct===f.XMLNS)return!1;for(var Qt=pe.length;Qt--;){var ni=pe[Qt];if(ni.prefix===Ge)return ni.namespace!==ct}return!0}function gn(Q,q,pe){Q.push(" ",q,'="',pe.replace(/[<&"]/g,_s),'"')}function bs(Q,q,pe,Ge,ct){if(ct||(ct=[]),Ge){if(!(Q=Ge(Q)))return;if("string"==typeof Q)return void q.push(Q)}switch(Q.nodeType){case Te:var Qt=Q.attributes,ni=Qt.length,en=Q.firstChild,mn=Q.tagName,Ii=mn;if(!(pe=f.isHTML(Q.namespaceURI)||pe)&&!Q.prefix&&Q.namespaceURI){for(var On,Hn=0;Hn<Qt.length;Hn++)if("xmlns"===Qt.item(Hn).name){On=Qt.item(Hn).value;break}if(!On)for(var _r=ct.length-1;_r>=0;_r--)if(""===(Yt=ct[_r]).prefix&&Yt.namespace===Q.namespaceURI){On=Yt.namespace;break}if(On!==Q.namespaceURI)for(_r=ct.length-1;_r>=0;_r--){var Yt;if((Yt=ct[_r]).namespace===Q.namespaceURI){Yt.prefix&&(Ii=Yt.prefix+":"+mn);break}}}q.push("<",Ii);for(var oi=0;oi<ni;oi++)"xmlns"==(Tn=Qt.item(oi)).prefix?ct.push({prefix:Tn.localName,namespace:Tn.value}):"xmlns"==Tn.nodeName&&ct.push({prefix:"",namespace:Tn.value});for(oi=0;oi<ni;oi++){var Tn,vn,Oi;Mn(Tn=Qt.item(oi),0,ct)&&(gn(q,(vn=Tn.prefix||"")?"xmlns:"+vn:"xmlns",Oi=Tn.namespaceURI),ct.push({prefix:vn,namespace:Oi})),bs(Tn,q,pe,Ge,ct)}if(mn===Ii&&Mn(Q,0,ct)&&(gn(q,(vn=Q.prefix||"")?"xmlns:"+vn:"xmlns",Oi=Q.namespaceURI),ct.push({prefix:vn,namespace:Oi})),en||pe&&!/^(?:meta|link|img|br|hr|input)$/i.test(mn)){if(q.push(">"),pe&&/^script$/i.test(mn))for(;en;)en.data?q.push(en.data):bs(en,q,pe,Ge,ct.slice()),en=en.nextSibling;else for(;en;)bs(en,q,pe,Ge,ct.slice()),en=en.nextSibling;q.push("</",Ii,">")}else q.push("/>");return;case Ze:case Xe:for(en=Q.firstChild;en;)bs(en,q,pe,Ge,ct.slice()),en=en.nextSibling;return;case ke:return gn(q,Q.name,Q.value);case je:return q.push(Q.data.replace(/[<&]/g,_s).replace(/]]>/g,"]]&gt;"));case Le:return q.push("<![CDATA[",Q.data,"]]>");case ut:return q.push("\x3c!--",Q.data,"--\x3e");case Ke:var yi=Q.publicId,yr=Q.systemId;if(q.push("<!DOCTYPE ",Q.name),yi)q.push(" PUBLIC ",yi),yr&&"."!=yr&&q.push(" ",yr),q.push(">");else if(yr&&"."!=yr)q.push(" SYSTEM ",yr,">");else{var ss=Q.internalSubset;ss&&q.push(" [",ss,"]"),q.push(">")}return;case De:return q.push("<?",Q.target," ",Q.data,"?>");case vt:return q.push("&",Q.nodeName,";");default:q.push("??",Q.nodeName)}}function or(Q,q,pe){var Ge;switch(q.nodeType){case Te:(Ge=q.cloneNode(!1)).ownerDocument=Q;case Xe:break;case ke:pe=!0}if(Ge||(Ge=q.cloneNode(!1)),Ge.ownerDocument=Q,Ge.parentNode=null,pe)for(var ct=q.firstChild;ct;)Ge.appendChild(or(Q,ct,pe)),ct=ct.nextSibling;return Ge}function on(Q,q,pe){var Ge=new q.constructor;for(var ct in q){var Qt=q[ct];"object"!=typeof Qt&&Qt!=Ge[ct]&&(Ge[ct]=Qt)}switch(q.childNodes&&(Ge.childNodes=new Dt),Ge.ownerDocument=Q,Ge.nodeType){case Te:var ni=q.attributes,mn=Ge.attributes=new bn,Ii=ni.length;mn._ownerElement=Ge;for(var On=0;On<Ii;On++)Ge.setAttributeNode(on(Q,ni.item(On),!0));break;case ke:pe=!0}if(pe)for(var Hn=q.firstChild;Hn;)Ge.appendChild(on(Q,Hn,pe)),Hn=Hn.nextSibling;return Ge}function Ir(Q,q,pe){Q[q]=pe}Ye.INVALID_STATE_ERR=(St[11]="Invalid state",11),Ye.SYNTAX_ERR=(St[12]="Syntax error",12),Ye.INVALID_MODIFICATION_ERR=(St[13]="Invalid modification",13),Ye.NAMESPACE_ERR=(St[14]="Invalid namespace",14),Ye.INVALID_ACCESS_ERR=(St[15]="Invalid access",15),It.prototype=Error.prototype,Ae(Ye,It),Dt.prototype={length:0,item:function(Q){return this[Q]||null},toString:function(Q,q){for(var pe=[],Ge=0;Ge<this.length;Ge++)bs(this[Ge],pe,Q,q);return pe.join("")}},gt.prototype.item=function(Q){return Xn(this),this[Q]},Me(gt,Dt),bn.prototype={length:0,item:Dt.prototype.item,getNamedItem:function(Q){for(var q=this.length;q--;){var pe=this[q];if(pe.nodeName==Q)return pe}},setNamedItem:function(Q){var q=Q.ownerElement;if(q&&q!=this._ownerElement)throw new It(Fe);var pe=this.getNamedItem(Q.nodeName);return fn(this._ownerElement,this,Q,pe),pe},setNamedItemNS:function(Q){var pe,q=Q.ownerElement;if(q&&q!=this._ownerElement)throw new It(Fe);return pe=this.getNamedItemNS(Q.namespaceURI,Q.localName),fn(this._ownerElement,this,Q,pe),pe},removeNamedItem:function(Q){var q=this.getNamedItem(Q);return Mr(this._ownerElement,this,q),q},removeNamedItemNS:function(Q,q){var pe=this.getNamedItemNS(Q,q);return Mr(this._ownerElement,this,pe),pe},getNamedItemNS:function(Q,q){for(var pe=this.length;pe--;){var Ge=this[pe];if(Ge.localName==q&&Ge.namespaceURI==Q)return Ge}return null}},Xi.prototype={hasFeature:function(Q,q){return!0},createDocument:function(Q,q,pe){var Ge=new Nr;if(Ge.implementation=this,Ge.childNodes=new Dt,Ge.doctype=pe||null,pe&&Ge.appendChild(pe),q){var ct=Ge.createElementNS(Q,q);Ge.appendChild(ct)}return Ge},createDocumentType:function(Q,q,pe){var Ge=new Ot;return Ge.name=Q,Ge.nodeName=Q,Ge.publicId=q||"",Ge.systemId=pe||"",Ge}},Ln.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(Q,q){return ar(this,Q,q)},replaceChild:function(Q,q){this.insertBefore(Q,q),q&&this.removeChild(q)},removeChild:function(Q){return vr(this,Q)},appendChild:function(Q){return this.insertBefore(Q,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(Q){return on(this.ownerDocument||this,this,Q)},normalize:function(){for(var Q=this.firstChild;Q;){var q=Q.nextSibling;q&&q.nodeType==je&&Q.nodeType==je?(this.removeChild(q),Q.appendData(q.data)):(Q.normalize(),Q=q)}},isSupported:function(Q,q){return this.ownerDocument.implementation.hasFeature(Q,q)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(Q){for(var q=this;q;){var pe=q._nsMap;if(pe)for(var Ge in pe)if(pe[Ge]==Q)return Ge;q=q.nodeType==ke?q.ownerDocument:q.parentNode}return null},lookupNamespaceURI:function(Q){for(var q=this;q;){var pe=q._nsMap;if(pe&&Q in pe)return pe[Q];q=q.nodeType==ke?q.ownerDocument:q.parentNode}return null},isDefaultNamespace:function(Q){return null==this.lookupPrefix(Q)}},Ae(Ce,Ln),Ae(Ce,Ln.prototype),Nr.prototype={nodeName:"#document",nodeType:Ze,doctype:null,documentElement:null,_inc:1,insertBefore:function(Q,q){if(Q.nodeType==Xe){for(var pe=Q.firstChild;pe;){var Ge=pe.nextSibling;this.insertBefore(pe,q),pe=Ge}return Q}return null==this.documentElement&&Q.nodeType==Te&&(this.documentElement=Q),ar(this,Q,q),Q.ownerDocument=this,Q},removeChild:function(Q){return this.documentElement==Q&&(this.documentElement=null),vr(this,Q)},importNode:function(Q,q){return or(this,Q,q)},getElementById:function(Q){var q=null;return Kn(this.documentElement,function(pe){if(pe.nodeType==Te&&pe.getAttribute("id")==Q)return q=pe,!0}),q},getElementsByClassName:function(Q){var q=Ee(Q);return new gt(this,function(pe){var Ge=[];return q.length>0&&Kn(pe.documentElement,function(ct){if(ct!==pe&&ct.nodeType===Te){var Qt=ct.getAttribute("class");if(Qt){var ni=Q===Qt;if(!ni){var mn=Ee(Qt);ni=q.every(function Re(Q){return function(q){return Q&&-1!==Q.indexOf(q)}}(mn))}ni&&Ge.push(ct)}}}),Ge})},createElement:function(Q){var q=new An;return q.ownerDocument=this,q.nodeName=Q,q.tagName=Q,q.localName=Q,q.childNodes=new Dt,(q.attributes=new bn)._ownerElement=q,q},createDocumentFragment:function(){var Q=new _i;return Q.ownerDocument=this,Q.childNodes=new Dt,Q},createTextNode:function(Q){var q=new Qi;return q.ownerDocument=this,q.appendData(Q),q},createComment:function(Q){var q=new an;return q.ownerDocument=this,q.appendData(Q),q},createCDATASection:function(Q){var q=new Nt;return q.ownerDocument=this,q.appendData(Q),q},createProcessingInstruction:function(Q,q){var pe=new Ni;return pe.ownerDocument=this,pe.tagName=pe.target=Q,pe.nodeValue=pe.data=q,pe},createAttribute:function(Q){var q=new ys;return q.ownerDocument=this,q.name=Q,q.nodeName=Q,q.localName=Q,q.specified=!0,q},createEntityReference:function(Q){var q=new Jt;return q.ownerDocument=this,q.nodeName=Q,q},createElementNS:function(Q,q){var pe=new An,Ge=q.split(":"),ct=pe.attributes=new bn;return pe.childNodes=new Dt,pe.ownerDocument=this,pe.nodeName=q,pe.tagName=q,pe.namespaceURI=Q,2==Ge.length?(pe.prefix=Ge[0],pe.localName=Ge[1]):pe.localName=q,ct._ownerElement=pe,pe},createAttributeNS:function(Q,q){var pe=new ys,Ge=q.split(":");return pe.ownerDocument=this,pe.nodeName=q,pe.name=q,pe.namespaceURI=Q,pe.specified=!0,2==Ge.length?(pe.prefix=Ge[0],pe.localName=Ge[1]):pe.localName=q,pe}},Me(Nr,Ln),Nr.prototype.getElementsByTagName=(An.prototype={nodeType:Te,hasAttribute:function(Q){return null!=this.getAttributeNode(Q)},getAttribute:function(Q){var q=this.getAttributeNode(Q);return q&&q.value||""},getAttributeNode:function(Q){return this.attributes.getNamedItem(Q)},setAttribute:function(Q,q){var pe=this.ownerDocument.createAttribute(Q);pe.value=pe.nodeValue=""+q,this.setAttributeNode(pe)},removeAttribute:function(Q){var q=this.getAttributeNode(Q);q&&this.removeAttributeNode(q)},appendChild:function(Q){return Q.nodeType===Xe?this.insertBefore(Q,null):function Et(Q,q){var pe=q.parentNode;if(pe){var Ge=Q.lastChild;pe.removeChild(q),Ge=Q.lastChild}return Ge=Q.lastChild,q.parentNode=Q,q.previousSibling=Ge,q.nextSibling=null,Ge?Ge.nextSibling=q:Q.firstChild=q,Q.lastChild=q,Rt(Q.ownerDocument,Q,q),q}(this,Q)},setAttributeNode:function(Q){return this.attributes.setNamedItem(Q)},setAttributeNodeNS:function(Q){return this.attributes.setNamedItemNS(Q)},removeAttributeNode:function(Q){return this.attributes.removeNamedItem(Q.nodeName)},removeAttributeNS:function(Q,q){var pe=this.getAttributeNodeNS(Q,q);pe&&this.removeAttributeNode(pe)},hasAttributeNS:function(Q,q){return null!=this.getAttributeNodeNS(Q,q)},getAttributeNS:function(Q,q){var pe=this.getAttributeNodeNS(Q,q);return pe&&pe.value||""},setAttributeNS:function(Q,q,pe){var Ge=this.ownerDocument.createAttributeNS(Q,q);Ge.value=Ge.nodeValue=""+pe,this.setAttributeNode(Ge)},getAttributeNodeNS:function(Q,q){return this.attributes.getNamedItemNS(Q,q)},getElementsByTagName:function(Q){return new gt(this,function(q){var pe=[];return Kn(q,function(Ge){Ge!==q&&Ge.nodeType==Te&&("*"===Q||Ge.tagName==Q)&&pe.push(Ge)}),pe})},getElementsByTagNameNS:function(Q,q){return new gt(this,function(pe){var Ge=[];return Kn(pe,function(ct){ct!==pe&&ct.nodeType===Te&&("*"===Q||ct.namespaceURI===Q)&&("*"===q||ct.localName==q)&&Ge.push(ct)}),Ge})}}).getElementsByTagName,Nr.prototype.getElementsByTagNameNS=An.prototype.getElementsByTagNameNS,Me(An,Ln),ys.prototype.nodeType=ke,Me(ys,Ln),ai.prototype={data:"",substringData:function(Q,q){return this.data.substring(Q,Q+q)},appendData:function(Q){this.nodeValue=this.data=Q=this.data+Q,this.length=Q.length},insertData:function(Q,q){this.replaceData(Q,0,q)},appendChild:function(Q){throw new Error(St[J])},deleteData:function(Q,q){this.replaceData(Q,q,"")},replaceData:function(Q,q,pe){var Ge=this.data.substring(0,Q),ct=this.data.substring(Q+q);this.nodeValue=this.data=pe=Ge+pe+ct,this.length=pe.length}},Me(ai,Ln),Qi.prototype={nodeName:"#text",nodeType:je,splitText:function(Q){var q=this.data,pe=q.substring(Q);q=q.substring(0,Q),this.data=this.nodeValue=q,this.length=q.length;var Ge=this.ownerDocument.createTextNode(pe);return this.parentNode&&this.parentNode.insertBefore(Ge,this.nextSibling),Ge}},Me(Qi,ai),an.prototype={nodeName:"#comment",nodeType:ut},Me(an,ai),Nt.prototype={nodeName:"#cdata-section",nodeType:Le},Me(Nt,ai),Ot.prototype.nodeType=Ke,Me(Ot,Ln),ya.prototype.nodeType=ye,Me(ya,Ln),Qa.prototype.nodeType=mt,Me(Qa,Ln),Jt.prototype.nodeType=vt,Me(Jt,Ln),_i.prototype.nodeName="#document-fragment",_i.prototype.nodeType=Xe,Me(_i,Ln),Ni.prototype.nodeType=De,Me(Ni,Ln),ko.prototype.serializeToString=function(Q,q,pe){return Bn.call(Q,q,pe)},Ln.prototype.toString=Bn;try{if(Object.defineProperty){let Q=function(q){switch(q.nodeType){case Te:case Xe:var pe=[];for(q=q.firstChild;q;)7!==q.nodeType&&8!==q.nodeType&&pe.push(Q(q)),q=q.nextSibling;return pe.join("");default:return q.nodeValue}};Object.defineProperty(gt.prototype,"length",{get:function(){return Xn(this),this.$$length}}),Object.defineProperty(Ln.prototype,"textContent",{get:function(){return Q(this)},set:function(q){switch(this.nodeType){case Te:case Xe:for(;this.firstChild;)this.removeChild(this.firstChild);(q||String(q))&&this.appendChild(this.ownerDocument.createTextNode(q));break;default:this.data=q,this.value=q,this.nodeValue=q}}}),Ir=function(q,pe,Ge){q["$$"+pe]=Ge}}}catch(Q){}xe.DocumentType=Ot,xe.DOMException=It,xe.DOMImplementation=Xi,xe.Element=An,xe.Node=Ln,xe.NodeList=Dt,xe.XMLSerializer=ko},4436:(rt,xe,U)=>{var N=U(9401).freeze;xe.XML_ENTITIES=N({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),xe.HTML_ENTITIES=N({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xc0",Aacute:"\xc1",Acirc:"\xc2",Atilde:"\xc3",Auml:"\xc4",Aring:"\xc5",AElig:"\xc6",Ccedil:"\xc7",Egrave:"\xc8",Eacute:"\xc9",Ecirc:"\xca",Euml:"\xcb",Igrave:"\xcc",Iacute:"\xcd",Icirc:"\xce",Iuml:"\xcf",ETH:"\xd0",Ntilde:"\xd1",Ograve:"\xd2",Oacute:"\xd3",Ocirc:"\xd4",Otilde:"\xd5",Ouml:"\xd6",Oslash:"\xd8",Ugrave:"\xd9",Uacute:"\xda",Ucirc:"\xdb",Uuml:"\xdc",Yacute:"\xdd",THORN:"\xde",szlig:"\xdf",agrave:"\xe0",aacute:"\xe1",acirc:"\xe2",atilde:"\xe3",auml:"\xe4",aring:"\xe5",aelig:"\xe6",ccedil:"\xe7",egrave:"\xe8",eacute:"\xe9",ecirc:"\xea",euml:"\xeb",igrave:"\xec",iacute:"\xed",icirc:"\xee",iuml:"\xef",eth:"\xf0",ntilde:"\xf1",ograve:"\xf2",oacute:"\xf3",ocirc:"\xf4",otilde:"\xf5",ouml:"\xf6",oslash:"\xf8",ugrave:"\xf9",uacute:"\xfa",ucirc:"\xfb",uuml:"\xfc",yacute:"\xfd",thorn:"\xfe",yuml:"\xff",nbsp:"\xa0",iexcl:"\xa1",cent:"\xa2",pound:"\xa3",curren:"\xa4",yen:"\xa5",brvbar:"\xa6",sect:"\xa7",uml:"\xa8",copy:"\xa9",ordf:"\xaa",laquo:"\xab",not:"\xac",shy:"\xad\xad",reg:"\xae",macr:"\xaf",deg:"\xb0",plusmn:"\xb1",sup2:"\xb2",sup3:"\xb3",acute:"\xb4",micro:"\xb5",para:"\xb6",middot:"\xb7",cedil:"\xb8",sup1:"\xb9",ordm:"\xba",raquo:"\xbb",frac14:"\xbc",frac12:"\xbd",frac34:"\xbe",iquest:"\xbf",times:"\xd7",divide:"\xf7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220b",prod:"\u220f",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221a",prop:"\u221d",infin:"\u221e",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222a",int:"\u222b",there4:"\u2234",sim:"\u223c",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22a5",sdot:"\u22c5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039a",Lambda:"\u039b",Mu:"\u039c",Nu:"\u039d",Xi:"\u039e",Omicron:"\u039f",Pi:"\u03a0",Rho:"\u03a1",Sigma:"\u03a3",Tau:"\u03a4",Upsilon:"\u03a5",Phi:"\u03a6",Chi:"\u03a7",Psi:"\u03a8",Omega:"\u03a9",alpha:"\u03b1",beta:"\u03b2",gamma:"\u03b3",delta:"\u03b4",epsilon:"\u03b5",zeta:"\u03b6",eta:"\u03b7",theta:"\u03b8",iota:"\u03b9",kappa:"\u03ba",lambda:"\u03bb",mu:"\u03bc",nu:"\u03bd",xi:"\u03be",omicron:"\u03bf",pi:"\u03c0",rho:"\u03c1",sigmaf:"\u03c2",sigma:"\u03c3",tau:"\u03c4",upsilon:"\u03c5",phi:"\u03c6",chi:"\u03c7",psi:"\u03c8",omega:"\u03c9",thetasym:"\u03d1",upsih:"\u03d2",piv:"\u03d6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02c6",tilde:"\u02dc",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200c",zwj:"\u200d",lrm:"\u200e",rlm:"\u200f",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201a",ldquo:"\u201c",rdquo:"\u201d",bdquo:"\u201e",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203a",oline:"\u203e",euro:"\u20ac",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21b5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230a",rfloor:"\u230b",loz:"\u25ca",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),xe.entityMap=xe.HTML_ENTITIES},978:(rt,xe,U)=>{U(6853);xe.DOMParser=U(1991).DOMParser},8702:(rt,xe,U)=>{var N=U(9401).NAMESPACE,f=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,te=new RegExp("[\\-\\.0-9"+f.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),_e=new RegExp("^"+f.source+te.source+"*(?::"+f.source+te.source+"*)?$");function je(K,J){this.message=K,this.locator=J,Error.captureStackTrace&&Error.captureStackTrace(this,je)}function Le(){}function mt(K,J){return J.lineNumber=K.lineNumber,J.columnNumber=K.columnNumber,J}function De(K,J,X,oe,ae,ve){function de(Ht,It,Dt){X.attributeNames.hasOwnProperty(Ht)&&ve.fatalError("Attribute "+Ht+" redefined"),X.addValue(Ht,It,Dt)}for(var Oe,Qe=++J,Je=0;;){var He=K.charAt(Qe);switch(He){case"=":if(1===Je)Oe=K.slice(J,Qe),Je=3;else{if(2!==Je)throw new Error("attribute equal must after attrName");Je=3}break;case"'":case'"':if(3===Je||1===Je){if(1===Je&&(ve.warning('attribute value must after "="'),Oe=K.slice(J,Qe)),!((Qe=K.indexOf(He,J=Qe+1))>0))throw new Error("attribute value no end '"+He+"' match");de(Oe,Fe=K.slice(J,Qe).replace(/&#?\w+;/g,ae),J-1),Je=5}else{if(4!=Je)throw new Error('attribute value must after "="');de(Oe,Fe=K.slice(J,Qe).replace(/&#?\w+;/g,ae),J),ve.warning('attribute "'+Oe+'" missed start quot('+He+")!!"),J=Qe+1,Je=5}break;case"/":switch(Je){case 0:X.setTagName(K.slice(J,Qe));case 5:case 6:case 7:Je=7,X.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return ve.error("unexpected end of input"),0==Je&&X.setTagName(K.slice(J,Qe)),Qe;case">":switch(Je){case 0:X.setTagName(K.slice(J,Qe));case 5:case 6:case 7:break;case 4:case 1:"/"===(Fe=K.slice(J,Qe)).slice(-1)&&(X.closed=!0,Fe=Fe.slice(0,-1));case 2:2===Je&&(Fe=Oe),4==Je?(ve.warning('attribute "'+Fe+'" missed quot(")!'),de(Oe,Fe.replace(/&#?\w+;/g,ae),J)):((!N.isHTML(oe[""])||!Fe.match(/^(?:disabled|checked|selected)$/i))&&ve.warning('attribute "'+Fe+'" missed value!! "'+Fe+'" instead!!'),de(Fe,Fe,J));break;case 3:throw new Error("attribute value missed!!")}return Qe;case"\x80":He=" ";default:if(He<=" ")switch(Je){case 0:X.setTagName(K.slice(J,Qe)),Je=6;break;case 1:Oe=K.slice(J,Qe),Je=2;break;case 4:var Fe=K.slice(J,Qe).replace(/&#?\w+;/g,ae);ve.warning('attribute "'+Fe+'" missed quot(")!!'),de(Oe,Fe,J);case 5:Je=6}else switch(Je){case 2:(!N.isHTML(oe[""])||!Oe.match(/^(?:disabled|checked|selected)$/i))&&ve.warning('attribute "'+Oe+'" missed value!! "'+Oe+'" instead2!!'),de(Oe,Oe,J),J=Qe,Je=1;break;case 5:ve.warning('attribute space is required"'+Oe+'"!!');case 6:Je=1,J=Qe;break;case 3:Je=4,J=Qe;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}Qe++}}function ut(K,J,X){for(var oe=K.tagName,ae=null,He=K.length;He--;){var ve=K[He],de=ve.qName,Oe=ve.value;if((pt=de.indexOf(":"))>0)var Fe=ve.prefix=de.slice(0,pt),Qe=de.slice(pt+1),Je="xmlns"===Fe&&Qe;else Qe=de,Fe=null,Je="xmlns"===de&&"";ve.localName=Qe,!1!==Je&&(null==ae&&(ae={},Xe(X,X={})),X[Je]=ae[Je]=Oe,ve.uri=N.XMLNS,J.startPrefixMapping(Je,Oe))}for(He=K.length;He--;)(Fe=(ve=K[He]).prefix)&&("xml"===Fe&&(ve.uri=N.XML),"xmlns"!==Fe&&(ve.uri=X[Fe||""]));var pt;(pt=oe.indexOf(":"))>0?(Fe=K.prefix=oe.slice(0,pt),Qe=K.localName=oe.slice(pt+1)):(Fe=null,Qe=K.localName=oe);var Ht=K.uri=X[Fe||""];if(J.startElement(Ht,Qe,oe,K),!K.closed)return K.currentNSMap=X,K.localNSMap=ae,!0;if(J.endElement(Ht,Qe,oe),ae)for(Fe in ae)J.endPrefixMapping(Fe)}function Ze(K,J,X,oe,ae){if(/^(?:script|textarea)$/i.test(X)){var ve=K.indexOf("</"+X+">",J),de=K.substring(J+1,ve);if(/[&<]/.test(de))return/^script$/i.test(X)?(ae.characters(de,0,de.length),ve):(de=de.replace(/&#?\w+;/g,oe),ae.characters(de,0,de.length),ve)}return J+1}function Ke(K,J,X,oe){var ae=oe[X];return null==ae&&((ae=K.lastIndexOf("</"+X+">"))<J&&(ae=K.lastIndexOf("</"+X)),oe[X]=ae),ae<J}function Xe(K,J){for(var X in K)J[X]=K[X]}function ye(K,J,X,oe){if("-"===K.charAt(J+2))return"-"===K.charAt(J+3)?(ve=K.indexOf("--\x3e",J+4))>J?(X.comment(K,J+4,ve-J-4),ve+3):(oe.error("Unclosed comment"),-1):-1;if("CDATA["==K.substr(J+3,6)){var ve=K.indexOf("]]>",J+9);return X.startCDATA(),X.characters(K,J+9,ve-J-9),X.endCDATA(),ve+3}var de=function yt(K,J){var X,oe=[],ae=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(ae.lastIndex=J,ae.exec(K);X=ae.exec(K);)if(oe.push(X),X[1])return oe}(K,J),Oe=de.length;if(Oe>1&&/!doctype/i.test(de[0][0])){var Fe=de[1][0],Qe=!1,Je=!1;Oe>3&&(/^public$/i.test(de[2][0])?(Qe=de[3][0],Je=Oe>4&&de[4][0]):/^system$/i.test(de[2][0])&&(Je=de[3][0]));var He=de[Oe-1];return X.startDTD(Fe,Qe,Je),X.endDTD(),He.index+He[0].length}return-1}function Ye(K,J,X){var oe=K.indexOf("?>",J);if(oe){var ae=K.substring(J,oe).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return ae?(X.processingInstruction(ae[1],ae[2]),oe+2):-1}return-1}function St(){this.attributeNames={}}(je.prototype=new Error).name=je.name,Le.prototype={parse:function(K,J,X){var oe=this.domBuilder;oe.startDocument(),Xe(J,J={}),function vt(K,J,X,oe,ae){function de(Et){var An=Et.slice(1,-1);return An in X?X[An]:"#"===An.charAt(0)?function ve(Et){return Et>65535?(Et-=65536,String.fromCharCode(55296+(Et>>10),56320+(1023&Et))):String.fromCharCode(Et)}(parseInt(An.substr(1).replace("x","0x"))):(ae.error("entity not found:"+Et),Et)}function Oe(Et){if(Et>Dt){var An=K.substring(Dt,Et).replace(/&#?\w+;/g,de);pt&&Fe(Dt),oe.characters(An,0,Et-Dt),Dt=Et}}function Fe(Et,An){for(;Et>=Je&&(An=He.exec(K));)Je=(Qe=An.index)+An[0].length,pt.lineNumber++;pt.columnNumber=Et-Qe+1}for(var Qe=0,Je=0,He=/.*(?:\r\n?|\n)|.*$/g,pt=oe.locator,Ht=[{currentNSMap:J}],It={},Dt=0;;){try{var gt=K.indexOf("<",Dt);if(gt<0){if(!K.substr(Dt).match(/^\s*$/)){var Xn=oe.doc,bn=Xn.createTextNode(K.substr(Dt));Xn.appendChild(bn),oe.currentElement=bn}return}switch(gt>Dt&&Oe(gt),K.charAt(gt+1)){case"/":var ti=K.indexOf(">",gt+3),Qn=K.substring(gt+2,ti).replace(/[ \t\n\r]+$/g,""),fn=Ht.pop();ti<0?(Qn=K.substring(gt+2).replace(/[\s<].*/,""),ae.error("end tag name: "+Qn+" is not complete:"+fn.tagName),ti=gt+1+Qn.length):Qn.match(/\s</)&&(Qn=Qn.replace(/[\s<].*/,""),ae.error("end tag name: "+Qn+" maybe not complete"),ti=gt+1+Qn.length);var Mr=fn.localNSMap,Xi=fn.tagName==Qn;if(Xi||fn.tagName&&fn.tagName.toLowerCase()==Qn.toLowerCase()){if(oe.endElement(fn.uri,fn.localName,Qn),Mr)for(var _s in Mr)oe.endPrefixMapping(_s);Xi||ae.fatalError("end tag name: "+Qn+" is not match the current start tagName:"+fn.tagName)}else Ht.push(fn);ti++;break;case"?":pt&&Fe(gt),ti=Ye(K,gt,oe);break;case"!":pt&&Fe(gt),ti=ye(K,gt,oe,ae);break;default:pt&&Fe(gt);var Kn=new St,Nr=Ht[Ht.length-1].currentNSMap,jr=(ti=De(K,gt,Kn,Nr,de,ae),Kn.length);if(!Kn.closed&&Ke(K,ti,Kn.tagName,It)&&(Kn.closed=!0,X.nbsp||ae.warning("unclosed xml attribute")),pt&&jr){for(var Rt=mt(pt,{}),vr=0;vr<jr;vr++){var ar=Kn[vr];Fe(ar.offset),ar.locator=mt(pt,{})}oe.locator=Rt,ut(Kn,oe,Nr)&&Ht.push(Kn),oe.locator=pt}else ut(Kn,oe,Nr)&&Ht.push(Kn);N.isHTML(Kn.uri)&&!Kn.closed?ti=Ze(K,ti,Kn.tagName,de,oe):ti++}}catch(Et){if(Et instanceof je)throw Et;ae.error("element parse error: "+Et),ti=-1}ti>Dt?Dt=ti:Oe(Math.max(gt,Dt)+1)}}(K,J,X,oe,this.errorHandler),oe.endDocument()}},St.prototype={setTagName:function(K){if(!_e.test(K))throw new Error("invalid tagName:"+K);this.tagName=K},addValue:function(K,J,X){if(!_e.test(K))throw new Error("invalid attribute:"+K);this.attributeNames[K]=this.length,this[this.length++]={qName:K,value:J,offset:X}},length:0,getLocalName:function(K){return this[K].localName},getLocator:function(K){return this[K].locator},getQName:function(K){return this[K].qName},getURI:function(K){return this[K].uri},getValue:function(K){return this[K].value}},xe.XMLReader=Le,xe.ParseError=je},1421:(rt,xe,U)=>{var te,N="undefined"!=typeof global?global:"undefined"!=typeof window?window:{},f=U(5893);"undefined"!=typeof document?te=document:(te=N["__GLOBAL_DOCUMENT_CACHE@4"])||(te=N["__GLOBAL_DOCUMENT_CACHE@4"]=f),rt.exports=te},9226:rt=>{var xe;xe="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rt.exports=xe},2703:rt=>{rt.exports=function U(N){if(!N)return!1;var f=xe.call(N);return"[object Function]"===f||"function"==typeof N&&"[object RegExp]"!==f||"undefined"!=typeof window&&(N===window.setTimeout||N===window.alert||N===window.confirm||N===window.prompt)};var xe=Object.prototype.toString},1234:(rt,xe)=>{function U(Ee){if(Ee&&"object"==typeof Ee){var Re=Ee.which||Ee.keyCode||Ee.charCode;Re&&(Ee=Re)}if("number"==typeof Ee)return _e[Ee];var Me,Ae=String(Ee);return(Me=N[Ae.toLowerCase()])?Me:(Me=f[Ae.toLowerCase()])||(1===Ae.length?Ae.charCodeAt(0):void 0)}U.isEventKey=function(Re,Ae){if(Re&&"object"==typeof Re){var Me=Re.which||Re.keyCode||Re.charCode;if(null==Me)return!1;if("string"==typeof Ae){var Ce;if(Ce=N[Ae.toLowerCase()])return Ce===Me;if(Ce=f[Ae.toLowerCase()])return Ce===Me}else if("number"==typeof Ae)return Ae===Me;return!1}};var N=(xe=rt.exports=U).code=xe.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},f=xe.aliases={windows:91,"\u21e7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
       * Programatically add the following
       */for(te=97;te<123;te++)N[String.fromCharCode(te)]=te-32;for(var te=48;te<58;te++)N[te-48]=te;for(te=1;te<13;te++)N["f"+te]=te+111;for(te=0;te<10;te++)N["numpad "+te]=te+96;var _e=xe.names=xe.title={};for(te in N)_e[N[te]]=te;for(var me in f)N[me]=f[me]},7459:(rt,xe,U)=>{var N=U(3357).getUint64;rt.exports=function(te){var _e=new DataView(te.buffer,te.byteOffset,te.byteLength),me={version:te[0],flags:new Uint8Array(te.subarray(1,4)),references:[],referenceId:_e.getUint32(4),timescale:_e.getUint32(8)},Ee=12;0===me.version?(me.earliestPresentationTime=_e.getUint32(Ee),me.firstOffset=_e.getUint32(Ee+4),Ee+=8):(me.earliestPresentationTime=N(te.subarray(Ee)),me.firstOffset=N(te.subarray(Ee+8)),Ee+=16);var Re=_e.getUint16(Ee+=2);for(Ee+=2;Re>0;Ee+=12,Re--)me.references.push({referenceType:(128&te[Ee])>>>7,referencedSize:2147483647&_e.getUint32(Ee),subsegmentDuration:_e.getUint32(Ee+4),startsWithSap:!!(128&te[Ee+8]),sapType:(112&te[Ee+8])>>>4,sapDeltaTime:268435455&_e.getUint32(Ee+8)});return me}},6277:rt=>{var U,N,f,te,_e,me,Ee;_e=function(Re,Ae){return U(te(Re,Ae))},me=function(Re,Ae){return N(f(Re),Ae)},Ee=function(Re,Ae,Me){return f(Me?Re:Re-Ae)},rt.exports={ONE_SECOND_IN_TS:9e4,secondsToVideoTs:U=function(Re){return 9e4*Re},secondsToAudioTs:N=function(Re,Ae){return Re*Ae},videoTsToSeconds:f=function(Re){return Re/9e4},audioTsToSeconds:te=function(Re,Ae){return Re/Ae},audioTsToVideoTs:_e,videoTsToAudioTs:me,metadataTsToSeconds:Ee}},3357:rt=>{var xe=Math.pow(2,32);rt.exports={getUint64:function(N){var te,f=new DataView(N.buffer,N.byteOffset,N.byteLength);return f.getBigUint64?(te=f.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(te):te:f.getUint32(0)*xe+f.getUint32(4)},MAX_UINT32:xe}},1135:(rt,xe,U)=>{"use strict";U.d(xe,{X:()=>f});var N=U(7579);class f extends N.x{constructor(_e){super(),this._value=_e}get value(){return this.getValue()}_subscribe(_e){const me=super._subscribe(_e);return!me.closed&&_e.next(this._value),me}getValue(){const{hasError:_e,thrownError:me,_value:Ee}=this;if(_e)throw me;return this._throwIfClosed(),Ee}next(_e){super.next(this._value=_e)}}},8306:(rt,xe,U)=>{"use strict";U.d(xe,{y:()=>Ce});var N=U(930),f=U(727),te=U(8822),_e=U(4671);var Re=U(2416),Ae=U(576),Me=U(2806);let Ce=(()=>{class Le{constructor(mt){mt&&(this._subscribe=mt)}lift(mt){const De=new Le;return De.source=this,De.operator=mt,De}subscribe(mt,De,ut){const Ze=function je(Le){return Le&&Le instanceof N.Lv||function ke(Le){return Le&&(0,Ae.m)(Le.next)&&(0,Ae.m)(Le.error)&&(0,Ae.m)(Le.complete)}(Le)&&(0,f.Nn)(Le)}(mt)?mt:new N.Hp(mt,De,ut);return(0,Me.x)(()=>{const{operator:Ke,source:Xe}=this;Ze.add(Ke?Ke.call(Ze,Xe):Xe?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(mt){try{return this._subscribe(mt)}catch(De){mt.error(De)}}forEach(mt,De){return new(De=Te(De))((ut,Ze)=>{const Ke=new N.Hp({next:Xe=>{try{mt(Xe)}catch(ye){Ze(ye),Ke.unsubscribe()}},error:Ze,complete:ut});this.subscribe(Ke)})}_subscribe(mt){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(mt)}[te.L](){return this}pipe(...mt){return function Ee(Le){return 0===Le.length?_e.y:1===Le.length?Le[0]:function(mt){return Le.reduce((De,ut)=>ut(De),mt)}}(mt)(this)}toPromise(mt){return new(mt=Te(mt))((De,ut)=>{let Ze;this.subscribe(Ke=>Ze=Ke,Ke=>ut(Ke),()=>De(Ze))})}}return Le.create=vt=>new Le(vt),Le})();function Te(Le){var vt;return null!==(vt=null!=Le?Le:Re.v.Promise)&&void 0!==vt?vt:Promise}},7579:(rt,xe,U)=>{"use strict";U.d(xe,{x:()=>Re});var N=U(8306),f=U(727);const _e=(0,U(3888).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=U(8737),Ee=U(2806);let Re=(()=>{class Me extends N.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Te){const ke=new Ae(this,this);return ke.operator=Te,ke}_throwIfClosed(){if(this.closed)throw new _e}next(Te){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(Te)}})}error(Te){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Te;const{observers:ke}=this;for(;ke.length;)ke.shift().error(Te)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Te}=this;for(;Te.length;)Te.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Te;return(null===(Te=this.observers)||void 0===Te?void 0:Te.length)>0}_trySubscribe(Te){return this._throwIfClosed(),super._trySubscribe(Te)}_subscribe(Te){return this._throwIfClosed(),this._checkFinalizedStatuses(Te),this._innerSubscribe(Te)}_innerSubscribe(Te){const{hasError:ke,isStopped:je,observers:Le}=this;return ke||je?f.Lc:(this.currentObservers=null,Le.push(Te),new f.w0(()=>{this.currentObservers=null,(0,me.P)(Le,Te)}))}_checkFinalizedStatuses(Te){const{hasError:ke,thrownError:je,isStopped:Le}=this;ke?Te.error(je):Le&&Te.complete()}asObservable(){const Te=new N.y;return Te.source=this,Te}}return Me.create=(Ce,Te)=>new Ae(Ce,Te),Me})();class Ae extends Re{constructor(Ce,Te){super(),this.destination=Ce,this.source=Te}next(Ce){var Te,ke;null===(ke=null===(Te=this.destination)||void 0===Te?void 0:Te.next)||void 0===ke||ke.call(Te,Ce)}error(Ce){var Te,ke;null===(ke=null===(Te=this.destination)||void 0===Te?void 0:Te.error)||void 0===ke||ke.call(Te,Ce)}complete(){var Ce,Te;null===(Te=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.complete)||void 0===Te||Te.call(Ce)}_subscribe(Ce){var Te,ke;return null!==(ke=null===(Te=this.source)||void 0===Te?void 0:Te.subscribe(Ce))&&void 0!==ke?ke:f.Lc}}},930:(rt,xe,U)=>{"use strict";U.d(xe,{Hp:()=>mt,Lv:()=>ke});var N=U(576),f=U(727),te=U(2416),_e=U(7849),me=U(5032);const Ee=Me("C",void 0,void 0);function Me(Xe,ye,Ye){return{kind:Xe,value:ye,error:Ye}}var Ce=U(3410),Te=U(2806);class ke extends f.w0{constructor(ye){super(),this.isStopped=!1,ye?(this.destination=ye,(0,f.Nn)(ye)&&ye.add(this)):this.destination=Ke}static create(ye,Ye,St){return new mt(ye,Ye,St)}next(ye){this.isStopped?Ze(function Ae(Xe){return Me("N",Xe,void 0)}(ye),this):this._next(ye)}error(ye){this.isStopped?Ze(function Re(Xe){return Me("E",void 0,Xe)}(ye),this):(this.isStopped=!0,this._error(ye))}complete(){this.isStopped?Ze(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ye){this.destination.next(ye)}_error(ye){try{this.destination.error(ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Le(Xe,ye){return je.call(Xe,ye)}class vt{constructor(ye){this.partialObserver=ye}next(ye){const{partialObserver:Ye}=this;if(Ye.next)try{Ye.next(ye)}catch(St){De(St)}}error(ye){const{partialObserver:Ye}=this;if(Ye.error)try{Ye.error(ye)}catch(St){De(St)}else De(ye)}complete(){const{partialObserver:ye}=this;if(ye.complete)try{ye.complete()}catch(Ye){De(Ye)}}}class mt extends ke{constructor(ye,Ye,St){let yt;if(super(),(0,N.m)(ye)||!ye)yt={next:null!=ye?ye:void 0,error:null!=Ye?Ye:void 0,complete:null!=St?St:void 0};else{let K;this&&te.v.useDeprecatedNextContext?(K=Object.create(ye),K.unsubscribe=()=>this.unsubscribe(),yt={next:ye.next&&Le(ye.next,K),error:ye.error&&Le(ye.error,K),complete:ye.complete&&Le(ye.complete,K)}):yt=ye}this.destination=new vt(yt)}}function De(Xe){te.v.useDeprecatedSynchronousErrorHandling?(0,Te.O)(Xe):(0,_e.h)(Xe)}function Ze(Xe,ye){const{onStoppedNotification:Ye}=te.v;Ye&&Ce.z.setTimeout(()=>Ye(Xe,ye))}const Ke={closed:!0,next:me.Z,error:function ut(Xe){throw Xe},complete:me.Z}},727:(rt,xe,U)=>{"use strict";U.d(xe,{Lc:()=>Ee,w0:()=>me,Nn:()=>Re});var N=U(576);const te=(0,U(3888).d)(Me=>function(Te){Me(this),this.message=Te?`${Te.length} errors occurred during unsubscription:\n${Te.map((ke,je)=>`${je+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Te});var _e=U(8737);class me{constructor(Ce){this.initialTeardown=Ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ce;if(!this.closed){this.closed=!0;const{_parentage:Te}=this;if(Te)if(this._parentage=null,Array.isArray(Te))for(const Le of Te)Le.remove(this);else Te.remove(this);const{initialTeardown:ke}=this;if((0,N.m)(ke))try{ke()}catch(Le){Ce=Le instanceof te?Le.errors:[Le]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Le of je)try{Ae(Le)}catch(vt){Ce=null!=Ce?Ce:[],vt instanceof te?Ce=[...Ce,...vt.errors]:Ce.push(vt)}}if(Ce)throw new te(Ce)}}add(Ce){var Te;if(Ce&&Ce!==this)if(this.closed)Ae(Ce);else{if(Ce instanceof me){if(Ce.closed||Ce._hasParent(this))return;Ce._addParent(this)}(this._finalizers=null!==(Te=this._finalizers)&&void 0!==Te?Te:[]).push(Ce)}}_hasParent(Ce){const{_parentage:Te}=this;return Te===Ce||Array.isArray(Te)&&Te.includes(Ce)}_addParent(Ce){const{_parentage:Te}=this;this._parentage=Array.isArray(Te)?(Te.push(Ce),Te):Te?[Te,Ce]:Ce}_removeParent(Ce){const{_parentage:Te}=this;Te===Ce?this._parentage=null:Array.isArray(Te)&&(0,_e.P)(Te,Ce)}remove(Ce){const{_finalizers:Te}=this;Te&&(0,_e.P)(Te,Ce),Ce instanceof me&&Ce._removeParent(this)}}me.EMPTY=(()=>{const Me=new me;return Me.closed=!0,Me})();const Ee=me.EMPTY;function Re(Me){return Me instanceof me||Me&&"closed"in Me&&(0,N.m)(Me.remove)&&(0,N.m)(Me.add)&&(0,N.m)(Me.unsubscribe)}function Ae(Me){(0,N.m)(Me)?Me():Me.unsubscribe()}},2416:(rt,xe,U)=>{"use strict";U.d(xe,{v:()=>N});const N={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4033:(rt,xe,U)=>{"use strict";U.d(xe,{c:()=>Ee});var N=U(8306),f=U(727),te=U(8343),_e=U(5403),me=U(4482);class Ee extends N.y{constructor(Ae,Me){super(),this.source=Ae,this.subjectFactory=Me,this._subject=null,this._refCount=0,this._connection=null,(0,me.A)(Ae)&&(this.lift=Ae.lift)}_subscribe(Ae){return this.getSubject().subscribe(Ae)}getSubject(){const Ae=this._subject;return(!Ae||Ae.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:Ae}=this;this._subject=this._connection=null,null==Ae||Ae.unsubscribe()}connect(){let Ae=this._connection;if(!Ae){Ae=this._connection=new f.w0;const Me=this.getSubject();Ae.add(this.source.subscribe((0,_e.x)(Me,void 0,()=>{this._teardown(),Me.complete()},Ce=>{this._teardown(),Me.error(Ce)},()=>this._teardown()))),Ae.closed&&(this._connection=null,Ae=f.w0.EMPTY)}return Ae}refCount(){return(0,te.x)()(this)}}},9841:(rt,xe,U)=>{"use strict";U.d(xe,{a:()=>Ce});var N=U(8306),f=U(4742),te=U(2076),_e=U(4671),me=U(3268),Ee=U(3269),Re=U(1810),Ae=U(5403),Me=U(9672);function Ce(...je){const Le=(0,Ee.yG)(je),vt=(0,Ee.jO)(je),{args:mt,keys:De}=(0,f.D)(je);if(0===mt.length)return(0,te.D)([],Le);const ut=new N.y(function Te(je,Le,vt=_e.y){return mt=>{ke(Le,()=>{const{length:De}=je,ut=new Array(De);let Ze=De,Ke=De;for(let Xe=0;Xe<De;Xe++)ke(Le,()=>{const ye=(0,te.D)(je[Xe],Le);let Ye=!1;ye.subscribe((0,Ae.x)(mt,St=>{ut[Xe]=St,Ye||(Ye=!0,Ke--),Ke||mt.next(vt(ut.slice()))},()=>{--Ze||mt.complete()}))},mt)},mt)}}(mt,Le,De?Ze=>(0,Re.n)(De,Ze):_e.y));return vt?ut.pipe((0,me.Z)(vt)):ut}function ke(je,Le,vt){je?(0,Me.f)(vt,je,Le):Le()}},7272:(rt,xe,U)=>{"use strict";U.d(xe,{z:()=>me});var N=U(8189),te=U(3269),_e=U(2076);function me(...Ee){return function f(){return(0,N.J)(1)}()((0,_e.D)(Ee,(0,te.yG)(Ee)))}},9770:(rt,xe,U)=>{"use strict";U.d(xe,{P:()=>te});var N=U(8306),f=U(8421);function te(_e){return new N.y(me=>{(0,f.Xf)(_e()).subscribe(me)})}},515:(rt,xe,U)=>{"use strict";U.d(xe,{E:()=>f});const f=new(U(8306).y)(me=>me.complete())},2076:(rt,xe,U)=>{"use strict";U.d(xe,{D:()=>St});var N=U(8421),f=U(9672),te=U(4482),_e=U(5403);function me(yt,K=0){return(0,te.e)((J,X)=>{J.subscribe((0,_e.x)(X,oe=>(0,f.f)(X,yt,()=>X.next(oe),K),()=>(0,f.f)(X,yt,()=>X.complete(),K),oe=>(0,f.f)(X,yt,()=>X.error(oe),K)))})}function Ee(yt,K=0){return(0,te.e)((J,X)=>{X.add(yt.schedule(()=>J.subscribe(X),K))})}var Me=U(8306),Te=U(2202),ke=U(576);function Le(yt,K){if(!yt)throw new Error("Iterable cannot be null");return new Me.y(J=>{(0,f.f)(J,K,()=>{const X=yt[Symbol.asyncIterator]();(0,f.f)(J,K,()=>{X.next().then(oe=>{oe.done?J.complete():J.next(oe.value)})},0,!0)})})}var vt=U(3670),mt=U(8239),De=U(1144),ut=U(6495),Ze=U(2206),Ke=U(4532),Xe=U(3260);function St(yt,K){return K?function Ye(yt,K){if(null!=yt){if((0,vt.c)(yt))return function Re(yt,K){return(0,N.Xf)(yt).pipe(Ee(K),me(K))}(yt,K);if((0,De.z)(yt))return function Ce(yt,K){return new Me.y(J=>{let X=0;return K.schedule(function(){X===yt.length?J.complete():(J.next(yt[X++]),J.closed||this.schedule())})})}(yt,K);if((0,mt.t)(yt))return function Ae(yt,K){return(0,N.Xf)(yt).pipe(Ee(K),me(K))}(yt,K);if((0,Ze.D)(yt))return Le(yt,K);if((0,ut.T)(yt))return function je(yt,K){return new Me.y(J=>{let X;return(0,f.f)(J,K,()=>{X=yt[Te.h](),(0,f.f)(J,K,()=>{let oe,ae;try{({value:oe,done:ae}=X.next())}catch(ve){return void J.error(ve)}ae?J.complete():J.next(oe)},0,!0)}),()=>(0,ke.m)(null==X?void 0:X.return)&&X.return()})}(yt,K);if((0,Xe.L)(yt))return function ye(yt,K){return Le((0,Xe.Q)(yt),K)}(yt,K)}throw(0,Ke.z)(yt)}(yt,K):(0,N.Xf)(yt)}},8421:(rt,xe,U)=>{"use strict";U.d(xe,{Xf:()=>je});var N=U(655),f=U(1144),te=U(8239),_e=U(8306),me=U(3670),Ee=U(2206),Re=U(4532),Ae=U(6495),Me=U(3260),Ce=U(576),Te=U(7849),ke=U(8822);function je(Xe){if(Xe instanceof _e.y)return Xe;if(null!=Xe){if((0,me.c)(Xe))return function Le(Xe){return new _e.y(ye=>{const Ye=Xe[ke.L]();if((0,Ce.m)(Ye.subscribe))return Ye.subscribe(ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Xe);if((0,f.z)(Xe))return function vt(Xe){return new _e.y(ye=>{for(let Ye=0;Ye<Xe.length&&!ye.closed;Ye++)ye.next(Xe[Ye]);ye.complete()})}(Xe);if((0,te.t)(Xe))return function mt(Xe){return new _e.y(ye=>{Xe.then(Ye=>{ye.closed||(ye.next(Ye),ye.complete())},Ye=>ye.error(Ye)).then(null,Te.h)})}(Xe);if((0,Ee.D)(Xe))return ut(Xe);if((0,Ae.T)(Xe))return function De(Xe){return new _e.y(ye=>{for(const Ye of Xe)if(ye.next(Ye),ye.closed)return;ye.complete()})}(Xe);if((0,Me.L)(Xe))return function Ze(Xe){return ut((0,Me.Q)(Xe))}(Xe)}throw(0,Re.z)(Xe)}function ut(Xe){return new _e.y(ye=>{(function Ke(Xe,ye){var Ye,St,yt,K;return(0,N.mG)(this,void 0,void 0,function*(){try{for(Ye=(0,N.KL)(Xe);!(St=yield Ye.next()).done;)if(ye.next(St.value),ye.closed)return}catch(J){yt={error:J}}finally{try{St&&!St.done&&(K=Ye.return)&&(yield K.call(Ye))}finally{if(yt)throw yt.error}}ye.complete()})})(Xe,ye).catch(Ye=>ye.error(Ye))})}},6451:(rt,xe,U)=>{"use strict";U.d(xe,{T:()=>Ee});var N=U(8189),f=U(8421),te=U(515),_e=U(3269),me=U(2076);function Ee(...Re){const Ae=(0,_e.yG)(Re),Me=(0,_e._6)(Re,1/0),Ce=Re;return Ce.length?1===Ce.length?(0,f.Xf)(Ce[0]):(0,N.J)(Me)((0,me.D)(Ce,Ae)):te.E}},9646:(rt,xe,U)=>{"use strict";U.d(xe,{of:()=>te});var N=U(3269),f=U(2076);function te(..._e){const me=(0,N.yG)(_e);return(0,f.D)(_e,me)}},2843:(rt,xe,U)=>{"use strict";U.d(xe,{_:()=>te});var N=U(8306),f=U(576);function te(_e,me){const Ee=(0,f.m)(_e)?_e:()=>_e,Re=Ae=>Ae.error(Ee());return new N.y(me?Ae=>me.schedule(Re,0,Ae):Re)}},5403:(rt,xe,U)=>{"use strict";U.d(xe,{x:()=>f});var N=U(930);function f(_e,me,Ee,Re,Ae){return new te(_e,me,Ee,Re,Ae)}class te extends N.Lv{constructor(me,Ee,Re,Ae,Me,Ce){super(me),this.onFinalize=Me,this.shouldUnsubscribe=Ce,this._next=Ee?function(Te){try{Ee(Te)}catch(ke){me.error(ke)}}:super._next,this._error=Ae?function(Te){try{Ae(Te)}catch(ke){me.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(Te){me.error(Te)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},262:(rt,xe,U)=>{"use strict";U.d(xe,{K:()=>_e});var N=U(8421),f=U(5403),te=U(4482);function _e(me){return(0,te.e)((Ee,Re)=>{let Ce,Ae=null,Me=!1;Ae=Ee.subscribe((0,f.x)(Re,void 0,void 0,Te=>{Ce=(0,N.Xf)(me(Te,_e(me)(Ee))),Ae?(Ae.unsubscribe(),Ae=null,Ce.subscribe(Re)):Me=!0})),Me&&(Ae.unsubscribe(),Ae=null,Ce.subscribe(Re))})}},4351:(rt,xe,U)=>{"use strict";U.d(xe,{b:()=>te});var N=U(5577),f=U(576);function te(_e,me){return(0,f.m)(me)?(0,N.z)(_e,me,1):(0,N.z)(_e,1)}},9300:(rt,xe,U)=>{"use strict";U.d(xe,{h:()=>te});var N=U(4482),f=U(5403);function te(_e,me){return(0,N.e)((Ee,Re)=>{let Ae=0;Ee.subscribe((0,f.x)(Re,Me=>_e.call(me,Me,Ae++)&&Re.next(Me)))})}},4004:(rt,xe,U)=>{"use strict";U.d(xe,{U:()=>te});var N=U(4482),f=U(5403);function te(_e,me){return(0,N.e)((Ee,Re)=>{let Ae=0;Ee.subscribe((0,f.x)(Re,Me=>{Re.next(_e.call(me,Me,Ae++))}))})}},8189:(rt,xe,U)=>{"use strict";U.d(xe,{J:()=>te});var N=U(5577),f=U(4671);function te(_e=1/0){return(0,N.z)(f.y,_e)}},5577:(rt,xe,U)=>{"use strict";U.d(xe,{z:()=>Ae});var N=U(4004),f=U(8421),te=U(4482),_e=U(9672),me=U(5403),Re=U(576);function Ae(Me,Ce,Te=1/0){return(0,Re.m)(Ce)?Ae((ke,je)=>(0,N.U)((Le,vt)=>Ce(ke,Le,je,vt))((0,f.Xf)(Me(ke,je))),Te):("number"==typeof Ce&&(Te=Ce),(0,te.e)((ke,je)=>function Ee(Me,Ce,Te,ke,je,Le,vt,mt){const De=[];let ut=0,Ze=0,Ke=!1;const Xe=()=>{Ke&&!De.length&&!ut&&Ce.complete()},ye=St=>ut<ke?Ye(St):De.push(St),Ye=St=>{Le&&Ce.next(St),ut++;let yt=!1;(0,f.Xf)(Te(St,Ze++)).subscribe((0,me.x)(Ce,K=>{null==je||je(K),Le?ye(K):Ce.next(K)},()=>{yt=!0},void 0,()=>{if(yt)try{for(ut--;De.length&&ut<ke;){const K=De.shift();vt?(0,_e.f)(Ce,vt,()=>Ye(K)):Ye(K)}Xe()}catch(K){Ce.error(K)}}))};return Me.subscribe((0,me.x)(Ce,ye,()=>{Ke=!0,Xe()})),()=>{null==mt||mt()}}(ke,je,Me,Te)))}},8343:(rt,xe,U)=>{"use strict";U.d(xe,{x:()=>te});var N=U(4482),f=U(5403);function te(){return(0,N.e)((_e,me)=>{let Ee=null;_e._refCount++;const Re=(0,f.x)(me,void 0,void 0,void 0,()=>{if(!_e||_e._refCount<=0||0<--_e._refCount)return void(Ee=null);const Ae=_e._connection,Me=Ee;Ee=null,Ae&&(!Me||Ae===Me)&&Ae.unsubscribe(),me.unsubscribe()});_e.subscribe(Re),Re.closed||(Ee=_e.connect())})}},8675:(rt,xe,U)=>{"use strict";U.d(xe,{O:()=>_e});var N=U(7272),f=U(3269),te=U(4482);function _e(...me){const Ee=(0,f.yG)(me);return(0,te.e)((Re,Ae)=>{(Ee?(0,N.z)(me,Re,Ee):(0,N.z)(me,Re)).subscribe(Ae)})}},3900:(rt,xe,U)=>{"use strict";U.d(xe,{w:()=>_e});var N=U(8421),f=U(4482),te=U(5403);function _e(me,Ee){return(0,f.e)((Re,Ae)=>{let Me=null,Ce=0,Te=!1;const ke=()=>Te&&!Me&&Ae.complete();Re.subscribe((0,te.x)(Ae,je=>{null==Me||Me.unsubscribe();let Le=0;const vt=Ce++;(0,N.Xf)(me(je,vt)).subscribe(Me=(0,te.x)(Ae,mt=>Ae.next(Ee?Ee(je,mt,vt,Le++):mt),()=>{Me=null,ke()}))},()=>{Te=!0,ke()}))})}},5698:(rt,xe,U)=>{"use strict";U.d(xe,{q:()=>_e});var N=U(515),f=U(4482),te=U(5403);function _e(me){return me<=0?()=>N.E:(0,f.e)((Ee,Re)=>{let Ae=0;Ee.subscribe((0,te.x)(Re,Me=>{++Ae<=me&&(Re.next(Me),me<=Ae&&Re.complete())}))})}},8505:(rt,xe,U)=>{"use strict";U.d(xe,{b:()=>me});var N=U(576),f=U(4482),te=U(5403),_e=U(4671);function me(Ee,Re,Ae){const Me=(0,N.m)(Ee)||Re||Ae?{next:Ee,error:Re,complete:Ae}:Ee;return Me?(0,f.e)((Ce,Te)=>{var ke;null===(ke=Me.subscribe)||void 0===ke||ke.call(Me);let je=!0;Ce.subscribe((0,te.x)(Te,Le=>{var vt;null===(vt=Me.next)||void 0===vt||vt.call(Me,Le),Te.next(Le)},()=>{var Le;je=!1,null===(Le=Me.complete)||void 0===Le||Le.call(Me),Te.complete()},Le=>{var vt;je=!1,null===(vt=Me.error)||void 0===vt||vt.call(Me,Le),Te.error(Le)},()=>{var Le,vt;je&&(null===(Le=Me.unsubscribe)||void 0===Le||Le.call(Me)),null===(vt=Me.finalize)||void 0===vt||vt.call(Me)}))}):_e.y}},3410:(rt,xe,U)=>{"use strict";U.d(xe,{z:()=>N});const N={setTimeout(f,te,..._e){const{delegate:me}=N;return(null==me?void 0:me.setTimeout)?me.setTimeout(f,te,..._e):setTimeout(f,te,..._e)},clearTimeout(f){const{delegate:te}=N;return((null==te?void 0:te.clearTimeout)||clearTimeout)(f)},delegate:void 0}},2202:(rt,xe,U)=>{"use strict";U.d(xe,{h:()=>f});const f=function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(rt,xe,U)=>{"use strict";U.d(xe,{L:()=>N});const N="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(rt,xe,U)=>{"use strict";U.d(xe,{K:()=>f});const f=(0,U(3888).d)(te=>function(){te(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(rt,xe,U)=>{"use strict";U.d(xe,{_6:()=>Ee,jO:()=>_e,yG:()=>me});var N=U(576),f=U(3532);function te(Re){return Re[Re.length-1]}function _e(Re){return(0,N.m)(te(Re))?Re.pop():void 0}function me(Re){return(0,f.K)(te(Re))?Re.pop():void 0}function Ee(Re,Ae){return"number"==typeof te(Re)?Re.pop():Ae}},4742:(rt,xe,U)=>{"use strict";U.d(xe,{D:()=>me});const{isArray:N}=Array,{getPrototypeOf:f,prototype:te,keys:_e}=Object;function me(Re){if(1===Re.length){const Ae=Re[0];if(N(Ae))return{args:Ae,keys:null};if(function Ee(Re){return Re&&"object"==typeof Re&&f(Re)===te}(Ae)){const Me=_e(Ae);return{args:Me.map(Ce=>Ae[Ce]),keys:Me}}}return{args:Re,keys:null}}},8737:(rt,xe,U)=>{"use strict";function N(f,te){if(f){const _e=f.indexOf(te);0<=_e&&f.splice(_e,1)}}U.d(xe,{P:()=>N})},3888:(rt,xe,U)=>{"use strict";function N(f){const _e=f(me=>{Error.call(me),me.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}U.d(xe,{d:()=>N})},1810:(rt,xe,U)=>{"use strict";function N(f,te){return f.reduce((_e,me,Ee)=>(_e[me]=te[Ee],_e),{})}U.d(xe,{n:()=>N})},2806:(rt,xe,U)=>{"use strict";U.d(xe,{O:()=>_e,x:()=>te});var N=U(2416);let f=null;function te(me){if(N.v.useDeprecatedSynchronousErrorHandling){const Ee=!f;if(Ee&&(f={errorThrown:!1,error:null}),me(),Ee){const{errorThrown:Re,error:Ae}=f;if(f=null,Re)throw Ae}}else me()}function _e(me){N.v.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=me)}},9672:(rt,xe,U)=>{"use strict";function N(f,te,_e,me=0,Ee=!1){const Re=te.schedule(function(){_e(),Ee?f.add(this.schedule(null,me)):this.unsubscribe()},me);if(f.add(Re),!Ee)return Re}U.d(xe,{f:()=>N})},4671:(rt,xe,U)=>{"use strict";function N(f){return f}U.d(xe,{y:()=>N})},1144:(rt,xe,U)=>{"use strict";U.d(xe,{z:()=>N});const N=f=>f&&"number"==typeof f.length&&"function"!=typeof f},2206:(rt,xe,U)=>{"use strict";U.d(xe,{D:()=>f});var N=U(576);function f(te){return Symbol.asyncIterator&&(0,N.m)(null==te?void 0:te[Symbol.asyncIterator])}},576:(rt,xe,U)=>{"use strict";function N(f){return"function"==typeof f}U.d(xe,{m:()=>N})},3670:(rt,xe,U)=>{"use strict";U.d(xe,{c:()=>te});var N=U(8822),f=U(576);function te(_e){return(0,f.m)(_e[N.L])}},6495:(rt,xe,U)=>{"use strict";U.d(xe,{T:()=>te});var N=U(2202),f=U(576);function te(_e){return(0,f.m)(null==_e?void 0:_e[N.h])}},8239:(rt,xe,U)=>{"use strict";U.d(xe,{t:()=>f});var N=U(576);function f(te){return(0,N.m)(null==te?void 0:te.then)}},3260:(rt,xe,U)=>{"use strict";U.d(xe,{L:()=>_e,Q:()=>te});var N=U(655),f=U(576);function te(me){return(0,N.FC)(this,arguments,function*(){const Re=me.getReader();try{for(;;){const{value:Ae,done:Me}=yield(0,N.qq)(Re.read());if(Me)return yield(0,N.qq)(void 0);yield yield(0,N.qq)(Ae)}}finally{Re.releaseLock()}})}function _e(me){return(0,f.m)(null==me?void 0:me.getReader)}},3532:(rt,xe,U)=>{"use strict";U.d(xe,{K:()=>f});var N=U(576);function f(te){return te&&(0,N.m)(te.schedule)}},4482:(rt,xe,U)=>{"use strict";U.d(xe,{A:()=>f,e:()=>te});var N=U(576);function f(_e){return(0,N.m)(null==_e?void 0:_e.lift)}function te(_e){return me=>{if(f(me))return me.lift(function(Ee){try{return _e(Ee,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(rt,xe,U)=>{"use strict";U.d(xe,{Z:()=>_e});var N=U(4004);const{isArray:f}=Array;function _e(me){return(0,N.U)(Ee=>function te(me,Ee){return f(Ee)?me(...Ee):me(Ee)}(me,Ee))}},5032:(rt,xe,U)=>{"use strict";function N(){}U.d(xe,{Z:()=>N})},7849:(rt,xe,U)=>{"use strict";U.d(xe,{h:()=>te});var N=U(2416),f=U(3410);function te(_e){f.z.setTimeout(()=>{const{onUnhandledError:me}=N.v;if(!me)throw _e;me(_e)})}},4532:(rt,xe,U)=>{"use strict";function N(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(xe,{z:()=>N})},8099:rt=>{rt.exports=function xe(U,N){var f,te=null;try{f=JSON.parse(U,N)}catch(_e){te=_e}return[te,f]}},3871:function(rt){var U,N,f,te,_e;U=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,N=/^(?=([^\/?#]*))\1([^]*)$/,f=/(?:\/|^)\.(?=\/)/g,te=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,rt.exports=_e={buildAbsoluteURL:function(me,Ee,Re){if(Re=Re||{},me=me.trim(),!(Ee=Ee.trim())){if(!Re.alwaysNormalize)return me;var Ae=_e.parseURL(me);if(!Ae)throw new Error("Error trying to parse base URL.");return Ae.path=_e.normalizePath(Ae.path),_e.buildURLFromParts(Ae)}var Me=_e.parseURL(Ee);if(!Me)throw new Error("Error trying to parse relative URL.");if(Me.scheme)return Re.alwaysNormalize?(Me.path=_e.normalizePath(Me.path),_e.buildURLFromParts(Me)):Ee;var Ce=_e.parseURL(me);if(!Ce)throw new Error("Error trying to parse base URL.");if(!Ce.netLoc&&Ce.path&&"/"!==Ce.path[0]){var Te=N.exec(Ce.path);Ce.netLoc=Te[1],Ce.path=Te[2]}Ce.netLoc&&!Ce.path&&(Ce.path="/");var ke={scheme:Ce.scheme,netLoc:Me.netLoc,path:null,params:Me.params,query:Me.query,fragment:Me.fragment};if(!Me.netLoc&&(ke.netLoc=Ce.netLoc,"/"!==Me.path[0]))if(Me.path){var je=Ce.path,Le=je.substring(0,je.lastIndexOf("/")+1)+Me.path;ke.path=_e.normalizePath(Le)}else ke.path=Ce.path,Me.params||(ke.params=Ce.params,Me.query||(ke.query=Ce.query));return null===ke.path&&(ke.path=Re.alwaysNormalize?_e.normalizePath(Me.path):Me.path),_e.buildURLFromParts(ke)},parseURL:function(me){var Ee=U.exec(me);return Ee?{scheme:Ee[1]||"",netLoc:Ee[2]||"",path:Ee[3]||"",params:Ee[4]||"",query:Ee[5]||"",fragment:Ee[6]||""}:null},normalizePath:function(me){for(me=me.split("").reverse().join("").replace(f,"");me.length!==(me=me.replace(te,"")).length;);return me.split("").reverse().join("")},buildURLFromParts:function(me){return me.scheme+me.netLoc+me.path+me.params+me.query+me.fragment}}},3629:(rt,xe,U)=>{var N=U(9226),f=rt.exports={WebVTT:U(8318),VTTCue:U(5713),VTTRegion:U(3872)};N.vttjs=f,N.WebVTT=f.WebVTT;var te=f.VTTCue,_e=f.VTTRegion,me=N.VTTCue,Ee=N.VTTRegion;f.shim=function(){N.VTTCue=te,N.VTTRegion=_e},f.restore=function(){N.VTTCue=me,N.VTTRegion=Ee},N.VTTCue||f.shim()},8318:(rt,xe,U)=>{var N=U(1421),f=Object.create||function(){function K(){}return function(J){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return K.prototype=J,new K}}();function te(K,J){this.name="ParsingError",this.code=K.code,this.message=J||K.message}function _e(K){function J(oe,ae,ve,de){return 3600*(0|oe)+60*(0|ae)+(0|ve)+(0|de)/1e3}var X=K.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return X?X[3]?J(X[1],X[2],X[3].replace(":",""),X[4]):X[1]>59?J(X[1],X[2],0,X[4]):J(0,X[1],X[2],X[4]):null}function me(){this.values=f(null)}function Ee(K,J,X,oe){var ae=oe?K.split(oe):[K];for(var ve in ae)if("string"==typeof ae[ve]){var de=ae[ve].split(X);2===de.length&&J(de[0],de[1])}}function Re(K,J,X){var oe=K;function ae(){var Oe=_e(K);if(null===Oe)throw new te(te.Errors.BadTimeStamp,"Malformed timestamp: "+oe);return K=K.replace(/^[^\sa-zA-Z-]+/,""),Oe}function de(){K=K.replace(/^\s+/,"")}if(de(),J.startTime=ae(),de(),"--\x3e"!==K.substr(0,3))throw new te(te.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+oe);K=K.substr(3),de(),J.endTime=ae(),de(),function ve(Oe,Fe){var Qe=new me;Ee(Oe,function(Je,He){switch(Je){case"region":for(var pt=X.length-1;pt>=0;pt--)if(X[pt].id===He){Qe.set(Je,X[pt].region);break}break;case"vertical":Qe.alt(Je,He,["rl","lr"]);break;case"line":var Ht=He.split(","),It=Ht[0];Qe.integer(Je,It),Qe.percent(Je,It)&&Qe.set("snapToLines",!1),Qe.alt(Je,It,["auto"]),2===Ht.length&&Qe.alt("lineAlign",Ht[1],["start","center","end"]);break;case"position":Ht=He.split(","),Qe.percent(Je,Ht[0]),2===Ht.length&&Qe.alt("positionAlign",Ht[1],["start","center","end"]);break;case"size":Qe.percent(Je,He);break;case"align":Qe.alt(Je,He,["start","center","end","left","right"])}},/:/,/\s/),Fe.region=Qe.get("region",null),Fe.vertical=Qe.get("vertical","");try{Fe.line=Qe.get("line","auto")}catch(Je){}Fe.lineAlign=Qe.get("lineAlign","start"),Fe.snapToLines=Qe.get("snapToLines",!0),Fe.size=Qe.get("size",100);try{Fe.align=Qe.get("align","center")}catch(Je){Fe.align=Qe.get("align","middle")}try{Fe.position=Qe.get("position","auto")}catch(Je){Fe.position=Qe.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},Fe.align)}Fe.positionAlign=Qe.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},Fe.align)}(K,J)}(te.prototype=f(Error.prototype)).constructor=te,te.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},me.prototype={set:function(K,J){!this.get(K)&&""!==J&&(this.values[K]=J)},get:function(K,J,X){return X?this.has(K)?this.values[K]:J[X]:this.has(K)?this.values[K]:J},has:function(K){return K in this.values},alt:function(K,J,X){for(var oe=0;oe<X.length;++oe)if(J===X[oe]){this.set(K,J);break}},integer:function(K,J){/^-?\d+$/.test(J)&&this.set(K,parseInt(J,10))},percent:function(K,J){return!!(J.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(J=parseFloat(J),J>=0&&J<=100))&&(this.set(K,J),!0)}};var Ae=N.createElement&&N.createElement("textarea"),Me={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Ce={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Te={v:"title",lang:"lang"},ke={rt:"ruby"};function je(K,J){function X(){if(!J)return null;var Dt=J.match(/^([^<]*)(<[^>]*>?)?/);return function It(gt){return J=J.substr(gt.length),gt}(Dt[1]?Dt[1]:Dt[2])}function oe(It){return Ae.innerHTML=It,It=Ae.textContent,Ae.textContent="",It}function ve(It,Dt){var gt=Me[It];if(!gt)return null;var Xn=K.document.createElement(gt),bn=Te[It];return bn&&Dt&&(Xn[bn]=Dt.trim()),Xn}for(var Fe,de=K.document.createElement("div"),Oe=de,Qe=[];null!==(Fe=X());)if("<"!==Fe[0])Oe.appendChild(K.document.createTextNode(oe(Fe)));else{if("/"===Fe[1]){Qe.length&&Qe[Qe.length-1]===Fe.substr(2).replace(">","")&&(Qe.pop(),Oe=Oe.parentNode);continue}var He,Je=_e(Fe.substr(1,Fe.length-2));if(Je){He=K.document.createProcessingInstruction("timestamp",Je),Oe.appendChild(He);continue}var pt=Fe.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!pt||!(He=ve(pt[1],pt[3]))||ke[(Dt=He).localName]&&ke[Dt.localName]!==Oe.localName)continue;if(pt[2]){var Ht=pt[2].split(".");Ht.forEach(function(It){var Dt=/^bg_/.test(It),gt=Dt?It.slice(3):It;Ce.hasOwnProperty(gt)&&(He.style[Dt?"background-color":"color"]=Ce[gt])}),He.className=Ht.join(" ")}Qe.push(pt[1]),Oe.appendChild(He),Oe=He}var Dt;return de}var Le=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function vt(K){for(var J=0;J<Le.length;J++){var X=Le[J];if(K>=X[0]&&K<=X[1])return!0}return!1}function mt(K){var J=[],X="";if(!K||!K.childNodes)return"ltr";function ae(Oe,Fe){for(var Qe=Fe.childNodes.length-1;Qe>=0;Qe--)Oe.push(Fe.childNodes[Qe])}function ve(Oe){if(!Oe||!Oe.length)return null;var Fe=Oe.pop(),Qe=Fe.textContent||Fe.innerText;if(Qe){var Je=Qe.match(/^.*(\n|\r)/);return Je?(Oe.length=0,Je[0]):Qe}return"ruby"===Fe.tagName?ve(Oe):Fe.childNodes?(ae(Oe,Fe),ve(Oe)):void 0}for(ae(J,K);X=ve(J);)for(var de=0;de<X.length;de++)if(vt(X.charCodeAt(de)))return"rtl";return"ltr"}function ut(){}function Ze(K,J,X){ut.call(this),this.cue=J,this.cueDiv=je(K,J.text);var oe={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===J.vertical?"horizontal-tb":"lr"===J.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(oe,this.cueDiv),this.div=K.document.createElement("div"),oe={direction:mt(this.cueDiv),writingMode:""===J.vertical?"horizontal-tb":"lr"===J.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===J.align?"center":J.align,font:X.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(oe),this.div.appendChild(this.cueDiv);var ae=0;switch(J.positionAlign){case"start":ae=J.position;break;case"center":ae=J.position-J.size/2;break;case"end":ae=J.position-J.size}this.applyStyles(""===J.vertical?{left:this.formatStyle(ae,"%"),width:this.formatStyle(J.size,"%")}:{top:this.formatStyle(ae,"%"),height:this.formatStyle(J.size,"%")}),this.move=function(ve){this.applyStyles({top:this.formatStyle(ve.top,"px"),bottom:this.formatStyle(ve.bottom,"px"),left:this.formatStyle(ve.left,"px"),right:this.formatStyle(ve.right,"px"),height:this.formatStyle(ve.height,"px"),width:this.formatStyle(ve.width,"px")})}}function Ke(K){var J,X,oe,ae;if(K.div){X=K.div.offsetHeight,oe=K.div.offsetWidth,ae=K.div.offsetTop;var ve=(ve=K.div.childNodes)&&(ve=ve[0])&&ve.getClientRects&&ve.getClientRects();K=K.div.getBoundingClientRect(),J=ve?Math.max(ve[0]&&ve[0].height||0,K.height/ve.length):0}this.left=K.left,this.right=K.right,this.top=K.top||ae,this.height=K.height||X,this.bottom=K.bottom||ae+(K.height||X),this.width=K.width||oe,this.lineHeight=void 0!==J?J:K.lineHeight}function Xe(K,J,X,oe){var ve=new Ke(J),de=J.cue,Oe=function De(K){if("number"==typeof K.line&&(K.snapToLines||K.line>=0&&K.line<=100))return K.line;if(!K.track||!K.track.textTrackList||!K.track.textTrackList.mediaElement)return-1;for(var J=K.track,X=J.textTrackList,oe=0,ae=0;ae<X.length&&X[ae]!==J;ae++)"showing"===X[ae].mode&&oe++;return-1*++oe}(de),Fe=[];if(de.snapToLines){var Qe;switch(de.vertical){case"":Fe=["+y","-y"],Qe="height";break;case"rl":Fe=["+x","-x"],Qe="width";break;case"lr":Fe=["-x","+x"],Qe="width"}var Je=ve.lineHeight,He=Je*Math.round(Oe),pt=X[Qe]+Je,Ht=Fe[0];Math.abs(He)>pt&&(He=He<0?-1:1,He*=Math.ceil(pt/Je)*Je),Oe<0&&(He+=""===de.vertical?X.height:X.width,Fe=Fe.reverse()),ve.move(Ht,He)}else{var It=ve.lineHeight/X.height*100;switch(de.lineAlign){case"center":Oe-=It/2;break;case"end":Oe-=It}switch(de.vertical){case"":J.applyStyles({top:J.formatStyle(Oe,"%")});break;case"rl":J.applyStyles({left:J.formatStyle(Oe,"%")});break;case"lr":J.applyStyles({right:J.formatStyle(Oe,"%")})}Fe=["+y","-x","+x","-y"],ve=new Ke(J)}var Dt=function ae(gt,Xn){for(var bn,Qn=new Ke(gt),fn=1,Mr=0;Mr<Xn.length;Mr++){for(;gt.overlapsOppositeAxis(X,Xn[Mr])||gt.within(X)&&gt.overlapsAny(oe);)gt.move(Xn[Mr]);if(gt.within(X))return gt;var Xi=gt.intersectPercentage(X);fn>Xi&&(bn=new Ke(gt),fn=Xi),gt=new Ke(Qn)}return bn||Qn}(ve,Fe);J.move(Dt.toCSSCompatValues(X))}function ye(){}ut.prototype.applyStyles=function(K,J){for(var X in J=J||this.div,K)K.hasOwnProperty(X)&&(J.style[X]=K[X])},ut.prototype.formatStyle=function(K,J){return 0===K?0:K+J},(Ze.prototype=f(ut.prototype)).constructor=Ze,Ke.prototype.move=function(K,J){switch(J=void 0!==J?J:this.lineHeight,K){case"+x":this.left+=J,this.right+=J;break;case"-x":this.left-=J,this.right-=J;break;case"+y":this.top+=J,this.bottom+=J;break;case"-y":this.top-=J,this.bottom-=J}},Ke.prototype.overlaps=function(K){return this.left<K.right&&this.right>K.left&&this.top<K.bottom&&this.bottom>K.top},Ke.prototype.overlapsAny=function(K){for(var J=0;J<K.length;J++)if(this.overlaps(K[J]))return!0;return!1},Ke.prototype.within=function(K){return this.top>=K.top&&this.bottom<=K.bottom&&this.left>=K.left&&this.right<=K.right},Ke.prototype.overlapsOppositeAxis=function(K,J){switch(J){case"+x":return this.left<K.left;case"-x":return this.right>K.right;case"+y":return this.top<K.top;case"-y":return this.bottom>K.bottom}},Ke.prototype.intersectPercentage=function(K){return Math.max(0,Math.min(this.right,K.right)-Math.max(this.left,K.left))*Math.max(0,Math.min(this.bottom,K.bottom)-Math.max(this.top,K.top))/(this.height*this.width)},Ke.prototype.toCSSCompatValues=function(K){return{top:this.top-K.top,bottom:K.bottom-this.bottom,left:this.left-K.left,right:K.right-this.right,height:this.height,width:this.width}},Ke.getSimpleBoxPosition=function(K){var J=K.div?K.div.offsetHeight:K.tagName?K.offsetHeight:0,X=K.div?K.div.offsetWidth:K.tagName?K.offsetWidth:0,oe=K.div?K.div.offsetTop:K.tagName?K.offsetTop:0;return{left:(K=K.div?K.div.getBoundingClientRect():K.tagName?K.getBoundingClientRect():K).left,right:K.right,top:K.top||oe,height:K.height||J,bottom:K.bottom||oe+(K.height||J),width:K.width||X}},ye.StringDecoder=function(){return{decode:function(K){if(!K)return"";if("string"!=typeof K)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(K))}}},ye.convertCueToDOMTree=function(K,J){return K&&J?je(K,J):null},ye.processCues=function(K,J,X){if(!K||!J||!X)return null;for(;X.firstChild;)X.removeChild(X.firstChild);var oe=K.document.createElement("div");if(oe.style.position="absolute",oe.style.left="0",oe.style.right="0",oe.style.top="0",oe.style.bottom="0",oe.style.margin="1.5%",X.appendChild(oe),function ae(Je){for(var He=0;He<Je.length;He++)if(Je[He].hasBeenReset||!Je[He].displayState)return!0;return!1}(J)){var de=[],Oe=Ke.getSimpleBoxPosition(oe),Qe={font:Math.round(.05*Oe.height*100)/100+"px sans-serif"};!function(){for(var Je,He,pt=0;pt<J.length;pt++)Je=new Ze(K,He=J[pt],Qe),oe.appendChild(Je.div),Xe(0,Je,Oe,de),He.displayState=Je.div,de.push(Ke.getSimpleBoxPosition(Je))}()}else for(var ve=0;ve<J.length;ve++)oe.appendChild(J[ve].displayState)},(ye.Parser=function(K,J,X){X||(X=J,J={}),J||(J={}),this.window=K,this.vttjs=J,this.state="INITIAL",this.buffer="",this.decoder=X||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(K){if(!(K instanceof te))throw K;this.onparsingerror&&this.onparsingerror(K)},parse:function(K){var Je,J=this;function X(){for(var Je=J.buffer,He=0;He<Je.length&&"\r"!==Je[He]&&"\n"!==Je[He];)++He;var pt=Je.substr(0,He);return"\r"===Je[He]&&++He,"\n"===Je[He]&&++He,J.buffer=Je.substr(He),pt}K&&(J.buffer+=J.decoder.decode(K,{stream:!0}));try{var de;if("INITIAL"===J.state){if(!/\r\n|\n/.test(J.buffer))return this;var Oe=(de=X()).match(/^WEBVTT([ \t].*)?$/);if(!Oe||!Oe[0])throw new te(te.Errors.BadSignature);J.state="HEADER"}for(var Fe=!1;J.buffer;){if(!/\r\n|\n/.test(J.buffer))return this;switch(Fe?Fe=!1:de=X(),J.state){case"HEADER":/:/.test(de)?(Je=de).match(/X-TIMESTAMP-MAP/)?Ee(Je,function(He,pt){"X-TIMESTAMP-MAP"===He&&function ae(Je){var He=new me;Ee(Je,function(pt,Ht){switch(pt){case"MPEGT":He.integer(pt+"S",Ht);break;case"LOCA":He.set(pt+"L",_e(Ht))}},/[^\d]:/,/,/),J.ontimestampmap&&J.ontimestampmap({MPEGTS:He.get("MPEGTS"),LOCAL:He.get("LOCAL")})}(pt)},/=/):Ee(Je,function(He,pt){"Region"===He&&function oe(Je){var He=new me;if(Ee(Je,function(Ht,It){switch(Ht){case"id":He.set(Ht,It);break;case"width":He.percent(Ht,It);break;case"lines":He.integer(Ht,It);break;case"regionanchor":case"viewportanchor":var Dt=It.split(",");if(2!==Dt.length)break;var gt=new me;if(gt.percent("x",Dt[0]),gt.percent("y",Dt[1]),!gt.has("x")||!gt.has("y"))break;He.set(Ht+"X",gt.get("x")),He.set(Ht+"Y",gt.get("y"));break;case"scroll":He.alt(Ht,It,["up"])}},/=/,/\s/),He.has("id")){var pt=new(J.vttjs.VTTRegion||J.window.VTTRegion);pt.width=He.get("width",100),pt.lines=He.get("lines",3),pt.regionAnchorX=He.get("regionanchorX",0),pt.regionAnchorY=He.get("regionanchorY",100),pt.viewportAnchorX=He.get("viewportanchorX",0),pt.viewportAnchorY=He.get("viewportanchorY",100),pt.scroll=He.get("scroll",""),J.onregion&&J.onregion(pt),J.regionList.push({id:He.get("id"),region:pt})}}(pt)},/:/):de||(J.state="ID");continue;case"NOTE":de||(J.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(de)){J.state="NOTE";break}if(!de)continue;J.cue=new(J.vttjs.VTTCue||J.window.VTTCue)(0,0,"");try{J.cue.align="center"}catch(Je){J.cue.align="middle"}if(J.state="CUE",-1===de.indexOf("--\x3e")){J.cue.id=de;continue}case"CUE":try{Re(de,J.cue,J.regionList)}catch(Je){J.reportOrThrowError(Je),J.cue=null,J.state="BADCUE";continue}J.state="CUETEXT";continue;case"CUETEXT":var Qe=-1!==de.indexOf("--\x3e");if(!de||Qe&&(Fe=!0)){J.oncue&&J.oncue(J.cue),J.cue=null,J.state="ID";continue}J.cue.text&&(J.cue.text+="\n"),J.cue.text+=de.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":de||(J.state="ID");continue}}}catch(Je){J.reportOrThrowError(Je),"CUETEXT"===J.state&&J.cue&&J.oncue&&J.oncue(J.cue),J.cue=null,J.state="INITIAL"===J.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var K=this;try{if(K.buffer+=K.decoder.decode(),(K.cue||"HEADER"===K.state)&&(K.buffer+="\n\n",K.parse()),"INITIAL"===K.state)throw new te(te.Errors.BadSignature)}catch(J){K.reportOrThrowError(J)}return K.onflush&&K.onflush(),this}},rt.exports=ye},5713:rt=>{var U={"":1,lr:1,rl:1},N={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function te(me){return"string"==typeof me&&!!N[me.toLowerCase()]&&me.toLowerCase()}function _e(me,Ee,Re){this.hasBeenReset=!1;var Ae="",Me=!1,Ce=me,Te=Ee,ke=Re,je=null,Le="",vt=!0,mt="auto",De="start",ut="auto",Ze="auto",Ke=100,Xe="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return Ae},set:function(ye){Ae=""+ye}},pauseOnExit:{enumerable:!0,get:function(){return Me},set:function(ye){Me=!!ye}},startTime:{enumerable:!0,get:function(){return Ce},set:function(ye){if("number"!=typeof ye)throw new TypeError("Start time must be set to a number.");Ce=ye,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return Te},set:function(ye){if("number"!=typeof ye)throw new TypeError("End time must be set to a number.");Te=ye,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return ke},set:function(ye){ke=""+ye,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return je},set:function(ye){je=ye,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return Le},set:function(ye){var Ye=function f(me){return"string"==typeof me&&!!U[me.toLowerCase()]&&me.toLowerCase()}(ye);if(!1===Ye)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");Le=Ye,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return vt},set:function(ye){vt=!!ye,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return mt},set:function(ye){if("number"!=typeof ye&&"auto"!==ye)throw new SyntaxError("Line: an invalid number or illegal string was specified.");mt=ye,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return De},set:function(ye){var Ye=te(ye);Ye?(De=Ye,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return ut},set:function(ye){if(ye<0||ye>100)throw new Error("Position must be between 0 and 100.");ut=ye,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return Ze},set:function(ye){var Ye=te(ye);Ye?(Ze=Ye,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return Ke},set:function(ye){if(ye<0||ye>100)throw new Error("Size must be between 0 and 100.");Ke=ye,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return Xe},set:function(ye){var Ye=te(ye);if(!Ye)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");Xe=Ye,this.hasBeenReset=!0}}}),this.displayState=void 0}_e.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},rt.exports=_e},3872:rt=>{var xe={"":!0,up:!0};function N(te){return"number"==typeof te&&te>=0&&te<=100}rt.exports=function f(){var te=100,_e=3,me=0,Ee=100,Re=0,Ae=100,Me="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return te},set:function(Ce){if(!N(Ce))throw new Error("Width must be between 0 and 100.");te=Ce}},lines:{enumerable:!0,get:function(){return _e},set:function(Ce){if("number"!=typeof Ce)throw new TypeError("Lines must be set to a number.");_e=Ce}},regionAnchorY:{enumerable:!0,get:function(){return Ee},set:function(Ce){if(!N(Ce))throw new Error("RegionAnchorX must be between 0 and 100.");Ee=Ce}},regionAnchorX:{enumerable:!0,get:function(){return me},set:function(Ce){if(!N(Ce))throw new Error("RegionAnchorY must be between 0 and 100.");me=Ce}},viewportAnchorY:{enumerable:!0,get:function(){return Ae},set:function(Ce){if(!N(Ce))throw new Error("ViewportAnchorY must be between 0 and 100.");Ae=Ce}},viewportAnchorX:{enumerable:!0,get:function(){return Re},set:function(Ce){if(!N(Ce))throw new Error("ViewportAnchorX must be between 0 and 100.");Re=Ce}},scroll:{enumerable:!0,get:function(){return Me},set:function(Ce){var Te=function U(te){return"string"==typeof te&&!!xe[te.toLowerCase()]&&te.toLowerCase()}(Ce);!1===Te?console.warn("Scroll: an invalid or illegal string was specified."):Me=Te}}})}},7154:rt=>{function xe(){return rt.exports=xe=Object.assign||function(U){for(var N=1;N<arguments.length;N++){var f=arguments[N];for(var te in f)Object.prototype.hasOwnProperty.call(f,te)&&(U[te]=f[te])}return U},rt.exports.__esModule=!0,rt.exports.default=rt.exports,xe.apply(this,arguments)}rt.exports=xe,rt.exports.__esModule=!0,rt.exports.default=rt.exports},655:(rt,xe,U)=>{"use strict";function Ae(X,oe,ae,ve){return new(ae||(ae=Promise))(function(Oe,Fe){function Qe(pt){try{He(ve.next(pt))}catch(Ht){Fe(Ht)}}function Je(pt){try{He(ve.throw(pt))}catch(Ht){Fe(Ht)}}function He(pt){pt.done?Oe(pt.value):function de(Oe){return Oe instanceof ae?Oe:new ae(function(Fe){Fe(Oe)})}(pt.value).then(Qe,Je)}He((ve=ve.apply(X,oe||[])).next())})}function De(X){return this instanceof De?(this.v=X,this):new De(X)}function ut(X,oe,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,ve=ae.apply(X,oe||[]),Oe=[];return de={},Fe("next"),Fe("throw"),Fe("return"),de[Symbol.asyncIterator]=function(){return this},de;function Fe(It){ve[It]&&(de[It]=function(Dt){return new Promise(function(gt,Xn){Oe.push([It,Dt,gt,Xn])>1||Qe(It,Dt)})})}function Qe(It,Dt){try{!function Je(It){It.value instanceof De?Promise.resolve(It.value.v).then(He,pt):Ht(Oe[0][2],It)}(ve[It](Dt))}catch(gt){Ht(Oe[0][3],gt)}}function He(It){Qe("next",It)}function pt(It){Qe("throw",It)}function Ht(It,Dt){It(Dt),Oe.shift(),Oe.length&&Qe(Oe[0][0],Oe[0][1])}}function Ke(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,oe=X[Symbol.asyncIterator];return oe?oe.call(X):(X=function ke(X){var oe="function"==typeof Symbol&&Symbol.iterator,ae=oe&&X[oe],ve=0;if(ae)return ae.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&ve>=X.length&&(X=void 0),{value:X&&X[ve++],done:!X}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),ae={},ve("next"),ve("throw"),ve("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function ve(Oe){ae[Oe]=X[Oe]&&function(Fe){return new Promise(function(Qe,Je){!function de(Oe,Fe,Qe,Je){Promise.resolve(Je).then(function(He){Oe({value:He,done:Qe})},Fe)}(Qe,Je,(Fe=X[Oe](Fe)).done,Fe.value)})}}}U.d(xe,{FC:()=>ut,KL:()=>Ke,mG:()=>Ae,qq:()=>De})},5893:()=>{},9808:(rt,xe,U)=>{"use strict";U.d(xe,{Do:()=>Xe,EM:()=>Gi,HT:()=>me,JF:()=>eu,K0:()=>Re,Mx:()=>Pn,NF:()=>to,O5:()=>Wr,Ov:()=>Kl,S$:()=>De,Ts:()=>wc,V_:()=>Ce,Ye:()=>ye,b0:()=>Ke,bD:()=>Vn,ez:()=>Zl,lw:()=>Ae,mr:()=>Ze,q:()=>te,sg:()=>$t,tP:()=>zs,w_:()=>Ee});var N=U(4893);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let f=null;function te(){return f}function me(O){f||(f=O)}class Ee{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Re=new N.OlP("DocumentToken");
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Ae=(()=>{class O{historyGo(P){throw new Error("Not implemented")}}return O.\u0275fac=function(P){return new(P||O)},O.\u0275prov=N.Yz7({token:O,factory:function(){return function Me(){return(0,N.LFG)(Te)}()},providedIn:"platform"}),O})();const Ce=new N.OlP("Location Initialized");let Te=(()=>{class O extends Ae{constructor(P){super(),this._doc=P,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(P){const Y=te().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("popstate",P,!1),()=>Y.removeEventListener("popstate",P)}onHashChange(P){const Y=te().getGlobalEventTarget(this._doc,"window");return Y.addEventListener("hashchange",P,!1),()=>Y.removeEventListener("hashchange",P)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(P){this.location.pathname=P}pushState(P,Y,se){ke()?this._history.pushState(P,Y,se):this.location.hash=se}replaceState(P,Y,se){ke()?this._history.replaceState(P,Y,se):this.location.hash=se}forward(){this._history.forward()}back(){this._history.back()}historyGo(P=0){this._history.go(P)}getState(){return this._history.state}}return O.\u0275fac=function(P){return new(P||O)(N.LFG(Re))},O.\u0275prov=N.Yz7({token:O,factory:function(){return function je(){return new Te((0,N.LFG)(Re))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */()},providedIn:"platform"}),O})();function ke(){return!!window.history.pushState}function Le(O,$){if(0==O.length)return $;if(0==$.length)return O;let P=0;return O.endsWith("/")&&P++,$.startsWith("/")&&P++,2==P?O+$.substring(1):1==P?O+$:O+"/"+$}function vt(O){const $=O.match(/#|\?|$/),P=$&&$.index||O.length;return O.slice(0,P-("/"===O[P-1]?1:0))+O.slice(P)}function mt(O){return O&&"?"!==O[0]?"?"+O:O}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let De=(()=>{class O{historyGo(P){throw new Error("Not implemented")}}return O.\u0275fac=function(P){return new(P||O)},O.\u0275prov=N.Yz7({token:O,factory:function(){return function ut(O){const $=(0,N.LFG)(Re).location;return new Ke((0,N.LFG)(Ae),$&&$.origin||"")}()},providedIn:"root"}),O})();const Ze=new N.OlP("appBaseHref");let Ke=(()=>{class O extends De{constructor(P,Y){if(super(),this._platformLocation=P,this._removeListenerFns=[],null==Y&&(Y=this._platformLocation.getBaseHrefFromDOM()),null==Y)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Y}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}prepareExternalUrl(P){return Le(this._baseHref,P)}path(P=!1){const Y=this._platformLocation.pathname+mt(this._platformLocation.search),se=this._platformLocation.hash;return se&&P?`${Y}${se}`:Y}pushState(P,Y,se,Ue){const st=this.prepareExternalUrl(se+mt(Ue));this._platformLocation.pushState(P,Y,st)}replaceState(P,Y,se,Ue){const st=this.prepareExternalUrl(se+mt(Ue));this._platformLocation.replaceState(P,Y,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var Y,se;null===(se=(Y=this._platformLocation).historyGo)||void 0===se||se.call(Y,P)}}return O.\u0275fac=function(P){return new(P||O)(N.LFG(Ae),N.LFG(Ze,8))},O.\u0275prov=N.Yz7({token:O,factory:O.\u0275fac}),O})(),Xe=(()=>{class O extends De{constructor(P,Y){super(),this._platformLocation=P,this._baseHref="",this._removeListenerFns=[],null!=Y&&(this._baseHref=Y)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(P){this._removeListenerFns.push(this._platformLocation.onPopState(P),this._platformLocation.onHashChange(P))}getBaseHref(){return this._baseHref}path(P=!1){let Y=this._platformLocation.hash;return null==Y&&(Y="#"),Y.length>0?Y.substring(1):Y}prepareExternalUrl(P){const Y=Le(this._baseHref,P);return Y.length>0?"#"+Y:Y}pushState(P,Y,se,Ue){let st=this.prepareExternalUrl(se+mt(Ue));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.pushState(P,Y,st)}replaceState(P,Y,se,Ue){let st=this.prepareExternalUrl(se+mt(Ue));0==st.length&&(st=this._platformLocation.pathname),this._platformLocation.replaceState(P,Y,st)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(P=0){var Y,se;null===(se=(Y=this._platformLocation).historyGo)||void 0===se||se.call(Y,P)}}return O.\u0275fac=function(P){return new(P||O)(N.LFG(Ae),N.LFG(Ze,8))},O.\u0275prov=N.Yz7({token:O,factory:O.\u0275fac}),O})(),ye=(()=>{class O{constructor(P,Y){this._subject=new N.vpe,this._urlChangeListeners=[],this._platformStrategy=P;const se=this._platformStrategy.getBaseHref();this._platformLocation=Y,this._baseHref=vt(yt(se)),this._platformStrategy.onPopState(Ue=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ue.state,type:Ue.type})})}path(P=!1){return this.normalize(this._platformStrategy.path(P))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(P,Y=""){return this.path()==this.normalize(P+mt(Y))}normalize(P){return O.stripTrailingSlash(function St(O,$){return O&&$.startsWith(O)?$.substring(O.length):$}(this._baseHref,yt(P)))}prepareExternalUrl(P){return P&&"/"!==P[0]&&(P="/"+P),this._platformStrategy.prepareExternalUrl(P)}go(P,Y="",se=null){this._platformStrategy.pushState(se,"",P,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+mt(Y)),se)}replaceState(P,Y="",se=null){this._platformStrategy.replaceState(se,"",P,Y),this._notifyUrlChangeListeners(this.prepareExternalUrl(P+mt(Y)),se)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(P=0){var Y,se;null===(se=(Y=this._platformStrategy).historyGo)||void 0===se||se.call(Y,P)}onUrlChange(P){this._urlChangeListeners.push(P),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Y=>{this._notifyUrlChangeListeners(Y.url,Y.state)}))}_notifyUrlChangeListeners(P="",Y){this._urlChangeListeners.forEach(se=>se(P,Y))}subscribe(P,Y,se){return this._subject.subscribe({next:P,error:Y,complete:se})}}return O.normalizeQueryParams=mt,O.joinWithSlash=Le,O.stripTrailingSlash=vt,O.\u0275fac=function(P){return new(P||O)(N.LFG(De),N.LFG(Ae))},O.\u0275prov=N.Yz7({token:O,factory:function(){return function Ye(){return new ye((0,N.LFG)(De),(0,N.LFG)(Ae))}()},providedIn:"root"}),O})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function yt(O){return O.replace(/\/index.html$/,"")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Pn(O,$){$=encodeURIComponent($);for(const P of O.split(";")){const Y=P.indexOf("="),[se,Ue]=-1==Y?[P,""]:[P.slice(0,Y),P.slice(Y+1)];if(se.trim()===$)return decodeURIComponent(Ue)}return null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Ts{constructor($,P,Y,se){this.$implicit=$,this.ngForOf=P,this.index=Y,this.count=se}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $t=(()=>{class O{constructor(P,Y,se){this._viewContainer=P,this._template=Y,this._differs=se,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(P){this._ngForOf=P,this._ngForOfDirty=!0}set ngForTrackBy(P){this._trackByFn=P}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(P){P&&(this._template=P)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const P=this._ngForOf;!this._differ&&P&&(this._differ=this._differs.find(P).create(this.ngForTrackBy))}if(this._differ){const P=this._differ.diff(this._ngForOf);P&&this._applyChanges(P)}}_applyChanges(P){const Y=this._viewContainer;P.forEachOperation((se,Ue,st)=>{if(null==se.previousIndex)Y.createEmbeddedView(this._template,new Ts(se.item,this._ngForOf,-1,-1),null===st?void 0:st);else if(null==st)Y.remove(null===Ue?void 0:Ue);else if(null!==Ue){const ht=Y.get(Ue);Y.move(ht,st),Zi(ht,se)}});for(let se=0,Ue=Y.length;se<Ue;se++){const ht=Y.get(se).context;ht.index=se,ht.count=Ue,ht.ngForOf=this._ngForOf}P.forEachIdentityChange(se=>{Zi(Y.get(se.currentIndex),se)})}static ngTemplateContextGuard(P,Y){return!0}}return O.\u0275fac=function(P){return new(P||O)(N.Y36(N.s_b),N.Y36(N.Rgc),N.Y36(N.ZZ4))},O.\u0275dir=N.lG2({type:O,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),O})();function Zi(O,$){O.context.$implicit=$.item}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Wr=(()=>{class O{constructor(P,Y){this._viewContainer=P,this._context=new ur,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Y}set ngIf(P){this._context.$implicit=this._context.ngIf=P,this._updateView()}set ngIfThen(P){Rn("ngIfThen",P),this._thenTemplateRef=P,this._thenViewRef=null,this._updateView()}set ngIfElse(P){Rn("ngIfElse",P),this._elseTemplateRef=P,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(P,Y){return!0}}return O.\u0275fac=function(P){return new(P||O)(N.Y36(N.s_b),N.Y36(N.Rgc))},O.\u0275dir=N.lG2({type:O,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),O})();class ur{constructor(){this.$implicit=null,this.ngIf=null}}function Rn(O,$){if($&&!$.createEmbeddedView)throw new Error(`${O} must be a TemplateRef, but received '${(0,N.AaK)($)}'.`)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let zs=(()=>{class O{constructor(P){this._viewContainerRef=P,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(P){if(P.ngTemplateOutlet){const Y=this._viewContainerRef;this._viewRef&&Y.remove(Y.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?Y.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&P.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return O.\u0275fac=function(P){return new(P||O)(N.Y36(N.s_b))},O.\u0275dir=N.lG2({type:O,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[N.TTD]}),O})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Tr{createSubscription($,P){return $.subscribe({next:P,error:Y=>{throw Y}})}dispose($){$.unsubscribe()}onDestroy($){$.unsubscribe()}}class $r{createSubscription($,P){return $.then(P,Y=>{throw Y})}dispose($){}onDestroy($){}}const Za=new $r,Fo=new Tr;let Kl=(()=>{class O{constructor(P){this._ref=P,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(P){return this._obj?P!==this._obj?(this._dispose(),this.transform(P)):this._latestValue:(P&&this._subscribe(P),this._latestValue)}_subscribe(P){this._obj=P,this._strategy=this._selectStrategy(P),this._subscription=this._strategy.createSubscription(P,Y=>this._updateLatestValue(P,Y))}_selectStrategy(P){if((0,N.QGY)(P))return Za;if((0,N.F4k)(P))return Fo;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
throw function kn(O,$){return new N.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(P,Y){P===this._obj&&(this._latestValue=Y,this._ref.markForCheck())}}return O.\u0275fac=function(P){return new(P||O)(N.Y36(N.sBO,16))},O.\u0275pipe=N.Yjl({name:"async",type:O,pure:!1}),O})(),wc=(()=>{class O{transform(P){return JSON.stringify(P,null,2)}}return O.\u0275fac=function(P){return new(P||O)},O.\u0275pipe=N.Yjl({name:"json",type:O,pure:!1}),O})(),Zl=(()=>{class O{}return O.\u0275fac=function(P){return new(P||O)},O.\u0275mod=N.oAB({type:O}),O.\u0275inj=N.cJS({}),O})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Vn="browser";function to(O){return O===Vn}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Gi=(()=>{class O{}return O.\u0275prov=(0,N.Yz7)({token:O,providedIn:"root",factory:()=>new Ca((0,N.LFG)(Re),window)}),O})();class Ca{constructor($,P){this.document=$,this.window=P,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const P=function zr(O,$){const P=O.getElementById($)||O.getElementsByName($)[0];if(P)return P;if("function"==typeof O.createTreeWalker&&O.body&&(O.body.createShadowRoot||O.body.attachShadow)){const Y=O.createTreeWalker(O.body,NodeFilter.SHOW_ELEMENT);let se=Y.currentNode;for(;se;){const Ue=se.shadowRoot;if(Ue){const st=Ue.getElementById($)||Ue.querySelector(`[name="${$}"]`);if(st)return st}se=Y.nextNode()}}return null}(this.document,$);P&&(this.scrollToElement(P),P.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const P=this.window.history;P&&P.scrollRestoration&&(P.scrollRestoration=$)}}scrollToElement($){const P=$.getBoundingClientRect(),Y=P.left+this.window.pageXOffset,se=P.top+this.window.pageYOffset,Ue=this.offset();this.window.scrollTo(Y-Ue[0],se-Ue[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=Ks(this.window.history)||Ks(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch($){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch($){return!1}}}function Ks(O){return Object.getOwnPropertyDescriptor(O,"scrollRestoration")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class eu{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */},4893:(rt,xe,U)=>{"use strict";U.d(xe,{deG:()=>o1,tb:()=>hp,AFp:()=>No,ip1:()=>qb,CZH:()=>Hd,hGG:()=>ND,z2F:()=>Iv,sBO:()=>_c,Sil:()=>eT,_Vd:()=>Pl,EJc:()=>gD,SBq:()=>Ao,qLn:()=>ed,vpe:()=>ga,tBr:()=>Gp,XFs:()=>Et,OlP:()=>ui,zs3:()=>sa,ZZ4:()=>Yd,aQg:()=>Hv,soG:()=>pp,YKP:()=>Tb,h0i:()=>kl,PXZ:()=>sT,R0b:()=>Zr,FiY:()=>Rf,Lbi:()=>Qb,g9A:()=>Xb,Qsj:()=>Ym,FYo:()=>Rl,JOm:()=>Is,tp0:()=>$c,Rgc:()=>Mo,dDg:()=>iT,GfV:()=>_b,s_b:()=>Ll,ifc:()=>Jt,eFA:()=>aT,G48:()=>Pv,Gpc:()=>mt,_c5:()=>MD,VLi:()=>js,c2e:()=>pD,zSh:()=>nr,wAp:()=>Ut,vHH:()=>Ke,cg1:()=>wm,kL8:()=>xm,dqk:()=>Mn,sIi:()=>qu,CqO:()=>bd,QGY:()=>nm,F4k:()=>im,RDi:()=>$,AaK:()=>je,qOj:()=>Gg,TTD:()=>Vn,_Bn:()=>db,xp6:()=>uS,uIk:()=>zg,Tol:()=>Cy,ekj:()=>Rh,Suo:()=>gv,Xpm:()=>Qt,lG2:()=>oi,Yz7:()=>fn,cJS:()=>Xi,oAB:()=>Hn,Yjl:()=>Tn,Y36:()=>wl,_UZ:()=>Ch,BQk:()=>yd,ynx:()=>_d,qZA:()=>xl,TgZ:()=>vd,EpF:()=>py,n5z:()=>m0,Ikx:()=>$h,SDv:()=>Us,QtT:()=>ab,pQV:()=>Vm,LFG:()=>Wi,$8M:()=>Gc,$Z:()=>Sh,NdJ:()=>Dh,CRH:()=>Fb,oxw:()=>Eh,ALo:()=>sv,lcZ:()=>av,Hsn:()=>ic,F$t:()=>nc,Q6J:()=>Jg,s9C:()=>wh,MGl:()=>Va,DdM:()=>Jm,VKq:()=>Cb,WLB:()=>ev,kEZ:()=>Db,iGM:()=>Rb,MAs:()=>Q_,Jf7:()=>Y0,CHM:()=>Op,oJD:()=>k0,LSH:()=>Xc,Udp:()=>Ga,YNc:()=>X_,W1O:()=>vv,_uU:()=>Ci,Oqu:()=>Ml,hij:()=>Nl,AsE:()=>Do,Gf:()=>kb});var N=U(7579),f=U(727),te=U(8306),_e=U(6451),me=U(2076),Ee=U(5698),Re=U(930),Ae=U(4482);function Ce(a,o,...u){return!0===o?(a(),null):!1===o?null:o(...u).pipe((0,Ee.q)(1)).subscribe(()=>a())}
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Te(a){for(let o in a)if(a[o]===Te)return o;throw Error("Could not find renamed property on target object.")}function ke(a,o){for(const u in o)o.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=o[u])}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function je(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(je).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const o=a.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Le(a,o){return null==a||""===a?null===o?"":o:null==o||""===o?a:a+" "+o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const vt=Te({__forward_ref__:Te});function mt(a){return a.__forward_ref__=mt,a.toString=function(){return je(this())},a}function De(a){return ut(a)?a():a}function ut(a){return"function"==typeof a&&a.hasOwnProperty(vt)&&a.__forward_ref__===mt}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Ke extends Error{constructor(o,u){super(function Xe(a,o){return`NG0${Math.abs(a)}${o?": "+o:""}`}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(o,u)),this.code=o}}function ye(a){return"string"==typeof a?a:null==a?"":String(a)}function Ye(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ye(a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function J(a,o){const u=o?` in ${o}`:"";throw new Ke(-201,`No provider for ${Ye(a)} found${u}`)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function gt(a,o,u,c){throw new Error(`ASSERTION ERROR: ${a}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function fn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Xi(a){return{providers:a.providers||[],imports:a.imports||[]}}function Ln(a){return _s(a,jr)||_s(a,vr)}function _s(a,o){return a.hasOwnProperty(o)?a[o]:null}function ti(a){return a&&(a.hasOwnProperty(Rt)||a.hasOwnProperty(ar))?a[Rt]:null}const jr=Te({\u0275prov:Te}),Rt=Te({\u0275inj:Te}),vr=Te({ngInjectableDef:Te}),ar=Te({ngInjectorDef:Te});
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let An;function ai(a){const o=An;return An=a,o}function Qi(a,o,u){const c=Ln(a);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&Et.Optional?null:void 0!==o?o:void J(je(a),"Injector")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Nt(a){return{toString:a}.toString()}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */var Ot=(()=>((Ot=Ot||{})[Ot.OnPush=0]="OnPush",Ot[Ot.Default=1]="Default",Ot))(),Jt=(()=>{return(a=Jt||(Jt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Jt;var a})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const _i="undefined"!=typeof globalThis&&globalThis,Ni="undefined"!=typeof window&&window,ko="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Mn=_i||"undefined"!=typeof global&&global||Ni||ko,or={},on=[],Ir=Te({\u0275cmp:Te}),ba=Te({\u0275dir:Te}),Q=Te({\u0275pipe:Te}),q=Te({\u0275mod:Te}),pe=Te({\u0275fac:Te}),Ge=Te({__NG_ELEMENT_ID__:Te});
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let ct=0;function Qt(a){return Nt(()=>{const u={},c={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||on,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Jt.Emulated,id:"c",styles:a.styles||on,_:null,setInput:null,schemas:a.schemas||null,tView:null},h=a.directives,g=a.features,v=a.pipes;return c.id+=ct++,c.inputs=Yt(a.inputs,u),c.outputs=Yt(a.outputs),g&&g.forEach(T=>T(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(mn):null,c.pipeDefs=v?()=>("function"==typeof v?v():v).map(Ii):null,c})}function mn(a){return vn(a)||function Oi(a){return a[ba]||null}(a)}function Ii(a){return function en(a){return a[Q]||null}(a)}const On={};function Hn(a){return Nt(()=>{const o={type:a.type,bootstrap:a.bootstrap||on,declarations:a.declarations||on,imports:a.imports||on,exports:a.exports||on,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(On[a.id]=a.type),o})}function Yt(a,o){if(null==a)return or;const u={};for(const c in a)if(a.hasOwnProperty(c)){let h=a[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=c,o&&(o[h]=g)}return u}const oi=Qt;function Tn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function vn(a){return a[Ir]||null}function yi(a,o){const u=a[q]||null;if(!u&&!0===o)throw new Error(`Type ${je(a)} does not have '\u0275mod' property.`);return u}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Ri(a){return Array.isArray(a)&&"object"==typeof a[1]}function bi(a){return Array.isArray(a)&&!0===a[1]}function zs(a){return 0!=(8&a.flags)}function Ta(a){return 2==(2&a.flags)}function kn(a){return 1==(1&a.flags)}function Tr(a){return null!==a.template}function $r(a){return 0!=(512&a[2])}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Ti(a,o){return a.hasOwnProperty(pe)?a[pe]:null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Zl{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Vn(){return Sr}function Sr(a){return a.type.prototype.ngOnChanges&&(a.setInput=Go),xc}function xc(){const a=Jl(this),o=null==a?void 0:a.current;if(o){const u=a.previous;if(u===or)a.previous=o;else for(let c in o)u[c]=o[c];a.current=null,this.ngOnChanges(o)}}function Go(a,o,u,c){const h=Jl(a)||function Ac(a,o){return a[to]=o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(a,{previous:or,current:null}),g=h.current||(h.current={}),v=h.previous,T=this.declaredInputs[u],x=v[T];g[T]=new Zl(x&&x.currentValue,o,v===or),a[c]=o}Vn.ngInherit=!0;const to="__ngSimpleChanges__";function Jl(a){return a[to]||null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let O;function $(a){O=a}function P(){return void 0!==O?O:"undefined"!=typeof document?document:void 0}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function se(a){return!!a.listen}const Ue={createRenderer:(a,o)=>P()};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function ht(a){for(;Array.isArray(a);)a=a[0];return a}function yn(a,o){return ht(o[a])}function Vt(a,o){return ht(o[a.index])}function wn(a,o){return a.data[o]}function Gn(a,o){return a[o]}function fi(a,o){const u=o[a];return Ri(u)?u:u[0]}function Ei(a){return 4==(4&a[2])}function jn(a){return 128==(128&a[2])}function cs(a,o){return null==o?null:a[o]}function qs(a){a[18]=0}function Da(a,o){a[5]+=o;let u=a,c=a[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}const Bt={lFrame:ru(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function hf(){return Bt.bindingsEnabled}function nt(){return Bt.lFrame.lView}function ln(){return Bt.lFrame.tView}function Op(a){return Bt.lFrame.contextLView=a,a[8]}function wi(){let a=pf();for(;null!==a&&64===a.type;)a=a.parent;return a}function pf(){return Bt.lFrame.currentTNode}function Ea(){const a=Bt.lFrame,o=a.currentTNode;return a.isParent?o:o.parent}function ds(a,o){const u=Bt.lFrame;u.currentTNode=a,u.isParent=o}function Ic(){return Bt.lFrame.isParent}function Oc(){Bt.lFrame.isParent=!1}function Xs(){return Bt.isInCheckNoChangesMode}function no(a){Bt.isInCheckNoChangesMode=a}function ji(){const a=Bt.lFrame;let o=a.bindingRootIndex;return-1===o&&(o=a.bindingRootIndex=a.tView.bindingStartIndex),o}function Pr(){return Bt.lFrame.bindingIndex}function wa(){return Bt.lFrame.bindingIndex++}function Es(a){const o=Bt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+a,u}function mf(a){Bt.lFrame.inI18n=a}function vf(a,o){const u=Bt.lFrame;u.bindingIndex=u.bindingRootIndex=a,yf(o)}function yf(a){Bt.lFrame.currentDirectiveIndex=a}function Rc(){return Bt.lFrame.currentQueryIndex}function bf(a){Bt.lFrame.currentQueryIndex=a}function kc(a){const o=a[1];return 2===o.type?o.declTNode:1===o.type?a[6]:null}function nu(a,o,u){if(u&Et.SkipSelf){let h=o,g=a;for(;!(h=h.parent,null!==h||u&Et.Host||(h=kc(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,a=g}const c=Bt.lFrame=iu();return c.currentTNode=o,c.lView=a,!0}function ro(a){const o=iu(),u=a[1];Bt.lFrame=o,o.currentTNode=u.firstChild,o.lView=a,o.tView=u,o.contextLView=a,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function iu(){const a=Bt.lFrame,o=null===a?null:a.child;return null===o?ru(a):o}function ru(a){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=o),o}function Pp(){const a=Bt.lFrame;return Bt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const su=Pp;function ws(){const a=Pp();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function hn(){return Bt.lFrame.selectedIndex}function Qs(a){Bt.lFrame.selectedIndex=a}function Wn(){const a=Bt.lFrame;return wn(a.tView,a.selectedIndex)}function uu(a,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:T,ngAfterViewInit:x,ngAfterViewChecked:B,ngOnDestroy:V}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-u,v),T&&((a.contentHooks||(a.contentHooks=[])).push(u,T),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,T)),x&&(a.viewHooks||(a.viewHooks=[])).push(-u,x),B&&((a.viewHooks||(a.viewHooks=[])).push(u,B),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,B)),null!=V&&(a.destroyHooks||(a.destroyHooks=[])).push(u,V)}}function oo(a,o,u){Fc(a,o,3,u)}function lo(a,o,u,c){(3&a[2])===u&&Fc(a,o,u,c)}function uo(a,o){let u=a[2];(3&u)===o&&(u&=2047,u+=1,a[2]=u)}function Fc(a,o,u,c){const g=null!=c?c:-1,v=o.length-1;let T=0;for(let x=void 0!==c?65535&a[18]:0;x<v;x++)if("number"==typeof o[x+1]){if(T=o[x],null!=c&&T>=c)break}else o[x]<0&&(a[18]+=65536),(T<g||-1==g)&&(Yr(a,u,o,x),a[18]=(4294901760&a[18])+x+2),x++}function Yr(a,o,u,c){const h=u[c]<0,g=u[c+1],T=a[h?-u[c]:u[c]];if(h){if(a[2]>>11<a[18]>>16&&(3&a[2])===o){a[2]+=2048;try{g.call(T)}finally{}}}else try{g.call(T)}finally{}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Yo{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function du(a,o,u){const c=se(a);let h=0;for(;h<u.length;){const g=u[h];if("number"==typeof g){if(0!==g)break;h++;const v=u[h++],T=u[h++],x=u[h++];c?a.setAttribute(o,T,x,v):o.setAttributeNS(v,T,x)}else{const v=g,T=u[++h];Lc(v)?c&&a.setProperty(o,v,T):c?a.setAttribute(o,v,T):o.setAttribute(v,T),h++}}return h}function qo(a){return 3===a||4===a||6===a}function Lc(a){return 64===a.charCodeAt(0)}function Xo(a,o){if(null!==o&&0!==o.length)if(null===a||0===a.length)a=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?u=h:0===u||fu(a,u,h,null,-1===u||2===u?o[++c]:null)}}return a}function fu(a,o,u,c,h){let g=0,v=a.length;if(-1===o)v=-1;else for(;g<a.length;){const T=a[g++];if("number"==typeof T){if(T===o){v=-1;break}if(T>o){v=g-1;break}}}for(;g<a.length;){const T=a[g];if("number"==typeof T)break;if(T===u){if(null===c)return void(null!==h&&(a[g+1]=h));if(c===a[g+1])return void(a[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==v&&(a.splice(v,0,o),g=v+1),a.splice(g++,0,u),null!==c&&a.splice(g++,0,c),null!==h&&a.splice(g++,0,h)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Bc(a){return-1!==a}function Qo(a){return 32767&a}function S(a,o){let u=function E(a){return a>>16}(a),c=o;for(;u>0;)c=c[15],u--;return c}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let b=!0;function I(a){const o=b;return b=a,o}let fe=0;function Ct(a,o){const u=Pt(a,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(a.injectorIndex=o.length,Kt(c.data,a),Kt(o,null),Kt(c.blueprint,null));const h=nn(a,o),g=a.injectorIndex;if(Bc(h)){const v=Qo(h),T=S(h,o),x=T[1].data;for(let B=0;B<8;B++)o[g+B]=T[v+B]|x[v+B]}return o[g+8]=h,g}function Kt(a,o){a.push(0,0,0,0,0,0,0,0,o)}function Pt(a,o){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===o[a.injectorIndex+8]?-1:a.injectorIndex}function nn(a,o){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,c=null,h=o;for(;null!==h;){const g=h[1],v=g.type;if(c=2===v?g.declTNode:1===v?h[6]:null,null===c)return-1;if(u++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function un(a,o,u){!function Ve(a,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(Ge)&&(c=u[Ge]),null==c&&(c=u[Ge]=fe++);const h=255&c;o.data[a+(h>>5)]|=1<<h}(a,o,u)}function Zs(a,o,u){if(u&Et.Optional)return a;J(o,"NodeInjector")}function co(a,o,u,c){if(u&Et.Optional&&void 0===c&&(c=null),0==(u&(Et.Self|Et.Host))){const h=a[9],g=ai(void 0);try{return h?h.get(o,c,u&Et.Optional):Qi(o,c,u&Et.Optional)}finally{ai(g)}}return Zs(c,o,u)}function hu(a,o,u,c=Et.Default,h){if(null!==a){const g=function Fp(a){if("string"==typeof a)return a.charCodeAt(0)||0;const o=a.hasOwnProperty(Ge)?a[Ge]:void 0;return"number"==typeof o?o>=0?255&o:Hc:o}(u);if("function"==typeof g){if(!nu(o,a,c))return c&Et.Host?Zs(h,u,c):co(o,u,c,h);try{const v=g(c);if(null!=v||c&Et.Optional)return v;J(u)}finally{su()}}else if("number"==typeof g){let v=null,T=Pt(a,o),x=-1,B=c&Et.Host?o[16][6]:null;for((-1===T||c&Et.SkipSelf)&&(x=-1===T?nn(a,o):o[T+8],-1!==x&&g0(c,!1)?(v=o[1],T=Qo(x),o=S(x,o)):T=-1);-1!==T;){const V=o[1];if(p0(g,T,V.data)){const ee=r1(T,o,u,v,c,B);if(ee!==fo)return ee}x=o[T+8],-1!==x&&g0(c,o[1].data[T+8]===B)&&p0(g,T,o)?(v=V,T=Qo(x),o=S(x,o)):T=-1}}}return co(o,u,c,h)}const fo={};function Hc(){return new Zo(wi(),nt())}function r1(a,o,u,c,h,g){const v=o[1],T=v.data[a+8],V=Uc(T,v,u,null==c?Ta(T)&&b:c!=v&&0!=(3&T.type),h&Et.Host&&g===T);return null!==V?Vc(o,v,V,T):fo}function Uc(a,o,u,c,h){const g=a.providerIndexes,v=o.data,T=1048575&g,x=a.directiveStart,V=g>>20,ue=h?T+V:a.directiveEnd;for(let we=c?T:T+V;we<ue;we++){const We=v[we];if(we<x&&u===We||we>=x&&We.type===u)return we}if(h){const we=v[x];if(we&&Tr(we)&&we.type===u)return x}return null}function Vc(a,o,u,c){let h=a[u];const g=o.data;if(function Rp(a){return a instanceof Yo}(h)){const v=h;v.resolving&&function St(a,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${a}`:"";throw new Ke(-200,`Circular dependency in DI detected for ${a}${u}`)}(Ye(g[u]));const T=I(v.canSeeViewProviders);v.resolving=!0;const x=v.injectImpl?ai(v.injectImpl):null;nu(a,c,Et.Default);try{h=a[u]=v.factory(void 0,g,a,c),o.firstCreatePass&&u>=c.directiveStart&&
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function lu(a,o,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const v=Sr(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],o)}finally{null!==x&&ai(x),I(T),v.resolving=!1,su()}}return h}function p0(a,o,u){return!!(u[o+(a>>5)]&1<<a)}function g0(a,o){return!(a&Et.Self||a&Et.Host&&o)}class Zo{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return hu(this._tNode,this._lView,o,c,u)}}function m0(a){return Nt(()=>{const o=a.prototype.constructor,u=o[pe]||v0(o),c=Object.prototype;let h=Object.getPrototypeOf(a.prototype).constructor;for(;h&&h!==c;){const g=h[pe]||v0(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function v0(a){return ut(a)?()=>{const o=v0(De(a));return o&&o()}:Ti(a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Gc(a){return function kr(a,o){if("class"===o)return a.classes;if("style"===o)return a.styles;const u=a.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const g=u[h];if(qo(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(g===o)return u[h+1];h+=2}}}return null}(wi(),a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Jo="__parameters__";function mu(a,o,u){return Nt(()=>{const c=function Ma(a){return function(...u){if(a){const c=a(...u);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const v=new h(...g);return T.annotation=v,T;function T(x,B,V){const ee=x.hasOwnProperty(Jo)?x[Jo]:Object.defineProperty(x,Jo,{value:[]})[Jo];for(;ee.length<=V;)ee.push(null);return(ee[V]=ee[V]||[]).push(v),x}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=a,h.annotationCls=h,h})}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class ui{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=fn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const o1=new ui("AnalyzeForEntryComponents");function xs(a,o){void 0===o&&(o=a);for(let u=0;u<a.length;u++){let c=a[u];Array.isArray(c)?(o===a&&(o=a.slice(0,u)),xs(c,o)):o!==a&&o.push(c)}return o}function As(a,o){a.forEach(u=>Array.isArray(u)?As(u,o):o(u))}function Hp(a,o,u){o>=a.length?a.push(u):a.splice(o,0,u)}function Sf(a,o){return o>=a.length-1?a.pop():a.splice(o,1)[0]}function Cf(a,o){const u=[];for(let c=0;c<a;c++)u.push(o);return u}function Fr(a,o,u){let c=Lr(a,o);return c>=0?a[1|c]=u:(c=~c,function yu(a,o,u,c){let h=a.length;if(h==o)a.push(u,c);else if(1===h)a.push(c,a[0]),a[0]=u;else{for(h--,a.push(a[h-1],a[h]);h>o;)a[h]=a[h-2],h--;a[o]=u,a[o+1]=c}}(a,c,o,u)),c}function Ef(a,o){const u=Lr(a,o);if(u>=0)return a[1|u]}function Lr(a,o){return function b0(a,o,u){let c=0,h=a.length>>u;for(;h!==c;){const g=c+(h-c>>1),v=a[g<<u];if(o===v)return g<<u;v>o?h=g:c=g+1}return~(h<<u)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(a,o,1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const bu={},xf="__NG_DI_FLAG__",Af="ngTempTokenPath",Ai=/\n/gm,Mf="__source",Nf=Te({provide:String,useValue:Te});let Tu;function If(a){const o=Tu;return Tu=a,o}function Wc(a,o=Et.Default){if(void 0===Tu)throw new Ke(203,"");return null===Tu?Qi(a,void 0,o):Tu.get(a,o&Et.Optional?null:void 0,o)}function Wi(a,o=Et.Default){return(function ys(){return An}()||Wc)(De(a),o)}const g1=Wi;function C0(a){const o=[];for(let u=0;u<a.length;u++){const c=De(a[u]);if(Array.isArray(c)){if(0===c.length)throw new Ke(900,"");let h,g=Et.Default;for(let v=0;v<c.length;v++){const T=c[v],x=hE(T);"number"==typeof x?-1===x?h=T.token:g|=x:h=T}o.push(Wi(h,g))}else o.push(Wi(c))}return o}function Pf(a,o){return a[xf]=o,a.prototype[xf]=o,a}function hE(a){return a[xf]}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Gp=Pf(mu("Inject",a=>({token:a})),-1),Rf=Pf(mu("Optional"),8),$c=Pf(mu("SkipSelf"),4);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Yc,Ff;function Du(a){var o;return(null===(o=function zp(){if(void 0===Yc&&(Yc=null,Mn.trustedTypes))try{Yc=Mn.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Yc}())||void 0===o?void 0:o.createHTML(a))||a}function w0(a){var o;return(null===(o=function Yp(){if(void 0===Ff&&(Ff=null,Mn.trustedTypes))try{Ff=Mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return Ff}())||void 0===o?void 0:o.createHTML(a))||a}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class po{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function go(a){return a instanceof po?a.changingThisBreaksApplicationSecurity:a}function Kc(a,o){const u=function T1(a){return a instanceof po&&a.getTypeName()||null}(a);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function N0(a){const o=new D1(a);return function E1(){try{return!!(new window.DOMParser).parseFromString(Du(""),"text/html")}catch(a){return!1}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */()?new C1(o):o}class C1{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Du(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class D1{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Du(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Du(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const v=u.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const w1=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,x1=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function re(a){return(a=String(a)).match(w1)||a.match(x1)?a:"unsafe:"+a}function I0(a){return(a=String(a)).split(",").map(o=>re(o.trim())).join(", ")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function at(a){const o={};for(const u of a.split(","))o[u]=!0;return o}function Cr(...a){const o={};for(const u of a)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const O0=at("area,br,col,hr,img,wbr"),zt=at("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),jt=at("rp,rt"),Kp=Cr(O0,Cr(zt,at("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cr(jt,at("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cr(jt,zt)),qp=at("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bf=at("srcset"),P0=Cr(qp,Bf,at("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),at("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Hf=at("script,style,template");class M1{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Kp.hasOwnProperty(u))return this.sanitizedSomething=!0,!Hf.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let h=0;h<c.length;h++){const g=c.item(h),v=g.name,T=v.toLowerCase();if(!P0.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let x=g.value;qp[T]&&(x=re(x)),Bf[T]&&(x=I0(x)),this.buf.push(" ",v,'="',Xp(x),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Kp.hasOwnProperty(u)&&!O0.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Xp(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const N1=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,R0=/([^\#-~ |!])/g;function Xp(a){return a.replace(/&/g,"&amp;").replace(N1,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(R0,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uf;function qc(a){return"content"in a&&function I1(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(a)?a.content:null}var Si=(()=>((Si=Si||{})[Si.NONE=0]="NONE",Si[Si.HTML=1]="HTML",Si[Si.STYLE=2]="STYLE",Si[Si.SCRIPT=3]="SCRIPT",Si[Si.URL=4]="URL",Si[Si.RESOURCE_URL=5]="RESOURCE_URL",Si))();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function k0(a){const o=Qc();return o?w0(o.sanitize(Si.HTML,a)||""):Kc(a,"HTML")?w0(go(a)):function Vf(a,o){let u=null;try{Uf=Uf||N0(a);let c=o?String(o):"";u=Uf.getInertBodyElement(c);let h=5,g=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=g,g=u.innerHTML,u=Uf.getInertBodyElement(c)}while(c!==g);return Du((new M1).sanitizeChildren(qc(u)||u))}finally{if(u){const c=qc(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}(P(),ye(a))}function Xc(a){const o=Qc();return o?o.sanitize(Si.URL,a)||"":Kc(a,"URL")?go(a):re(ye(a))}function Qc(){const a=nt();return a&&a[12]}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const k1="__ngContext__";function Zn(a,o){a[k1]=o}function B0(a){const o=function Jc(a){return a[k1]||null}(a);return o?Array.isArray(o)?o:o.lView:null}function G0(a){return a.ngOriginalError}function Dr(a,...o){a.error(...o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class ed{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),c=function j0(a){return a&&a.ngErrorLogger||Dr}(o);c(this._console,"ERROR",o),u&&c(this._console,"ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&G0(o);for(;u&&G0(u);)u=G0(u);return u||null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const W0=/^>|^->|<!--|-->|--!>|<!-$/g,G1=/(<|>)/;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const W1=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Mn))();function Y0(a){return a.ownerDocument.defaultView}function ea(a){return a instanceof Function?a():a}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
var Is=(()=>((Is=Is||{})[Is.Important=1]="Important",Is[Is.DashCase=2]="DashCase",Is))();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let eg;function tg(a,o){return eg(a,o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function il(a){const o=a[3];return bi(o)?o[3]:o}function ng(a){return Z0(a[13])}function ig(a){return Z0(a[4])}function Z0(a){for(;null!==a&&!bi(a);)a=a[4];return a}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Nu(a,o,u,c,h){if(null!=c){let g,v=!1;bi(c)?g=c:Ri(c)&&(v=!0,c=c[0]);const T=ht(c);0===a&&null!==u?null==h?rl(o,u,T):Na(o,u,T,h||null,!0):1===a&&null!==u?Na(o,u,T,h||null,!0):2===a?dg(o,T,v):3===a&&o.destroyNode(T),null!=g&&function nS(a,o,u,c,h){const g=u[7];g!==ht(u)&&Nu(o,a,c,g,h);for(let T=10;T<u.length;T++){const x=u[T];Qf(x[1],x,a,o,c,g)}}(o,a,g,u,h)}}function rg(a,o){return se(a)?a.createText(o):a.createTextNode(o)}function J0(a,o,u){se(a)?a.setValue(o,u):o.textContent=u}function Y1(a,o){return a.createComment(function $0(a){return a.replace(W0,o=>o.replace(G1,"\u200b$1\u200b"))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(o))}function sg(a,o,u){if(se(a))return a.createElement(o,u);{const c=null!==u?function eu(a){const o=a.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(u):null;return null===c?a.createElement(o):a.createElementNS(c,o)}}function ag(a,o){const u=a[9],c=u.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Da(h,-1)),u.splice(c,1)}function og(a,o){if(a.length<=10)return;const u=10+o,c=a[u];if(c){const h=c[17];null!==h&&h!==a&&ag(h,c),o>0&&(a[u-1][4]=c[4]);const g=Sf(a,10+o);!function e_(a,o){Qf(a,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const v=g[19];null!==v&&v.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function n_(a,o){if(!(256&o[2])){const u=o[11];se(u)&&u.destroyNode&&Qf(a,o,u,3,null,null),function t_(a){let o=a[13];if(!o)return lg(a[1],a);for(;o;){let u=null;if(Ri(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==a;)Ri(o)&&lg(o[1],o),o=o[3];null===o&&(o=a),Ri(o)&&lg(o[1],o),u=o&&o[4]}o=u}}(o)}}function lg(a,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function J1(a,o){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let c=0;c<u.length;c+=2){const h=o[u[c]];if(!(h instanceof Yo)){const g=u[c+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const T=h[g[v]],x=g[v+1];try{x.call(T)}finally{}}else try{g.call(h)}finally{}}}}(a,o),function Z1(a,o){const u=a.cleanup,c=o[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const v=u[g+1],T="function"==typeof v?v(o):ht(o[v]),x=c[h=u[g+2]],B=u[g+3];"boolean"==typeof B?T.removeEventListener(u[g],x,B):B>=0?c[h=B]():c[h=-B].unsubscribe(),g+=2}else{const v=c[h=u[g+1]];u[g].call(v)}if(null!==c){for(let g=h+1;g<c.length;g++)c[g]();o[7]=null}}(a,o),1===o[1].type&&se(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&bi(o[3])){u!==o[3]&&ag(u,o);const c=o[19];null!==c&&c.detachView(a)}}}function i_(a,o,u){return hi(a,o.parent,u)}function hi(a,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const h=a.data[c.directiveStart].encapsulation;if(h===Jt.None||h===Jt.Emulated)return null}return Vt(c,u)}function Na(a,o,u,c,h){se(a)?a.insertBefore(o,u,c,h):o.insertBefore(u,c,h)}function rl(a,o,u){se(a)?a.appendChild(o,u):o.appendChild(u)}function r_(a,o,u,c,h){null!==c?Na(a,o,u,c,h):rl(a,o,u)}function ki(a,o){return se(a)?a.parentNode(o):o.parentNode}function nd(a,o,u){return a_(a,o,u)}function Kf(a,o,u){return 40&a.type?Vt(a,u):null}let ug,a_=Kf;function o_(a,o){a_=a,ug=o}function qf(a,o,u,c){const h=i_(a,c,o),g=o[11],T=nd(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(u))for(let x=0;x<u.length;x++)r_(g,h,u[x],T,!1);else r_(g,h,u,T,!1);void 0!==ug&&ug(g,c,o,u,h)}function Xf(a,o){if(null!==o){const u=o.type;if(3&u)return Vt(o,a);if(4&u)return cg(-1,a[o.index]);if(8&u){const c=o.child;if(null!==c)return Xf(a,c);{const h=a[o.index];return bi(h)?cg(-1,h):ht(h)}}if(32&u)return tg(o,a)()||ht(a[o.index]);{const c=l_(a,o);return null!==c?Array.isArray(c)?c[0]:Xf(il(a[16]),c):Xf(a,o.next)}}return null}function l_(a,o){return null!==o?a[16][6].projection[o.projection]:null}function cg(a,o){const u=10+a+1;if(u<o.length){const c=o[u],h=c[1].firstChild;if(null!==h)return Xf(c,h)}return o[7]}function dg(a,o,u){const c=ki(a,o);c&&function s_(a,o,u,c){se(a)?a.removeChild(o,u,c):o.removeChild(u)}(a,c,o,u)}function fg(a,o,u,c,h,g,v){for(;null!=u;){const T=c[u.index],x=u.type;if(v&&0===o&&(T&&Zn(ht(T),c),u.flags|=4),64!=(64&u.flags))if(8&x)fg(a,o,u.child,c,h,g,!1),Nu(o,a,h,T,g);else if(32&x){const B=tg(u,c);let V;for(;V=B();)Nu(o,a,h,V,g);Nu(o,a,h,T,g)}else 16&x?u_(a,o,c,u,h,g):Nu(o,a,h,T,g);u=v?u.projectionNext:u.next}}function Qf(a,o,u,c,h,g){fg(u,c,a.firstChild,o,h,g,!1)}function u_(a,o,u,c,h,g){const v=u[16],x=v[6].projection[c.projection];if(Array.isArray(x))for(let B=0;B<x.length;B++)Nu(o,a,h,x[B],g);else fg(a,o,x,v[3],h,g,!0)}function c_(a,o,u){se(a)?a.setAttribute(o,"style",u):o.style.cssText=u}function hg(a,o,u){se(a)?""===u?a.removeAttribute(o,"class"):a.setAttribute(o,"class",u):o.className=u}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function d_(a,o,u){let c=a.length;for(;;){const h=a.indexOf(o,u);if(-1===h)return h;if(0===h||a.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||a.charCodeAt(h+g)<=32)return h}u=h+1}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const f_="ng-template";function sS(a,o,u){let c=0;for(;c<a.length;){let h=a[c++];if(u&&"class"===h){if(h=a[c],-1!==d_(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<a.length&&"string"==typeof(h=a[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function kt(a){return 4===a.type&&a.value!==f_}function ME(a,o,u){return o===(4!==a.type||u?a.value:f_)}function NE(a,o,u){let c=4;const h=a.attrs||[],g=function OE(a){for(let o=0;o<a.length;o++)if(qo(a[o]))return o;return a.length}(h);let v=!1;for(let T=0;T<o.length;T++){const x=o[T];if("number"!=typeof x){if(!v)if(4&c){if(c=2|1&c,""!==x&&!ME(a,x,u)||""===x&&1===o.length){if($n(c))return!1;v=!0}}else{const B=8&c?x:o[++T];if(8&c&&null!==a.attrs){if(!sS(a.attrs,B,u)){if($n(c))return!1;v=!0}continue}const ee=pg(8&c?"class":x,h,kt(a),u);if(-1===ee){if($n(c))return!1;v=!0;continue}if(""!==B){let ue;ue=ee>g?"":h[ee+1].toLowerCase();const we=8&c?ue:null;if(we&&-1!==d_(we,B,0)||2&c&&B!==ue){if($n(c))return!1;v=!0}}}}else{if(!v&&!$n(c)&&!$n(x))return!1;if(v&&$n(x))continue;v=!1,c=x|1&c}}return $n(c)||v}function $n(a){return 0==(1&a)}function pg(a,o,u,c){if(null===o)return-1;let h=0;if(c||!u){let g=!1;for(;h<o.length;){const v=o[h];if(v===a)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let T=o[++h];for(;"string"==typeof T;)T=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function aS(a,o){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const c=a[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,a)}function gg(a,o,u=!1){for(let c=0;c<o.length;c++)if(NE(a,o[c],u))return!0;return!1}function oS(a,o){e:for(let u=0;u<o.length;u++){const c=o[u];if(a.length===c.length){for(let h=0;h<a.length;h++)if(a[h]!==c[h])continue e;return!0}}return!1}function h_(a,o){return a?":not("+o.trim()+")":o}function p_(a){let o=a[0],u=1,c=2,h="",g=!1;for(;u<a.length;){let v=a[u];if("string"==typeof v)if(2&c){const T=a[++u];h+="["+v+(T.length>0?'="'+T+'"':"")+"]"}else 8&c?h+="."+v:4&c&&(h+=" "+v);else""!==h&&!$n(v)&&(o+=h_(g,h),h=""),c=v,g=g||!$n(c);u++}return""!==h&&(o+=h_(g,h)),o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Xt={};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function uS(a){g_(ln(),nt(),hn()+a,Xs())}function g_(a,o,u,c){if(!c)if(3==(3&o[2])){const g=a.preOrderCheckHooks;null!==g&&oo(o,g,u)}else{const g=a.preOrderHooks;null!==g&&lo(o,g,0,u)}Qs(u)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function vo(a,o){return a<<17|o<<2}function ta(a){return a>>17&32767}function v_(a){return 2|a}function _o(a){return(131068&a)>>2}function __(a,o){return-131069&a|o<<2}function mg(a){return 1|a}function Ou(a,o){const u=a.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const h=u[c],g=u[c+1];if(-1!==g){const v=a.data[g];bf(h),v.contentQueries(2,o[g],g)}}}function $i(a,o,u,c,h,g,v,T,x,B){const V=o.blueprint.slice();return V[0]=h,V[2]=140|c,qs(V),V[3]=V[15]=a,V[8]=u,V[10]=v||a&&a[10],V[11]=T||a&&a[11],V[12]=x||a&&a[12]||null,V[9]=B||a&&a[9]||null,V[6]=g,V[16]=2==o.type?a[16]:V,V}function Pu(a,o,u,c,h){let g=a.data[o];if(null===g)g=rh(a,o,u,c,h),function gf(){return Bt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=c,g.attrs=h;const v=Ea();g.injectorIndex=null===v?-1:v.injectorIndex}return ds(g,!0),g}function rh(a,o,u,c,h){const g=pf(),v=Ic(),x=a.data[o]=function Pa(a,o,u,c,h,g){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,u,o,c,h);return null===a.firstChild&&(a.firstChild=x),null!==g&&(v?null==g.child&&null!==x.parent&&(g.child=x):null===g.next&&(g.next=x)),x}function qt(a,o,u,c){if(0===u)return-1;const h=o.length;for(let g=0;g<u;g++)o.push(c),a.blueprint.push(c),a.data.push(null);return h}function Ru(a,o,u){ro(o);try{const c=a.viewQuery;null!==c&&cl(1,c,u);const h=a.template;null!==h&&al(a,o,h,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Ou(a,o),a.staticViewQueries&&cl(2,a.viewQuery,u);const g=a.components;null!==g&&function ih(a,o){for(let u=0;u<o.length;u++)L_(a,o[u])}(o,g)}catch(c){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),c}finally{o[2]&=-5,ws()}}function ku(a,o,u,c){const h=o[2];if(256==(256&h))return;ro(o);const g=Xs();try{qs(o),function io(a){return Bt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&al(a,o,u,2,c);const v=3==(3&h);if(!g)if(v){const B=a.preOrderCheckHooks;null!==B&&oo(o,B,null)}else{const B=a.preOrderHooks;null!==B&&lo(o,B,0,null),uo(o,0)}if(function F_(a){for(let o=ng(a);null!==o;o=ig(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const h=u[c],g=h[3];0==(1024&h[2])&&Da(g,1),h[2]|=1024}}}(o),function La(a){for(let o=ng(a);null!==o;o=ig(o))for(let u=10;u<o.length;u++){const c=o[u],h=c[1];jn(c)&&ku(h,c,h.template,c[8])}}(o),null!==a.contentQueries&&Ou(a,o),!g)if(v){const B=a.contentCheckHooks;null!==B&&oo(o,B)}else{const B=a.contentHooks;null!==B&&lo(o,B,1),uo(o,1)}!function w_(a,o){const u=a.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)Qs(~h);else{const g=h,v=u[++c],T=u[++c];vf(v,g),T(2,o[g])}}}finally{Qs(-1)}}(a,o);const T=a.components;null!==T&&function nh(a,o){for(let u=0;u<o.length;u++)Bu(a,o[u])}(o,T);const x=a.viewQuery;if(null!==x&&cl(2,x,c),!g)if(v){const B=a.viewCheckHooks;null!==B&&oo(o,B)}else{const B=a.viewHooks;null!==B&&lo(o,B,2),uo(o,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Da(o[3],-1))}finally{ws()}}function x_(a,o,u,c){const h=o[10],g=!Xs(),v=Ei(o);try{g&&!v&&h.begin&&h.begin(),v&&Ru(a,o,c),ku(a,o,u,c)}finally{g&&!v&&h.end&&h.end()}}function al(a,o,u,c,h){const g=hn(),v=2&c;try{Qs(-1),v&&o.length>20&&g_(a,o,20,Xs()),u(c,h)}finally{Qs(g)}}function A_(a,o,u){if(zs(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,u[g],g)}}}function ri(a,o,u){!hf()||(function vS(a,o,u,c){const h=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||Ct(u,o),Zn(c,o);const v=u.initialInputs;for(let T=h;T<g;T++){const x=a.data[T],B=Tr(x);B&&ll(o,u,x);const V=Vc(o,a,T,u);Zn(V,o),null!==v&&Fa(0,T-h,V,x,0,v),B&&(fi(u.index,o)[8]=V)}}(a,o,u,Vt(u,o)),128==(128&u.flags)&&function R_(a,o,u){const c=u.directiveStart,h=u.directiveEnd,v=u.index,T=function _f(){return Bt.lFrame.currentDirectiveIndex}();try{Qs(v);for(let x=c;x<h;x++){const B=a.data[x],V=o[x];yf(x),(null!==B.hostBindings||0!==B.hostVars||null!==B.hostAttrs)&&Eg(B,V)}}finally{Qs(-1),yf(T)}}(a,o,u))}function Os(a,o,u=Vt){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const v=c[g+1],T=-1===v?u(o,a):a[v];a[h++]=T}}}function Fu(a){const o=a.tView;return null===o||o.incompleteFirstPass?a.tView=To(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):o}function To(a,o,u,c,h,g,v,T,x,B){const V=20+c,ee=V+h,ue=function zi(a,o){const u=[];for(let c=0;c<o;c++)u.push(c<a?null:Xt);return u}(V,ee),we="function"==typeof B?B():B;return ue[1]={type:a,blueprint:ue,template:u,queries:null,viewQuery:T,declTNode:o,data:ue.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:ee,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:x,consts:we,incompleteFirstPass:!1}}function M_(a,o,u,c){const h=Ng(o);null===u?h.push(c):(h.push(u),a.firstCreatePass&&Ig(a).push(c,h.length-1))}function sh(a,o,u){for(let c in a)if(a.hasOwnProperty(c)){const h=a[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,h):u[c]=[o,h]}return u}function tr(a,o,u,c,h,g,v,T){const x=Vt(o,u);let V,B=o.inputs;!T&&null!=B&&(V=B[c])?(dh(a,u,V,c,h),Ta(o)&&function Ra(a,o){const u=fi(o,a);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(c=function I_(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(c),h=null!=v?v(h,o.value||"",c):h,se(g)?g.setProperty(x,c,h):Lc(c)||(x.setProperty?x.setProperty(c,h):x[c]=h))}function od(a,o,u,c){let h=!1;if(hf()){const g=function _S(a,o,u){const c=a.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const v=c[g];gg(u,v.selectors,!1)&&(h||(h=[]),un(Ct(u,o),a,v.type),Tr(v)?(ol(a,u),h.unshift(v)):h.push(v))}return h}(a,o,u),v=null===c?null:{"":-1};if(null!==g){h=!0,wg(u,a.data.length,g.length);for(let V=0;V<g.length;V++){const ee=g[V];ee.providersResolver&&ee.providersResolver(ee)}let T=!1,x=!1,B=qt(a,o,g.length,null);for(let V=0;V<g.length;V++){const ee=g[V];u.mergedAttrs=Xo(u.mergedAttrs,ee.hostAttrs),cn(a,u,o,B,ee),k_(B,ee,v),null!==ee.contentQueries&&(u.flags|=8),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(u.flags|=128);const ue=ee.type.prototype;!T&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),T=!0),!x&&(ue.ngOnChanges||ue.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),x=!0),B++}!function N_(a,o){const c=o.directiveEnd,h=a.data,g=o.attrs,v=[];let T=null,x=null;for(let B=o.directiveStart;B<c;B++){const V=h[B],ee=V.inputs,ue=null===g||kt(o)?null:ld(ee,g);v.push(ue),T=sh(ee,B,T),x=sh(V.outputs,B,x)}null!==T&&(T.hasOwnProperty("class")&&(o.flags|=16),T.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=T,o.outputs=x}(a,u)}v&&function Lu(a,o,u){if(o){const c=a.localNames=[];for(let h=0;h<o.length;h+=2){const g=u[o[h+1]];if(null==g)throw new Ke(-301,!1);c.push(o[h],g)}}}(u,c,v)}return u.mergedAttrs=Xo(u.mergedAttrs,u.attrs),h}function hr(a,o,u,c,h,g){const v=g.hostBindings;if(v){let T=a.hostBindingOpCodes;null===T&&(T=a.hostBindingOpCodes=[]);const x=~o.index;(function oh(a){let o=a.length;for(;o>0;){const u=a[--o];if("number"==typeof u&&u<0)return u}return 0})(T)!=x&&T.push(x),T.push(c,h,v)}}function Eg(a,o){null!==a.hostBindings&&a.hostBindings(1,o)}function ol(a,o){o.flags|=2,(a.components||(a.components=[])).push(o.index)}function k_(a,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=a;Tr(o)&&(u[""]=a)}}function wg(a,o,u){a.flags|=1,a.directiveStart=o,a.directiveEnd=o+u,a.providerIndexes=o}function cn(a,o,u,c,h){a.data[c]=h;const g=h.factory||(h.factory=Ti(h.type)),v=new Yo(g,Tr(h),null);a.blueprint[c]=v,u[c]=v,hr(a,o,0,c,qt(a,u,h.hostVars,Xt),h)}function ll(a,o,u){const c=Vt(o,a),h=Fu(u),g=a[10],v=Ba(a,$i(a,h,null,u.onPush?64:16,c,o,g,g.createRenderer(c,u),null,null));a[o.index]=v}function ka(a,o,u,c,h,g,v){if(null==g)se(a)?a.removeAttribute(o,h,u):o.removeAttribute(h);else{const T=null==v?ye(g):v(g,c||"",h);se(a)?a.setAttribute(o,h,T,u):u?o.setAttributeNS(u,h,T):o.setAttribute(h,T)}}function Fa(a,o,u,c,h,g){const v=g[o];if(null!==v){const T=c.setInput;for(let x=0;x<v.length;){const B=v[x++],V=v[x++],ee=v[x++];null!==T?c.setInput(u,ee,B,V):u[V]=ee}}}function ld(a,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;a.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,a[h],o[c+1])),c+=2}else c+=2;else c+=4}return u}function xg(a,o,u,c){return new Array(a,!0,!1,o,null,0,c,u,null,null)}function Bu(a,o){const u=fi(o,a);if(jn(u)){const c=u[1];80&u[2]?ku(c,u,c.template,u[8]):u[5]>0&&Hu(u)}}function Hu(a){for(let c=ng(a);null!==c;c=ig(c))for(let h=10;h<c.length;h++){const g=c[h];if(1024&g[2]){const v=g[1];ku(v,g,v.template,g[8])}else g[5]>0&&Hu(g)}const u=a[1].components;if(null!==u)for(let c=0;c<u.length;c++){const h=fi(u[c],a);jn(h)&&h[5]>0&&Hu(h)}}function L_(a,o){const u=fi(o,a),c=u[1];(function B_(a,o){for(let u=o.length;u<a.blueprint.length;u++)o.push(a.blueprint[u])})(c,u),Ru(c,u,u[8])}function Ba(a,o){return a[13]?a[14][4]=o:a[13]=o,a[14]=o,o}function ul(a){for(;a;){a[2]|=64;const o=il(a);if($r(a)&&!o)return a;a=o}return null}function ud(a,o,u){const c=o[10];c.begin&&c.begin();try{ku(a,o,a.template,u)}catch(h){throw V_(o,h),h}finally{c.end&&c.end()}}function Ag(a){!function uh(a){for(let o=0;o<a.components.length;o++){const u=a.components[o],c=B0(u),h=c[1];x_(h,c,h.template,u)}}(a[8])}function cl(a,o,u){bf(0),o(a,u)}const U_=(()=>Promise.resolve(null))();function Ng(a){return a[7]||(a[7]=[])}function Ig(a){return a.cleanup||(a.cleanup=[])}function V_(a,o){const u=a[9],c=u?u.get(ed,null):null;c&&c.handleError(o)}function dh(a,o,u,c,h){for(let g=0;g<u.length;){const v=u[g++],T=u[g++],x=o[v],B=a.data[v];null!==B.setInput?B.setInput(x,h,c,T):x[T]=h}}function Ps(a,o,u){const c=yn(o,a);J0(a[11],c,u)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function cd(a,o,u){let c=u?a.styles:null,h=u?a.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const T=o[v];"number"==typeof T?g=T:1==g?h=Le(h,T):2==g&&(c=Le(c,T+": "+o[++v]+";"))}u?a.styles=c:a.stylesWithoutHost=c,u?a.classes=h:a.classesWithoutHost=h}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const ra=new ui("INJECTOR",-1);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Og{get(o,u=bu){if(u===bu){const c=new Error(`NullInjectorError: No provider for ${je(o)}!`);throw c.name="NullInjectorError",c}return u}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const nr=new ui("Set Injector scope."),Uu={},Pg={};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Vu;function dd(){return void 0===Vu&&(Vu=new Og),Vu}function j_(a,o=null,u=null,c){const h=W_(a,o,u,c);return h._resolveInjectorDefTypes(),h}function W_(a,o=null,u=null,c){return new qr(a,u,o||dd(),c)}class qr{constructor(o,u,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&As(u,T=>this.processProvider(T,o,u)),As([o],T=>this.processInjectorType(T,[],g)),this.records.set(ra,ju(void 0,this));const v=this.records.get(nr);this.scope=null!=v?v.value:null,this.source=h||("object"==typeof o?null:je(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=bu,c=Et.Default){this.assertNotDestroyed();const h=If(this),g=ai(void 0);try{if(!(c&Et.SkipSelf)){let T=this.records.get(o);if(void 0===T){const x=function Ua(a){return"function"==typeof a||"object"==typeof a&&a instanceof ui}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(o)&&Ln(o);T=x&&this.injectableDefInScope(x)?ju(Yi(o),Uu):null,this.records.set(o,T)}if(null!=T)return this.hydrate(o,T)}return(c&Et.Self?dd():this.parent).get(o,u=c&Et.Optional&&u===bu?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Af]=v[Af]||[]).unshift(je(o)),h)throw v;return function pE(a,o,u,c){const h=a[Af];throw o[Mf]&&h.unshift(o[Mf]),a.message=function gE(a,o,u,c=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let h=je(o);if(Array.isArray(o))h=o.map(je).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let T=o[v];g.push(v+":"+("string"==typeof T?JSON.stringify(T):je(T)))}h=`{${g.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${a.replace(Ai,"\n  ")}`}("\n"+a.message,h,u,c),a.ngTokenPath=h,a[Af]=null,a}(v,o,"R3InjectorError",this.source)}throw v}finally{ai(g),If(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(je(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ke(205,!1)}processInjectorType(o,u,c){if(!(o=De(o)))return!1;let h=ti(o);const g=null==h&&o.ngModule||void 0,v=void 0===g?o:g,T=-1!==c.indexOf(v);if(void 0!==g&&(h=ti(g)),null==h)return!1;if(null!=h.imports&&!T){let V;c.push(v);try{As(h.imports,ee=>{this.processInjectorType(ee,u,c)&&(void 0===V&&(V=[]),V.push(ee))})}finally{}if(void 0!==V)for(let ee=0;ee<V.length;ee++){const{ngModule:ue,providers:we}=V[ee];As(we,We=>this.processProvider(We,ue,we||on))}}this.injectorDefTypes.add(v);const x=Ti(v)||(()=>new v);this.records.set(v,ju(x,Uu));const B=h.providers;if(null!=B&&!T){const V=o;As(B,ee=>this.processProvider(ee,V,B))}return void 0!==g&&void 0!==o.providers}processProvider(o,u,c){let h=Wu(o=De(o))?o:De(o&&o.provide);const g=function fh(a,o,u){return ps(a)?ju(void 0,a.useValue):ju(Rg(a),Uu)}(o);if(Wu(o)||!0!==o.multi)this.records.get(h);else{let v=this.records.get(h);v||(v=ju(void 0,Uu,!0),v.factory=()=>C0(v.multi),this.records.set(h,v)),h=o,v.multi.push(o)}this.records.set(h,g)}hydrate(o,u){return u.value===Uu&&(u.value=Pg,u.value=u.factory()),"object"==typeof u.value&&u.value&&function hh(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=De(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Yi(a){const o=Ln(a),u=null!==o?o.factory:Ti(a);if(null!==u)return u;if(a instanceof ui)throw new Ke(204,!1);if(a instanceof Function)return function Gu(a){const o=a.length;if(o>0)throw Cf(o,"?"),new Ke(204,!1);const u=function Kn(a){const o=a&&(a[jr]||a[vr]);if(o){const u=function Nr(a){if(a.hasOwnProperty("name"))return a.name;const o=(""+a).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Ke(204,!1)}function Rg(a,o,u){let c;if(Wu(a)){const h=De(a);return Ti(h)||Yi(h)}if(ps(a))c=()=>De(a.useValue);else if(function Ha(a){return!(!a||!a.useFactory)}(a))c=()=>a.useFactory(...C0(a.deps||[]));else if(function qn(a){return!(!a||!a.useExisting)}(a))c=()=>Wi(De(a.useExisting));else{const h=De(a&&(a.useClass||a.provide));if(!function fd(a){return!!a.deps}(a))return Ti(h)||Yi(h);c=()=>new h(...C0(a.deps))}return c}function ju(a,o,u=!1){return{factory:a,value:o,multi:u?[]:void 0}}function ps(a){return null!==a&&"object"==typeof a&&Nf in a}function Wu(a){return"function"==typeof a}let sa=(()=>{class a{static create(u,c){var h;if(Array.isArray(u))return j_({name:""},c,u,"");{const g=null!==(h=u.name)&&void 0!==h?h:"";return j_({name:g},u.parent,u.providers,g)}}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
return a.THROW_IF_NOT_FOUND=bu,a.NULL=new Og,a.\u0275prov=fn({token:a,providedIn:"any",factory:()=>Wi(ra)}),a.__NG_ELEMENT_ID__=-1,a})();function aa(a,o){uu(B0(a)[1],wi())}function Gg(a){let o=
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Y_(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const c=[a];for(;o;){let h;if(Tr(a))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ke(903,"");h=o.\u0275dir}if(h){if(u){c.push(h);const v=a;v.inputs=gd(a.inputs),v.declaredInputs=gd(a.declaredInputs),v.outputs=gd(a.outputs);const T=h.hostBindings;T&&wS(a,T);const x=h.viewQuery,B=h.contentQueries;if(x&&Yu(a,x),B&&Ku(a,B),ke(a.inputs,h.inputs),ke(a.declaredInputs,h.declaredInputs),ke(a.outputs,h.outputs),Tr(h)&&h.data.animation){const V=a.data;V.animation=(V.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const T=g[v];T&&T.ngInherit&&T(a),T===Gg&&(u=!1)}}o=Object.getPrototypeOf(o)}!function K_(a){let o=0,u=null;for(let c=a.length-1;c>=0;c--){const h=a[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Xo(h.hostAttrs,u=Xo(u,h.hostAttrs))}}(c)}function gd(a){return a===or?{}:a===on?[]:a}function Yu(a,o){const u=a.viewQuery;a.viewQuery=u?(c,h)=>{o(c,h),u(c,h)}:o}function Ku(a,o){const u=a.contentQueries;a.contentQueries=u?(c,h,g)=>{o(c,h,g),u(c,h,g)}:o}function wS(a,o){const u=a.hostBindings;a.hostBindings=u?(c,h)=>{o(c,h),u(c,h)}:o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let gh=null;function pl(){if(!gh){const a=Mn.Symbol;if(a&&a.iterator)gh=a.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(gh=c)}}}return gh}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function qu(a){return!!$g(a)&&(Array.isArray(a)||!(a instanceof Map)&&pl()in a)}function $g(a){return null!==a&&("function"==typeof a||"object"==typeof a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Rs(a,o,u){return a[o]=u}function qi(a,o,u){return!Object.is(a[o],u)&&(a[o]=u,!0)}function So(a,o,u,c){const h=qi(a,o,u);return qi(a,o+1,c)||h}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function zg(a,o,u,c){const h=nt();return qi(h,wa(),o)&&(ln(),function hs(a,o,u,c,h,g){const v=Vt(a,o);ka(o[11],v,g,a.value,u,c,h)}(Wn(),h,a,o,u,c)),zg}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function vl(a,o,u,c){return qi(a,wa(),u)?o+ye(u)+c:Xt}function X_(a,o,u,c,h,g,v,T){const x=nt(),B=ln(),V=a+20,ee=B.firstCreatePass?
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function IS(a,o,u,c,h,g,v,T,x){const B=o.consts,V=Pu(o,a,4,v||null,cs(B,T));od(o,u,V,cs(B,x)),uu(o,V);const ee=V.tViews=To(2,V,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,B);return null!==o.queries&&(o.queries.template(o,V),ee.queries=o.queries.embeddedTView(V)),V}(V,B,x,o,u,c,h,g,v):B.data[V];ds(ee,!1);const ue=x[11].createComment("");qf(B,x,ue,ee),Zn(ue,x),Ba(x,x[V]=xg(ue,x,ue,ee)),kn(ee)&&ri(B,x,ee),null!=v&&Os(x,ee,T)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Q_(a){return Gn(function Wo(){return Bt.lFrame.contextLView}(),20+a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function wl(a,o=Et.Default){const u=nt();return null===u?Wi(a,o):hu(wi(),u,De(a),o)}function Sh(){throw new Error("invalid")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Jg(a,o,u){const c=nt();return qi(c,wa(),o)&&tr(ln(),Wn(),c,a,o,c[11],u,!1),Jg}function em(a,o,u,c,h){const v=h?"class":"style";dh(a,u,o.inputs[v],v,c)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function vd(a,o,u,c){const h=nt(),g=ln(),v=20+a,T=h[11],x=h[v]=sg(T,o,function Tf(){return Bt.lFrame.currentNamespace}()),B=g.firstCreatePass?function tm(a,o,u,c,h,g,v){const T=o.consts,B=Pu(o,a,2,h,cs(T,g));return od(o,u,B,cs(T,v)),null!==B.attrs&&cd(B,B.attrs,!1),null!==B.mergedAttrs&&cd(B,B.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,B),B}(v,g,h,0,o,u,c):g.data[v];ds(B,!0);const V=B.mergedAttrs;null!==V&&du(T,x,V);const ee=B.classes;null!==ee&&hg(T,x,ee);const ue=B.styles;return null!==ue&&c_(T,x,ue),64!=(64&B.flags)&&qf(g,h,x,B),0===function tu(){return Bt.lFrame.elementDepthCount}()&&Zn(x,h),function jo(){Bt.lFrame.elementDepthCount++}(),kn(B)&&(ri(g,h,B),A_(g,B,h)),null!==c&&Os(h,B),vd}function xl(){let a=wi();Ic()?Oc():(a=a.parent,ds(a,!1));const o=a;!function Nc(){Bt.lFrame.elementDepthCount--}();const u=ln();return u.firstCreatePass&&(uu(u,a),zs(a)&&u.queries.elementEnd(a)),null!=o.classesWithoutHost&&function h0(a){return 0!=(16&a.flags)}(o)&&em(u,o,nt(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function kp(a){return 0!=(32&a.flags)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(o)&&em(u,o,nt(),o.stylesWithoutHost,!1),xl}function Ch(a,o,u,c){return vd(a,o,u,c),xl(),Ch}function _d(a,o,u){const c=nt(),h=ln(),g=a+20,v=h.firstCreatePass?
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function fy(a,o,u,c,h){const g=o.consts,v=cs(g,c),T=Pu(o,a,8,"ng-container",v);return null!==v&&cd(T,v,!0),od(o,u,T,cs(g,h)),null!==o.queries&&o.queries.elementStart(o,T),T}(g,h,c,o,u):h.data[g];ds(v,!0);const T=c[g]=c[11].createComment("");return qf(h,c,T,v),Zn(T,c),kn(v)&&(ri(h,c,v),A_(h,v,c)),null!=u&&Os(c,v),_d}function yd(){let a=wi();const o=ln();return Ic()?Oc():(a=a.parent,ds(a,!1)),o.firstCreatePass&&(uu(o,a),zs(a)&&o.queries.elementEnd(a)),yd}function py(){return nt()}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function nm(a){return!!a&&"function"==typeof a.then}function im(a){return!!a&&"function"==typeof a.subscribe}const bd=im;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Dh(a,o,u,c){const h=nt(),g=ln(),v=wi();return function rm(a,o,u,c,h,g,v,T){const x=kn(c),V=a.firstCreatePass&&Ig(a),ee=o[8],ue=Ng(o);let we=!0;if(3&c.type||T){const _t=Vt(c,o),xt=T?T(_t):_t,qe=ue.length,Ft=T?rn=>T(ht(rn[c.index])):c.index;if(se(u)){let rn=null;if(!T&&x&&(rn=function my(a,o,u,c){const h=a.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===u&&h[g+1]===c){const T=o[7],x=h[g+2];return T.length>x?T[x]:null}"string"==typeof v&&(g+=2)}return null}(a,o,h,c.index)),null!==rn)(rn.__ngLastListenerFn__||rn).__ngNextListenerFn__=g,rn.__ngLastListenerFn__=g,we=!1;else{g=Td(c,o,ee,g,!1);const xn=u.listen(xt,h,g);ue.push(g,xn),V&&V.push(h,Ft,qe,qe+1)}}else g=Td(c,o,ee,g,!0),xt.addEventListener(h,g,v),ue.push(g),V&&V.push(h,Ft,qe,v)}else g=Td(c,o,ee,g,!1);const We=c.outputs;let ot;if(we&&null!==We&&(ot=We[h])){const _t=ot.length;if(_t)for(let xt=0;xt<_t;xt+=2){const ts=o[ot[xt]][ot[xt+1]].subscribe(g),Vl=ue.length;ue.push(g,ts),V&&V.push(h,c.index,Vl,-(Vl+1))}}}(g,h,h[11],v,a,o,!!u,c),Dh}function sm(a,o,u,c){try{return!1!==u(c)}catch(h){return V_(a,h),!1}}function Td(a,o,u,c,h){return function g(v){if(v===Function)return c;const T=2&a.flags?fi(a.index,o):o;0==(32&o[2])&&ul(T);let x=sm(o,0,c,v),B=g.__ngNextListenerFn__;for(;B;)x=sm(o,0,B,v)&&x,B=B.__ngNextListenerFn__;return h&&!1===x&&(v.preventDefault(),v.returnValue=!1),x}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Eh(a=1){return function au(a){return(Bt.lFrame.contextLView=function so(a,o){for(;a>0;)o=o[15],a--;return o}(a,Bt.lFrame.contextLView))[8]}(a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function VS(a,o){let u=null;const c=function IE(a){const o=a.attrs;if(null!=o){const u=o.indexOf(5);if(0==(1&u))return o[u+1]}return null}(a);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===c?gg(a,g,!0):oS(c,g))return h}else u=h}return u}function nc(a){const o=nt()[16][6];if(!o.projection){const c=o.projection=Cf(a?a.length:1,null),h=c.slice();let g=o.child;for(;null!==g;){const v=a?VS(g,a):0;null!==v&&(h[v]?h[v].projectionNext=g:c[v]=g,h[v]=g),g=g.next}}}function ic(a,o=0,u){const c=nt(),h=ln(),g=Pu(h,20+a,16,null,u||null);null===g.projection&&(g.projection=o),Oc(),64!=(64&g.flags)&&function tS(a,o,u){u_(o[11],0,o,u,i_(a,u,o),nd(u.parent||o[6],u,o))}(h,c,g)}function wh(a,o,u){return Va(a,"",o,"",u),wh}function Va(a,o,u,c,h){const g=nt(),v=vl(g,o,u,c);return v!==Xt&&tr(ln(),Wn(),g,a,v,g[11],h,!1),Va}function um(a,o,u,c,h){const g=a[u+1],v=null===o;let T=c?ta(g):_o(g),x=!1;for(;0!==T&&(!1===x||v);){const V=a[T+1];_y(a[T],o)&&(x=!0,a[T+1]=c?mg(V):v_(V)),T=c?ta(V):_o(V)}x&&(a[u+1]=c?v_(g):mg(g))}function _y(a,o){return null===a||null==o||(Array.isArray(a)?a[1]:a)===o||!(!Array.isArray(a)||"string"!=typeof o)&&Lr(a,o)>=0}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Fi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sd(a){return a.substring(Fi.key,Fi.keyEnd)}function dm(a,o){const u=Fi.textEnd;return u===o?-1:(o=Fi.keyEnd=function Ty(a,o,u){for(;o<u&&a.charCodeAt(o)>32;)o++;return o}(a,Fi.key=o,u),Al(a,o,u))}function Al(a,o,u){for(;o<u&&a.charCodeAt(o)<=32;)o++;return o}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Ga(a,o,u){return Fs(a,o,u,!1),Ga}function Rh(a,o){return Fs(a,o,null,!0),Rh}function Cy(a){!function Ls(a,o,u,c){const h=ln(),g=Es(2);h.firstUpdatePass&&Dy(h,null,g,c);const v=nt();if(u!==Xt&&qi(v,g,u)){const T=h.data[hn()];if(xy(T,c)&&!kh(h,g)){let x=c?T.classesWithoutHost:T.stylesWithoutHost;null!==x&&(u=Le(x,u||"")),em(h,T,v,u,c)}else!function Fh(a,o,u,c,h,g,v,T){h===Xt&&(h=on);let x=0,B=0,V=0<h.length?h[0]:null,ee=0<g.length?g[0]:null;for(;null!==V||null!==ee;){const ue=x<h.length?h[x+1]:void 0,we=B<g.length?g[B+1]:void 0;let ot,We=null;V===ee?(x+=2,B+=2,ue!==we&&(We=ee,ot=we)):null===ee||null!==V&&V<ee?(x+=2,We=V):(B+=2,We=ee,ot=we),null!==We&&_m(a,o,u,c,We,ot,v,T),V=x<h.length?h[x]:null,ee=B<g.length?g[B]:null}}(h,T,v,v[11],v[g+1],v[g+1]=function vm(a,o,u){if(null==u||""===u)return on;const c=[],h=go(u);if(Array.isArray(h))for(let g=0;g<h.length;g++)a(c,h[g],!0);else if("object"==typeof h)for(const g in h)h.hasOwnProperty(g)&&a(c,g,h[g]);else"string"==typeof h&&o(c,h);return c}(a,o,u),c,g)}}(Fr,ua,a,!0)}function ua(a,o){for(let u=function cm(a){return function hm(a){Fi.key=0,Fi.keyEnd=0,Fi.value=0,Fi.valueEnd=0,Fi.textEnd=a.length}(a),dm(a,Al(a,0,Fi.textEnd))}(o);u>=0;u=dm(o,u))Fr(a,Sd(o),!0)}function Fs(a,o,u,c){const h=nt(),g=ln(),v=Es(2);g.firstUpdatePass&&Dy(g,a,v,c),o!==Xt&&qi(h,v,o)&&_m(g,g.data[hn()],h,h[11],a,h[v+1]=function Bh(a,o){return null==a||("string"==typeof o?a+=o:"object"==typeof a&&(a=je(go(a)))),a}(o,u),c,v)}function kh(a,o){return o>=a.expandoStartIndex}function Dy(a,o,u,c){const h=a.data;if(null===h[u+1]){const g=h[hn()],v=kh(a,u);xy(g,c)&&null===o&&!v&&(o=!1),o=function Ey(a,o,u,c){const h=function $o(a){const o=Bt.lFrame.currentDirectiveIndex;return-1===o?null:a[o]}(a);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(u=Cd(u=mm(null,a,o,u,c),o.attrs,c),g=null);else{const v=o.directiveStylingLast;if(-1===v||a[v]!==h)if(u=mm(h,a,o,u,c),null===g){let x=function $S(a,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==_o(c))return a[ta(c)]}(a,o,c);void 0!==x&&Array.isArray(x)&&(x=mm(null,a,o,x[1],c),x=Cd(x,o.attrs,c),function wy(a,o,u,c){a[ta(u?o.classBindings:o.styleBindings)]=c}(a,o,c,x))}else g=function zS(a,o,u){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=Cd(c,a[g].hostAttrs,u);return Cd(c,o.attrs,u)}(a,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),u}(h,g,o,c),function vy(a,o,u,c,h,g){let v=g?o.classBindings:o.styleBindings,T=ta(v),x=_o(v);a[c]=u;let V,B=!1;if(Array.isArray(u)){const ee=u;V=ee[1],(null===V||Lr(ee,V)>0)&&(B=!0)}else V=u;if(h)if(0!==x){const ue=ta(a[T+1]);a[c+1]=vo(ue,T),0!==ue&&(a[ue+1]=__(a[ue+1],c)),a[T+1]=function PE(a,o){return 131071&a|o<<17}(a[T+1],c)}else a[c+1]=vo(T,0),0!==T&&(a[T+1]=__(a[T+1],c)),T=c;else a[c+1]=vo(x,0),0===T?T=c:a[x+1]=__(a[x+1],c),x=c;B&&(a[c+1]=v_(a[c+1])),um(a,V,c,!0),um(a,V,c,!1),function lm(a,o,u,c,h){const g=h?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof o&&Lr(g,o)>=0&&(u[c+1]=mg(u[c+1]))}(o,V,a,c,g),v=vo(T,x),g?o.classBindings=v:o.styleBindings=v}(h,g,o,u,v,c)}}function mm(a,o,u,c,h){let g=null;const v=u.directiveEnd;let T=u.directiveStylingLast;for(-1===T?T=u.directiveStart:T++;T<v&&(g=o[T],c=Cd(c,g.hostAttrs,h),g!==a);)T++;return null!==a&&(u.directiveStylingLast=T),c}function Cd(a,o,u){const c=u?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===c&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Fr(a,v,!!u||o[++g]))}return void 0===a?null:a}function _m(a,o,u,c,h,g,v,T){if(!(3&o.type))return;const x=a.data,B=x[T+1];rc(function Zf(a){return 1==(1&a)}(B)?Lh(x,o,u,h,_o(B),v):void 0)||(rc(g)||function cS(a){return 2==(2&a)}(B)&&(g=Lh(x,null,u,h,T,v)),function iS(a,o,u,c,h){const g=se(a);if(o)h?g?a.addClass(u,c):u.classList.add(c):g?a.removeClass(u,c):u.classList.remove(c);else{let v=-1===c.indexOf("-")?void 0:Is.DashCase;if(null==h)g?a.removeStyle(u,c,v):u.style.removeProperty(c);else{const T="string"==typeof h&&h.endsWith("!important");T&&(h=h.slice(0,-10),v|=Is.Important),g?a.setStyle(u,c,h,v):u.style.setProperty(c,h,T?"important":"")}}}(c,v,yn(hn(),u),h,g))}function Lh(a,o,u,c,h,g){const v=null===o;let T;for(;h>0;){const x=a[h],B=Array.isArray(x),V=B?x[1]:x,ee=null===V;let ue=u[h+1];ue===Xt&&(ue=ee?on:void 0);let we=ee?Ef(ue,c):V===c?ue:void 0;if(B&&!rc(we)&&(we=Ef(x,c)),rc(we)&&(T=we,v))return T;const We=a[h+1];h=v?ta(We):_o(We)}if(null!==o){let x=g?o.residualClasses:o.residualStyles;null!=x&&(T=Ef(x,c))}return T}function rc(a){return void 0!==a}function xy(a,o){return 0!=(a.flags&(o?16:32))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ci(a,o=""){const u=nt(),c=ln(),h=a+20,g=c.firstCreatePass?Pu(c,h,1,o,null):c.data[h],v=u[h]=rg(u[11],o);qf(c,u,v,g),ds(g,!1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ml(a){return Nl("",a,""),Ml}function Nl(a,o,u){const c=nt(),h=vl(c,a,o,u);return h!==Xt&&Ps(c,hn(),h),Nl}function Do(a,o,u,c,h){const g=nt(),v=function oa(a,o,u,c,h,g){const T=So(a,Pr(),u,h);return Es(2),T?o+ye(u)+c+ye(h)+g:Xt}(g,a,o,u,c,h);return v!==Xt&&Ps(g,hn(),v),Do}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function $h(a,o,u){const c=nt();return qi(c,wa(),o)&&tr(ln(),Wn(),c,a,o,c[11],u,!0),$h}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Ol=void 0;var ky=["en",[["a","p"],["AM","PM"],Ol],[["AM","PM"],Ol,Ol],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ol,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ol,"{1} 'at' {0}",Ol],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Ry(a){const u=Math.floor(Math.abs(a)),c=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let fa={};function wm(a){const o=function ZS(a){return a.toLowerCase().replace(/_/g,"-")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(a);let u=zh(o);if(u)return u;const c=o.split("-")[0];if(u=zh(c),u)return u;if("en"===c)return ky;throw new Error(`Missing locale data for the locale "${a}".`)}function xm(a){return wm(a)[Ut.PluralCase]}function zh(a){return a in fa||(fa[a]=Mn.ng&&Mn.ng.common&&Mn.ng.common.locales&&Mn.ng.common.locales[a]),fa[a]}var Ut=(()=>((Ut=Ut||{})[Ut.LocaleId=0]="LocaleId",Ut[Ut.DayPeriodsFormat=1]="DayPeriodsFormat",Ut[Ut.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ut[Ut.DaysFormat=3]="DaysFormat",Ut[Ut.DaysStandalone=4]="DaysStandalone",Ut[Ut.MonthsFormat=5]="MonthsFormat",Ut[Ut.MonthsStandalone=6]="MonthsStandalone",Ut[Ut.Eras=7]="Eras",Ut[Ut.FirstDayOfWeek=8]="FirstDayOfWeek",Ut[Ut.WeekendRange=9]="WeekendRange",Ut[Ut.DateFormat=10]="DateFormat",Ut[Ut.TimeFormat=11]="TimeFormat",Ut[Ut.DateTimeFormat=12]="DateTimeFormat",Ut[Ut.NumberSymbols=13]="NumberSymbols",Ut[Ut.NumberFormats=14]="NumberFormats",Ut[Ut.CurrencyCode=15]="CurrencyCode",Ut[Ut.CurrencySymbol=16]="CurrencySymbol",Ut[Ut.CurrencyName=17]="CurrencyName",Ut[Ut.Currencies=18]="Currencies",Ut[Ut.Directionality=19]="Directionality",Ut[Ut.PluralCase=20]="PluralCase",Ut[Ut.ExtraData=21]="ExtraData",Ut))();const Fy=["zero","one","two","few","many"],ac="en-US",xd={marker:"element"},xo={marker:"ICU"};var dn=(()=>((dn=dn||{})[dn.SHIFT=2]="SHIFT",dn[dn.APPEND_EAGERLY=1]="APPEND_EAGERLY",dn[dn.COMMENT=2]="COMMENT",dn))();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Yh=ac;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Nm(a,o,u){const c=o.insertBeforeIndex,h=Array.isArray(c)?c[0]:c;return null===h?Kf(a,0,u):ht(u[h])}function Ly(a,o,u,c,h){const g=o.insertBeforeIndex;if(Array.isArray(g)){let v=c,T=null;if(3&o.type||(T=v,v=h),null!==v&&0==(2&o.flags))for(let x=1;x<g.length;x++)Na(a,v,u[g[x]],T,!1)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function By(a,o){if(a.push(o),a.length>1)for(let u=a.length-2;u>=0;u--){const c=a[u];Hy(c)||Uy(c,o)&&null===Kh(c)&&nC(c,o.index)}}function Hy(a){return!(64&a.type)}function Uy(a,o){return Hy(o)||a.index>o.index}function Kh(a){const o=a.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function nC(a,o){const u=a.insertBeforeIndex;Array.isArray(u)?u[0]=o:(o_(Nm,Ly),a.insertBeforeIndex=o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Md(a,o){const u=a.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function Vy(a,o,u){const c=rh(a,u,64,null,null);return By(o,c),c}function Nd(a,o){const u=o[a.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function Im(a){return a>>>17}function qh(a){return(131070&a)>>>1}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Id=0,Od=0;function Qh(a,o,u,c){const h=u[11];let v,g=null;for(let T=0;T<o.length;T++){const x=o[T];if("string"==typeof x){const B=o[++T];null===u[B]&&(u[B]=rg(h,x))}else if("number"==typeof x)switch(1&x){case 0:const B=Im(x);let V,ee;if(null===g&&(g=B,v=ki(h,c)),B===g?(V=c,ee=v):(V=null,ee=ht(u[B])),null!==ee){const ot=qh(x);Na(h,ee,u[ot],V,!1);const xt=Md(a,ot);if(null!==xt&&"object"==typeof xt){const qe=Nd(xt,u);null!==qe&&Qh(a,xt.create[qe],u,u[xt.anchorIdx])}}break;case 1:const we=o[++T],We=o[++T];ka(h,yn(x>>>1,u),null,null,we,We,null)}else switch(x){case xo:const B=o[++T],V=o[++T];null===u[V]&&Zn(u[V]=Y1(h,B),u);break;case xd:const ee=o[++T],ue=o[++T];null===u[ue]&&Zn(u[ue]=sg(h,ee,null),u)}}}function jy(a,o,u,c,h){for(let g=0;g<u.length;g++){const v=u[g],T=u[++g];if(v&h){let x="";for(let B=g+1;B<=g+T;B++){const V=u[B];if("string"==typeof V)x+=V;else if("number"==typeof V)if(V<0)x+=ye(o[c-V]);else{const ee=V>>>2;switch(3&V){case 1:const ue=u[++B],we=u[++B],We=a.data[ee];"string"==typeof We?ka(o[11],o[ee],null,We,ue,x,we):tr(a,We,o,ue,x,o[11],we,!1);break;case 0:const ot=o[ee];null!==ot&&J0(o[11],ot,x);break;case 2:aC(a,Md(a,ee),o,x);break;case 3:Wy(a,Md(a,ee),c,o)}}}}else{const x=u[g+1];if(x>0&&3==(3&x)){const V=Md(a,x>>>2);o[V.currentCaseLViewIndex]<0&&Wy(a,V,c,o)}}g+=T}}function Wy(a,o,u,c){let h=c[o.currentCaseLViewIndex];if(null!==h){let g=Id;h<0&&(h=c[o.currentCaseLViewIndex]=~h,g=-1),jy(a,c,o.update[h],u,g)}}function aC(a,o,u,c){const h=function Zh(a,o){let u=a.cases.indexOf(o);if(-1===u)switch(a.type){case 1:{const c=function JS(a,o){const u=xm(o)(parseInt(a,10)),c=Fy[u];return void 0!==c?c:"other"}(o,function Ad(){return Yh}());u=a.cases.indexOf(c),-1===u&&"other"!==c&&(u=a.cases.indexOf("other"));break}case 0:u=a.cases.indexOf("other")}return-1===u?null:u}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(o,c);if(Nd(o,u)!==h&&(Pm(a,o,u),u[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=u[o.anchorIdx];v&&Qh(a,o.create[h],u,v)}}function Pm(a,o,u){let c=Nd(o,u);if(null!==c){const h=o.remove[c];for(let g=0;g<h.length;g++){const v=h[g];if(v>0){const T=yn(v,u);null!==T&&dg(u[11],T)}else Pm(a,Md(a,~v),u)}}}function $y(){const a=[];let u,c,o=-1;function g(T,x){o=0;const B=Nd(T,x);c=null!==B?T.remove[B]:on}function v(){if(o<c.length){const T=c[o++];return T>0?u[T]:(a.push(o,c),g(u[1].data[~T],u),v())}return 0===a.length?null:(c=a.pop(),o=a.pop(),v())}return function h(T,x){for(u=x;a.length;)a.pop();return g(T.value,x),v}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Jh=/\ufffd(\d+):?\d*\ufffd/gi,uC=/\ufffd(\d+)\ufffd/,zy=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,cC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,dC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,fC=/\uE500/g;function Yy(a,o,u,c,h,g,v){const T=qt(a,c,1,null);let x=T<<dn.SHIFT,B=Ea();o===B&&(B=null),null===B&&(x|=dn.APPEND_EAGERLY),v&&(x|=dn.COMMENT,function zf(a){void 0===eg&&(eg=a())}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */($y)),h.push(x,null===g?"":g);const V=rh(a,T,v?32:1,null===g?"":g,null);By(u,V);const ee=V.index;return ds(V,!1),null!==B&&o!==B&&function rC(a,o){let u=a.insertBeforeIndex;null===u?(o_(Nm,Ly),u=a.insertBeforeIndex=[null,o]):(function de(a,o,u){a!=o&&gt(u,a,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(B,ee),V}function Ky(a,o,u,c,h,g,v){const T=v.match(Jh),x=Yy(a,o,u,g,c,T?null:v,!1);T&&lc(h,v,x.index,null,0,null)}function lc(a,o,u,c,h,g){const v=a.length,T=v+1;a.push(null,null);const x=v+2,B=o.split(Jh);let V=0;for(let ee=0;ee<B.length;ee++){const ue=B[ee];if(1&ee){const we=h+parseInt(ue,10);a.push(-1-we),V|=Xy(we)}else""!==ue&&a.push(ue)}return a.push(u<<2|(c?1:0)),c&&a.push(c,g),a[v]=V,a[T]=a.length-x,V}function Xy(a){return 1<<Math.min(a,31)}function Zy(a){let o,g,u="",c=0,h=!1;for(;null!==(o=cC.exec(a));)h?o[0]===`\ufffd/*${g}\ufffd`&&(c=o.index,h=!1):(u+=a.substring(c,o.index+o[0].length),g=o[1],h=!0);return u+=a.substr(c),u}function Li(a,o,u,c,h,g){let v=0;const T={type:h.type,currentCaseLViewIndex:qt(a,o,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function vC(a,o,u){a.push(Xy(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,h,g),function iC(a,o,u){const c=a.data[o];null===c?a.data[o]=u:c.value=u}(a,g,T);const x=h.values;for(let B=0;B<x.length;B++){const V=x[B],ee=[];for(let ue=0;ue<V.length;ue++){const we=V[ue];if("string"!=typeof we){const We=ee.push(we)-1;V[ue]=`\x3c!--\ufffd${We}\ufffd--\x3e`}}v=mC(a,T,o,u,c,h.cases[B],V.join(""),ee)|v}v&&function _C(a,o,u){a.push(o,1,u<<2|3)}(u,v,g)}function gC(a){const o=[],u=[];let c=1,h=0;const g=ep(a=a.replace(zy,function(v,T,x){return c="select"===x?0:1,h=parseInt(T.substr(1),10),""}));for(let v=0;v<g.length;){let T=g[v++].trim();1===c&&(T=T.replace(/\s*(?:=)?(\w+)\s*/,"$1")),T.length&&o.push(T);const x=ep(g[v++]);o.length>u.length&&u.push(x)}return{type:c,mainBinding:h,cases:o,values:u}}function ep(a){if(!a)return[];let o=0;const u=[],c=[],h=/[{}]/g;let g;for(h.lastIndex=0;g=h.exec(a);){const T=g.index;if("}"==g[0]){if(u.pop(),0==u.length){const x=a.substring(o,T);zy.test(x)?c.push(gC(x)):c.push(x),o=T+1}}else{if(0==u.length){const x=a.substring(o,T);c.push(x),o=T+1}u.push("{")}}const v=a.substring(o);return c.push(v),c}function mC(a,o,u,c,h,g,v,T){const x=[],B=[],V=[];o.cases.push(g),o.create.push(x),o.remove.push(B),o.update.push(V);const ue=N0(P()).getInertBodyElement(v),we=qc(ue)||ue;return we?Lm(a,o,u,c,x,B,V,we,h,T,0):0}function Lm(a,o,u,c,h,g,v,T,x,B,V){let ee=0,ue=T.firstChild;for(;ue;){const we=qt(a,u,1,null);switch(ue.nodeType){case Node.ELEMENT_NODE:const We=ue,ot=We.tagName.toLowerCase();if(Kp.hasOwnProperty(ot)){Hm(h,xd,ot,x,we),a.data[we]=ot;const Ft=We.attributes;for(let rn=0;rn<Ft.length;rn++){const xn=Ft.item(rn),ts=xn.name.toLowerCase();xn.value.match(Jh)?P0.hasOwnProperty(ts)&&lc(v,xn.value,we,xn.name,0,qp[ts]?re:Bf[ts]?I0:null):yC(h,we,xn)}ee=Lm(a,o,u,c,h,g,v,ue,we,B,V+1)|ee,Bm(g,we,V)}break;case Node.TEXT_NODE:const _t=ue.textContent||"",xt=_t.match(Jh);Hm(h,null,xt?"":_t,x,we),Bm(g,we,V),xt&&(ee=lc(v,_t,we,null,0,null)|ee);break;case Node.COMMENT_NODE:const qe=uC.exec(ue.textContent||"");if(qe){const rn=B[parseInt(qe[1],10)];Hm(h,xo,"",x,we),Li(a,u,c,x,rn,we),Jy(g,we,V)}}ue=ue.nextSibling}return ee}function Bm(a,o,u){0===u&&a.push(o)}function Jy(a,o,u){0===u&&(a.push(~o),a.push(o))}function Hm(a,o,u,c,h){null!==o&&a.push(o),a.push(u,h,function oc(a,o,u){return a|o<<17|u<<1}(0,c,h))}function yC(a,o,u){a.push(o<<1|1,u.name,u.value)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function tp(a,o,u=-1){const c=ln(),h=nt(),g=20+a,v=cs(c.consts,o),T=Ea();c.firstCreatePass&&function hC(a,o,u,c,h,g){const v=Ea(),T=[],x=[],B=[[]];h=function Fm(a,o){if(function Qy(a){return-1===a}(o))return Zy(a);{const u=a.indexOf(`:${o}\ufffd`)+2+o.toString().length,c=a.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return Zy(a.substring(u,c))}}(h,g);const V=function km(a){return a.replace(fC," ")}(h).split(dC);for(let ee=0;ee<V.length;ee++){let ue=V[ee];if(0==(1&ee)){const we=ep(ue);for(let We=0;We<we.length;We++){let ot=we[We];if(0==(1&We)){const _t=ot;""!==_t&&Ky(a,v,B[0],T,x,u,_t)}else{const _t=ot;if("object"!=typeof _t)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Li(a,u,x,o,_t,Yy(a,v,B[0],u,T,"",!0).index)}}}else{const we=47===ue.charCodeAt(0),ot=(ue.charCodeAt(we?1:0),20+Number.parseInt(ue.substring(we?2:1)));if(we)B.shift(),ds(Ea(),!1);else{const _t=Vy(a,B[0],ot);B.unshift([]),ds(_t,!0)}}}a.data[c]={create:T,update:x}}(c,null===T?0:T.index,h,g,v,u);const x=c.data[g],V=hi(c,T===h[6]?null:T,h);(function sC(a,o,u,c){const h=a[11];for(let g=0;g<o.length;g++){const v=o[g++],T=o[g],x=(v&dn.COMMENT)===dn.COMMENT,B=(v&dn.APPEND_EAGERLY)===dn.APPEND_EAGERLY,V=v>>>dn.SHIFT;let ee=a[V];null===ee&&(ee=a[V]=x?h.createComment(T):rg(h,T)),B&&null!==u&&Na(h,u,ee,c,!1)}})(h,x.create,V,T&&8&T.type?h[T.index]:null),mf(!0)}function Us(a,o,u){tp(a,o,u),function Rd(){mf(!1)}()}function Vm(a){return function Om(a){a&&(Id|=1<<Math.min(Od,31)),Od++}(qi(nt(),wa(),a)),Vm}function ab(a){!function Gy(a,o,u){if(Od>0){const c=a.data[u];jy(a,o,Array.isArray(c)?c:c.update,Pr()-Od-1,Id)}Id=0,Od=0}(ln(),nt(),a+20)}function np(a,o,u,c,h){if(a=De(a),Array.isArray(a))for(let g=0;g<a.length;g++)np(a[g],o,u,c,h);else{const g=ln(),v=nt();let T=Wu(a)?a:De(a.provide),x=Rg(a);const B=wi(),V=1048575&B.providerIndexes,ee=B.directiveStart,ue=B.providerIndexes>>20;if(Wu(a)||!a.multi){const we=new Yo(x,h,wl),We=Wm(T,o,h?V:V+ue,ee);-1===We?(un(Ct(B,v),g,T),jm(g,a,o.length),o.push(T),B.directiveStart++,B.directiveEnd++,h&&(B.providerIndexes+=1048576),u.push(we),v.push(we)):(u[We]=we,v[We]=we)}else{const we=Wm(T,o,V+ue,ee),We=Wm(T,o,V,V+ue),ot=we>=0&&u[we],_t=We>=0&&u[We];if(h&&!_t||!h&&!ot){un(Ct(B,v),g,T);const xt=function CC(a,o,u,c,h){const g=new Yo(a,u,wl);return g.multi=[],g.index=o,g.componentProviders=0,lb(g,h,c&&!u),g}(h?cb:ub,u.length,h,c,x);!h&&_t&&(u[We].providerFactory=xt),jm(g,a,o.length,0),o.push(T),B.directiveStart++,B.directiveEnd++,h&&(B.providerIndexes+=1048576),u.push(xt),v.push(xt)}else jm(g,a,we>-1?we:We,lb(u[h?We:we],x,!h&&c));!h&&c&&_t&&u[We].componentProviders++}}}function jm(a,o,u,c){const h=Wu(o),g=function Ki(a){return!!a.useClass}(o);if(h||g){const x=(g?De(o.useClass):o).prototype.ngOnDestroy;if(x){const B=a.destroyHooks||(a.destroyHooks=[]);if(!h&&o.multi){const V=B.indexOf(u);-1===V?B.push(u,[c,x]):B[V+1].push(c,x)}else B.push(u,x)}}}function lb(a,o,u){return u&&a.componentProviders++,a.multi.push(o)-1}function Wm(a,o,u,c){for(let h=u;h<c;h++)if(o[h]===a)return h;return-1}function ub(a,o,u,c){return $m(this.multi,[])}function cb(a,o,u,c){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,T=Vc(u,u[1],this.providerFactory.index,c);g=T.slice(0,v),$m(h,g);for(let x=v;x<T.length;x++)g.push(T[x])}else g=[],$m(h,g);return g}function $m(a,o){for(let u=0;u<a.length;u++)o.push((0,a[u])());return o}function db(a,o=[]){return u=>{u.providersResolver=(c,h)=>
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function ob(a,o,u){const c=ln();if(c.firstCreatePass){const h=Tr(a);np(u,c.data,c.blueprint,h,!0),np(o,c.data,c.blueprint,h,!1)}}(c,h?h(a):a,o)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class fb{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class xC{resolveComponentFactory(o){throw function EC(a){const o=Error(`No component factory found for ${je(a)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=a,o}(o)}}let Pl=(()=>{class a{}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
return a.NULL=new xC,a})();function pb(){return ha(wi(),nt())}function ha(a,o){return new Ao(Vt(a,o))}let Ao=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=pb,a})();function gb(a){return a instanceof Ao?a.nativeElement:a}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Rl{}let Ym=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function mb(){const a=nt(),u=fi(wi().index,a);return function AC(a){return a[11]}(Ri(u)?u:a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(),a})(),vb=(()=>{class a{}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
return a.\u0275prov=fn({token:a,providedIn:"root",factory:()=>null}),a})();class _b{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const MC=new _b("13.3.5"),Km={};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function ip(a,o,u,c,h=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&c.push(ht(g)),bi(g))for(let T=10;T<g.length;T++){const x=g[T],B=x[1].firstChild;null!==B&&ip(x[1],x,B,c)}const v=u.type;if(8&v)ip(a,o,u.child,c);else if(32&v){const T=tg(u,o);let x;for(;x=T();)c.push(x)}else if(16&v){const T=l_(o,u);if(Array.isArray(T))c.push(...T);else{const x=il(o[16]);ip(x[1],x,T,c,!0)}}u=h?u.projectionNext:u.next}return c}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class kd{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return ip(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(bi(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(og(o,c),Sf(u,c))}this._attachedToViewContainer=!1}n_(this._lView[1],this._lView)}onDestroy(o){M_(this._lView[1],this._lView,null,o)}markForCheck(){ul(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ud(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Mg(a,o,u){no(!0);try{ud(a,o,u)}finally{no(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ke(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function q1(a,o){Qf(a,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ke(902,"");this._appRef=o}}class NC extends kd{constructor(o){super(o),this._view=o}detectChanges(){Ag(this._view)}checkNoChanges(){!function H_(a){no(!0);try{Ag(a)}finally{no(!1)}}(this._view)}get context(){return null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class yb extends Pl{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=vn(o);return new qm(u,this.ngModule)}}function bb(a){const o=[];for(let u in a)a.hasOwnProperty(u)&&o.push({propName:a[u],templateName:u});return o}class qm extends fb{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function lS(a){return a.map(p_).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return bb(this.componentDef.inputs)}get outputs(){return bb(this.componentDef.outputs)}create(o,u,c,h){const g=(h=h||this.ngModule)?function Fd(a,o){return{get:(u,c,h)=>{const g=a.get(u,Km,h);return g!==Km||c===Km?g:o.get(u,c,h)}}}(o,h.injector):o,v=g.get(Rl,Ue),T=g.get(vb,null),x=v.createRenderer(null,this.componentDef),B=this.componentDef.selectors[0][0]||"div",V=c?function Sg(a,o,u){if(se(a))return a.selectRootElement(o,u===Jt.ShadowDom);let c="string"==typeof o?a.querySelector(o):o;return c.textContent="",c}(x,c,this.componentDef.encapsulation):sg(v.createRenderer(null,this.componentDef),B,function IC(a){const o=a.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(B)),ee=this.componentDef.onPush?576:528,ue=function zu(a,o){return{components:[],scheduler:a||W1,clean:U_,playerHandler:o||null,flags:0}}(),we=To(0,null,null,1,0,null,null,null,null,null),We=$i(null,we,ue,ee,null,null,v,x,T,g);let ot,_t;ro(We);try{const xt=function pr(a,o,u,c,h,g){const v=u[1];u[20]=a;const x=Pu(v,20,2,"#host",null),B=x.mergedAttrs=o.hostAttrs;null!==B&&(cd(x,B,!0),null!==a&&(du(h,a,B),null!==x.classes&&hg(h,a,x.classes),null!==x.styles&&c_(h,a,x.styles)));const V=c.createRenderer(a,o),ee=$i(u,Fu(o),null,o.onPush?64:16,u[20],x,c,V,g||null,null);return v.firstCreatePass&&(un(Ct(x,u),v,o.type),ol(v,x),wg(x,u.length,1)),Ba(u,ee),u[20]=ee}(V,this.componentDef,We,v,x);if(V)if(c)du(x,V,["ng-version",MC.full]);else{const{attrs:qe,classes:Ft}=function ii(a){const o=[],u=[];let c=1,h=2;for(;c<a.length;){let g=a[c];if("string"==typeof g)2===h?""!==g&&o.push(g,a[++c]):8===h&&u.push(g);else{if(!$n(h))break;h=g}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);qe&&du(x,V,qe),Ft&&Ft.length>0&&hg(x,V,Ft.join(" "))}if(_t=wn(we,20),void 0!==u){const qe=_t.projection=[];for(let Ft=0;Ft<this.ngContentSelectors.length;Ft++){const rn=u[Ft];qe.push(null!=rn?Array.from(rn):null)}}ot=function hl(a,o,u,c,h){const g=u[1],v=function Dg(a,o,u){const c=wi();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),cn(a,c,o,qt(a,o,1,null),u));const h=Vc(o,a,c.directiveStart,c);Zn(h,o);const g=Vt(c,o);return g&&Zn(g,o),h}(g,u,o);if(c.components.push(v),a[8]=v,h&&h.forEach(x=>x(v,o)),o.contentQueries){const x=wi();o.contentQueries(1,v,x.directiveStart)}const T=wi();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Qs(T.index),hr(u[1],T,0,T.directiveStart,T.directiveEnd,o),Eg(o,v)),v}(xt,this.componentDef,We,ue,[aa]),Ru(we,We,null)}finally{ws()}return new PC(this.componentType,ot,ha(_t,We),We,_t)}}class PC extends class DC{}{constructor(o,u,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new NC(h),this.componentType=o}get injector(){return new Zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class kl{}class Tb{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const pa=new Map;class Qm extends kl{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yb(this);const c=yi(o);this._bootstrapComponents=ea(c.bootstrap),this._r3Injector=W_(o,u,[{provide:kl,useValue:this},{provide:Pl,useValue:this.componentFactoryResolver}],je(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=sa.THROW_IF_NOT_FOUND,c=Et.Default){return o===sa||o===kl||o===ra?this:this._r3Injector.get(o,u,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Zm extends Tb{constructor(o){super(),this.moduleType=o,null!==yi(o)&&function rp(a){const o=new Set;!function u(c){const h=yi(c,!0),g=h.id;null!==g&&(function Xm(a,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${a} - ${je(o)} vs ${je(o.name)}`)}(g,pa.get(g),c),pa.set(g,c));const v=ea(h.imports);for(const T of v)o.has(T)||(o.add(T),u(T))}(a)}(o)}create(o){return new Qm(this.moduleType,o)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Jm(a,o,u){const c=ji()+a,h=nt();return h[c]===Xt?Rs(h,c,u?o.call(u):o()):function gl(a,o){return a[o]}(h,c)}function Cb(a,o,u,c){return iv(nt(),ji(),a,o,u,c)}function ev(a,o,u,c,h){return function Vs(a,o,u,c,h,g,v){const T=o+u;return So(a,T,h,g)?Rs(a,T+2,v?c.call(v,h,g):c(h,g)):Fl(a,T+2)}(nt(),ji(),a,o,u,c,h)}function Db(a,o,u,c,h,g){return function Ur(a,o,u,c,h,g,v,T){const x=o+u;return function Xu(a,o,u,c,h){const g=So(a,o,u,c);return qi(a,o+2,h)||g}(a,x,h,g,v)?Rs(a,x+3,T?c.call(T,h,g,v):c(h,g,v)):Fl(a,x+3)}(nt(),ji(),a,o,u,c,h,g)}function Fl(a,o){const u=a[o];return u===Xt?void 0:u}function iv(a,o,u,c,h,g){const v=o+u;return qi(a,v,h)?Rs(a,v+1,g?c.call(g,h):c(h)):Fl(a,v+1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function sv(a,o){const u=ln();let c;const h=a+20;u.firstCreatePass?(c=function wb(a,o){if(o)for(let u=o.length-1;u>=0;u--){const c=o[u];if(a===c.name)return c}}(o,u.pipeRegistry),u.data[h]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,c.onDestroy)):c=u.data[h];const g=c.factory||(c.factory=Ti(c.type)),v=ai(wl);try{const T=I(!1),x=g();return I(T),function OS(a,o,u,c){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),o[u]=c}(u,nt(),h,x),x}finally{ai(v)}}function av(a,o,u){const c=a+20,h=nt(),g=Gn(h,c);return function uc(a,o){return a[1].data[o].pure}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(h,c)?iv(h,ji(),o,g.transform,u,g):g.transform(u)}function ov(a){return o=>{setTimeout(a,void 0,o)}}const ga=class VC extends N.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){var h,g,v;let T=o,x=u||(()=>null),B=c;if(o&&"object"==typeof o){const ee=o;T=null===(h=ee.next)||void 0===h?void 0:h.bind(ee),x=null===(g=ee.error)||void 0===g?void 0:g.bind(ee),B=null===(v=ee.complete)||void 0===v?void 0:v.bind(ee)}this.__isAsync&&(x=ov(x),T&&(T=ov(T)),B&&(B=ov(B)));const V=super.subscribe({next:T,error:x,complete:B});return o instanceof f.w0&&o.add(V),V}};
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function GC(){return this._results[pl()]()}class lv{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=pl(),c=lv.prototype;c[u]||(c[u]=GC)}get changes(){return this._changes||(this._changes=new ga)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const h=xs(o);(this._changesDetected=!function cE(a,o,u){if(a.length!==o.length)return!1;for(let c=0;c<a.length;c++){let h=a[c],g=o[c];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let Mo=(()=>{class a{}return a.__NG_ELEMENT_ID__=WC,a})();const uv=Mo,jC=class extends uv{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o){const u=this._declarationTContainer.tViews,c=$i(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(u)),Ru(u,c,o),new kd(c)}};function WC(){return sp(wi(),nt())}function sp(a,o){return 4&a.type?new jC(o,a,ha(a,o)):null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Ll=(()=>{class a{}return a.__NG_ELEMENT_ID__=xb,a})();function xb(){return Nb(wi(),nt())}const $C=Ll,Ab=class extends $C{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return ha(this._hostTNode,this._hostLView)}get injector(){return new Zo(this._hostTNode,this._hostLView)}get parentInjector(){const o=nn(this._hostTNode,this._hostLView);if(Bc(o)){const u=S(o,this._hostLView),c=Qo(o);return new Zo(u[1].data[c+8],u)}return new Zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Mb(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){const h=o.createEmbeddedView(u||{});return this.insert(h,c),h}createComponent(o,u,c,h,g){const v=o&&!function _u(a){return"function"==typeof a}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(o);let T;if(v)T=u;else{const ee=u||{};T=ee.index,c=ee.injector,h=ee.projectableNodes,g=ee.ngModuleRef}const x=v?o:new qm(vn(o)),B=c||this.parentInjector;if(!g&&null==x.ngModule){const ue=(v?B:this.parentInjector).get(kl,null);ue&&(g=ue)}const V=x.create(B,h,void 0,g);return this.insert(V.hostView,T),V}insert(o,u){const c=o._lView,h=c[1];if(function Ds(a){return bi(a[3])}(c)){const V=this.indexOf(o);if(-1!==V)this.detach(V);else{const ee=c[3],ue=new Ab(ee,ee[6],ee[3]);ue.detach(ue.indexOf(o))}}const g=this._adjustIndex(u),v=this._lContainer;!function X1(a,o,u,c){const h=10+c,g=u.length;c>0&&(u[h-1][4]=o),c<g-10?(o[4]=u[h],Hp(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const v=o[17];null!==v&&u!==v&&function Q1(a,o){const u=a[9];o[16]!==o[3][3][16]&&(a[2]=!0),null===u?a[9]=[o]:u.push(o)}(v,o);const T=o[19];null!==T&&T.insertView(a),o[2]|=128}(h,c,v,g);const T=cg(g,v),x=c[11],B=ki(x,v[7]);return null!==B&&function K1(a,o,u,c,h,g){c[0]=h,c[6]=o,Qf(a,c,u,1,h,g)}(h,v[6],x,c,B,T),o.attachToViewContainerRef(),Hp(cv(v),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Mb(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=og(this._lContainer,u);c&&(Sf(cv(this._lContainer),u),n_(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=og(this._lContainer,u);return c&&null!=Sf(cv(this._lContainer),u)?new kd(c):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function Mb(a){return a[8]}function cv(a){return a[8]||(a[8]=[])}function Nb(a,o){let u;const c=o[a.index];if(bi(c))u=c;else{let h;if(8&a.type)h=ht(c);else{const g=o[11];h=g.createComment("");const v=Vt(a,o);Na(g,ki(g,v),h,function eS(a,o){return se(a)?a.nextSibling(o):o.nextSibling}(g,v),!1)}o[a.index]=u=xg(c,o,h,a),Ba(o,u)}return new Ab(u,a,o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Gs{constructor(o){this.queryList=o,this.matches=null}clone(){return new Gs(this.queryList)}setDirty(){this.queryList.setDirty()}}class dv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let g=0;g<c;g++){const v=u.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new dv(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==mv(o,u).matches&&this.queries[u].setDirty()}}class Ib{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class fv{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==u?u.push(g):u=[g])}return null!==u?new fv(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class hv{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new hv(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,u,KC(u,g)),this.matchTNodeWithReadOption(o,u,Uc(u,o,g,!1,!1))}else c===Mo?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Uc(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===Ao||h===Ll||h===Mo&&4&u.type)this.addMatch(u.index,-2);else{const g=Uc(u,o,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function KC(a,o){const u=a.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function XC(a,o,u,c){return-1===u?function qC(a,o){return 11&a.type?ha(a,o):4&a.type?sp(a,o):null}(o,a):-2===u?function Ob(a,o,u){return u===Ao?ha(o,a):u===Mo?sp(o,a):u===Ll?Nb(o,a):void 0}(a,o,c):Vc(a,a[1],u,o)}function Pb(a,o,u,c){const h=o[19].queries[c];if(null===h.matches){const g=a.data,v=u.matches,T=[];for(let x=0;x<v.length;x+=2){const B=v[x];T.push(B<0?null:XC(o,g[B],v[x+1],u.metadata.read))}h.matches=T}return h.matches}function pv(a,o,u,c){const h=a.queries.getByIndex(u),g=h.matches;if(null!==g){const v=Pb(a,o,h,u);for(let T=0;T<g.length;T+=2){const x=g[T];if(x>0)c.push(v[T/2]);else{const B=g[T+1],V=o[-x];for(let ee=10;ee<V.length;ee++){const ue=V[ee];ue[17]===ue[3]&&pv(ue[1],ue,B,c)}if(null!==V[9]){const ee=V[9];for(let ue=0;ue<ee.length;ue++){const we=ee[ue];pv(we[1],we,B,c)}}}}}return c}function Rb(a){const o=nt(),u=ln(),c=Rc();bf(c+1);const h=mv(u,c);if(a.dirty&&Ei(o)===(2==(2&h.metadata.flags))){if(null===h.matches)a.reset([]);else{const g=h.crossesNgTemplate?pv(u,o,c,[]):Pb(u,o,h,c);a.reset(g,gb),a.notifyOnChanges()}return!0}return!1}function kb(a,o,u){const c=ln();c.firstCreatePass&&(Bb(c,new Ib(a,o,u),-1),2==(2&o)&&(c.staticViewQueries=!0)),Lb(c,nt(),o)}function gv(a,o,u,c){const h=ln();if(h.firstCreatePass){const g=wi();Bb(h,new Ib(o,u,c),g.index),function ir(a,o){const u=a.contentQueries||(a.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,o)}(h,a),2==(2&u)&&(h.staticContentQueries=!0)}Lb(h,nt(),u)}function Fb(){return function QC(a,o){return a[19].queries[o].queryList}(nt(),Rc())}function Lb(a,o,u){const c=new lv(4==(4&u));M_(a,o,c,c.destroy),null===o[19]&&(o[19]=new dv),o[19].queries.push(new Gs(c))}function Bb(a,o,u){null===a.queries&&(a.queries=new fv),a.queries.track(new hv(o,u))}function mv(a,o){return a.queries.getByIndex(o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function vv(a,o){return sp(a,o)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function Bd(...a){}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const qb=new ui("Application Initializer");let Hd=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Bd,this.reject=Bd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(nm(g))u.push(g);else if(bd(g)){const v=new Promise((T,x)=>{g.subscribe({complete:T,error:x})});u.push(v)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Wi(qb,8))},a.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const No=new ui("AppId",{providedIn:"root",factory:function hc(){return`${pc()}${pc()}${pc()}`}});function pc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xb=new ui("Platform Initializer"),Qb=new ui("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hp=new ui("appBootstrapListener");
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let pD=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const pp=new ui("LocaleId",{providedIn:"root",factory:()=>g1(pp,Et.Optional|Et.SkipSelf)||function Zb(){return"undefined"!=typeof $localize&&$localize.locale||ac}()}),gD=new ui("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Jb{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let eT=(()=>{class a{compileModuleSync(u){return new Zm(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),g=ea(yi(u).declarations).reduce((v,T)=>{const x=vn(T);return x&&v.push(new qm(x)),v},[]);return new Jb(c,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const gp=(()=>Promise.resolve(0))();function xv(a){"undefined"==typeof Zone?gp.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Zr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ga(!1),this.onMicrotaskEmpty=new ga(!1),this.onStable=new ga(!1),this.onError=new ga(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Bi(){let a=Mn.requestAnimationFrame,o=Mn.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&o){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Av(a){const o=()=>{!function yD(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Mn,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Mv(a),a.isCheckStableRunning=!0,Ud(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Mv(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,g,v,T)=>{try{return nT(a),u.invokeTask(h,g,v,T)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&o(),Vd(a)}},onInvoke:(u,c,h,g,v,T,x)=>{try{return nT(a),u.invoke(h,g,v,T,x)}finally{a.shouldCoalesceRunChangeDetection&&o(),Vd(a)}},onHasTask:(u,c,h,g)=>{u.hasTask(h,g),c===h&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,Mv(a),Ud(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,c,h,g)=>(u.handleError(h,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,tT,Bd,Bd);try{return g.runTask(v,u,c)}finally{g.cancelTask(v)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const tT={};function Ud(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Mv(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function nT(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Vd(a){a._nesting--,Ud(a)}class va{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ga,this.onMicrotaskEmpty=new ga,this.onStable=new ga,this.onError=new ga}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,h){return o.apply(u,c)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let iT=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zr.assertNotInAngularZone(),xv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xv(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,h){return[]}}return a.\u0275fac=function(u){return new(u||a)(Wi(Zr))},a.\u0275prov=fn({token:a,factory:a.\u0275fac}),a})(),rT=(()=>{class a{constructor(){this._applications=new Map,es.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return es.findTestabilityInTree(this,u,c)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class Jr{addToWindow(o){}findTestabilityInTree(o,u,c){return null}}function js(a){es=a}let es=new Jr,Hi=null;
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const mp=new ui("AllowMultipleToken"),gc=new ui("PlatformOnDestroy");class sT{constructor(o,u){this.name=o,this.token=u}}function aT(a,o,u=[]){const c=`Platform: ${o}`,h=new ui(c);return(g=[])=>{let v=Nv();if(!v||v.injector.get(mp,!1)){const T=[...u,...g,{provide:h,useValue:!0}];a?a(T):function Gd(a){if(Hi&&!Hi.get(mp,!1))throw new Ke(400,"");Hi=a;const o=a.get(uT),u=a.get(Xb,null);u&&u.forEach(c=>c())}(function lT(a=[],o){return sa.create({name:o,providers:[{provide:nr,useValue:"platform"},{provide:gc,useValue:()=>Hi=null},...a]})}(T,c))}return function oT(a){const o=Nv();if(!o)throw new Ke(401,"");return o}()}}function Nv(){var a;return null!==(a=null==Hi?void 0:Hi.get(uT))&&void 0!==a?a:null}let uT=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const T=function TD(a,o){let u;return u="noop"===a?new va:("zone.js"===a?void 0:a)||new Zr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),x=[{provide:Zr,useValue:T}];return T.run(()=>{const B=sa.create({providers:x,parent:this.injector,name:u.moduleType.name}),V=u.create(B),ee=V.injector.get(ed,null);if(!ee)throw new Ke(402,"");return T.runOutsideAngular(()=>{const ue=T.onError.subscribe({next:we=>{ee.handleError(we)}});V.onDestroy(()=>{Ov(this._modules,V),ue.unsubscribe()})}),function SD(a,o,u){try{const c=u();return nm(c)?c.catch(h=>{throw o.runOutsideAngular(()=>a.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>a.handleError(c)),c}}(ee,T,()=>{const ue=V.injector.get(Hd);return ue.runInitializers(),ue.donePromise.then(()=>(function tC(a){(function Dt(a,o){null==a&&gt(o,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(Yh=a.toLowerCase().replace(/_/g,"-"))}(V.injector.get(pp,ac)||ac),this._moduleDoBootstrap(V),V))})})}bootstrapModule(u,c=[]){const h=cT({},c);return function mc(a,o,u){const c=new Zm(u);return Promise.resolve(c)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const c=u.injector.get(Iv);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Ke(403,"");u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ke(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(gc,null);null==u||u(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Wi(sa))},a.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function cT(a,o){return Array.isArray(o)?o.reduce(cT,a):Object.assign(Object.assign({},a),o)}let Iv=(()=>{class a{constructor(u,c,h,g){this._zone=u,this._injector=c,this._exceptionHandler=h,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new te.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),T=new te.y(x=>{let B;this._zone.runOutsideAngular(()=>{B=this._zone.onStable.subscribe(()=>{Zr.assertNotInAngularZone(),xv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const V=this._zone.onUnstable.subscribe(()=>{Zr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{B.unsubscribe(),V.unsubscribe()}});this.isStable=(0,_e.T)(v,T.pipe(function Me(a={}){const{connector:o=(()=>new N.x),resetOnError:u=!0,resetOnComplete:c=!0,resetOnRefCountZero:h=!0}=a;return g=>{let v=null,T=null,x=null,B=0,V=!1,ee=!1;const ue=()=>{null==T||T.unsubscribe(),T=null},we=()=>{ue(),v=x=null,V=ee=!1},We=()=>{const ot=v;we(),null==ot||ot.unsubscribe()};return(0,Ae.e)((ot,_t)=>{B++,!ee&&!V&&ue();const xt=x=null!=x?x:o();_t.add(()=>{B--,0===B&&!ee&&!V&&(T=Ce(We,h))}),xt.subscribe(_t),v||(v=new Re.Hp({next:qe=>xt.next(qe),error:qe=>{ee=!0,ue(),T=Ce(we,u,qe),xt.error(qe)},complete:()=>{V=!0,ue(),T=Ce(we,c),xt.complete()}}),(0,me.D)(ot).subscribe(v))})(g)}}()))}bootstrap(u,c){if(!this._initStatus.done)throw new Ke(405,"");let h;h=u instanceof fb?u:this._injector.get(Pl).resolveComponentFactory(u),this.componentTypes.push(h.componentType);const g=function bD(a){return a.isBoundToModule}(h)?void 0:this._injector.get(kl),T=h.create(sa.NULL,[],c||h.selector,g),x=T.location.nativeElement,B=T.injector.get(iT,null),V=B&&T.injector.get(rT);return B&&V&&V.registerApplication(x,B),T.onDestroy(()=>{this.detachView(T.hostView),Ov(this.components,T),V&&V.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new Ke(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;Ov(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(hp,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(Wi(Zr),Wi(sa),Wi(ed),Wi(Hd))},a.\u0275prov=fn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Ov(a,o){const u=a.indexOf(o);u>-1&&a.splice(u,1)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let gs=!0;function Pv(){gs=!1}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
let _c=(()=>{class a{}return a.__NG_ELEMENT_ID__=yc,a})();function yc(a){return function Rv(a,o,u){if(Ta(a)&&!u){const c=fi(a.index,o);return new kd(c,c)}return 47&a.type?new kd(o[16],o):null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(wi(),nt(),16==(16&a))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Lv{constructor(){}supports(o){return qu(o)}create(o){return new _T(o)}}const vT=(a,o)=>o;class _T{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||vT}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,h=0,g=null;for(;u||c;){const v=!c||u&&u.currentIndex<bT(c,h,g)?u:c,T=bT(v,h,g),x=v.currentIndex;if(v===c)h--,c=c._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{g||(g=[]);const B=T-h,V=x-h;if(B!=V){for(let ue=0;ue<B;ue++){const we=ue<g.length?g[ue]:g[ue]=0,We=we+ue;V<=We&&We<B&&(g[ue]=we+1)}g[v.previousIndex]=V-B}}T!==x&&o(v,T,x)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!qu(o))throw new Ke(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let T=0;T<this.length;T++)g=o[T],v=this._trackByFn(T,g),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,g,v,T)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,v,T),c=!0),u=u._next}else h=0,function NS(a,o){if(Array.isArray(a))for(let u=0;u<a.length;u++)o(a[u]);else{const u=a[pl()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,T=>{v=this._trackByFn(h,T),null!==u&&Object.is(u.trackById,v)?(c&&(u=this._verifyReinsertion(u,T,v,h)),Object.is(u.item,T)||this._addIdentityChange(u,T)):(u=this._mismatch(u,T,v,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,h)):o=this._addAfter(new Bv(u,c),g,h),o}_verifyReinsertion(o,u,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new yT),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yT),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Bv{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ED{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class yT{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new ED,this.map.set(u,c)),c.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bT(a,o,u){const c=a.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+o+h
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}class TT{constructor(){}supports(o){return o instanceof Map||$g(o)}create(){return new wD}}class wD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||$g(o)))throw new Ke(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const c=new zd(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class zd{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function ST(){return new Yd([new Lv])}let Yd=(()=>{class a{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new a(u)}static extend(u){return{provide:a,useFactory:c=>a.create(u,c||ST()),deps:[[a,new $c,new Rf]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new Ke(901,"")}}return a.\u0275prov=fn({token:a,providedIn:"root",factory:ST}),a})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function CT(){return new Hv([new TT])}let Hv=(()=>{class a{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new a(u)}static extend(u){return{provide:a,useFactory:c=>a.create(u,c||CT()),deps:[[a,new $c,new Rf]]}}find(u){const c=this.factories.find(g=>g.supports(u));if(c)return c;throw new Ke(901,"")}}
/**
         * @license
         * Copyright Google LLC All Rights Reserved.
         *
         * Use of this source code is governed by an MIT-style license that can be
         * found in the LICENSE file at https://angular.io/license
         */
return a.\u0275prov=fn({token:a,providedIn:"root",factory:CT}),a})();const MD=aT(null,"core",[]);
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let ND=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Wi(Iv))},a.\u0275mod=Hn({type:a}),a.\u0275inj=Xi({}),a})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */,2461:(rt,xe,U)=>{"use strict";U.d(xe,{gz:()=>br,F0:()=>hn,Od:()=>zo,yS:()=>ao,Bz:()=>Ko,lC:()=>Sr});var N=U(4893),f=U(2076),te=U(9646),_e=U(1135),me=U(9841),Ee=U(2843),Re=U(6805),Ae=U(7272),Me=U(9770),Ce=U(8306),Te=U(515),ke=U(4033),je=U(7579),Le=U(4482),vt=U(5403);function mt(E,S,b,I,F){return(z,ie)=>{let fe=b,Ve=S,Ct=0;z.subscribe((0,vt.x)(ie,Kt=>{const Pt=Ct++;Ve=fe?E(Ve,Kt,Pt):(fe=!0,Kt),I&&ie.next(Ve)},F&&(()=>{fe&&ie.next(Ve),ie.complete()})))}}function De(E,S){return(0,Le.e)(mt(E,S,arguments.length>=2,!0))}var ut=U(9300);function Ze(E){return E<=0?()=>Te.E:(0,Le.e)((S,b)=>{let I=[];S.subscribe((0,vt.x)(b,F=>{I.push(F),E<I.length&&I.shift()},()=>{for(const F of I)b.next(F);b.complete()},void 0,()=>{I=null}))})}function Ke(E=Xe){return(0,Le.e)((S,b)=>{let I=!1;S.subscribe((0,vt.x)(b,F=>{I=!0,b.next(F)},()=>I?b.complete():b.error(E())))})}function Xe(){return new Re.K}function ye(E){return(0,Le.e)((S,b)=>{let I=!1;S.subscribe((0,vt.x)(b,F=>{I=!0,b.next(F)},()=>{I||b.next(E),b.complete()}))})}var Ye=U(4671),yt=U(5698);function K(E,S){const b=arguments.length>=2;return I=>I.pipe(E?(0,ut.h)((F,z)=>E(F,z,I)):Ye.y,(0,yt.q)(1),b?ye(S):Ke(()=>new Re.K))}var X=U(4004),oe=U(3900),ae=U(8675),ve=U(262),de=U(4351),Oe=U(5577),Fe=U(8505),Qe=U(8343),Je=U(8189),He=U(9808);
/**
       * @license Angular v13.3.5
       * (c) 2010-2022 Google LLC. https://angular.io/
       * License: MIT
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class pt{constructor(S,b){this.id=S,this.url=b}}class Ht extends pt{constructor(S,b,I="imperative",F=null){super(S,b),this.navigationTrigger=I,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class It extends pt{constructor(S,b,I){super(S,b),this.urlAfterRedirects=I}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dt extends pt{constructor(S,b,I){super(S,b),this.reason=I}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class gt extends pt{constructor(S,b,I){super(S,b),this.error=I}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xn extends pt{constructor(S,b,I,F){super(S,b),this.urlAfterRedirects=I,this.state=F}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bn extends pt{constructor(S,b,I,F){super(S,b),this.urlAfterRedirects=I,this.state=F}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qn extends pt{constructor(S,b,I,F,z){super(S,b),this.urlAfterRedirects=I,this.state=F,this.shouldActivate=z}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fn extends pt{constructor(S,b,I,F){super(S,b),this.urlAfterRedirects=I,this.state=F}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mr extends pt{constructor(S,b,I,F){super(S,b),this.urlAfterRedirects=I,this.state=F}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xi{constructor(S){this.route=S}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ln{constructor(S){this.route=S}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _s{constructor(S){this.snapshot=S}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kn{constructor(S){this.snapshot=S}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nr{constructor(S){this.snapshot=S}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ti{constructor(S){this.snapshot=S}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(S,b,I){this.routerEvent=S,this.position=b,this.anchor=I}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Rt="primary";class vr{constructor(S){this.params=S||{}}has(S){return Object.prototype.hasOwnProperty.call(this.params,S)}get(S){if(this.has(S)){const b=this.params[S];return Array.isArray(b)?b[0]:b}return null}getAll(S){if(this.has(S)){const b=this.params[S];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function ar(E){return new vr(E)}const Et="ngNavigationCancelingError";function An(E){const S=Error("NavigationCancelingError: "+E);return S[Et]=!0,S}function ai(E,S,b){const I=b.path.split("/");if(I.length>E.length||"full"===b.pathMatch&&(S.hasChildren()||I.length<E.length))return null;const F={};for(let z=0;z<I.length;z++){const ie=I[z],fe=E[z];if(ie.startsWith(":"))F[ie.substring(1)]=fe;else if(ie!==fe.path)return null}return{consumed:E.slice(0,I.length),posParams:F}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function an(E,S){const b=E?Object.keys(E):void 0,I=S?Object.keys(S):void 0;if(!b||!I||b.length!=I.length)return!1;let F;for(let z=0;z<b.length;z++)if(F=b[z],!Nt(E[F],S[F]))return!1;return!0}function Nt(E,S){if(Array.isArray(E)&&Array.isArray(S)){if(E.length!==S.length)return!1;const b=[...E].sort(),I=[...S].sort();return b.every((F,z)=>I[z]===F)}return E===S}function Ot(E){return Array.prototype.concat.apply([],E)}function ya(E){return E.length>0?E[E.length-1]:null}function Jt(E,S){for(const b in E)E.hasOwnProperty(b)&&S(E[b],b)}function _i(E){return(0,N.CqO)(E)?E:(0,N.QGY)(E)?(0,f.D)(Promise.resolve(E)):(0,te.of)(E)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const ko={exact:function bs(E,S,b){if(!ct(E.segments,S.segments)||!ba(E.segments,S.segments,b)||E.numberOfChildren!==S.numberOfChildren)return!1;for(const I in S.children)if(!E.children[I]||!bs(E.children[I],S.children[I],b))return!1;return!0},subset:on},Bn={exact:function gn(E,S){return an(E,S)},subset:function or(E,S){return Object.keys(S).length<=Object.keys(E).length&&Object.keys(S).every(b=>Nt(E[b],S[b]))},ignored:()=>!0};function Mn(E,S,b){return ko[b.paths](E.root,S.root,b.matrixParams)&&Bn[b.queryParams](E.queryParams,S.queryParams)&&!("exact"===b.fragment&&E.fragment!==S.fragment)}function on(E,S,b){return Ir(E,S,S.segments,b)}function Ir(E,S,b,I){if(E.segments.length>b.length){const F=E.segments.slice(0,b.length);return!(!ct(F,b)||S.hasChildren()||!ba(F,b,I))}if(E.segments.length===b.length){if(!ct(E.segments,b)||!ba(E.segments,b,I))return!1;for(const F in S.children)if(!E.children[F]||!on(E.children[F],S.children[F],I))return!1;return!0}{const F=b.slice(0,E.segments.length),z=b.slice(E.segments.length);return!!(ct(E.segments,F)&&ba(E.segments,F,I)&&E.children[Rt])&&Ir(E.children[Rt],S,z,I)}}function ba(E,S,b){return S.every((I,F)=>Bn[b](E[F].parameters,I.parameters))}class Q{constructor(S,b,I){this.root=S,this.queryParams=b,this.fragment=I}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ar(this.queryParams)),this._queryParamMap}toString(){return Ii.serialize(this)}}class q{constructor(S,b){this.segments=S,this.children=b,this.parent=null,Jt(b,(I,F)=>I.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return On(this)}}class pe{constructor(S,b){this.path=S,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=ar(this.parameters)),this._parameterMap}toString(){return en(this)}}function ct(E,S){return E.length===S.length&&E.every((b,I)=>b.path===S[I].path)}class ni{}class mn{parse(S){const b=new lr(S);return new Q(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(S){const b=`/${Hn(S.root,!0)}`,I=function yr(E){const S=Object.keys(E).map(b=>{const I=E[b];return Array.isArray(I)?I.map(F=>`${Yt(b)}=${Yt(F)}`).join("&"):`${Yt(b)}=${Yt(I)}`}).filter(b=>!!b);return S.length?`?${S.join("&")}`:""}(S.queryParams);return`${b}${I}${"string"==typeof S.fragment?`#${function oi(E){return encodeURI(E)}(S.fragment)}`:""}`}}const Ii=new mn;function On(E){return E.segments.map(S=>en(S)).join("/")}function Hn(E,S){if(!E.hasChildren())return On(E);if(S){const b=E.children[Rt]?Hn(E.children[Rt],!1):"",I=[];return Jt(E.children,(F,z)=>{z!==Rt&&I.push(`${z}:${Hn(F,!1)}`)}),I.length>0?`${b}(${I.join("//")})`:b}{const b=function Qt(E,S){let b=[];return Jt(E.children,(I,F)=>{F===Rt&&(b=b.concat(S(I,F)))}),Jt(E.children,(I,F)=>{F!==Rt&&(b=b.concat(S(I,F)))}),b}(E,(I,F)=>F===Rt?[Hn(E.children[Rt],!1)]:[`${F}:${Hn(I,!1)}`]);return 1===Object.keys(E.children).length&&null!=E.children[Rt]?`${On(E)}/${b[0]}`:`${On(E)}/(${b.join("//")})`}}function _r(E){return encodeURIComponent(E).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yt(E){return _r(E).replace(/%3B/gi,";")}function Tn(E){return _r(E).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vn(E){return decodeURIComponent(E)}function Oi(E){return vn(E.replace(/\+/g,"%20"))}function en(E){return`${Tn(E.path)}${function yi(E){return Object.keys(E).map(S=>`;${Tn(S)}=${Tn(E[S])}`).join("")}(E.parameters)}`}const ss=/^[^\/()?;=#]+/;function as(E){const S=E.match(ss);return S?S[0]:""}const Un=/^[^=?&#]+/,di=/^[^&#]+/;class lr{constructor(S){this.url=S,this.remaining=S}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){const S={};if(this.consumeOptional("?"))do{this.parseQueryParam(S)}while(this.consumeOptional("&"));return S}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const S=[];for(this.peekStartsWith("(")||S.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),S.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let I={};return this.peekStartsWith("(")&&(I=this.parseParens(!1)),(S.length>0||Object.keys(b).length>0)&&(I[Rt]=new q(S,b)),I}parseSegment(){const S=as(this.remaining);if(""===S&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(S),new pe(vn(S),this.parseMatrixParams())}parseMatrixParams(){const S={};for(;this.consumeOptional(";");)this.parseParam(S);return S}parseParam(S){const b=as(this.remaining);if(!b)return;this.capture(b);let I="";if(this.consumeOptional("=")){const F=as(this.remaining);F&&(I=F,this.capture(I))}S[vn(b)]=vn(I)}parseQueryParam(S){const b=function os(E){const S=E.match(Un);return S?S[0]:""}(this.remaining);if(!b)return;this.capture(b);let I="";if(this.consumeOptional("=")){const ie=function Dc(E){const S=E.match(di);return S?S[0]:""}(this.remaining);ie&&(I=ie,this.capture(I))}const F=Oi(b),z=Oi(I);if(S.hasOwnProperty(F)){let ie=S[F];Array.isArray(ie)||(ie=[ie],S[F]=ie),ie.push(z)}else S[F]=z}parseParens(S){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const I=as(this.remaining),F=this.remaining[I.length];if("/"!==F&&")"!==F&&";"!==F)throw new Error(`Cannot parse url '${this.url}'`);let z;I.indexOf(":")>-1?(z=I.substr(0,I.indexOf(":")),this.capture(z),this.capture(":")):S&&(z=Rt);const ie=this.parseChildren();b[z]=1===Object.keys(ie).length?ie[Rt]:new q([],ie),this.consumeOptional("//")}return b}peekStartsWith(S){return this.remaining.startsWith(S)}consumeOptional(S){return!!this.peekStartsWith(S)&&(this.remaining=this.remaining.substring(S.length),!0)}capture(S){if(!this.consumeOptional(S))throw new Error(`Expected "${S}".`)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class tt{constructor(S){this._root=S}get root(){return this._root.value}parent(S){const b=this.pathFromRoot(S);return b.length>1?b[b.length-2]:null}children(S){const b=Wt(S,this._root);return b?b.children.map(I=>I.value):[]}firstChild(S){const b=Wt(S,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(S){const b=_n(S,this._root);return b.length<2?[]:b[b.length-2].children.map(F=>F.value).filter(F=>F!==S)}pathFromRoot(S){return _n(S,this._root).map(b=>b.value)}}function Wt(E,S){if(E===S.value)return S;for(const b of S.children){const I=Wt(E,b);if(I)return I}return null}function _n(E,S){if(E===S.value)return[S];for(const b of S.children){const I=_n(E,b);if(I.length)return I.unshift(S),I}return[]}class sn{constructor(S,b){this.value=S,this.children=b}toString(){return`TreeNode(${this.value})`}}function Sn(E){const S={};return E&&E.children.forEach(b=>S[b.value.outlet]=b),S
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}class Zt extends tt{constructor(S,b){super(S),this.snapshot=b,Wr(this,S)}toString(){return this.snapshot.toString()}}function Pn(E,S){const b=function Dn(E,S){const ie=new Zi([],{},{},"",{},Rt,S,null,E.root,-1,{});return new ls("",new sn(ie,[]))}(E,S),I=new _e.X([new pe("",{})]),F=new _e.X({}),z=new _e.X({}),ie=new _e.X({}),fe=new _e.X(""),Ve=new br(I,F,ie,fe,z,Rt,S,b.root);return Ve.snapshot=b.root,new Zt(new sn(Ve,[]),b)}class br{constructor(S,b,I,F,z,ie,fe,Ve){this.url=S,this.params=b,this.queryParams=I,this.fragment=F,this.data=z,this.outlet=ie,this.component=fe,this._futureSnapshot=Ve}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,X.U)(S=>ar(S)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,X.U)(S=>ar(S)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ts(E,S="emptyOnly"){const b=E.pathFromRoot;let I=0;if("always"!==S)for(I=b.length-1;I>=1;){const F=b[I],z=b[I-1];if(F.routeConfig&&""===F.routeConfig.path)I--;else{if(z.component)break;I--}}return function $t(E){return E.reduce((S,b)=>({params:Object.assign(Object.assign({},S.params),b.params),data:Object.assign(Object.assign({},S.data),b.data),resolve:Object.assign(Object.assign({},S.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(I))}class Zi{constructor(S,b,I,F,z,ie,fe,Ve,Ct,Kt,Pt){this.url=S,this.params=b,this.queryParams=I,this.fragment=F,this.data=z,this.outlet=ie,this.component=fe,this.routeConfig=Ve,this._urlSegment=Ct,this._lastPathIndex=Kt,this._resolve=Pt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ar(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ar(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(I=>I.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ls extends tt{constructor(S,b){super(b),this.url=S,Wr(this,b)}toString(){return ur(this._root)}}function Wr(E,S){S.value._routerState=E,S.children.forEach(b=>Wr(E,b))}function ur(E){const S=E.children.length>0?` { ${E.children.map(ur).join(", ")} } `:"";return`${E.value}${S}`}function Rn(E){if(E.snapshot){const S=E.snapshot,b=E._futureSnapshot;E.snapshot=b,an(S.queryParams,b.queryParams)||E.queryParams.next(b.queryParams),S.fragment!==b.fragment&&E.fragment.next(b.fragment),an(S.params,b.params)||E.params.next(b.params),function Qi(E,S){if(E.length!==S.length)return!1;for(let b=0;b<E.length;++b)if(!an(E[b],S[b]))return!1;return!0}(S.url,b.url)||E.url.next(b.url),an(S.data,b.data)||E.data.next(b.data)}else E.snapshot=E._futureSnapshot,E.data.next(E._futureSnapshot.data)}function Or(E,S){const b=an(E.params,S.params)&&function Ge(E,S){return ct(E,S)&&E.every((b,I)=>an(b.parameters,S[I].parameters))}(E.url,S.url);return b&&!(!E.parent!=!S.parent)&&(!E.parent||Or(E.parent,S.parent))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Pi(E,S,b){if(b&&E.shouldReuseRoute(S.value,b.value.snapshot)){const I=b.value;I._futureSnapshot=S.value;const F=function Cn(E,S,b){return S.children.map(I=>{for(const F of b.children)if(E.shouldReuseRoute(I.value,F.value.snapshot))return Pi(E,I,F);return Pi(E,I)})}(E,S,b);return new sn(I,F)}{if(E.shouldAttach(S.value)){const z=E.retrieve(S.value);if(null!==z){const ie=z.route;return ie.value._futureSnapshot=S.value,ie.children=S.children.map(fe=>Pi(E,fe)),ie}}const I=function uf(E){return new br(new _e.X(E.url),new _e.X(E.params),new _e.X(E.queryParams),new _e.X(E.fragment),new _e.X(E.data),E.outlet,E.component,E)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(S.value),F=S.children.map(z=>Pi(E,z));return new sn(I,F)}}function Ri(E){return"object"==typeof E&&null!=E&&!E.outlets&&!E.segmentPath}function bi(E){return"object"==typeof E&&null!=E&&E.outlets}function zs(E,S,b,I,F){let z={};if(I&&Jt(I,(fe,Ve)=>{z[Ve]=Array.isArray(fe)?fe.map(Ct=>`${Ct}`):`${fe}`}),E===S)return new Q(b,z,F);const ie=Ta(E,S,b);return new Q(ie,z,F)}function Ta(E,S,b){const I={};return Jt(E.children,(F,z)=>{I[z]=F===S?b:Ta(F,S,b)}),new q(E.segments,I)}class kn{constructor(S,b,I){if(this.isAbsolute=S,this.numberOfDoubleDots=b,this.commands=I,S&&I.length>0&&Ri(I[0]))throw new Error("Root segment cannot have matrix parameters");const F=I.find(bi);if(F&&F!==ya(I))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $r{constructor(S,b,I){this.segmentGroup=S,this.processChildren=b,this.index=I}}function Ja(E,S,b){if(E||(E=new q([],{})),0===E.segments.length&&E.hasChildren())return Lo(E,S,b);const I=function cf(E,S,b){let I=0,F=S;const z={match:!1,pathIndex:0,commandIndex:0};for(;F<E.segments.length;){if(I>=b.length)return z;const ie=E.segments[F],fe=b[I];if(bi(fe))break;const Ve=`${fe}`,Ct=I<b.length-1?b[I+1]:null;if(F>0&&void 0===Ve)break;if(Ve&&Ct&&"object"==typeof Ct&&void 0===Ct.outlets){if(!Ho(Ve,Ct,ie))return z;I+=2}else{if(!Ho(Ve,{},ie))return z;I++}F++}return{match:!0,pathIndex:F,commandIndex:I}}(E,S,b),F=b.slice(I.commandIndex);if(I.match&&I.pathIndex<E.segments.length){const z=new q(E.segments.slice(0,I.pathIndex),{});return z.children[Rt]=new q(E.segments.slice(I.pathIndex),E.children),Lo(z,0,F)}return I.match&&0===F.length?new q(E.segments,{}):I.match&&!E.hasChildren()?ql(E,S,b):I.match?Lo(E,0,F):ql(E,S,b)}function Lo(E,S,b){if(0===b.length)return new q(E.segments,{});{const I=function Kl(E){return bi(E[0])?E[0].outlets:{[Rt]:E}}(b),F={};return Jt(I,(z,ie)=>{"string"==typeof z&&(z=[z]),null!==z&&(F[ie]=Ja(E.children[ie],S,z))}),Jt(E.children,(z,ie)=>{void 0===I[ie]&&(F[ie]=z)}),new q(E.segments,F)}}function ql(E,S,b){const I=E.segments.slice(0,S);let F=0;for(;F<b.length;){const z=b[F];if(bi(z)){const Ve=Bo(z.outlets);return new q(I,Ve)}if(0===F&&Ri(b[0])){I.push(new pe(E.segments[S].path,Ec(b[0]))),F++;continue}const ie=bi(z)?z.outlets[Rt]:`${z}`,fe=F<b.length-1?b[F+1]:null;ie&&fe&&Ri(fe)?(I.push(new pe(ie,Ec(fe))),F+=2):(I.push(new pe(ie,{})),F++)}return new q(I,{})}function Bo(E){const S={};return Jt(E,(b,I)=>{"string"==typeof b&&(b=[b]),null!==b&&(S[I]=ql(new q([],{}),0,b))}),S}function Ec(E){const S={};return Jt(E,(b,I)=>S[I]=`${b}`),S}function Ho(E,S,b){return E==b.path&&an(S,b.parameters)}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class df{constructor(S,b,I,F){this.routeReuseStrategy=S,this.futureState=b,this.currState=I,this.forwardEvent=F}activate(S){const b=this.futureState._root,I=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,I,S),Rn(this.futureState.root),this.activateChildRoutes(b,I,S)}deactivateChildRoutes(S,b,I){const F=Sn(b);S.children.forEach(z=>{const ie=z.value.outlet;this.deactivateRoutes(z,F[ie],I),delete F[ie]}),Jt(F,(z,ie)=>{this.deactivateRouteAndItsChildren(z,I)})}deactivateRoutes(S,b,I){const F=S.value,z=b?b.value:null;if(F===z)if(F.component){const ie=I.getContext(F.outlet);ie&&this.deactivateChildRoutes(S,b,ie.children)}else this.deactivateChildRoutes(S,b,I);else z&&this.deactivateRouteAndItsChildren(b,I)}deactivateRouteAndItsChildren(S,b){S.value.component&&this.routeReuseStrategy.shouldDetach(S.value.snapshot)?this.detachAndStoreRouteSubtree(S,b):this.deactivateRouteAndOutlet(S,b)}detachAndStoreRouteSubtree(S,b){const I=b.getContext(S.value.outlet),F=I&&S.value.component?I.children:b,z=Sn(S);for(const ie of Object.keys(z))this.deactivateRouteAndItsChildren(z[ie],F);if(I&&I.outlet){const ie=I.outlet.detach(),fe=I.children.onOutletDeactivated();this.routeReuseStrategy.store(S.value.snapshot,{componentRef:ie,route:S,contexts:fe})}}deactivateRouteAndOutlet(S,b){const I=b.getContext(S.value.outlet),F=I&&S.value.component?I.children:b,z=Sn(S);for(const ie of Object.keys(z))this.deactivateRouteAndItsChildren(z[ie],F);I&&I.outlet&&(I.outlet.deactivate(),I.children.onOutletDeactivated(),I.attachRef=null,I.resolver=null,I.route=null)}activateChildRoutes(S,b,I){const F=Sn(b);S.children.forEach(z=>{this.activateRoutes(z,F[z.value.outlet],I),this.forwardEvent(new ti(z.value.snapshot))}),S.children.length&&this.forwardEvent(new Kn(S.value.snapshot))}activateRoutes(S,b,I){const F=S.value,z=b?b.value:null;if(Rn(F),F===z)if(F.component){const ie=I.getOrCreateContext(F.outlet);this.activateChildRoutes(S,b,ie.children)}else this.activateChildRoutes(S,b,I);else if(F.component){const ie=I.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const fe=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),ie.children.onOutletReAttached(fe.contexts),ie.attachRef=fe.componentRef,ie.route=fe.route.value,ie.outlet&&ie.outlet.attach(fe.componentRef,fe.route.value),Rn(fe.route.value),this.activateChildRoutes(S,null,ie.children)}else{const fe=function wc(E){for(let S=E.parent;S;S=S.parent){const b=S.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(F.snapshot),Ve=fe?fe.module.componentFactoryResolver:null;ie.attachRef=null,ie.route=F,ie.resolver=Ve,ie.outlet&&ie.outlet.activateWith(F,Ve),this.activateChildRoutes(S,null,ie.children)}}else this.activateChildRoutes(S,null,I)}}class Uo{constructor(S,b){this.routes=S,this.module=b}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function Ji(E){return"function"==typeof E}function Ys(E){return E instanceof Q}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
const Cs=Symbol("INITIAL_VALUE");function Ti(){return(0,oe.w)(E=>(0,me.a)(E.map(S=>S.pipe((0,yt.q)(1),(0,ae.O)(Cs)))).pipe(De((S,b)=>{let I=!1;return b.reduce((F,z,ie)=>F!==Cs?F:(z===Cs&&(I=!0),I||!1!==z&&ie!==b.length-1&&!Ys(z)?F:z),S)},Cs),(0,ut.h)(S=>S!==Cs),(0,X.U)(S=>Ys(S)?S:!0===S),(0,yt.q)(1)))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Zl{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Vn,this.attachRef=null}}class Vn{constructor(){this.contexts=new Map}onChildOutletCreated(S,b){const I=this.getOrCreateContext(S);I.outlet=b,this.contexts.set(S,I)}onChildOutletDestroyed(S){const b=this.getContext(S);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const S=this.contexts;return this.contexts=new Map,S}onOutletReAttached(S){this.contexts=S}getOrCreateContext(S){let b=this.getContext(S);return b||(b=new Zl,this.contexts.set(S,b)),b}getContext(S){return this.contexts.get(S)||null}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Sr=(()=>{class E{constructor(b,I,F,z,ie){this.parentContexts=b,this.location=I,this.resolver=F,this.changeDetector=ie,this.activated=null,this._activatedRoute=null,this.activateEvents=new N.vpe,this.deactivateEvents=new N.vpe,this.attachEvents=new N.vpe,this.detachEvents=new N.vpe,this.name=z||Rt,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,I){this.activated=b,this._activatedRoute=I,this.location.insert(b.hostView),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,I){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const ie=(I=I||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),fe=this.parentContexts.getOrCreateContext(this.name).children,Ve=new xc(b,fe,this.location.injector);this.activated=this.location.createComponent(ie,this.location.length,Ve),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return E.\u0275fac=function(b){return new(b||E)(N.Y36(Vn),N.Y36(N.s_b),N.Y36(N._Vd),N.$8M("name"),N.Y36(N.sBO))},E.\u0275dir=N.lG2({type:E,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),E})();class xc{constructor(S,b,I){this.route=S,this.childContexts=b,this.parent=I}get(S,b){return S===br?this.route:S===Vn?this.childContexts:this.parent.get(S,b)}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let Go=(()=>{class E{}return E.\u0275fac=function(b){return new(b||E)},E.\u0275cmp=N.Xpm({type:E,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,I){1&b&&N._UZ(0,"router-outlet")},directives:[Sr],encapsulation:2}),E})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function to(E,S=""){for(let b=0;b<E.length;b++){const I=E[b];Jl(I,Ac(S,I))}}function Jl(E,S){E.children&&to(E.children,S)}function Ac(E,S){return S?E||S.path?E&&!S.path?`${E}/`:!E&&S.path?S.path:`${E}/${S.path}`:"":E}function Sa(E){const S=E.children&&E.children.map(Sa),b=S?Object.assign(Object.assign({},E),{children:S}):Object.assign({},E);return!b.component&&(S||b.loadChildren)&&b.outlet&&b.outlet!==Rt&&(b.component=Go),b}function dr(E){return E.outlet||Rt}function Gi(E,S){const b=E.filter(I=>dr(I)===S);return b.push(...E.filter(I=>dr(I)!==S)),b
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */}const Ca={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ks(E,S,b){var I;if(""===S.path)return"full"===S.pathMatch&&(E.hasChildren()||b.length>0)?Object.assign({},Ca):{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const z=(S.matcher||ai)(b,E,S);if(!z)return Object.assign({},Ca);const ie={};Jt(z.posParams,(Ve,Ct)=>{ie[Ct]=Ve.path});const fe=z.consumed.length>0?Object.assign(Object.assign({},ie),z.consumed[z.consumed.length-1].parameters):ie;return{matched:!0,consumedSegments:z.consumed,remainingSegments:b.slice(z.consumed.length),parameters:fe,positionalParamSegments:null!==(I=z.posParams)&&void 0!==I?I:{}}}function zr(E,S,b,I,F="corrected"){if(b.length>0&&function O(E,S,b){return b.some(I=>P(E,S,I)&&dr(I)!==Rt)}(E,b,I)){const ie=new q(S,function eu(E,S,b,I){const F={};F[Rt]=I,I._sourceSegment=E,I._segmentIndexShift=S.length;for(const z of b)if(""===z.path&&dr(z)!==Rt){const ie=new q([],{});ie._sourceSegment=E,ie._segmentIndexShift=S.length,F[dr(z)]=ie}return F}(E,S,I,new q(b,E.children)));return ie._sourceSegment=E,ie._segmentIndexShift=S.length,{segmentGroup:ie,slicedSegments:[]}}if(0===b.length&&function $(E,S,b){return b.some(I=>P(E,S,I))}(E,b,I)){const ie=new q(E.segments,function Mc(E,S,b,I,F,z){const ie={};for(const fe of I)if(P(E,b,fe)&&!F[dr(fe)]){const Ve=new q([],{});Ve._sourceSegment=E,Ve._segmentIndexShift="legacy"===z?E.segments.length:S.length,ie[dr(fe)]=Ve}return Object.assign(Object.assign({},F),ie)}(E,S,b,I,E.children,F));return ie._sourceSegment=E,ie._segmentIndexShift=S.length,{segmentGroup:ie,slicedSegments:b}}const z=new q(E.segments,E.children);return z._sourceSegment=E,z._segmentIndexShift=S.length,{segmentGroup:z,slicedSegments:b}}function P(E,S,b){return(!(E.hasChildren()||S.length>0)||"full"!==b.pathMatch)&&""===b.path}function Y(E,S,b,I){return!!(dr(E)===I||I!==Rt&&P(S,b,E))&&("**"===E.path||Ks(S,E,b).matched)}function se(E,S,b){return 0===S.length&&!E.children[b]}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class Ue{constructor(S){this.segmentGroup=S||null}}class st{constructor(S){this.urlTree=S}}function ht(E){return(0,Ee._)(new Ue(E))}function En(E){return(0,Ee._)(new st(E))}class li{constructor(S,b,I,F,z){this.configLoader=b,this.urlSerializer=I,this.urlTree=F,this.config=z,this.allowRedirects=!0,this.ngModule=S.get(N.h0i)}apply(){const S=zr(this.urlTree.root,[],[],this.config).segmentGroup,b=new q(S.segments,S.children);return this.expandSegmentGroup(this.ngModule,this.config,b,Rt).pipe((0,X.U)(z=>this.createUrlTree(Gn(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ve.K)(z=>{if(z instanceof st)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof Ue?this.noMatchError(z):z}))}match(S){return this.expandSegmentGroup(this.ngModule,this.config,S.root,Rt).pipe((0,X.U)(F=>this.createUrlTree(Gn(F),S.queryParams,S.fragment))).pipe((0,ve.K)(F=>{throw F instanceof Ue?this.noMatchError(F):F}))}noMatchError(S){return new Error(`Cannot match any routes. URL Segment: '${S.segmentGroup}'`)}createUrlTree(S,b,I){const F=S.segments.length>0?new q([],{[Rt]:S}):S;return new Q(F,b,I)}expandSegmentGroup(S,b,I,F){return 0===I.segments.length&&I.hasChildren()?this.expandChildren(S,b,I).pipe((0,X.U)(z=>new q([],z))):this.expandSegment(S,I,b,I.segments,F,!0)}expandChildren(S,b,I){const F=[];for(const z of Object.keys(I.children))"primary"===z?F.unshift(z):F.push(z);return(0,f.D)(F).pipe((0,de.b)(z=>{const ie=I.children[z],fe=Gi(b,z);return this.expandSegmentGroup(S,fe,ie,z).pipe((0,X.U)(Ve=>({segment:Ve,outlet:z})))}),De((z,ie)=>(z[ie.outlet]=ie.segment,z),{}),function St(E,S){const b=arguments.length>=2;return I=>I.pipe(E?(0,ut.h)((F,z)=>E(F,z,I)):Ye.y,Ze(1),b?ye(S):Ke(()=>new Re.K))}())}expandSegment(S,b,I,F,z,ie){return(0,f.D)(I).pipe((0,de.b)(fe=>this.expandSegmentAgainstRoute(S,b,I,fe,F,z,ie).pipe((0,ve.K)(Ct=>{if(Ct instanceof Ue)return(0,te.of)(null);throw Ct}))),K(fe=>!!fe),(0,ve.K)((fe,Ve)=>{if(fe instanceof Re.K||"EmptyError"===fe.name)return se(b,F,z)?(0,te.of)(new q([],{})):ht(b);throw fe}))}expandSegmentAgainstRoute(S,b,I,F,z,ie,fe){return Y(F,b,z,ie)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(S,b,F,z,ie):fe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(S,b,I,F,z,ie):ht(b):ht(b)}expandSegmentAgainstRouteUsingRedirect(S,b,I,F,z,ie){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(S,I,F,ie):this.expandRegularSegmentAgainstRouteUsingRedirect(S,b,I,F,z,ie)}expandWildCardWithParamsAgainstRouteUsingRedirect(S,b,I,F){const z=this.applyRedirectCommands([],I.redirectTo,{});return I.redirectTo.startsWith("/")?En(z):this.lineralizeSegments(I,z).pipe((0,Oe.z)(ie=>{const fe=new q(ie,{});return this.expandSegment(S,fe,b,ie,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(S,b,I,F,z,ie){const{matched:fe,consumedSegments:Ve,remainingSegments:Ct,positionalParamSegments:Kt}=Ks(b,F,z);if(!fe)return ht(b);const Pt=this.applyRedirectCommands(Ve,F.redirectTo,Kt);return F.redirectTo.startsWith("/")?En(Pt):this.lineralizeSegments(F,Pt).pipe((0,Oe.z)(nn=>this.expandSegment(S,b,I,nn.concat(Ct),ie,!1)))}matchSegmentAgainstRoute(S,b,I,F,z){if("**"===I.path)return I.loadChildren?(I._loadedConfig?(0,te.of)(I._loadedConfig):this.configLoader.load(S.injector,I)).pipe((0,X.U)(Pt=>(I._loadedConfig=Pt,new q(F,{})))):(0,te.of)(new q(F,{}));const{matched:ie,consumedSegments:fe,remainingSegments:Ve}=Ks(b,I,F);return ie?this.getChildConfig(S,I,F).pipe((0,Oe.z)(Kt=>{const Pt=Kt.module,nn=Kt.routes,{segmentGroup:un,slicedSegments:kr}=zr(b,fe,Ve,nn),Zs=new q(un.segments,un.children);if(0===kr.length&&Zs.hasChildren())return this.expandChildren(Pt,nn,Zs).pipe((0,X.U)(Hc=>new q(fe,Hc)));if(0===nn.length&&0===kr.length)return(0,te.of)(new q(fe,{}));const co=dr(I)===z;return this.expandSegment(Pt,Zs,nn,kr,co?Rt:z,!0).pipe((0,X.U)(fo=>new q(fe.concat(fo.segments),fo.children)))})):ht(b)}getChildConfig(S,b,I){return b.children?(0,te.of)(new Uo(b.children,S)):b.loadChildren?void 0!==b._loadedConfig?(0,te.of)(b._loadedConfig):this.runCanLoadGuards(S.injector,b,I).pipe((0,Oe.z)(F=>F?this.configLoader.load(S.injector,b).pipe((0,X.U)(z=>(b._loadedConfig=z,z))):function yn(E){return(0,Ee._)(An(`Cannot load children because the guard of the route "path: '${E.path}'" returned false`))}(b))):(0,te.of)(new Uo([],S))}runCanLoadGuards(S,b,I){const F=b.canLoad;if(!F||0===F.length)return(0,te.of)(!0);const z=F.map(ie=>{const fe=S.get(ie);let Ve;if(function eo(E){return E&&Ji(E.canLoad)}(fe))Ve=fe.canLoad(b,I);else{if(!Ji(fe))throw new Error("Invalid CanLoad guard");Ve=fe(b,I)}return _i(Ve)});return(0,te.of)(z).pipe(Ti(),(0,Fe.b)(ie=>{if(!Ys(ie))return;const fe=An(`Redirecting to "${this.urlSerializer.serialize(ie)}"`);throw fe.url=ie,fe}),(0,X.U)(ie=>!0===ie))}lineralizeSegments(S,b){let I=[],F=b.root;for(;;){if(I=I.concat(F.segments),0===F.numberOfChildren)return(0,te.of)(I);if(F.numberOfChildren>1||!F.children[Rt])return(0,Ee._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${S.redirectTo}'`));F=F.children[Rt]}}applyRedirectCommands(S,b,I){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),S,I)}applyRedirectCreatreUrlTree(S,b,I,F){const z=this.createSegmentGroup(S,b.root,I,F);return new Q(z,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(S,b){const I={};return Jt(S,(F,z)=>{if("string"==typeof F&&F.startsWith(":")){const fe=F.substring(1);I[z]=b[fe]}else I[z]=F}),I}createSegmentGroup(S,b,I,F){const z=this.createSegments(S,b.segments,I,F);let ie={};return Jt(b.children,(fe,Ve)=>{ie[Ve]=this.createSegmentGroup(S,fe,I,F)}),new q(z,ie)}createSegments(S,b,I,F){return b.map(z=>z.path.startsWith(":")?this.findPosParam(S,z,F):this.findOrReturn(z,I))}findPosParam(S,b,I){const F=I[b.path.substring(1)];if(!F)throw new Error(`Cannot redirect to '${S}'. Cannot find '${b.path}'.`);return F}findOrReturn(S,b){let I=0;for(const F of b){if(F.path===S.path)return b.splice(I),F;I++}return S}}function Gn(E){const S={};for(const I of Object.keys(E.children)){const z=Gn(E.children[I]);(z.segments.length>0||z.hasChildren())&&(S[I]=z)}return function wn(E){if(1===E.numberOfChildren&&E.children[Rt]){const S=E.children[Rt];return new q(E.segments.concat(S.segments),S.children)}return E}(new q(E.segments,S))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class Ei{constructor(S){this.path=S,this.route=this.path[this.path.length-1]}}class jn{constructor(S,b){this.component=S,this.route=b}}function Ds(E,S,b){const I=E._root;return Bt(I,S?S._root:null,b,[I.value])}function qs(E,S,b){const I=function Da(E){if(!E)return null;for(let S=E.parent;S;S=S.parent){const b=S.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(S);return(I?I.module.injector:b).get(E)}function Bt(E,S,b,I,F={canDeactivateChecks:[],canActivateChecks:[]}){const z=Sn(S);return E.children.forEach(ie=>{(function ff(E,S,b,I,F={canDeactivateChecks:[],canActivateChecks:[]}){const z=E.value,ie=S?S.value:null,fe=b?b.getContext(E.value.outlet):null;if(ie&&z.routeConfig===ie.routeConfig){const Ve=function tu(E,S,b){if("function"==typeof b)return b(E,S);switch(b){case"pathParamsChange":return!ct(E.url,S.url);case"pathParamsOrQueryParamsChange":return!ct(E.url,S.url)||!an(E.queryParams,S.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Or(E,S)||!an(E.queryParams,S.queryParams);default:return!Or(E,S)}}(ie,z,z.routeConfig.runGuardsAndResolvers);Ve?F.canActivateChecks.push(new Ei(I)):(z.data=ie.data,z._resolvedData=ie._resolvedData),Bt(E,S,z.component?fe?fe.children:null:b,I,F),Ve&&fe&&fe.outlet&&fe.outlet.isActivated&&F.canDeactivateChecks.push(new jn(fe.outlet.component,ie))}else ie&&jo(S,fe,F),F.canActivateChecks.push(new Ei(I)),Bt(E,null,z.component?fe?fe.children:null:b,I,F)})(ie,z[ie.value.outlet],b,I.concat([ie.value]),F),delete z[ie.value.outlet]}),Jt(z,(ie,fe)=>jo(ie,b.getContext(fe),F)),F}function jo(E,S,b){const I=Sn(E),F=E.value;Jt(I,(z,ie)=>{jo(z,F.component?S?S.children.getContext(ie):null:S,b)}),b.canDeactivateChecks.push(new jn(F.component&&S&&S.outlet&&S.outlet.isActivated?S.outlet.component:null,F))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
class pf{}function Ea(E){return new Ce.y(S=>S.error(E))}class Ic{constructor(S,b,I,F,z,ie){this.rootComponentType=S,this.config=b,this.urlTree=I,this.url=F,this.paramsInheritanceStrategy=z,this.relativeLinkResolution=ie}recognize(){const S=zr(this.urlTree.root,[],[],this.config.filter(ie=>void 0===ie.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,S,Rt);if(null===b)return null;const I=new Zi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new sn(I,b),z=new ls(this.url,F);return this.inheritParamsAndData(z._root),z}inheritParamsAndData(S){const b=S.value,I=Ts(b,this.paramsInheritanceStrategy);b.params=Object.freeze(I.params),b.data=Object.freeze(I.data),S.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(S,b,I){return 0===b.segments.length&&b.hasChildren()?this.processChildren(S,b):this.processSegment(S,b,b.segments,I)}processChildren(S,b){const I=[];for(const z of Object.keys(b.children)){const ie=b.children[z],fe=Gi(S,z),Ve=this.processSegmentGroup(fe,ie,z);if(null===Ve)return null;I.push(...Ve)}const F=Xs(I);return function Oc(E){E.sort((S,b)=>S.value.outlet===Rt?-1:b.value.outlet===Rt?1:S.value.outlet.localeCompare(b.value.outlet))}(F),F}processSegment(S,b,I,F){for(const z of S){const ie=this.processSegmentAgainstRoute(z,b,I,F);if(null!==ie)return ie}return se(b,I,F)?[]:null}processSegmentAgainstRoute(S,b,I,F){if(S.redirectTo||!Y(S,b,I,F))return null;let z,ie=[],fe=[];if("**"===S.path){const un=I.length>0?ya(I).parameters:{};z=new Zi(I,un,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,io(S),dr(S),S.component,S,ji(b),Pr(b)+I.length,wa(S))}else{const un=Ks(b,S,I);if(!un.matched)return null;ie=un.consumedSegments,fe=un.remainingSegments,z=new Zi(ie,un.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,io(S),dr(S),S.component,S,ji(b),Pr(b)+ie.length,wa(S))}const Ve=function Pc(E){return E.children?E.children:E.loadChildren?E._loadedConfig.routes:[]}(S),{segmentGroup:Ct,slicedSegments:Kt}=zr(b,ie,fe,Ve.filter(un=>void 0===un.redirectTo),this.relativeLinkResolution);if(0===Kt.length&&Ct.hasChildren()){const un=this.processChildren(Ve,Ct);return null===un?null:[new sn(z,un)]}if(0===Ve.length&&0===Kt.length)return[new sn(z,[])];const Pt=dr(S)===F,nn=this.processSegment(Ve,Ct,Kt,Pt?Rt:F);return null===nn?null:[new sn(z,nn)]}}function Wo(E){const S=E.value.routeConfig;return S&&""===S.path&&void 0===S.redirectTo}function Xs(E){const S=[],b=new Set;for(const I of E){if(!Wo(I)){S.push(I);continue}const F=S.find(z=>I.value.routeConfig===z.value.routeConfig);void 0!==F?(F.children.push(...I.children),b.add(F)):S.push(I)}for(const I of b){const F=Xs(I.children);S.push(new sn(I.value,F))}return S.filter(I=>!b.has(I))}function ji(E){let S=E;for(;S._sourceSegment;)S=S._sourceSegment;return S}function Pr(E){let S=E,b=S._segmentIndexShift?S._segmentIndexShift:0;for(;S._sourceSegment;)S=S._sourceSegment,b+=S._segmentIndexShift?S._segmentIndexShift:0;return b-1}function io(E){return E.data||{}}function wa(E){return E.resolve||{}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */function _f(E){return[...Object.keys(E),...Object.getOwnPropertySymbols(E)]}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
function $o(E){return(0,oe.w)(S=>{const b=E(S);return b?(0,f.D)(b).pipe((0,X.U)(()=>S)):(0,te.of)(S)})}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class kc extends class bf{shouldDetach(S){return!1}store(S,b){}shouldAttach(S){return!1}retrieve(S){return null}shouldReuseRoute(S,b){return S.routeConfig===b.routeConfig}}{}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const nu=new N.OlP("ROUTES");class ro{constructor(S,b,I,F){this.injector=S,this.compiler=b,this.onLoadStartListener=I,this.onLoadEndListener=F}load(S,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const F=this.loadModuleFactory(b.loadChildren).pipe((0,X.U)(z=>{this.onLoadEndListener&&this.onLoadEndListener(b);const ie=z.create(S);return new Uo(Ot(ie.injector.get(nu,void 0,N.XFs.Self|N.XFs.Optional)).map(Sa),ie)}),(0,ve.K)(z=>{throw b._loader$=void 0,z}));return b._loader$=new ke.c(F,()=>new je.x).pipe((0,Qe.x)()),b._loader$}loadModuleFactory(S){return _i(S()).pipe((0,Oe.z)(b=>b instanceof N.YKP?(0,te.of)(b):(0,f.D)(this.compiler.compileModuleAsync(b))))}}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */class ru{shouldProcessUrl(S){return!0}extract(S){return S}merge(S,b){return S}}function Pp(E){throw E}function su(E,S,b){return S.parse("/")}function ws(E,S){return(0,te.of)(null)}const au={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},so={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hn=(()=>{class E{constructor(b,I,F,z,ie,fe,Ve){this.rootComponentType=b,this.urlSerializer=I,this.rootContexts=F,this.location=z,this.config=Ve,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je.x,this.errorHandler=Pp,this.malformedUriErrorHandler=su,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ws,afterPreactivation:ws},this.urlHandlingStrategy=new ru,this.routeReuseStrategy=new kc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=ie.get(N.h0i),this.console=ie.get(N.c2e);const Pt=ie.get(N.R0b);this.isNgZoneEnabled=Pt instanceof N.R0b&&N.R0b.isInAngularZone(),this.resetConfig(Ve),this.currentUrlTree=function Ni(){return new Q(new q([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ro(ie,fe,nn=>this.triggerEvent(new Xi(nn)),nn=>this.triggerEvent(new Ln(nn))),this.routerState=Pn(this.currentUrlTree,this.rootComponentType),this.transitions=new _e.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const I=this.events;return b.pipe((0,ut.h)(F=>0!==F.id),(0,X.U)(F=>Object.assign(Object.assign({},F),{extractedUrl:this.urlHandlingStrategy.extract(F.rawUrl)})),(0,oe.w)(F=>{let z=!1,ie=!1;return(0,te.of)(F).pipe((0,Fe.b)(fe=>{this.currentNavigation={id:fe.id,initialUrl:fe.currentRawUrl,extractedUrl:fe.extractedUrl,trigger:fe.source,extras:fe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,oe.w)(fe=>{const Ve=this.browserUrlTree.toString(),Ct=!this.navigated||fe.extractedUrl.toString()!==Ve||Ve!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ct)&&this.urlHandlingStrategy.shouldProcessUrl(fe.rawUrl))return Wn(fe.source)&&(this.browserUrlTree=fe.extractedUrl),(0,te.of)(fe).pipe((0,oe.w)(Pt=>{const nn=this.transitions.getValue();return I.next(new Ht(Pt.id,this.serializeUrl(Pt.extractedUrl),Pt.source,Pt.restoredState)),nn!==this.transitions.getValue()?Te.E:Promise.resolve(Pt)}),function fi(E,S,b,I){return(0,oe.w)(F=>function Vt(E,S,b,I,F){return new li(E,S,b,I,F).apply()}(E,S,b,F.extractedUrl,I).pipe((0,X.U)(z=>Object.assign(Object.assign({},F),{urlAfterRedirects:z}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fe.b)(Pt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Pt.urlAfterRedirects})}),function Es(E,S,b,I,F){return(0,Oe.z)(z=>function ds(E,S,b,I,F="emptyOnly",z="legacy"){try{const ie=new Ic(E,S,b,I,F,z).recognize();return null===ie?Ea(new pf):(0,te.of)(ie)}catch(ie){return Ea(ie)}}(E,S,z.urlAfterRedirects,b(z.urlAfterRedirects),I,F).pipe((0,X.U)(ie=>Object.assign(Object.assign({},z),{targetSnapshot:ie}))))}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(this.rootComponentType,this.config,Pt=>this.serializeUrl(Pt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fe.b)(Pt=>{if("eager"===this.urlUpdateStrategy){if(!Pt.extras.skipLocationChange){const un=this.urlHandlingStrategy.merge(Pt.urlAfterRedirects,Pt.rawUrl);this.setBrowserUrl(un,Pt)}this.browserUrlTree=Pt.urlAfterRedirects}const nn=new Xn(Pt.id,this.serializeUrl(Pt.extractedUrl),this.serializeUrl(Pt.urlAfterRedirects),Pt.targetSnapshot);I.next(nn)}));if(Ct&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:nn,extractedUrl:un,source:kr,restoredState:Zs,extras:co}=fe,hu=new Ht(nn,this.serializeUrl(un),kr,Zs);I.next(hu);const fo=Pn(un,this.rootComponentType).snapshot;return(0,te.of)(Object.assign(Object.assign({},fe),{targetSnapshot:fo,urlAfterRedirects:un,extras:Object.assign(Object.assign({},co),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=fe.rawUrl,fe.resolve(null),Te.E}),$o(fe=>{const{targetSnapshot:Ve,id:Ct,extractedUrl:Kt,rawUrl:Pt,extras:{skipLocationChange:nn,replaceUrl:un}}=fe;return this.hooks.beforePreactivation(Ve,{navigationId:Ct,appliedUrlTree:Kt,rawUrlTree:Pt,skipLocationChange:!!nn,replaceUrl:!!un})}),(0,Fe.b)(fe=>{const Ve=new bn(fe.id,this.serializeUrl(fe.extractedUrl),this.serializeUrl(fe.urlAfterRedirects),fe.targetSnapshot);this.triggerEvent(Ve)}),(0,X.U)(fe=>Object.assign(Object.assign({},fe),{guards:Ds(fe.targetSnapshot,fe.currentSnapshot,this.rootContexts)})),function Nc(E,S){return(0,Oe.z)(b=>{const{targetSnapshot:I,currentSnapshot:F,guards:{canActivateChecks:z,canDeactivateChecks:ie}}=b;return 0===ie.length&&0===z.length?(0,te.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function hf(E,S,b,I){return(0,f.D)(E).pipe((0,Oe.z)(F=>function wi(E,S,b,I,F){const z=S&&S.routeConfig?S.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,te.of)(!0);const ie=z.map(fe=>{const Ve=qs(fe,S,F);let Ct;if(function Ql(E){return E&&Ji(E.canDeactivate)}(Ve))Ct=_i(Ve.canDeactivate(E,S,b,I));else{if(!Ji(Ve))throw new Error("Invalid CanDeactivate guard");Ct=_i(Ve(E,S,b,I))}return Ct.pipe(K())});return(0,te.of)(ie).pipe(Ti())}(F.component,F.route,b,S,I)),K(F=>!0!==F,!0))}(ie,I,F,E).pipe((0,Oe.z)(fe=>fe&&function cr(E){return"boolean"==typeof E}(fe)?function d0(E,S,b,I){return(0,f.D)(S).pipe((0,de.b)(F=>(0,Ae.z)(function nt(E,S){return null!==E&&S&&S(new _s(E)),(0,te.of)(!0)}(F.route.parent,I),function f0(E,S){return null!==E&&S&&S(new Nr(E)),(0,te.of)(!0)}(F.route,I),function Op(E,S,b){const I=S[S.length-1],z=S.slice(0,S.length-1).reverse().map(ie=>function cs(E){const S=E.routeConfig?E.routeConfig.canActivateChild:null;return S&&0!==S.length?{node:E,guards:S}:null}(ie)).filter(ie=>null!==ie).map(ie=>(0,Me.P)(()=>{const fe=ie.guards.map(Ve=>{const Ct=qs(Ve,ie.node,b);let Kt;if(function Xl(E){return E&&Ji(E.canActivateChild)}(Ct))Kt=_i(Ct.canActivateChild(I,E));else{if(!Ji(Ct))throw new Error("Invalid CanActivateChild guard");Kt=_i(Ct(I,E))}return Kt.pipe(K())});return(0,te.of)(fe).pipe(Ti())}));return(0,te.of)(z).pipe(Ti())}(E,F.path,b),function ln(E,S,b){const I=S.routeConfig?S.routeConfig.canActivate:null;if(!I||0===I.length)return(0,te.of)(!0);const F=I.map(z=>(0,Me.P)(()=>{const ie=qs(z,S,b);let fe;if(function Vo(E){return E&&Ji(E.canActivate)}(ie))fe=_i(ie.canActivate(S,E));else{if(!Ji(ie))throw new Error("Invalid CanActivate guard");fe=_i(ie(S,E))}return fe.pipe(K())}));return(0,te.of)(F).pipe(Ti())}(E,F.route,b))),K(F=>!0!==F,!0))}(I,z,E,S):(0,te.of)(fe)),(0,X.U)(fe=>Object.assign(Object.assign({},b),{guardsResult:fe})))})}(this.ngModule.injector,fe=>this.triggerEvent(fe)),(0,Fe.b)(fe=>{if(Ys(fe.guardsResult)){const Ct=An(`Redirecting to "${this.serializeUrl(fe.guardsResult)}"`);throw Ct.url=fe.guardsResult,Ct}const Ve=new Qn(fe.id,this.serializeUrl(fe.extractedUrl),this.serializeUrl(fe.urlAfterRedirects),fe.targetSnapshot,!!fe.guardsResult);this.triggerEvent(Ve)}),(0,ut.h)(fe=>!!fe.guardsResult||(this.restoreHistory(fe),this.cancelNavigationTransition(fe,""),!1)),$o(fe=>{if(fe.guards.canActivateChecks.length)return(0,te.of)(fe).pipe((0,Fe.b)(Ve=>{const Ct=new fn(Ve.id,this.serializeUrl(Ve.extractedUrl),this.serializeUrl(Ve.urlAfterRedirects),Ve.targetSnapshot);this.triggerEvent(Ct)}),(0,oe.w)(Ve=>{let Ct=!1;return(0,te.of)(Ve).pipe(function gf(E,S){return(0,Oe.z)(b=>{const{targetSnapshot:I,guards:{canActivateChecks:F}}=b;if(!F.length)return(0,te.of)(b);let z=0;return(0,f.D)(F).pipe((0,de.b)(ie=>function mf(E,S,b,I){return function vf(E,S,b,I){const F=_f(E);if(0===F.length)return(0,te.of)({});const z={};return(0,f.D)(F).pipe((0,Oe.z)(ie=>function yf(E,S,b,I){const F=qs(E,S,I);return _i(F.resolve?F.resolve(S,b):F(S,b))}(E[ie],S,b,I).pipe((0,Fe.b)(fe=>{z[ie]=fe}))),Ze(1),(0,Oe.z)(()=>_f(z).length===F.length?(0,te.of)(z):Te.E))}(E._resolve,E,S,I).pipe((0,X.U)(z=>(E._resolvedData=z,E.data=Object.assign(Object.assign({},E.data),Ts(E,b).resolve),null)))}(ie.route,I,E,S)),(0,Fe.b)(()=>z++),Ze(1),(0,Oe.z)(ie=>z===F.length?(0,te.of)(b):Te.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fe.b)({next:()=>Ct=!0,complete:()=>{Ct||(this.restoreHistory(Ve),this.cancelNavigationTransition(Ve,"At least one route resolver didn't emit any value."))}}))}),(0,Fe.b)(Ve=>{const Ct=new Mr(Ve.id,this.serializeUrl(Ve.extractedUrl),this.serializeUrl(Ve.urlAfterRedirects),Ve.targetSnapshot);this.triggerEvent(Ct)}))}),$o(fe=>{const{targetSnapshot:Ve,id:Ct,extractedUrl:Kt,rawUrl:Pt,extras:{skipLocationChange:nn,replaceUrl:un}}=fe;return this.hooks.afterPreactivation(Ve,{navigationId:Ct,appliedUrlTree:Kt,rawUrlTree:Pt,skipLocationChange:!!nn,replaceUrl:!!un})}),(0,X.U)(fe=>{const Ve=function us(E,S,b){const I=Pi(E,S._root,b?b._root:void 0);return new Zt(I,S)}(this.routeReuseStrategy,fe.targetSnapshot,fe.currentRouterState);return Object.assign(Object.assign({},fe),{targetRouterState:Ve})}),(0,Fe.b)(fe=>{this.currentUrlTree=fe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(fe.urlAfterRedirects,fe.rawUrl),this.routerState=fe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(fe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,fe),this.browserUrlTree=fe.urlAfterRedirects)}),((E,S,b)=>(0,X.U)(I=>(new df(S,I.targetRouterState,I.currentRouterState,b).activate(E),I)))(this.rootContexts,this.routeReuseStrategy,fe=>this.triggerEvent(fe)),(0,Fe.b)({next(){z=!0},complete(){z=!0}}),function J(E){return(0,Le.e)((S,b)=>{try{S.subscribe(b)}finally{b.add(E)}})}(()=>{var fe;z||ie||this.cancelNavigationTransition(F,`Navigation ID ${F.id} is not equal to the current navigation id ${this.navigationId}`),(null===(fe=this.currentNavigation)||void 0===fe?void 0:fe.id)===F.id&&(this.currentNavigation=null)}),(0,ve.K)(fe=>{if(ie=!0,function ys(E){return E&&E[Et]}(fe)){const Ve=Ys(fe.url);Ve||(this.navigated=!0,this.restoreHistory(F,!0));const Ct=new Dt(F.id,this.serializeUrl(F.extractedUrl),fe.message);I.next(Ct),Ve?setTimeout(()=>{const Kt=this.urlHandlingStrategy.merge(fe.url,this.rawUrlTree),Pt={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wn(F.source)};this.scheduleNavigation(Kt,"imperative",null,Pt,{resolve:F.resolve,reject:F.reject,promise:F.promise})},0):F.resolve(!1)}else{this.restoreHistory(F,!0);const Ve=new gt(F.id,this.serializeUrl(F.extractedUrl),fe);I.next(Ve);try{F.resolve(this.errorHandler(fe))}catch(Ct){F.reject(Ct)}}return Te.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const I="popstate"===b.type?"popstate":"hashchange";"popstate"===I&&setTimeout(()=>{var F;const z={replaceUrl:!0},ie=(null===(F=b.state)||void 0===F?void 0:F.navigationId)?b.state:null;if(ie){const Ve=Object.assign({},ie);delete Ve.navigationId,delete Ve.\u0275routerPageId,0!==Object.keys(Ve).length&&(z.state=Ve)}const fe=this.parseUrl(b.url);this.scheduleNavigation(fe,I,ie,z)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){to(b),this.config=b.map(Sa),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,I={}){const{relativeTo:F,queryParams:z,fragment:ie,queryParamsHandling:fe,preserveFragment:Ve}=I,Ct=F||this.routerState.root,Kt=Ve?this.currentUrlTree.fragment:ie;let Pt=null;switch(fe){case"merge":Pt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),z);break;case"preserve":Pt=this.currentUrlTree.queryParams;break;default:Pt=z||null}return null!==Pt&&(Pt=this.removeEmptyProps(Pt)),function Yl(E,S,b,I,F){if(0===b.length)return zs(S.root,S.root,S.root,I,F);const z=function Tr(E){if("string"==typeof E[0]&&1===E.length&&"/"===E[0])return new kn(!0,0,E);let S=0,b=!1;const I=E.reduce((F,z,ie)=>{if("object"==typeof z&&null!=z){if(z.outlets){const fe={};return Jt(z.outlets,(Ve,Ct)=>{fe[Ct]="string"==typeof Ve?Ve.split("/"):Ve}),[...F,{outlets:fe}]}if(z.segmentPath)return[...F,z.segmentPath]}return"string"!=typeof z?[...F,z]:0===ie?(z.split("/").forEach((fe,Ve)=>{0==Ve&&"."===fe||(0==Ve&&""===fe?b=!0:".."===fe?S++:""!=fe&&F.push(fe))}),F):[...F,z]},[]);return new kn(b,S,I)}(b);if(z.toRoot())return zs(S.root,S.root,new q([],{}),I,F);const ie=function Za(E,S,b){if(E.isAbsolute)return new $r(S.root,!0,0);if(-1===b.snapshot._lastPathIndex){const z=b.snapshot._urlSegment;return new $r(z,z===S.root,0)}const I=Ri(E.commands[0])?0:1;return function Fo(E,S,b){let I=E,F=S,z=b;for(;z>F;){if(z-=F,I=I.parent,!I)throw new Error("Invalid number of '../'");F=I.segments.length}return new $r(I,!1,F-z)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+I,E.numberOfDoubleDots)}(z,S,E),fe=ie.processChildren?Lo(ie.segmentGroup,ie.index,z.commands):Ja(ie.segmentGroup,ie.index,z.commands);return zs(S.root,ie.segmentGroup,fe,I,F)}(Ct,this.currentUrlTree,b,Pt,null!=Kt?Kt:null)}navigateByUrl(b,I={skipLocationChange:!1}){const F=Ys(b)?b:this.parseUrl(b),z=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(z,"imperative",null,I)}navigate(b,I={skipLocationChange:!1}){return function Qs(E){for(let S=0;S<E.length;S++){const b=E[S];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${S}`)}}(b),this.navigateByUrl(this.createUrlTree(b,I),I)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let I;try{I=this.urlSerializer.parse(b)}catch(F){I=this.malformedUriErrorHandler(F,this.urlSerializer,b)}return I}isActive(b,I){let F;if(F=!0===I?Object.assign({},au):!1===I?Object.assign({},so):I,Ys(b))return Mn(this.currentUrlTree,b,F);const z=this.parseUrl(b);return Mn(this.currentUrlTree,z,F)}removeEmptyProps(b){return Object.keys(b).reduce((I,F)=>{const z=b[F];return null!=z&&(I[F]=z),I},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new It(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn(`Unhandled Navigation Error: ${b}`)})}scheduleNavigation(b,I,F,z,ie){var fe,Ve;if(this.disposed)return Promise.resolve(!1);let Ct,Kt,Pt;ie?(Ct=ie.resolve,Kt=ie.reject,Pt=ie.promise):Pt=new Promise((kr,Zs)=>{Ct=kr,Kt=Zs});const nn=++this.navigationId;let un;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(F=this.location.getState()),un=F&&F.\u0275routerPageId?F.\u0275routerPageId:z.replaceUrl||z.skipLocationChange?null!==(fe=this.browserPageId)&&void 0!==fe?fe:0:(null!==(Ve=this.browserPageId)&&void 0!==Ve?Ve:0)+1):un=0,this.setTransition({id:nn,targetPageId:un,source:I,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:z,resolve:Ct,reject:Kt,promise:Pt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Pt.catch(kr=>Promise.reject(kr))}setBrowserUrl(b,I){const F=this.urlSerializer.serialize(b),z=Object.assign(Object.assign({},I.extras.state),this.generateNgRouterState(I.id,I.targetPageId));this.location.isCurrentPathEqualTo(F)||I.extras.replaceUrl?this.location.replaceState(F,"",z):this.location.go(F,"",z)}restoreHistory(b,I=!1){var F,z;if("computed"===this.canceledNavigationResolution){const ie=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(F=this.currentNavigation)||void 0===F?void 0:F.finalUrl)||0===ie?this.currentUrlTree===(null===(z=this.currentNavigation)||void 0===z?void 0:z.finalUrl)&&0===ie&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(ie)}else"replace"===this.canceledNavigationResolution&&(I&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,I){const F=new Dt(b.id,this.serializeUrl(b.extractedUrl),I);this.triggerEvent(F),b.resolve(!1)}generateNgRouterState(b,I){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:I}:{navigationId:b}}}return E.\u0275fac=function(b){N.$Z()},E.\u0275prov=N.Yz7({token:E,factory:E.\u0275fac}),E})();function Wn(E){return"imperative"!==E}let ou=(()=>{class E{constructor(b,I,F,z,ie){this.router=b,this.route=I,this.tabIndexAttribute=F,this.renderer=z,this.el=ie,this.commands=null,this.onChanges=new je.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){if(null!=this.tabIndexAttribute)return;const I=this.renderer,F=this.el.nativeElement;null!==b?I.setAttribute(F,"tabindex",b):I.removeAttribute(F,"tabindex")}ngOnChanges(b){this.onChanges.next(this)}set routerLink(b){null!=b?(this.commands=Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const b={skipLocationChange:xa(this.skipLocationChange),replaceUrl:xa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xa(this.preserveFragment)})}}return E.\u0275fac=function(b){return new(b||E)(N.Y36(hn),N.Y36(br),N.$8M("tabindex"),N.Y36(N.Qsj),N.Y36(N.SBq))},E.\u0275dir=N.lG2({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(b,I){1&b&&N.NdJ("click",function(){return I.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[N.TTD]}),E})(),ao=(()=>{class E{constructor(b,I,F){this.router=b,this.route=I,this.locationStrategy=F,this.commands=null,this.href=null,this.onChanges=new je.x,this.subscription=b.events.subscribe(z=>{z instanceof It&&this.updateTargetUrlAndHref()})}set routerLink(b){this.commands=null!=b?Array.isArray(b)?b:[b]:null}ngOnChanges(b){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(b,I,F,z,ie){if(0!==b||I||F||z||ie||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const fe={skipLocationChange:xa(this.skipLocationChange),replaceUrl:xa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,fe),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xa(this.preserveFragment)})}}return E.\u0275fac=function(b){return new(b||E)(N.Y36(hn),N.Y36(br),N.Y36(He.S$))},E.\u0275dir=N.lG2({type:E,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(b,I){1&b&&N.NdJ("click",function(z){return I.onClick(z.button,z.ctrlKey,z.shiftKey,z.altKey,z.metaKey)}),2&b&&N.uIk("target",I.target)("href",I.href,N.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[N.TTD]}),E})();function xa(E){return""===E||!!E}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */let zo=(()=>{class E{constructor(b,I,F,z,ie,fe){this.router=b,this.element=I,this.renderer=F,this.cdr=z,this.link=ie,this.linkWithHref=fe,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new N.vpe,this.routerEventsSubscription=b.events.subscribe(Ve=>{Ve instanceof It&&this.update()})}ngAfterContentInit(){(0,te.of)(this.links.changes,this.linksWithHrefs.changes,(0,te.of)(null)).pipe((0,Je.J)()).subscribe(b=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var b;null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe();const I=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(F=>!!F).map(F=>F.onChanges);this.linkInputChangesSubscription=(0,f.D)(I).pipe((0,Je.J)()).subscribe(F=>{this.isActive!==this.isLinkActive(this.router)(F)&&this.update()})}set routerLinkActive(b){const I=Array.isArray(b)?b:b.split(" ");this.classes=I.filter(F=>!!F)}ngOnChanges(b){this.update()}ngOnDestroy(){var b;this.routerEventsSubscription.unsubscribe(),null===(b=this.linkInputChangesSubscription)||void 0===b||b.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const b=this.hasActiveLinks();this.isActive!==b&&(this.isActive=b,this.cdr.markForCheck(),this.classes.forEach(I=>{b?this.renderer.addClass(this.element.nativeElement,I):this.renderer.removeClass(this.element.nativeElement,I)}),this.isActiveChange.emit(b))})}isLinkActive(b){const I=function Tf(E){return!!E.paths}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return F=>!!F.urlTree&&b.isActive(F.urlTree,I)}hasActiveLinks(){const b=this.isLinkActive(this.router);return this.link&&b(this.link)||this.linkWithHref&&b(this.linkWithHref)||this.links.some(b)||this.linksWithHrefs.some(b)}}return E.\u0275fac=function(b){return new(b||E)(N.Y36(hn),N.Y36(N.SBq),N.Y36(N.Qsj),N.Y36(N.sBO),N.Y36(ou,8),N.Y36(ao,8))},E.\u0275dir=N.lG2({type:E,selectors:[["","routerLinkActive",""]],contentQueries:function(b,I,F){if(1&b&&(N.Suo(F,ou,5),N.Suo(F,ao,5)),2&b){let z;N.iGM(z=N.CRH())&&(I.links=z),N.iGM(z=N.CRH())&&(I.linksWithHrefs=z)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[N.TTD]}),E})();class lu{}class oo{preload(S,b){return(0,te.of)(null)}}let lo=(()=>{class E{constructor(b,I,F,z){this.router=b,this.injector=F,this.preloadingStrategy=z,this.loader=new ro(F,I,Ve=>b.triggerEvent(new Xi(Ve)),Ve=>b.triggerEvent(new Ln(Ve)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,ut.h)(b=>b instanceof It),(0,de.b)(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(N.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,I){const F=[];for(const z of I)if(z.loadChildren&&!z.canLoad&&z._loadedConfig){const ie=z._loadedConfig;F.push(this.processRoutes(ie.module,ie.routes))}else z.loadChildren&&!z.canLoad?F.push(this.preloadConfig(b,z)):z.children&&F.push(this.processRoutes(b,z.children));return(0,f.D)(F).pipe((0,Je.J)(),(0,X.U)(z=>{}))}preloadConfig(b,I){return this.preloadingStrategy.preload(I,()=>(I._loadedConfig?(0,te.of)(I._loadedConfig):this.loader.load(b.injector,I)).pipe((0,Oe.z)(z=>(I._loadedConfig=z,this.processRoutes(z.module,z.routes)))))}}return E.\u0275fac=function(b){return new(b||E)(N.LFG(hn),N.LFG(N.Sil),N.LFG(N.zs3),N.LFG(lu))},E.\u0275prov=N.Yz7({token:E,factory:E.\u0275fac}),E})(),uo=(()=>{class E{constructor(b,I,F={}){this.router=b,this.viewportScroller=I,this.options=F,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},F.scrollPositionRestoration=F.scrollPositionRestoration||"disabled",F.anchorScrolling=F.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof Ht?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof It&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof jr&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,I){this.router.triggerEvent(new jr(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,I))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return E.\u0275fac=function(b){N.$Z()},E.\u0275prov=N.Yz7({token:E,factory:E.\u0275fac}),E})();
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */const Yr=new N.OlP("ROUTER_CONFIGURATION"),Rr=new N.OlP("ROUTER_FORROOT_GUARD"),Yo=[He.Ye,{provide:ni,useClass:mn},{provide:hn,useFactory:function n1(E,S,b,I,F,z,ie={},fe,Ve){const Ct=new hn(null,E,S,b,I,F,Ot(z));return fe&&(Ct.urlHandlingStrategy=fe),Ve&&(Ct.routeReuseStrategy=Ve),function i1(E,S){E.errorHandler&&(S.errorHandler=E.errorHandler),E.malformedUriErrorHandler&&(S.malformedUriErrorHandler=E.malformedUriErrorHandler),E.onSameUrlNavigation&&(S.onSameUrlNavigation=E.onSameUrlNavigation),E.paramsInheritanceStrategy&&(S.paramsInheritanceStrategy=E.paramsInheritanceStrategy),E.relativeLinkResolution&&(S.relativeLinkResolution=E.relativeLinkResolution),E.urlUpdateStrategy&&(S.urlUpdateStrategy=E.urlUpdateStrategy),E.canceledNavigationResolution&&(S.canceledNavigationResolution=E.canceledNavigationResolution)}(ie,Ct),ie.enableTracing&&Ct.events.subscribe(Kt=>{var Pt,nn;null===(Pt=console.group)||void 0===Pt||Pt.call(console,`Router Event: ${Kt.constructor.name}`),console.log(Kt.toString()),console.log(Kt),null===(nn=console.groupEnd)||void 0===nn||nn.call(console)}),Ct},deps:[ni,Vn,He.Ye,N.zs3,N.Sil,nu,Yr,[class iu{},new N.FiY],[class Rc{},new N.FiY]]},Vn,{provide:br,useFactory:function du(E){return E.routerState.root},deps:[hn]},lo,oo,class uu{preload(S,b){return b().pipe((0,ve.K)(()=>(0,te.of)(null)))}},{provide:Yr,useValue:{enableTracing:!1}}];function Rp(){return new N.PXZ("Router",hn)}let Ko=(()=>{class E{constructor(b,I){}static forRoot(b,I){return{ngModule:E,providers:[Yo,kp(b),{provide:Rr,useFactory:h0,deps:[[hn,new N.FiY,new N.tp0]]},{provide:Yr,useValue:I||{}},{provide:He.S$,useFactory:cu,deps:[He.lw,[new N.tBr(He.mr),new N.FiY],Yr]},{provide:uo,useFactory:Aa,deps:[hn,He.EM,Yr]},{provide:lu,useExisting:I&&I.preloadingStrategy?I.preloadingStrategy:oo},{provide:N.PXZ,multi:!0,useFactory:Rp},[qo,{provide:N.ip1,multi:!0,useFactory:Lc,deps:[qo]},{provide:fu,useFactory:Xo,deps:[qo]},{provide:N.tb,multi:!0,useExisting:fu}]]}}static forChild(b){return{ngModule:E,providers:[kp(b)]}}}return E.\u0275fac=function(b){return new(b||E)(N.LFG(Rr,8),N.LFG(hn,8))},E.\u0275mod=N.oAB({type:E}),E.\u0275inj=N.cJS({}),E})();function Aa(E,S,b){return b.scrollOffset&&S.setOffset(b.scrollOffset),new uo(E,S,b)}function cu(E,S,b={}){return b.useHash?new He.Do(E,S):new He.b0(E,S)}function h0(E){return"guarded"}function kp(E){return[{provide:N.deG,multi:!0,useValue:E},{provide:nu,multi:!0,useValue:E}]}let qo=(()=>{class E{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new je.x}appInitializer(){return this.injector.get(He.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let I=null;const F=new Promise(fe=>I=fe),z=this.injector.get(hn),ie=this.injector.get(Yr);return"disabled"===ie.initialNavigation?(z.setUpLocationChangeListener(),I(!0)):"enabled"===ie.initialNavigation||"enabledBlocking"===ie.initialNavigation?(z.hooks.afterPreactivation=()=>this.initNavigation?(0,te.of)(null):(this.initNavigation=!0,I(!0),this.resultOfPreactivationDone),z.initialNavigation()):I(!0),F})}bootstrapListener(b){const I=this.injector.get(Yr),F=this.injector.get(lo),z=this.injector.get(uo),ie=this.injector.get(hn),fe=this.injector.get(N.z2F);b===fe.components[0]&&(("enabledNonBlocking"===I.initialNavigation||void 0===I.initialNavigation)&&ie.initialNavigation(),F.setUpPreloading(),z.init(),ie.resetRootComponentType(fe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return E.\u0275fac=function(b){return new(b||E)(N.LFG(N.zs3))},E.\u0275prov=N.Yz7({token:E,factory:E.\u0275fac}),E})();function Lc(E){return E.appInitializer.bind(E)}function Xo(E){return E.bootstrapListener.bind(E)}const fu=new N.OlP("Router Initializer")}
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */
/**
       * @license
       * Copyright Google LLC All Rights Reserved.
       *
       * Use of this source code is governed by an MIT-style license that can be
       * found in the LICENSE file at https://angular.io/license
       */},rt=>{rt(rt.s=7877)}]);